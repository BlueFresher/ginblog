{"ast":null,"code":"export default {\n  name: 'bannerView',\n  props: {\n    imgUrl: {\n      required: true\n    },\n    titleName: {\n      required: true\n    }\n  },\n  data() {\n    return {\n      activeIndex: \"1\",\n      valid: true,\n      formdata: {\n        username: '',\n        password: ''\n      },\n      checkPassword: '',\n      dialog: false,\n      headers: {\n        Authorization: '',\n        username: ''\n      },\n      isLogin: true,\n      loginForm: {\n        email: '',\n        password: ''\n      },\n      registerForm: {\n        name: '',\n        email: '',\n        password: ''\n      }\n    };\n  },\n  mounted() {\n    this.headers = {\n      Authorization: `Bearer ${window.sessionStorage.getItem('token')}`,\n      username: window.sessionStorage.getItem('username')\n    };\n  },\n  methods: {\n    async login() {\n      if (!this.$refs.loginFormRef.validate()) return this.$message.error('输入数据非法，请检查输入的用户名和密码');\n      const {\n        data: res\n      } = await this.$http.post('loginfront', this.formdata);\n      if (res.status != 200) return this.$message.error(res.message);\n      console.log(res);\n      window.sessionStorage.setItem('username', res.data);\n      window.sessionStorage.setItem('user_id', res.id);\n      this.$message.success('登录成功');\n      // this.$router.go(val) => 在history记录中前进或者后退val步，当val为0时刷新当前页面。\n      this.$router.go(0);\n    },\n    async register() {\n      if (!this.$refs.registerformRef.validate()) return this.$message.error('输入数据非法，请检查输入的用户名和密码');\n      const {\n        data: res\n      } = await this.$http.post('user/add', {\n        username: this.formdata.username,\n        password: this.formdata.password,\n        role: 2\n      });\n      if (res.status !== 200) return this.$message.error(res.message);\n      this.$message.success('注册成功');\n      this.$router.go(0);\n    }\n  }\n};","map":{"version":3,"mappings":"AA+EA;EACAA;EAEAC;IACAC;MACAC;IACA;IACAC;MACAD;IACA;EACA;EACAE;IACA;MACAC;MACAC;MACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;QACAC;QACAL;MACA;MACAM;MACAC;QACAC;QACAP;MACA;MACAQ;QACAlB;QACAiB;QACAP;MACA;IACA;EACA;EACAS;IACA;MACAL;MACAL;IACA;EACA;EACAW;IACA;MACA,yCACA;MACA;QAAAf;MAAA;MACA;MACAgB;MACAC;MACAA;MACA;MACA;MACA;IACA;IACA;MACA,4CACA;MACA;QAAAjB;MAAA;QACAI;QACAC;QACAa;MACA;MACA;MACA;MACA;IACA;EACA;AACA","names":["name","props","imgUrl","required","titleName","data","activeIndex","valid","formdata","username","password","checkPassword","dialog","headers","Authorization","isLogin","loginForm","email","registerForm","mounted","methods","console","window","role"],"sourceRoot":"src/components/bannerView","sources":["index.vue"],"sourcesContent":["<!--\n * @Author: chaichai chaichai@cute.com\n * @Date: 2022-09-26 08:42:49\n * @LastEditors: chaichai chaichai@cute.com\n * @LastEditTime: 2022-10-09 10:39:13\n * @FilePath: \\blog3.0\\src\\components\\bannerView\\index.vue\n * @Description: \n * \n * Copyright (c) 2022 by CQUCC-4-433, All Rights Reserved. \n-->\n<template>\n  <div>\n    <div\n      class=\"bannerBox\"\n      :style=\"{ background: 'url(' + imgUrl + ')', backgroundSize: 'cover' }\"\n    >\n      <div class=\"coverBox\">\n        <div class=\"navBox\">\n          <div class=\"topTitle\">BlueFresher.top</div>\n        \n        <div class=\"el-menu-demo\" background-color=\"#0000001D\" text-color=\"#fff\">\n          <v-btn text index=\"about\" @click=\"$router.push('/about')\"><h1>首页</h1></v-btn>\n          <v-btn text index=\"blog\" @click=\"$router.push('/blog')\"><h1>博客</h1></v-btn>\n          <v-btn text index=\"back\" @click=\"$router.push('/back')\"><h1>后台</h1></v-btn>\n          <v-dialog max-width=\"1000\">\n            <template v-slot:activator=\"{on, attrs}\" text-color=\"#fff\" background-color=\"#0000001D\">\n              <v-btn class=\"hidden-md-and-down\" v-if=\"headers.username\" text @click=\"loginout\"><h1>退出</h1></v-btn>\n              <v-btn v-if=\"headers.username\" text dark>欢迎你{{headers.username}}</v-btn>\n\n              <v-btn text v-if=\"!headers.username\" v-bind=\"attrs\" v-on=\"on\"><h1>登录与注册</h1></v-btn>\n            </template>\n\n            <template v-slot:default=\"dialog\" class=\"ground\">\n              <div class=\"main-box\">\n                <div :class=\"['container', 'container-register', { 'is-txl': isLogin }]\">\n                  <form>\n                    <h2 class=\"title\">请注册</h2>\n                    <!-- <span class=\"text\">or use username for registration</span> -->\n                    <input class=\"form__input\" type=\"text\" placeholder=\"Name\" />\n                    <input class=\"form__input\" type=\"text\" placeholder=\"Username\" />\n                    <input class=\"form__input\" type=\"password\" placeholder=\"Password\" />\n                    <div class=\"primary-btn\">立即注册</div>\n                  </form>\n                </div>\n                <div\n                  :class=\"['container', 'container-login', { 'is-txl is-z200': isLogin }]\"\n                >\n                  <form>\n                    <h2 class=\"title\">请登录</h2>\n                    <!-- <span class=\"text\">or use username for registration</span> -->\n                    <input class=\"form__input\" type=\"text\" placeholder=\"Username\" />\n                    <input class=\"form__input\" type=\"password\" placeholder=\"Password\" />\n                    <div class=\"primary-btn\">立即登录</div>\n                  </form>\n                </div>\n                <div :class=\"['switch', { login: isLogin }]\">\n                  <div class=\"switch__circle\"></div>\n                  <div class=\"switch__circle switch__circle_top\"></div>\n                  <div class=\"switch__container\">\n                    <h2>{{ isLogin ? 'Hello Friend !' : 'Welcome Back !' }}</h2>\n                    <div class=\"primary-btn\" @click=\"isLogin = !isLogin\">\n                      {{ isLogin ? '立即注册' : '立即登录' }}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </template>\n            \n          </v-dialog>\n        </div>\n        </div>\n        <div class=\"centerTile\">{{ titleName }}</div>\n        <div class=\"icon\">﹀</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name:'bannerView',\n\n  props: {\n    imgUrl: {\n      required: true,\n    },\n    titleName: {\n      required: true,\n    },\n  },\n  data() {\n    return {\n      activeIndex: \"1\",\n      valid: true,\n      formdata: {\n            username:'',\n            password:''\n      },\n      checkPassword: '',\n      dialog: false,\n      headers: {\n            Authorization: '',\n            username: ''\n      },\n      isLogin: true,\n      loginForm: {\n        email: '',\n        password: '',\n      },\n      registerForm: {\n        name: '',\n        email: '',\n        password: '',\n      }\n    };\n  },\n  mounted() {\n    this.headers = {\n          Authorization: `Bearer ${window.sessionStorage.getItem('token')}`,\n          username: window.sessionStorage.getItem('username')\n        }\n  },\n  methods: {\n    async login() {\n      if (!this.$refs.loginFormRef.validate())\n            return this.$message.error('输入数据非法，请检查输入的用户名和密码')\n          const { data: res } = await this.$http.post('loginfront', this.formdata)\n          if (res.status != 200) return this.$message.error(res.message)\n          console.log(res)\n          window.sessionStorage.setItem('username', res.data)\n          window.sessionStorage.setItem('user_id', res.id)\n          this.$message.success('登录成功')\n          // this.$router.go(val) => 在history记录中前进或者后退val步，当val为0时刷新当前页面。\n          this.$router.go(0)\n    },\n    async register() {\n      if (!this.$refs.registerformRef.validate()) \n            return this.$message.error('输入数据非法，请检查输入的用户名和密码')\n            const { data: res } = await this.$http.post('user/add', {\n              username: this.formdata.username,\n              password: this.formdata.password,\n              role: 2\n            })\n            if (res.status !== 200) return this.$message.error(res.message)\n            this.$message.success('注册成功')\n            this.$router.go(0)\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.ground{\n  display: none;\n  \n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n  width: 400px;\n  height: 250px;\n  border-radius: 20px;\n  border: 2px solid #fff;\n  background: #fff;\n  margin: auto;\n  position: absolute;\n  top: -200px;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n\n.main-box {\n  position: relative;\n  width: 1000px;\n  min-width: 1000px;\n  min-height: 600px;\n  height: 600px;\n  padding: 25px;\n  background-color: #ecf0f3;\n  box-shadow: 10px 10px 10px #d1d9e6, -10px -10px 10px #f9f9f9;\n  border-radius: 12px;\n  overflow: hidden;\n  .container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: absolute;\n    top: 0;\n    width: 600px;\n    height: 100%;\n    padding: 25px;\n    background-color: #ecf0f3;\n    transition: all 1.25s;\n    form {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      flex-direction: column;\n      width: 100%;\n      height: 100%;\n      color: #a0a5a8;\n      .title {\n        font-size: 34px;\n        font-weight: 700;\n        line-height: 3;\n        color: #181818;\n      }\n      .text {\n        margin-top: 30px;\n        margin-bottom: 12px;\n      }\n      .form__input {\n        width: 350px;\n        height: 40px;\n        margin: 4px 0;\n        padding-left: 25px;\n        font-size: 13px;\n        letter-spacing: 0.15px;\n        border: none;\n        outline: none;\n        // font-family: 'Montserrat', sans-serif;\n        background-color: #ecf0f3;\n        transition: 0.25s ease;\n        border-radius: 8px;\n        box-shadow: inset 2px 2px 4px #d1d9e6, inset -2px -2px 4px #f9f9f9;\n        &::placeholder {\n          color: #a0a5a8;\n        }\n      }\n    }\n  }\n  .container-register {\n    z-index: 100;\n    left: calc(100% - 600px);\n  }\n  .container-login {\n    left: calc(100% - 600px);\n    z-index: 0;\n  }\n  .is-txl {\n    left: 0;\n    transition: 1.25s;\n    transform-origin: right;\n  }\n  .is-z200 {\n    z-index: 200;\n    transition: 1.25s;\n  }\n  .switch {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 400px;\n    padding: 50px;\n    z-index: 200;\n    transition: 1.25s;\n    background-color: #ecf0f3;\n    overflow: hidden;\n    box-shadow: 4px 4px 10px #d1d9e6, -4px -4px 10px #f9f9f9;\n    color: #a0a5a8;\n    .switch__circle {\n      position: absolute;\n      width: 500px;\n      height: 500px;\n      border-radius: 50%;\n      background-color: #ecf0f3;\n      box-shadow: inset 8px 8px 12px #d1d9e6, inset -8px -8px 12px #f9f9f9;\n      bottom: -60%;\n      left: -60%;\n      transition: 1.25s;\n    }\n    .switch__circle_top {\n      top: -30%;\n      left: 60%;\n      width: 300px;\n      height: 300px;\n    }\n    .switch__container {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      flex-direction: column;\n      position: absolute;\n      width: 400px;\n      padding: 50px 55px;\n      transition: 1.25s;\n      h2 {\n        font-size: 34px;\n        font-weight: 700;\n        line-height: 3;\n        color: #181818;\n      }\n      p {\n        font-size: 14px;\n        letter-spacing: 0.25px;\n        text-align: center;\n        line-height: 1.6;\n      }\n    }\n  }\n  .login {\n    left: calc(100% - 400px);\n    .switch__circle {\n      left: 0;\n    }\n  }\n  .primary-btn {\n    width: 180px;\n    height: 50px;\n    border-radius: 25px;\n    margin-top: 50px;\n    text-align: center;\n    line-height: 50px;\n    font-size: 14px;\n    letter-spacing: 2px;\n    background-color: #4b70e2;\n    color: #f9f9f9;\n    cursor: pointer;\n    box-shadow: 8px 8px 16px #d1d9e6, -8px -8px 16px #f9f9f9;\n    &:hover {\n      box-shadow: 4px 4px 6px 0 rgb(255 255 255 / 50%),\n        -4px -4px 6px 0 rgb(116 125 136 / 50%),\n        inset -4px -4px 6px 0 rgb(255 255 255 / 20%),\n        inset 4px 4px 6px 0 rgb(0 0 0 / 40%);\n    }\n  }\n}\n\n.bannerBox {\n  width: 100vw;\n  height: 100vh;\n  background-size: cover;\n  overflow: hidden;\n}\n.coverBox {\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.4);\n\n  .navBox {\n    height: 60px;\n    display: flex;\n    flex-wrap: nowrap;\n    line-height: 60px;\n    justify-content: space-between;\n    padding: 20px 35px 0 35px;\n\n    .topTitle {\n      width: 300px;\n      text-align: left;\n      color: #fff;\n      font-size: 38px;\n      font-weight: 900;\n      text-transform: uppercase;\n    }\n    .el-menu {\n      background-color: rgb(0, 0, 0, 0) !important;\n      border: 0px;\n    }\n\n    .el-menu-item {\n      font-size: 18px;\n      font-weight: 600;\n      background-color: rgb(0, 0, 0, 0) !important;\n    }\n    .el-submenu__title {\n      font-size: 18px !important;\n      font-weight: 600;\n      background-color: rgb(0, 0, 0, 0) !important;\n    }\n  }\n  .centerTile {\n    width: 100%;\n    line-height: 70vh;\n    color: #fff;\n    font-size: 38px;\n    font-weight: 900;\n    letter-spacing: 8px;\n  }\n  .icon {\n    margin-top: 30px;\n    z-index: 99999;\n    font-weight: 900;\n    font-size: 35px;\n    color: #fff;\n  }\n}\n</style>\n<style>\n.friendIco {\n  display: inline-block;\n  width: 25px;\n  margin: 0 3px;\n  vertical-align: middle;\n}\n.friendList {\n  height: 80px !important;\n  line-height: 80px !important;\n  margin: 5px auto;\n  text-align: center;\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}