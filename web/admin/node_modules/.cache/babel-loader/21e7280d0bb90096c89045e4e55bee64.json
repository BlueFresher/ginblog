{"ast":null,"code":"require(\"core-js/modules/es.array.push.js\");require(\"core-js/modules/es.array.unshift.js\");/**\n * TinyMCE version 6.2.0 (2022-09-08)\n */(function(){'use strict';const getPrototypeOf$1=Object.getPrototypeOf;const hasProto=(v,constructor,predicate)=>{var _a;if(predicate(v,constructor.prototype)){return true;}else{return((_a=v.constructor)===null||_a===void 0?void 0:_a.name)===constructor.name;}};const typeOf=x=>{const t=typeof x;if(x===null){return'null';}else if(t==='object'&&Array.isArray(x)){return'array';}else if(t==='object'&&hasProto(x,String,(o,proto)=>proto.isPrototypeOf(o))){return'string';}else{return t;}};const isType$1=type=>value=>typeOf(value)===type;const isSimpleType=type=>value=>typeof value===type;const eq$1=t=>a=>t===a;const is$2=(value,constructor)=>isObject(value)&&hasProto(value,constructor,(o,proto)=>getPrototypeOf$1(o)===proto);const isString=isType$1('string');const isObject=isType$1('object');const isPlainObject=value=>is$2(value,Object);const isArray=isType$1('array');const isNull=eq$1(null);const isBoolean=isSimpleType('boolean');const isUndefined=eq$1(undefined);const isNullable=a=>a===null||a===undefined;const isNonNullable=a=>!isNullable(a);const isFunction=isSimpleType('function');const isNumber=isSimpleType('number');const isArrayOf=(value,pred)=>{if(isArray(value)){for(let i=0,len=value.length;i<len;++i){if(!pred(value[i])){return false;}}return true;}return false;};const noop=()=>{};const noarg=f=>()=>f();const compose=(fa,fb)=>{return(...args)=>{return fa(fb.apply(null,args));};};const compose1=(fbc,fab)=>a=>fbc(fab(a));const constant$1=value=>{return()=>{return value;};};const identity=x=>{return x;};const tripleEquals=(a,b)=>{return a===b;};function curry(fn,...initialArgs){return(...restArgs)=>{const all=initialArgs.concat(restArgs);return fn.apply(null,all);};}const not=f=>t=>!f(t);const die=msg=>{return()=>{throw new Error(msg);};};const apply=f=>{return f();};const never=constant$1(false);const always=constant$1(true);var global$a=tinymce.util.Tools.resolve('tinymce.ThemeManager');class Optional{constructor(tag,value){this.tag=tag;this.value=value;}static some(value){return new Optional(true,value);}static none(){return Optional.singletonNone;}fold(onNone,onSome){if(this.tag){return onSome(this.value);}else{return onNone();}}isSome(){return this.tag;}isNone(){return!this.tag;}map(mapper){if(this.tag){return Optional.some(mapper(this.value));}else{return Optional.none();}}bind(binder){if(this.tag){return binder(this.value);}else{return Optional.none();}}exists(predicate){return this.tag&&predicate(this.value);}forall(predicate){return!this.tag||predicate(this.value);}filter(predicate){if(!this.tag||predicate(this.value)){return this;}else{return Optional.none();}}getOr(replacement){return this.tag?this.value:replacement;}or(replacement){return this.tag?this:replacement;}getOrThunk(thunk){return this.tag?this.value:thunk();}orThunk(thunk){return this.tag?this:thunk();}getOrDie(message){if(!this.tag){throw new Error(message!==null&&message!==void 0?message:'Called getOrDie on None');}else{return this.value;}}static from(value){return isNonNullable(value)?Optional.some(value):Optional.none();}getOrNull(){return this.tag?this.value:null;}getOrUndefined(){return this.value;}each(worker){if(this.tag){worker(this.value);}}toArray(){return this.tag?[this.value]:[];}toString(){return this.tag?`some(${this.value})`:'none()';}}Optional.singletonNone=new Optional(false);const nativeSlice=Array.prototype.slice;const nativeIndexOf=Array.prototype.indexOf;const nativePush=Array.prototype.push;const rawIndexOf=(ts,t)=>nativeIndexOf.call(ts,t);const indexOf=(xs,x)=>{const r=rawIndexOf(xs,x);return r===-1?Optional.none():Optional.some(r);};const contains$2=(xs,x)=>rawIndexOf(xs,x)>-1;const exists=(xs,pred)=>{for(let i=0,len=xs.length;i<len;i++){const x=xs[i];if(pred(x,i)){return true;}}return false;};const range$2=(num,f)=>{const r=[];for(let i=0;i<num;i++){r.push(f(i));}return r;};const chunk$1=(array,size)=>{const r=[];for(let i=0;i<array.length;i+=size){const s=nativeSlice.call(array,i,i+size);r.push(s);}return r;};const map$2=(xs,f)=>{const len=xs.length;const r=new Array(len);for(let i=0;i<len;i++){const x=xs[i];r[i]=f(x,i);}return r;};const each$1=(xs,f)=>{for(let i=0,len=xs.length;i<len;i++){const x=xs[i];f(x,i);}};const eachr=(xs,f)=>{for(let i=xs.length-1;i>=0;i--){const x=xs[i];f(x,i);}};const partition$3=(xs,pred)=>{const pass=[];const fail=[];for(let i=0,len=xs.length;i<len;i++){const x=xs[i];const arr=pred(x,i)?pass:fail;arr.push(x);}return{pass,fail};};const filter$2=(xs,pred)=>{const r=[];for(let i=0,len=xs.length;i<len;i++){const x=xs[i];if(pred(x,i)){r.push(x);}}return r;};const foldr=(xs,f,acc)=>{eachr(xs,(x,i)=>{acc=f(acc,x,i);});return acc;};const foldl=(xs,f,acc)=>{each$1(xs,(x,i)=>{acc=f(acc,x,i);});return acc;};const findUntil=(xs,pred,until)=>{for(let i=0,len=xs.length;i<len;i++){const x=xs[i];if(pred(x,i)){return Optional.some(x);}else if(until(x,i)){break;}}return Optional.none();};const find$5=(xs,pred)=>{return findUntil(xs,pred,never);};const findIndex$1=(xs,pred)=>{for(let i=0,len=xs.length;i<len;i++){const x=xs[i];if(pred(x,i)){return Optional.some(i);}}return Optional.none();};const flatten=xs=>{const r=[];for(let i=0,len=xs.length;i<len;++i){if(!isArray(xs[i])){throw new Error('Arr.flatten item '+i+' was not an array, input: '+xs);}nativePush.apply(r,xs[i]);}return r;};const bind$3=(xs,f)=>flatten(map$2(xs,f));const forall=(xs,pred)=>{for(let i=0,len=xs.length;i<len;++i){const x=xs[i];if(pred(x,i)!==true){return false;}}return true;};const reverse=xs=>{const r=nativeSlice.call(xs,0);r.reverse();return r;};const difference=(a1,a2)=>filter$2(a1,x=>!contains$2(a2,x));const mapToObject=(xs,f)=>{const r={};for(let i=0,len=xs.length;i<len;i++){const x=xs[i];r[String(x)]=f(x,i);}return r;};const pure$2=x=>[x];const sort=(xs,comparator)=>{const copy=nativeSlice.call(xs,0);copy.sort(comparator);return copy;};const get$h=(xs,i)=>i>=0&&i<xs.length?Optional.some(xs[i]):Optional.none();const head=xs=>get$h(xs,0);const last$1=xs=>get$h(xs,xs.length-1);const from=isFunction(Array.from)?Array.from:x=>nativeSlice.call(x);const findMap=(arr,f)=>{for(let i=0;i<arr.length;i++){const r=f(arr[i],i);if(r.isSome()){return r;}}return Optional.none();};const keys=Object.keys;const hasOwnProperty=Object.hasOwnProperty;const each=(obj,f)=>{const props=keys(obj);for(let k=0,len=props.length;k<len;k++){const i=props[k];const x=obj[i];f(x,i);}};const map$1=(obj,f)=>{return tupleMap(obj,(x,i)=>({k:i,v:f(x,i)}));};const tupleMap=(obj,f)=>{const r={};each(obj,(x,i)=>{const tuple=f(x,i);r[tuple.k]=tuple.v;});return r;};const objAcc=r=>(x,i)=>{r[i]=x;};const internalFilter=(obj,pred,onTrue,onFalse)=>{each(obj,(x,i)=>{(pred(x,i)?onTrue:onFalse)(x,i);});};const bifilter=(obj,pred)=>{const t={};const f={};internalFilter(obj,pred,objAcc(t),objAcc(f));return{t,f};};const filter$1=(obj,pred)=>{const t={};internalFilter(obj,pred,objAcc(t),noop);return t;};const mapToArray=(obj,f)=>{const r=[];each(obj,(value,name)=>{r.push(f(value,name));});return r;};const find$4=(obj,pred)=>{const props=keys(obj);for(let k=0,len=props.length;k<len;k++){const i=props[k];const x=obj[i];if(pred(x,i,obj)){return Optional.some(x);}}return Optional.none();};const values=obj=>{return mapToArray(obj,identity);};const get$g=(obj,key)=>{return has$2(obj,key)?Optional.from(obj[key]):Optional.none();};const has$2=(obj,key)=>hasOwnProperty.call(obj,key);const hasNonNullableKey=(obj,key)=>has$2(obj,key)&&obj[key]!==undefined&&obj[key]!==null;const is$1=(lhs,rhs,comparator=tripleEquals)=>lhs.exists(left=>comparator(left,rhs));const equals=(lhs,rhs,comparator=tripleEquals)=>lift2(lhs,rhs,comparator).getOr(lhs.isNone()&&rhs.isNone());const cat=arr=>{const r=[];const push=x=>{r.push(x);};for(let i=0;i<arr.length;i++){arr[i].each(push);}return r;};const sequence=arr=>{const r=[];for(let i=0;i<arr.length;i++){const x=arr[i];if(x.isSome()){r.push(x.getOrDie());}else{return Optional.none();}}return Optional.some(r);};const lift2=(oa,ob,f)=>oa.isSome()&&ob.isSome()?Optional.some(f(oa.getOrDie(),ob.getOrDie())):Optional.none();const lift3=(oa,ob,oc,f)=>oa.isSome()&&ob.isSome()&&oc.isSome()?Optional.some(f(oa.getOrDie(),ob.getOrDie(),oc.getOrDie())):Optional.none();const mapFrom=(a,f)=>a!==undefined&&a!==null?Optional.some(f(a)):Optional.none();const someIf=(b,a)=>b?Optional.some(a):Optional.none();const addToEnd=(str,suffix)=>{return str+suffix;};const removeFromStart=(str,numChars)=>{return str.substring(numChars);};const checkRange=(str,substr,start)=>substr===''||str.length>=substr.length&&str.substr(start,start+substr.length)===substr;const removeLeading=(str,prefix)=>{return startsWith(str,prefix)?removeFromStart(str,prefix.length):str;};const ensureTrailing=(str,suffix)=>{return endsWith(str,suffix)?str:addToEnd(str,suffix);};const contains$1=(str,substr,start=0,end)=>{const idx=str.indexOf(substr,start);if(idx!==-1){return isUndefined(end)?true:idx+substr.length<=end;}else{return false;}};const startsWith=(str,prefix)=>{return checkRange(str,prefix,0);};const endsWith=(str,suffix)=>{return checkRange(str,suffix,str.length-suffix.length);};const blank=r=>s=>s.replace(r,'');const trim$1=blank(/^\\s+|\\s+$/g);const isNotEmpty=s=>s.length>0;const isEmpty=s=>!isNotEmpty(s);const isSupported$1=dom=>dom.style!==undefined&&isFunction(dom.style.getPropertyValue);const fromHtml$2=(html,scope)=>{const doc=scope||document;const div=doc.createElement('div');div.innerHTML=html;if(!div.hasChildNodes()||div.childNodes.length>1){const message='HTML does not have a single root node';console.error(message,html);throw new Error(message);}return fromDom(div.childNodes[0]);};const fromTag=(tag,scope)=>{const doc=scope||document;const node=doc.createElement(tag);return fromDom(node);};const fromText=(text,scope)=>{const doc=scope||document;const node=doc.createTextNode(text);return fromDom(node);};const fromDom=node=>{if(node===null||node===undefined){throw new Error('Node cannot be null or undefined');}return{dom:node};};const fromPoint=(docElm,x,y)=>Optional.from(docElm.dom.elementFromPoint(x,y)).map(fromDom);const SugarElement={fromHtml:fromHtml$2,fromTag,fromText,fromDom,fromPoint};const Global=typeof window!=='undefined'?window:Function('return this;')();const path$1=(parts,scope)=>{let o=scope!==undefined&&scope!==null?scope:Global;for(let i=0;i<parts.length&&o!==undefined&&o!==null;++i){o=o[parts[i]];}return o;};const resolve=(p,scope)=>{const parts=p.split('.');return path$1(parts,scope);};const unsafe=(name,scope)=>{return resolve(name,scope);};const getOrDie$1=(name,scope)=>{const actual=unsafe(name,scope);if(actual===undefined||actual===null){throw new Error(name+' not available on this browser');}return actual;};const getPrototypeOf=Object.getPrototypeOf;const sandHTMLElement=scope=>{return getOrDie$1('HTMLElement',scope);};const isPrototypeOf=x=>{const scope=resolve('ownerDocument.defaultView',x);return isObject(x)&&(sandHTMLElement(scope).prototype.isPrototypeOf(x)||/^HTML\\w*Element$/.test(getPrototypeOf(x).constructor.name));};const DOCUMENT=9;const DOCUMENT_FRAGMENT=11;const ELEMENT=1;const TEXT=3;const name$3=element=>{const r=element.dom.nodeName;return r.toLowerCase();};const type$1=element=>element.dom.nodeType;const isType=t=>element=>type$1(element)===t;const isHTMLElement=element=>isElement$1(element)&&isPrototypeOf(element.dom);const isElement$1=isType(ELEMENT);const isText=isType(TEXT);const isDocument=isType(DOCUMENT);const isDocumentFragment=isType(DOCUMENT_FRAGMENT);const isTag=tag=>e=>isElement$1(e)&&name$3(e)===tag;const is=(element,selector)=>{const dom=element.dom;if(dom.nodeType!==ELEMENT){return false;}else{const elem=dom;if(elem.matches!==undefined){return elem.matches(selector);}else if(elem.msMatchesSelector!==undefined){return elem.msMatchesSelector(selector);}else if(elem.webkitMatchesSelector!==undefined){return elem.webkitMatchesSelector(selector);}else if(elem.mozMatchesSelector!==undefined){return elem.mozMatchesSelector(selector);}else{throw new Error('Browser lacks native selectors');}}};const bypassSelector=dom=>dom.nodeType!==ELEMENT&&dom.nodeType!==DOCUMENT&&dom.nodeType!==DOCUMENT_FRAGMENT||dom.childElementCount===0;const all$3=(selector,scope)=>{const base=scope===undefined?document:scope.dom;return bypassSelector(base)?[]:map$2(base.querySelectorAll(selector),SugarElement.fromDom);};const one=(selector,scope)=>{const base=scope===undefined?document:scope.dom;return bypassSelector(base)?Optional.none():Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);};const eq=(e1,e2)=>e1.dom===e2.dom;const contains=(e1,e2)=>{const d1=e1.dom;const d2=e2.dom;return d1===d2?false:d1.contains(d2);};const owner$4=element=>SugarElement.fromDom(element.dom.ownerDocument);const documentOrOwner=dos=>isDocument(dos)?dos:owner$4(dos);const documentElement=element=>SugarElement.fromDom(documentOrOwner(element).dom.documentElement);const defaultView=element=>SugarElement.fromDom(documentOrOwner(element).dom.defaultView);const parent=element=>Optional.from(element.dom.parentNode).map(SugarElement.fromDom);const parentElement=element=>Optional.from(element.dom.parentElement).map(SugarElement.fromDom);const offsetParent=element=>Optional.from(element.dom.offsetParent).map(SugarElement.fromDom);const nextSibling=element=>Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);const children=element=>map$2(element.dom.childNodes,SugarElement.fromDom);const child$2=(element,index)=>{const cs=element.dom.childNodes;return Optional.from(cs[index]).map(SugarElement.fromDom);};const firstChild=element=>child$2(element,0);const spot=(element,offset)=>({element,offset});const leaf=(element,offset)=>{const cs=children(element);return cs.length>0&&offset<cs.length?spot(cs[offset],0):spot(element,offset);};const isShadowRoot=dos=>isDocumentFragment(dos)&&isNonNullable(dos.dom.host);const supported=isFunction(Element.prototype.attachShadow)&&isFunction(Node.prototype.getRootNode);const isSupported=constant$1(supported);const getRootNode=supported?e=>SugarElement.fromDom(e.dom.getRootNode()):documentOrOwner;const getContentContainer=dos=>isShadowRoot(dos)?dos:SugarElement.fromDom(documentOrOwner(dos).dom.body);const isInShadowRoot=e=>getShadowRoot(e).isSome();const getShadowRoot=e=>{const r=getRootNode(e);return isShadowRoot(r)?Optional.some(r):Optional.none();};const getShadowHost=e=>SugarElement.fromDom(e.dom.host);const getOriginalEventTarget=event=>{if(isSupported()&&isNonNullable(event.target)){const el=SugarElement.fromDom(event.target);if(isElement$1(el)&&isOpenShadowHost(el)){if(event.composed&&event.composedPath){const composedPath=event.composedPath();if(composedPath){return head(composedPath);}}}}return Optional.from(event.target);};const isOpenShadowHost=element=>isNonNullable(element.dom.shadowRoot);const inBody=element=>{const dom=isText(element)?element.dom.parentNode:element.dom;if(dom===undefined||dom===null||dom.ownerDocument===null){return false;}const doc=dom.ownerDocument;return getShadowRoot(SugarElement.fromDom(dom)).fold(()=>doc.body.contains(dom),compose1(inBody,getShadowHost));};const body=()=>getBody(SugarElement.fromDom(document));const getBody=doc=>{const b=doc.dom.body;if(b===null||b===undefined){throw new Error('Body is not available yet');}return SugarElement.fromDom(b);};const rawSet=(dom,key,value)=>{if(isString(value)||isBoolean(value)||isNumber(value)){dom.setAttribute(key,value+'');}else{console.error('Invalid call to Attribute.set. Key ',key,':: Value ',value,':: Element ',dom);throw new Error('Attribute value was not simple');}};const set$9=(element,key,value)=>{rawSet(element.dom,key,value);};const setAll$1=(element,attrs)=>{const dom=element.dom;each(attrs,(v,k)=>{rawSet(dom,k,v);});};const get$f=(element,key)=>{const v=element.dom.getAttribute(key);return v===null?undefined:v;};const getOpt=(element,key)=>Optional.from(get$f(element,key));const has$1=(element,key)=>{const dom=element.dom;return dom&&dom.hasAttribute?dom.hasAttribute(key):false;};const remove$7=(element,key)=>{element.dom.removeAttribute(key);};const clone$1=element=>foldl(element.dom.attributes,(acc,attr)=>{acc[attr.name]=attr.value;return acc;},{});const internalSet=(dom,property,value)=>{if(!isString(value)){console.error('Invalid call to CSS.set. Property ',property,':: Value ',value,':: Element ',dom);throw new Error('CSS value must be a string: '+value);}if(isSupported$1(dom)){dom.style.setProperty(property,value);}};const internalRemove=(dom,property)=>{if(isSupported$1(dom)){dom.style.removeProperty(property);}};const set$8=(element,property,value)=>{const dom=element.dom;internalSet(dom,property,value);};const setAll=(element,css)=>{const dom=element.dom;each(css,(v,k)=>{internalSet(dom,k,v);});};const setOptions=(element,css)=>{const dom=element.dom;each(css,(v,k)=>{v.fold(()=>{internalRemove(dom,k);},value=>{internalSet(dom,k,value);});});};const get$e=(element,property)=>{const dom=element.dom;const styles=window.getComputedStyle(dom);const r=styles.getPropertyValue(property);return r===''&&!inBody(element)?getUnsafeProperty(dom,property):r;};const getUnsafeProperty=(dom,property)=>isSupported$1(dom)?dom.style.getPropertyValue(property):'';const getRaw=(element,property)=>{const dom=element.dom;const raw=getUnsafeProperty(dom,property);return Optional.from(raw).filter(r=>r.length>0);};const getAllRaw=element=>{const css={};const dom=element.dom;if(isSupported$1(dom)){for(let i=0;i<dom.style.length;i++){const ruleName=dom.style.item(i);css[ruleName]=dom.style[ruleName];}}return css;};const isValidValue=(tag,property,value)=>{const element=SugarElement.fromTag(tag);set$8(element,property,value);const style=getRaw(element,property);return style.isSome();};const remove$6=(element,property)=>{const dom=element.dom;internalRemove(dom,property);if(is$1(getOpt(element,'style').map(trim$1),'')){remove$7(element,'style');}};const reflow=e=>e.dom.offsetWidth;const Dimension=(name,getOffset)=>{const set=(element,h)=>{if(!isNumber(h)&&!h.match(/^[0-9]+$/)){throw new Error(name+'.set accepts only positive integer values. Value was '+h);}const dom=element.dom;if(isSupported$1(dom)){dom.style[name]=h+'px';}};const get=element=>{const r=getOffset(element);if(r<=0||r===null){const css=get$e(element,name);return parseFloat(css)||0;}return r;};const getOuter=get;const aggregate=(element,properties)=>foldl(properties,(acc,property)=>{const val=get$e(element,property);const value=val===undefined?0:parseInt(val,10);return isNaN(value)?acc:acc+value;},0);const max=(element,value,properties)=>{const cumulativeInclusions=aggregate(element,properties);const absoluteMax=value>cumulativeInclusions?value-cumulativeInclusions:0;return absoluteMax;};return{set,get,getOuter,aggregate,max};};const api$2=Dimension('height',element=>{const dom=element.dom;return inBody(element)?dom.getBoundingClientRect().height:dom.offsetHeight;});const get$d=element=>api$2.get(element);const getOuter$2=element=>api$2.getOuter(element);const setMax$1=(element,value)=>{const inclusions=['margin-top','border-top-width','padding-top','padding-bottom','border-bottom-width','margin-bottom'];const absMax=api$2.max(element,value,inclusions);set$8(element,'max-height',absMax+'px');};const r$1=(left,top)=>{const translate=(x,y)=>r$1(left+x,top+y);return{left,top,translate};};const SugarPosition=r$1;const boxPosition=dom=>{const box=dom.getBoundingClientRect();return SugarPosition(box.left,box.top);};const firstDefinedOrZero=(a,b)=>{if(a!==undefined){return a;}else{return b!==undefined?b:0;}};const absolute$3=element=>{const doc=element.dom.ownerDocument;const body=doc.body;const win=doc.defaultView;const html=doc.documentElement;if(body===element.dom){return SugarPosition(body.offsetLeft,body.offsetTop);}const scrollTop=firstDefinedOrZero(win===null||win===void 0?void 0:win.pageYOffset,html.scrollTop);const scrollLeft=firstDefinedOrZero(win===null||win===void 0?void 0:win.pageXOffset,html.scrollLeft);const clientTop=firstDefinedOrZero(html.clientTop,body.clientTop);const clientLeft=firstDefinedOrZero(html.clientLeft,body.clientLeft);return viewport$1(element).translate(scrollLeft-clientLeft,scrollTop-clientTop);};const viewport$1=element=>{const dom=element.dom;const doc=dom.ownerDocument;const body=doc.body;if(body===dom){return SugarPosition(body.offsetLeft,body.offsetTop);}if(!inBody(element)){return SugarPosition(0,0);}return boxPosition(dom);};const api$1=Dimension('width',element=>element.dom.offsetWidth);const set$7=(element,h)=>api$1.set(element,h);const get$c=element=>api$1.get(element);const getOuter$1=element=>api$1.getOuter(element);const setMax=(element,value)=>{const inclusions=['margin-left','border-left-width','padding-left','padding-right','border-right-width','margin-right'];const absMax=api$1.max(element,value,inclusions);set$8(element,'max-width',absMax+'px');};const cached=f=>{let called=false;let r;return(...args)=>{if(!called){called=true;r=f.apply(null,args);}return r;};};const DeviceType=(os,browser,userAgent,mediaMatch)=>{const isiPad=os.isiOS()&&/ipad/i.test(userAgent)===true;const isiPhone=os.isiOS()&&!isiPad;const isMobile=os.isiOS()||os.isAndroid();const isTouch=isMobile||mediaMatch('(pointer:coarse)');const isTablet=isiPad||!isiPhone&&isMobile&&mediaMatch('(min-device-width:768px)');const isPhone=isiPhone||isMobile&&!isTablet;const iOSwebview=browser.isSafari()&&os.isiOS()&&/safari/i.test(userAgent)===false;const isDesktop=!isPhone&&!isTablet&&!iOSwebview;return{isiPad:constant$1(isiPad),isiPhone:constant$1(isiPhone),isTablet:constant$1(isTablet),isPhone:constant$1(isPhone),isTouch:constant$1(isTouch),isAndroid:os.isAndroid,isiOS:os.isiOS,isWebView:constant$1(iOSwebview),isDesktop:constant$1(isDesktop)};};const firstMatch=(regexes,s)=>{for(let i=0;i<regexes.length;i++){const x=regexes[i];if(x.test(s)){return x;}}return undefined;};const find$3=(regexes,agent)=>{const r=firstMatch(regexes,agent);if(!r){return{major:0,minor:0};}const group=i=>{return Number(agent.replace(r,'$'+i));};return nu$d(group(1),group(2));};const detect$4=(versionRegexes,agent)=>{const cleanedAgent=String(agent).toLowerCase();if(versionRegexes.length===0){return unknown$3();}return find$3(versionRegexes,cleanedAgent);};const unknown$3=()=>{return nu$d(0,0);};const nu$d=(major,minor)=>{return{major,minor};};const Version={nu:nu$d,detect:detect$4,unknown:unknown$3};const detectBrowser$1=(browsers,userAgentData)=>{return findMap(userAgentData.brands,uaBrand=>{const lcBrand=uaBrand.brand.toLowerCase();return find$5(browsers,browser=>{var _a;return lcBrand===((_a=browser.brand)===null||_a===void 0?void 0:_a.toLowerCase());}).map(info=>({current:info.name,version:Version.nu(parseInt(uaBrand.version,10),0)}));});};const detect$3=(candidates,userAgent)=>{const agent=String(userAgent).toLowerCase();return find$5(candidates,candidate=>{return candidate.search(agent);});};const detectBrowser=(browsers,userAgent)=>{return detect$3(browsers,userAgent).map(browser=>{const version=Version.detect(browser.versionRegexes,userAgent);return{current:browser.name,version};});};const detectOs=(oses,userAgent)=>{return detect$3(oses,userAgent).map(os=>{const version=Version.detect(os.versionRegexes,userAgent);return{current:os.name,version};});};const normalVersionRegex=/.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;const checkContains=target=>{return uastring=>{return contains$1(uastring,target);};};const browsers=[{name:'Edge',versionRegexes:[/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],search:uastring=>{return contains$1(uastring,'edge/')&&contains$1(uastring,'chrome')&&contains$1(uastring,'safari')&&contains$1(uastring,'applewebkit');}},{name:'Chromium',brand:'Chromium',versionRegexes:[/.*?chrome\\/([0-9]+)\\.([0-9]+).*/,normalVersionRegex],search:uastring=>{return contains$1(uastring,'chrome')&&!contains$1(uastring,'chromeframe');}},{name:'IE',versionRegexes:[/.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,/.*?rv:([0-9]+)\\.([0-9]+).*/],search:uastring=>{return contains$1(uastring,'msie')||contains$1(uastring,'trident');}},{name:'Opera',versionRegexes:[normalVersionRegex,/.*?opera\\/([0-9]+)\\.([0-9]+).*/],search:checkContains('opera')},{name:'Firefox',versionRegexes:[/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],search:checkContains('firefox')},{name:'Safari',versionRegexes:[normalVersionRegex,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:uastring=>{return(contains$1(uastring,'safari')||contains$1(uastring,'mobile/'))&&contains$1(uastring,'applewebkit');}}];const oses=[{name:'Windows',search:checkContains('win'),versionRegexes:[/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]},{name:'iOS',search:uastring=>{return contains$1(uastring,'iphone')||contains$1(uastring,'ipad');},versionRegexes:[/.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:'Android',search:checkContains('android'),versionRegexes:[/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]},{name:'macOS',search:checkContains('mac os x'),versionRegexes:[/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]},{name:'Linux',search:checkContains('linux'),versionRegexes:[]},{name:'Solaris',search:checkContains('sunos'),versionRegexes:[]},{name:'FreeBSD',search:checkContains('freebsd'),versionRegexes:[]},{name:'ChromeOS',search:checkContains('cros'),versionRegexes:[/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]}];const PlatformInfo={browsers:constant$1(browsers),oses:constant$1(oses)};const edge='Edge';const chromium='Chromium';const ie='IE';const opera='Opera';const firefox='Firefox';const safari='Safari';const unknown$2=()=>{return nu$c({current:undefined,version:Version.unknown()});};const nu$c=info=>{const current=info.current;const version=info.version;const isBrowser=name=>()=>current===name;return{current,version,isEdge:isBrowser(edge),isChromium:isBrowser(chromium),isIE:isBrowser(ie),isOpera:isBrowser(opera),isFirefox:isBrowser(firefox),isSafari:isBrowser(safari)};};const Browser={unknown:unknown$2,nu:nu$c,edge:constant$1(edge),chromium:constant$1(chromium),ie:constant$1(ie),opera:constant$1(opera),firefox:constant$1(firefox),safari:constant$1(safari)};const windows='Windows';const ios='iOS';const android='Android';const linux='Linux';const macos='macOS';const solaris='Solaris';const freebsd='FreeBSD';const chromeos='ChromeOS';const unknown$1=()=>{return nu$b({current:undefined,version:Version.unknown()});};const nu$b=info=>{const current=info.current;const version=info.version;const isOS=name=>()=>current===name;return{current,version,isWindows:isOS(windows),isiOS:isOS(ios),isAndroid:isOS(android),isMacOS:isOS(macos),isLinux:isOS(linux),isSolaris:isOS(solaris),isFreeBSD:isOS(freebsd),isChromeOS:isOS(chromeos)};};const OperatingSystem={unknown:unknown$1,nu:nu$b,windows:constant$1(windows),ios:constant$1(ios),android:constant$1(android),linux:constant$1(linux),macos:constant$1(macos),solaris:constant$1(solaris),freebsd:constant$1(freebsd),chromeos:constant$1(chromeos)};const detect$2=(userAgent,userAgentDataOpt,mediaMatch)=>{const browsers=PlatformInfo.browsers();const oses=PlatformInfo.oses();const browser=userAgentDataOpt.bind(userAgentData=>detectBrowser$1(browsers,userAgentData)).orThunk(()=>detectBrowser(browsers,userAgent)).fold(Browser.unknown,Browser.nu);const os=detectOs(oses,userAgent).fold(OperatingSystem.unknown,OperatingSystem.nu);const deviceType=DeviceType(os,browser,userAgent,mediaMatch);return{browser,os,deviceType};};const PlatformDetection={detect:detect$2};const mediaMatch=query=>window.matchMedia(query).matches;let platform=cached(()=>PlatformDetection.detect(navigator.userAgent,Optional.from(navigator.userAgentData),mediaMatch));const detect$1=()=>platform();const mkEvent=(target,x,y,stop,prevent,kill,raw)=>({target,x,y,stop,prevent,kill,raw});const fromRawEvent$1=rawEvent=>{const target=SugarElement.fromDom(getOriginalEventTarget(rawEvent).getOr(rawEvent.target));const stop=()=>rawEvent.stopPropagation();const prevent=()=>rawEvent.preventDefault();const kill=compose(prevent,stop);return mkEvent(target,rawEvent.clientX,rawEvent.clientY,stop,prevent,kill,rawEvent);};const handle=(filter,handler)=>rawEvent=>{if(filter(rawEvent)){handler(fromRawEvent$1(rawEvent));}};const binder=(element,event,filter,handler,useCapture)=>{const wrapped=handle(filter,handler);element.dom.addEventListener(event,wrapped,useCapture);return{unbind:curry(unbind,element,event,wrapped,useCapture)};};const bind$2=(element,event,filter,handler)=>binder(element,event,filter,handler,false);const capture$1=(element,event,filter,handler)=>binder(element,event,filter,handler,true);const unbind=(element,event,handler,useCapture)=>{element.dom.removeEventListener(event,handler,useCapture);};const before$1=(marker,element)=>{const parent$1=parent(marker);parent$1.each(v=>{v.dom.insertBefore(element.dom,marker.dom);});};const after$2=(marker,element)=>{const sibling=nextSibling(marker);sibling.fold(()=>{const parent$1=parent(marker);parent$1.each(v=>{append$2(v,element);});},v=>{before$1(v,element);});};const prepend$1=(parent,element)=>{const firstChild$1=firstChild(parent);firstChild$1.fold(()=>{append$2(parent,element);},v=>{parent.dom.insertBefore(element.dom,v.dom);});};const append$2=(parent,element)=>{parent.dom.appendChild(element.dom);};const appendAt=(parent,element,index)=>{child$2(parent,index).fold(()=>{append$2(parent,element);},v=>{before$1(v,element);});};const append$1=(parent,elements)=>{each$1(elements,x=>{append$2(parent,x);});};const empty=element=>{element.dom.textContent='';each$1(children(element),rogue=>{remove$5(rogue);});};const remove$5=element=>{const dom=element.dom;if(dom.parentNode!==null){dom.parentNode.removeChild(dom);}};const get$b=_DOC=>{const doc=_DOC!==undefined?_DOC.dom:document;const x=doc.body.scrollLeft||doc.documentElement.scrollLeft;const y=doc.body.scrollTop||doc.documentElement.scrollTop;return SugarPosition(x,y);};const to=(x,y,_DOC)=>{const doc=_DOC!==undefined?_DOC.dom:document;const win=doc.defaultView;if(win){win.scrollTo(x,y);}};const get$a=_win=>{const win=_win===undefined?window:_win;if(detect$1().browser.isFirefox()){return Optional.none();}else{return Optional.from(win.visualViewport);}};const bounds$1=(x,y,width,height)=>({x,y,width,height,right:x+width,bottom:y+height});const getBounds$3=_win=>{const win=_win===undefined?window:_win;const doc=win.document;const scroll=get$b(SugarElement.fromDom(doc));return get$a(win).fold(()=>{const html=win.document.documentElement;const width=html.clientWidth;const height=html.clientHeight;return bounds$1(scroll.left,scroll.top,width,height);},visualViewport=>bounds$1(Math.max(visualViewport.pageLeft,scroll.left),Math.max(visualViewport.pageTop,scroll.top),visualViewport.width,visualViewport.height));};const getDocument=()=>SugarElement.fromDom(document);const walkUp=(navigation,doc)=>{const frame=navigation.view(doc);return frame.fold(constant$1([]),f=>{const parent=navigation.owner(f);const rest=walkUp(navigation,parent);return[f].concat(rest);});};const pathTo=(element,navigation)=>{const d=navigation.owner(element);const paths=walkUp(navigation,d);return Optional.some(paths);};const view=doc=>{var _a;const element=doc.dom===document?Optional.none():Optional.from((_a=doc.dom.defaultView)===null||_a===void 0?void 0:_a.frameElement);return element.map(SugarElement.fromDom);};const owner$3=element=>owner$4(element);var Navigation=/*#__PURE__*/Object.freeze({__proto__:null,view:view,owner:owner$3});const find$2=element=>{const doc=getDocument();const scroll=get$b(doc);const path=pathTo(element,Navigation);return path.fold(curry(absolute$3,element),frames=>{const offset=viewport$1(element);const r=foldr(frames,(b,a)=>{const loc=viewport$1(a);return{left:b.left+loc.left,top:b.top+loc.top};},{left:0,top:0});return SugarPosition(r.left+offset.left+scroll.left,r.top+offset.top+scroll.top);});};const pointed=(point,width,height)=>({point,width,height});const rect=(x,y,width,height)=>({x,y,width,height});const bounds=(x,y,width,height)=>({x,y,width,height,right:x+width,bottom:y+height});const box$1=element=>{const xy=absolute$3(element);const w=getOuter$1(element);const h=getOuter$2(element);return bounds(xy.left,xy.top,w,h);};const absolute$2=element=>{const position=find$2(element);const width=getOuter$1(element);const height=getOuter$2(element);return bounds(position.left,position.top,width,height);};const win=()=>getBounds$3(window);const value$4=value=>{const applyHelper=fn=>fn(value);const constHelper=constant$1(value);const outputHelper=()=>output;const output={tag:true,inner:value,fold:(_onError,onValue)=>onValue(value),isValue:always,isError:never,map:mapper=>Result.value(mapper(value)),mapError:outputHelper,bind:applyHelper,exists:applyHelper,forall:applyHelper,getOr:constHelper,or:outputHelper,getOrThunk:constHelper,orThunk:outputHelper,getOrDie:constHelper,each:fn=>{fn(value);},toOptional:()=>Optional.some(value)};return output;};const error$1=error=>{const outputHelper=()=>output;const output={tag:false,inner:error,fold:(onError,_onValue)=>onError(error),isValue:never,isError:always,map:outputHelper,mapError:mapper=>Result.error(mapper(error)),bind:outputHelper,exists:never,forall:always,getOr:identity,or:identity,getOrThunk:apply,orThunk:apply,getOrDie:die(String(error)),each:noop,toOptional:Optional.none};return output;};const fromOption=(optional,err)=>optional.fold(()=>error$1(err),value$4);const Result={value:value$4,error:error$1,fromOption};var SimpleResultType;(function(SimpleResultType){SimpleResultType[SimpleResultType['Error']=0]='Error';SimpleResultType[SimpleResultType['Value']=1]='Value';})(SimpleResultType||(SimpleResultType={}));const fold$1=(res,onError,onValue)=>res.stype===SimpleResultType.Error?onError(res.serror):onValue(res.svalue);const partition$2=results=>{const values=[];const errors=[];each$1(results,obj=>{fold$1(obj,err=>errors.push(err),val=>values.push(val));});return{values,errors};};const mapError=(res,f)=>{if(res.stype===SimpleResultType.Error){return{stype:SimpleResultType.Error,serror:f(res.serror)};}else{return res;}};const map=(res,f)=>{if(res.stype===SimpleResultType.Value){return{stype:SimpleResultType.Value,svalue:f(res.svalue)};}else{return res;}};const bind$1=(res,f)=>{if(res.stype===SimpleResultType.Value){return f(res.svalue);}else{return res;}};const bindError=(res,f)=>{if(res.stype===SimpleResultType.Error){return f(res.serror);}else{return res;}};const svalue=v=>({stype:SimpleResultType.Value,svalue:v});const serror=e=>({stype:SimpleResultType.Error,serror:e});const toResult$1=res=>fold$1(res,Result.error,Result.value);const fromResult$1=res=>res.fold(serror,svalue);const SimpleResult={fromResult:fromResult$1,toResult:toResult$1,svalue,partition:partition$2,serror,bind:bind$1,bindError,map,mapError,fold:fold$1};const field$2=(key,newKey,presence,prop)=>({tag:'field',key,newKey,presence,prop});const customField$1=(newKey,instantiator)=>({tag:'custom',newKey,instantiator});const fold=(value,ifField,ifCustom)=>{switch(value.tag){case'field':return ifField(value.key,value.newKey,value.presence,value.prop);case'custom':return ifCustom(value.newKey,value.instantiator);}};const shallow$1=(old,nu)=>{return nu;};const deep=(old,nu)=>{const bothObjects=isPlainObject(old)&&isPlainObject(nu);return bothObjects?deepMerge(old,nu):nu;};const baseMerge=merger=>{return(...objects)=>{if(objects.length===0){throw new Error(`Can't merge zero objects`);}const ret={};for(let j=0;j<objects.length;j++){const curObject=objects[j];for(const key in curObject){if(has$2(curObject,key)){ret[key]=merger(ret[key],curObject[key]);}}}return ret;};};const deepMerge=baseMerge(deep);const merge$1=baseMerge(shallow$1);const required$2=()=>({tag:'required',process:{}});const defaultedThunk=fallbackThunk=>({tag:'defaultedThunk',process:fallbackThunk});const defaulted$1=fallback=>defaultedThunk(constant$1(fallback));const asOption=()=>({tag:'option',process:{}});const mergeWithThunk=baseThunk=>({tag:'mergeWithThunk',process:baseThunk});const mergeWith=base=>mergeWithThunk(constant$1(base));const mergeValues$1=(values,base)=>values.length>0?SimpleResult.svalue(deepMerge(base,merge$1.apply(undefined,values))):SimpleResult.svalue(base);const mergeErrors$1=errors=>compose(SimpleResult.serror,flatten)(errors);const consolidateObj=(objects,base)=>{const partition=SimpleResult.partition(objects);return partition.errors.length>0?mergeErrors$1(partition.errors):mergeValues$1(partition.values,base);};const consolidateArr=objects=>{const partitions=SimpleResult.partition(objects);return partitions.errors.length>0?mergeErrors$1(partitions.errors):SimpleResult.svalue(partitions.values);};const ResultCombine={consolidateObj,consolidateArr};const formatObj=input=>{return isObject(input)&&keys(input).length>100?' removed due to size':JSON.stringify(input,null,2);};const formatErrors=errors=>{const es=errors.length>10?errors.slice(0,10).concat([{path:[],getErrorInfo:constant$1('... (only showing first ten failures)')}]):errors;return map$2(es,e=>{return'Failed path: ('+e.path.join(' > ')+')\\n'+e.getErrorInfo();});};const nu$a=(path,getErrorInfo)=>{return SimpleResult.serror([{path,getErrorInfo}]);};const missingRequired=(path,key,obj)=>nu$a(path,()=>'Could not find valid *required* value for \"'+key+'\" in '+formatObj(obj));const missingKey=(path,key)=>nu$a(path,()=>'Choice schema did not contain choice key: \"'+key+'\"');const missingBranch=(path,branches,branch)=>nu$a(path,()=>'The chosen schema: \"'+branch+'\" did not exist in branches: '+formatObj(branches));const unsupportedFields=(path,unsupported)=>nu$a(path,()=>'There are unsupported fields: ['+unsupported.join(', ')+'] specified');const custom=(path,err)=>nu$a(path,constant$1(err));const value$3=validator=>{const extract=(path,val)=>{return SimpleResult.bindError(validator(val),err=>custom(path,err));};const toString=constant$1('val');return{extract,toString};};const anyValue$1=value$3(SimpleResult.svalue);const requiredAccess=(path,obj,key,bundle)=>get$g(obj,key).fold(()=>missingRequired(path,key,obj),bundle);const fallbackAccess=(obj,key,fallback,bundle)=>{const v=get$g(obj,key).getOrThunk(()=>fallback(obj));return bundle(v);};const optionAccess=(obj,key,bundle)=>bundle(get$g(obj,key));const optionDefaultedAccess=(obj,key,fallback,bundle)=>{const opt=get$g(obj,key).map(val=>val===true?fallback(obj):val);return bundle(opt);};const extractField=(field,path,obj,key,prop)=>{const bundle=av=>prop.extract(path.concat([key]),av);const bundleAsOption=optValue=>optValue.fold(()=>SimpleResult.svalue(Optional.none()),ov=>{const result=prop.extract(path.concat([key]),ov);return SimpleResult.map(result,Optional.some);});switch(field.tag){case'required':return requiredAccess(path,obj,key,bundle);case'defaultedThunk':return fallbackAccess(obj,key,field.process,bundle);case'option':return optionAccess(obj,key,bundleAsOption);case'defaultedOptionThunk':return optionDefaultedAccess(obj,key,field.process,bundleAsOption);case'mergeWithThunk':{return fallbackAccess(obj,key,constant$1({}),v=>{const result=deepMerge(field.process(obj),v);return bundle(result);});}}};const extractFields=(path,obj,fields)=>{const success={};const errors=[];for(const field of fields){fold(field,(key,newKey,presence,prop)=>{const result=extractField(presence,path,obj,key,prop);SimpleResult.fold(result,err=>{errors.push(...err);},res=>{success[newKey]=res;});},(newKey,instantiator)=>{success[newKey]=instantiator(obj);});}return errors.length>0?SimpleResult.serror(errors):SimpleResult.svalue(success);};const valueThunk=getDelegate=>{const extract=(path,val)=>getDelegate().extract(path,val);const toString=()=>getDelegate().toString();return{extract,toString};};const getSetKeys=obj=>keys(filter$1(obj,isNonNullable));const objOfOnly=fields=>{const delegate=objOf(fields);const fieldNames=foldr(fields,(acc,value)=>{return fold(value,key=>deepMerge(acc,{[key]:true}),constant$1(acc));},{});const extract=(path,o)=>{const keys=isBoolean(o)?[]:getSetKeys(o);const extra=filter$2(keys,k=>!hasNonNullableKey(fieldNames,k));return extra.length===0?delegate.extract(path,o):unsupportedFields(path,extra);};return{extract,toString:delegate.toString};};const objOf=values=>{const extract=(path,o)=>extractFields(path,o,values);const toString=()=>{const fieldStrings=map$2(values,value=>fold(value,(key,_okey,_presence,prop)=>key+' -> '+prop.toString(),(newKey,_instantiator)=>'state('+newKey+')'));return'obj{\\n'+fieldStrings.join('\\n')+'}';};return{extract,toString};};const arrOf=prop=>{const extract=(path,array)=>{const results=map$2(array,(a,i)=>prop.extract(path.concat(['['+i+']']),a));return ResultCombine.consolidateArr(results);};const toString=()=>'array('+prop.toString()+')';return{extract,toString};};const oneOf=(props,rawF)=>{const f=rawF!==undefined?rawF:identity;const extract=(path,val)=>{const errors=[];for(const prop of props){const res=prop.extract(path,val);if(res.stype===SimpleResultType.Value){return{stype:SimpleResultType.Value,svalue:f(res.svalue)};}errors.push(res);}return ResultCombine.consolidateArr(errors);};const toString=()=>'oneOf('+map$2(props,prop=>prop.toString()).join(', ')+')';return{extract,toString};};const setOf$1=(validator,prop)=>{const validateKeys=(path,keys)=>arrOf(value$3(validator)).extract(path,keys);const extract=(path,o)=>{const keys$1=keys(o);const validatedKeys=validateKeys(path,keys$1);return SimpleResult.bind(validatedKeys,validKeys=>{const schema=map$2(validKeys,vk=>{return field$2(vk,vk,required$2(),prop);});return objOf(schema).extract(path,o);});};const toString=()=>'setOf('+prop.toString()+')';return{extract,toString};};const thunk=(_desc,processor)=>{const getP=cached(processor);const extract=(path,val)=>getP().extract(path,val);const toString=()=>getP().toString();return{extract,toString};};const arrOfObj=compose(arrOf,objOf);const anyValue=constant$1(anyValue$1);const typedValue=(validator,expectedType)=>value$3(a=>{const actualType=typeof a;return validator(a)?SimpleResult.svalue(a):SimpleResult.serror(`Expected type: ${expectedType} but got: ${actualType}`);});const number=typedValue(isNumber,'number');const string=typedValue(isString,'string');const boolean=typedValue(isBoolean,'boolean');const functionProcessor=typedValue(isFunction,'function');const isPostMessageable=val=>{if(Object(val)!==val){return true;}switch({}.toString.call(val).slice(8,-1)){case'Boolean':case'Number':case'String':case'Date':case'RegExp':case'Blob':case'FileList':case'ImageData':case'ImageBitmap':case'ArrayBuffer':return true;case'Array':case'Object':return Object.keys(val).every(prop=>isPostMessageable(val[prop]));default:return false;}};const postMessageable=value$3(a=>{if(isPostMessageable(a)){return SimpleResult.svalue(a);}else{return SimpleResult.serror('Expected value to be acceptable for sending via postMessage');}});const chooseFrom=(path,input,branches,ch)=>{const fields=get$g(branches,ch);return fields.fold(()=>missingBranch(path,branches,ch),vp=>vp.extract(path.concat(['branch: '+ch]),input));};const choose$2=(key,branches)=>{const extract=(path,input)=>{const choice=get$g(input,key);return choice.fold(()=>missingKey(path,key),chosen=>chooseFrom(path,input,branches,chosen));};const toString=()=>'chooseOn('+key+'). Possible values: '+keys(branches);return{extract,toString};};const arrOfVal=()=>arrOf(anyValue$1);const valueOf=validator=>value$3(v=>validator(v).fold(SimpleResult.serror,SimpleResult.svalue));const setOf=(validator,prop)=>setOf$1(v=>SimpleResult.fromResult(validator(v)),prop);const extractValue=(label,prop,obj)=>{const res=prop.extract([label],obj);return SimpleResult.mapError(res,errs=>({input:obj,errors:errs}));};const asRaw=(label,prop,obj)=>SimpleResult.toResult(extractValue(label,prop,obj));const getOrDie=extraction=>{return extraction.fold(errInfo=>{throw new Error(formatError(errInfo));},identity);};const asRawOrDie$1=(label,prop,obj)=>getOrDie(asRaw(label,prop,obj));const formatError=errInfo=>{return'Errors: \\n'+formatErrors(errInfo.errors).join('\\n')+'\\n\\nInput object: '+formatObj(errInfo.input);};const choose$1=(key,branches)=>choose$2(key,map$1(branches,objOf));const thunkOf=(desc,schema)=>thunk(desc,schema);const field$1=field$2;const customField=customField$1;const validateEnum=values=>valueOf(value=>contains$2(values,value)?Result.value(value):Result.error(`Unsupported value: \"${value}\", choose one of \"${values.join(', ')}\".`));const required$1=key=>field$1(key,key,required$2(),anyValue());const requiredOf=(key,schema)=>field$1(key,key,required$2(),schema);const requiredNumber=key=>requiredOf(key,number);const requiredString=key=>requiredOf(key,string);const requiredStringEnum=(key,values)=>field$1(key,key,required$2(),validateEnum(values));const requiredBoolean=key=>requiredOf(key,boolean);const requiredFunction=key=>requiredOf(key,functionProcessor);const forbid=(key,message)=>field$1(key,key,asOption(),value$3(_v=>SimpleResult.serror('The field: '+key+' is forbidden. '+message)));const requiredObjOf=(key,objSchema)=>field$1(key,key,required$2(),objOf(objSchema));const requiredArrayOfObj=(key,objFields)=>field$1(key,key,required$2(),arrOfObj(objFields));const requiredArrayOf=(key,schema)=>field$1(key,key,required$2(),arrOf(schema));const option$3=key=>field$1(key,key,asOption(),anyValue());const optionOf=(key,schema)=>field$1(key,key,asOption(),schema);const optionNumber=key=>optionOf(key,number);const optionString=key=>optionOf(key,string);const optionStringEnum=(key,values)=>optionOf(key,validateEnum(values));const optionFunction=key=>optionOf(key,functionProcessor);const optionArrayOf=(key,schema)=>optionOf(key,arrOf(schema));const optionObjOf=(key,objSchema)=>optionOf(key,objOf(objSchema));const optionObjOfOnly=(key,objSchema)=>optionOf(key,objOfOnly(objSchema));const defaulted=(key,fallback)=>field$1(key,key,defaulted$1(fallback),anyValue());const defaultedOf=(key,fallback,schema)=>field$1(key,key,defaulted$1(fallback),schema);const defaultedNumber=(key,fallback)=>defaultedOf(key,fallback,number);const defaultedString=(key,fallback)=>defaultedOf(key,fallback,string);const defaultedStringEnum=(key,fallback,values)=>defaultedOf(key,fallback,validateEnum(values));const defaultedBoolean=(key,fallback)=>defaultedOf(key,fallback,boolean);const defaultedFunction=(key,fallback)=>defaultedOf(key,fallback,functionProcessor);const defaultedPostMsg=(key,fallback)=>defaultedOf(key,fallback,postMessageable);const defaultedArrayOf=(key,fallback,schema)=>defaultedOf(key,fallback,arrOf(schema));const defaultedObjOf=(key,fallback,objSchema)=>defaultedOf(key,fallback,objOf(objSchema));const Cell=initial=>{let value=initial;const get=()=>{return value;};const set=v=>{value=v;};return{get,set};};const generate$7=cases=>{if(!isArray(cases)){throw new Error('cases must be an array');}if(cases.length===0){throw new Error('there must be at least one case');}const constructors=[];const adt={};each$1(cases,(acase,count)=>{const keys$1=keys(acase);if(keys$1.length!==1){throw new Error('one and only one name per case');}const key=keys$1[0];const value=acase[key];if(adt[key]!==undefined){throw new Error('duplicate key detected:'+key);}else if(key==='cata'){throw new Error('cannot have a case named cata (sorry)');}else if(!isArray(value)){throw new Error('case arguments must be an array');}constructors.push(key);adt[key]=(...args)=>{const argLength=args.length;if(argLength!==value.length){throw new Error('Wrong number of arguments to case '+key+'. Expected '+value.length+' ('+value+'), got '+argLength);}const match=branches=>{const branchKeys=keys(branches);if(constructors.length!==branchKeys.length){throw new Error('Wrong number of arguments to match. Expected: '+constructors.join(',')+'\\nActual: '+branchKeys.join(','));}const allReqd=forall(constructors,reqKey=>{return contains$2(branchKeys,reqKey);});if(!allReqd){throw new Error('Not all branches were specified when using match. Specified: '+branchKeys.join(', ')+'\\nRequired: '+constructors.join(', '));}return branches[key].apply(null,args);};return{fold:(...foldArgs)=>{if(foldArgs.length!==cases.length){throw new Error('Wrong number of arguments to fold. Expected '+cases.length+', got '+foldArgs.length);}const target=foldArgs[count];return target.apply(null,args);},match,log:label=>{console.log(label,{constructors,constructor:key,params:args});}};};});return adt;};const Adt={generate:generate$7};Adt.generate([{bothErrors:['error1','error2']},{firstError:['error1','value2']},{secondError:['value1','error2']},{bothValues:['value1','value2']}]);const partition$1=results=>{const errors=[];const values=[];each$1(results,result=>{result.fold(err=>{errors.push(err);},value=>{values.push(value);});});return{errors,values};};const exclude$1=(obj,fields)=>{const r={};each(obj,(v,k)=>{if(!contains$2(fields,k)){r[k]=v;}});return r;};const wrap$2=(key,value)=>({[key]:value});const wrapAll$1=keyvalues=>{const r={};each$1(keyvalues,kv=>{r[kv.key]=kv.value;});return r;};const exclude=(obj,fields)=>exclude$1(obj,fields);const wrap$1=(key,value)=>wrap$2(key,value);const wrapAll=keyvalues=>wrapAll$1(keyvalues);const mergeValues=(values,base)=>{return values.length===0?Result.value(base):Result.value(deepMerge(base,merge$1.apply(undefined,values)));};const mergeErrors=errors=>Result.error(flatten(errors));const consolidate=(objs,base)=>{const partitions=partition$1(objs);return partitions.errors.length>0?mergeErrors(partitions.errors):mergeValues(partitions.values,base);};const ensureIsRoot=isRoot=>isFunction(isRoot)?isRoot:never;const ancestor$2=(scope,transform,isRoot)=>{let element=scope.dom;const stop=ensureIsRoot(isRoot);while(element.parentNode){element=element.parentNode;const el=SugarElement.fromDom(element);const transformed=transform(el);if(transformed.isSome()){return transformed;}else if(stop(el)){break;}}return Optional.none();};const closest$4=(scope,transform,isRoot)=>{const current=transform(scope);const stop=ensureIsRoot(isRoot);return current.orThunk(()=>stop(scope)?Optional.none():ancestor$2(scope,transform,stop));};const isSource=(component,simulatedEvent)=>eq(component.element,simulatedEvent.event.target);const defaultEventHandler={can:always,abort:never,run:noop};const nu$9=parts=>{if(!hasNonNullableKey(parts,'can')&&!hasNonNullableKey(parts,'abort')&&!hasNonNullableKey(parts,'run')){throw new Error('EventHandler defined by: '+JSON.stringify(parts,null,2)+' does not have can, abort, or run!');}return{...defaultEventHandler,...parts};};const all$2=(handlers,f)=>(...args)=>foldl(handlers,(acc,handler)=>acc&&f(handler).apply(undefined,args),true);const any=(handlers,f)=>(...args)=>foldl(handlers,(acc,handler)=>acc||f(handler).apply(undefined,args),false);const read$2=handler=>isFunction(handler)?{can:always,abort:never,run:handler}:handler;const fuse$1=handlers=>{const can=all$2(handlers,handler=>handler.can);const abort=any(handlers,handler=>handler.abort);const run=(...args)=>{each$1(handlers,handler=>{handler.run.apply(undefined,args);});};return{can,abort,run};};const constant=constant$1;const touchstart=constant('touchstart');const touchmove=constant('touchmove');const touchend=constant('touchend');const touchcancel=constant('touchcancel');const mousedown=constant('mousedown');const mousemove=constant('mousemove');const mouseout=constant('mouseout');const mouseup=constant('mouseup');const mouseover=constant('mouseover');const focusin=constant('focusin');const focusout=constant('focusout');const keydown=constant('keydown');const keyup=constant('keyup');const input=constant('input');const change=constant('change');const click=constant('click');const transitioncancel=constant('transitioncancel');const transitionend=constant('transitionend');const transitionstart=constant('transitionstart');const selectstart=constant('selectstart');const prefixName=name=>constant$1('alloy.'+name);const alloy={tap:prefixName('tap')};const focus$4=prefixName('focus');const postBlur=prefixName('blur.post');const postPaste=prefixName('paste.post');const receive=prefixName('receive');const execute$5=prefixName('execute');const focusItem=prefixName('focus.item');const tap=alloy.tap;const longpress=prefixName('longpress');const sandboxClose=prefixName('sandbox.close');const typeaheadCancel=prefixName('typeahead.cancel');const systemInit=prefixName('system.init');const documentTouchmove=prefixName('system.touchmove');const documentTouchend=prefixName('system.touchend');const windowScroll=prefixName('system.scroll');const windowResize=prefixName('system.resize');const attachedToDom=prefixName('system.attached');const detachedFromDom=prefixName('system.detached');const dismissRequested=prefixName('system.dismissRequested');const repositionRequested=prefixName('system.repositionRequested');const focusShifted=prefixName('focusmanager.shifted');const slotVisibility=prefixName('slotcontainer.visibility');const changeTab=prefixName('change.tab');const dismissTab=prefixName('dismiss.tab');const highlight$1=prefixName('highlight');const dehighlight$1=prefixName('dehighlight');const emit=(component,event)=>{dispatchWith(component,component.element,event,{});};const emitWith=(component,event,properties)=>{dispatchWith(component,component.element,event,properties);};const emitExecute=component=>{emit(component,execute$5());};const dispatch=(component,target,event)=>{dispatchWith(component,target,event,{});};const dispatchWith=(component,target,event,properties)=>{const data={target,...properties};component.getSystem().triggerEvent(event,target,data);};const retargetAndDispatchWith=(component,target,eventName,properties)=>{const data={...properties,target};component.getSystem().triggerEvent(eventName,target,data);};const dispatchEvent=(component,target,event,simulatedEvent)=>{component.getSystem().triggerEvent(event,target,simulatedEvent.event);};const derive$2=configs=>wrapAll(configs);const abort=(name,predicate)=>{return{key:name,value:nu$9({abort:predicate})};};const can=(name,predicate)=>{return{key:name,value:nu$9({can:predicate})};};const preventDefault=name=>{return{key:name,value:nu$9({run:(component,simulatedEvent)=>{simulatedEvent.event.prevent();}})};};const run$1=(name,handler)=>{return{key:name,value:nu$9({run:handler})};};const runActionExtra=(name,action,extra)=>{return{key:name,value:nu$9({run:(component,simulatedEvent)=>{action.apply(undefined,[component,simulatedEvent].concat(extra));}})};};const runOnName=name=>{return handler=>run$1(name,handler);};const runOnSourceName=name=>{return handler=>({key:name,value:nu$9({run:(component,simulatedEvent)=>{if(isSource(component,simulatedEvent)){handler(component,simulatedEvent);}}})});};const redirectToUid=(name,uid)=>{return run$1(name,(component,simulatedEvent)=>{component.getSystem().getByUid(uid).each(redirectee=>{dispatchEvent(redirectee,redirectee.element,name,simulatedEvent);});});};const redirectToPart=(name,detail,partName)=>{const uid=detail.partUids[partName];return redirectToUid(name,uid);};const runWithTarget=(name,f)=>{return run$1(name,(component,simulatedEvent)=>{const ev=simulatedEvent.event;const target=component.getSystem().getByDom(ev.target).getOrThunk(()=>{const closest=closest$4(ev.target,el=>component.getSystem().getByDom(el).toOptional(),never);return closest.getOr(component);});f(component,target,simulatedEvent);});};const cutter=name=>{return run$1(name,(component,simulatedEvent)=>{simulatedEvent.cut();});};const stopper=name=>{return run$1(name,(component,simulatedEvent)=>{simulatedEvent.stop();});};const runOnSource=(name,f)=>{return runOnSourceName(name)(f);};const runOnAttached=runOnSourceName(attachedToDom());const runOnDetached=runOnSourceName(detachedFromDom());const runOnInit=runOnSourceName(systemInit());const runOnExecute$1=runOnName(execute$5());const fromHtml$1=(html,scope)=>{const doc=scope||document;const div=doc.createElement('div');div.innerHTML=html;return children(SugarElement.fromDom(div));};const get$9=element=>element.dom.innerHTML;const set$6=(element,content)=>{const owner=owner$4(element);const docDom=owner.dom;const fragment=SugarElement.fromDom(docDom.createDocumentFragment());const contentElements=fromHtml$1(content,docDom);append$1(fragment,contentElements);empty(element);append$2(element,fragment);};const getOuter=element=>{const container=SugarElement.fromTag('div');const clone=SugarElement.fromDom(element.dom.cloneNode(true));append$2(container,clone);return get$9(container);};const clone=(original,isDeep)=>SugarElement.fromDom(original.dom.cloneNode(isDeep));const shallow=original=>clone(original,false);const getHtml=element=>{if(isShadowRoot(element)){return'#shadow-root';}else{const clone=shallow(element);return getOuter(clone);}};const element=elem=>getHtml(elem);const isRecursive=(component,originator,target)=>eq(originator,component.element)&&!eq(originator,target);const events$i=derive$2([can(focus$4(),(component,simulatedEvent)=>{const event=simulatedEvent.event;const originator=event.originator;const target=event.target;if(isRecursive(component,originator,target)){console.warn(focus$4()+' did not get interpreted by the desired target. '+'\\nOriginator: '+element(originator)+'\\nTarget: '+element(target)+'\\nCheck the '+focus$4()+' event handlers');return false;}else{return true;}})]);var DefaultEvents=/*#__PURE__*/Object.freeze({__proto__:null,events:events$i});let unique=0;const generate$6=prefix=>{const date=new Date();const time=date.getTime();const random=Math.floor(Math.random()*1000000000);unique++;return prefix+'_'+random+unique+String(time);};const prefix$1=constant$1('alloy-id-');const idAttr$1=constant$1('data-alloy-id');const prefix=prefix$1();const idAttr=idAttr$1();const write=(label,elem)=>{const id=generate$6(prefix+label);writeOnly(elem,id);return id;};const writeOnly=(elem,uid)=>{Object.defineProperty(elem.dom,idAttr,{value:uid,writable:true});};const read$1=elem=>{const id=isElement$1(elem)?elem.dom[idAttr]:null;return Optional.from(id);};const generate$5=prefix=>generate$6(prefix);const make$8=identity;const NoContextApi=getComp=>{const getMessage=event=>`The component must be in a context to execute: ${event}`+(getComp?'\\n'+element(getComp().element)+' is not in context.':'');const fail=event=>()=>{throw new Error(getMessage(event));};const warn=event=>()=>{console.warn(getMessage(event));};return{debugInfo:constant$1('fake'),triggerEvent:warn('triggerEvent'),triggerFocus:warn('triggerFocus'),triggerEscape:warn('triggerEscape'),broadcast:warn('broadcast'),broadcastOn:warn('broadcastOn'),broadcastEvent:warn('broadcastEvent'),build:fail('build'),buildOrPatch:fail('buildOrPatch'),addToWorld:fail('addToWorld'),removeFromWorld:fail('removeFromWorld'),addToGui:fail('addToGui'),removeFromGui:fail('removeFromGui'),getByUid:fail('getByUid'),getByDom:fail('getByDom'),isConnected:never};};const singleton$1=NoContextApi();const markAsBehaviourApi=(f,apiName,apiFunction)=>{const delegate=apiFunction.toString();const endIndex=delegate.indexOf(')')+1;const openBracketIndex=delegate.indexOf('(');const parameters=delegate.substring(openBracketIndex+1,endIndex-1).split(/,\\s*/);f.toFunctionAnnotation=()=>({name:apiName,parameters:cleanParameters(parameters.slice(0,1).concat(parameters.slice(3)))});return f;};const cleanParameters=parameters=>map$2(parameters,p=>endsWith(p,'/*')?p.substring(0,p.length-'/*'.length):p);const markAsExtraApi=(f,extraName)=>{const delegate=f.toString();const endIndex=delegate.indexOf(')')+1;const openBracketIndex=delegate.indexOf('(');const parameters=delegate.substring(openBracketIndex+1,endIndex-1).split(/,\\s*/);f.toFunctionAnnotation=()=>({name:extraName,parameters:cleanParameters(parameters)});return f;};const markAsSketchApi=(f,apiFunction)=>{const delegate=apiFunction.toString();const endIndex=delegate.indexOf(')')+1;const openBracketIndex=delegate.indexOf('(');const parameters=delegate.substring(openBracketIndex+1,endIndex-1).split(/,\\s*/);f.toFunctionAnnotation=()=>({name:'OVERRIDE',parameters:cleanParameters(parameters.slice(1))});return f;};const premadeTag=generate$6('alloy-premade');const premade$1=comp=>{Object.defineProperty(comp.element.dom,premadeTag,{value:comp.uid,writable:true});return wrap$1(premadeTag,comp);};const isPremade=element=>has$2(element.dom,premadeTag);const getPremade=spec=>get$g(spec,premadeTag);const makeApi=f=>markAsSketchApi((component,...rest)=>f(component.getApis(),component,...rest),f);const NoState={init:()=>nu$8({readState:constant$1('No State required')})};const nu$8=spec=>spec;const generateFrom$1=(spec,all)=>{const schema=map$2(all,a=>optionObjOf(a.name(),[required$1('config'),defaulted('state',NoState)]));const validated=asRaw('component.behaviours',objOf(schema),spec.behaviours).fold(errInfo=>{throw new Error(formatError(errInfo)+'\\nComplete spec:\\n'+JSON.stringify(spec,null,2));},identity);return{list:all,data:map$1(validated,optBlobThunk=>{const output=optBlobThunk.map(blob=>({config:blob.config,state:blob.state.init(blob.config)}));return constant$1(output);})};};const getBehaviours$3=bData=>bData.list;const getData$2=bData=>bData.data;const byInnerKey=(data,tuple)=>{const r={};each(data,(detail,key)=>{each(detail,(value,indexKey)=>{const chain=get$g(r,indexKey).getOr([]);r[indexKey]=chain.concat([tuple(key,value)]);});});return r;};const nu$7=s=>({classes:isUndefined(s.classes)?[]:s.classes,attributes:isUndefined(s.attributes)?{}:s.attributes,styles:isUndefined(s.styles)?{}:s.styles});const merge=(defnA,mod)=>({...defnA,attributes:{...defnA.attributes,...mod.attributes},styles:{...defnA.styles,...mod.styles},classes:defnA.classes.concat(mod.classes)});const combine$2=(info,baseMod,behaviours,base)=>{const modsByBehaviour={...baseMod};each$1(behaviours,behaviour=>{modsByBehaviour[behaviour.name()]=behaviour.exhibit(info,base);});const byAspect=byInnerKey(modsByBehaviour,(name,modification)=>({name,modification}));const combineObjects=objects=>foldr(objects,(b,a)=>({...a.modification,...b}),{});const combinedClasses=foldr(byAspect.classes,(b,a)=>a.modification.concat(b),[]);const combinedAttributes=combineObjects(byAspect.attributes);const combinedStyles=combineObjects(byAspect.styles);return nu$7({classes:combinedClasses,attributes:combinedAttributes,styles:combinedStyles});};const sortKeys=(label,keyName,array,order)=>{try{const sorted=sort(array,(a,b)=>{const aKey=a[keyName];const bKey=b[keyName];const aIndex=order.indexOf(aKey);const bIndex=order.indexOf(bKey);if(aIndex===-1){throw new Error('The ordering for '+label+' does not have an entry for '+aKey+'.\\nOrder specified: '+JSON.stringify(order,null,2));}if(bIndex===-1){throw new Error('The ordering for '+label+' does not have an entry for '+bKey+'.\\nOrder specified: '+JSON.stringify(order,null,2));}if(aIndex<bIndex){return-1;}else if(bIndex<aIndex){return 1;}else{return 0;}});return Result.value(sorted);}catch(err){return Result.error([err]);}};const uncurried=(handler,purpose)=>({handler,purpose});const curried=(handler,purpose)=>({cHandler:handler,purpose});const curryArgs=(descHandler,extraArgs)=>curried(curry.apply(undefined,[descHandler.handler].concat(extraArgs)),descHandler.purpose);const getCurried=descHandler=>descHandler.cHandler;const behaviourTuple=(name,handler)=>({name,handler});const nameToHandlers=(behaviours,info)=>{const r={};each$1(behaviours,behaviour=>{r[behaviour.name()]=behaviour.handlers(info);});return r;};const groupByEvents=(info,behaviours,base)=>{const behaviourEvents={...base,...nameToHandlers(behaviours,info)};return byInnerKey(behaviourEvents,behaviourTuple);};const combine$1=(info,eventOrder,behaviours,base)=>{const byEventName=groupByEvents(info,behaviours,base);return combineGroups(byEventName,eventOrder);};const assemble=rawHandler=>{const handler=read$2(rawHandler);return(component,simulatedEvent,...rest)=>{const args=[component,simulatedEvent].concat(rest);if(handler.abort.apply(undefined,args)){simulatedEvent.stop();}else if(handler.can.apply(undefined,args)){handler.run.apply(undefined,args);}};};const missingOrderError=(eventName,tuples)=>Result.error(['The event ('+eventName+') has more than one behaviour that listens to it.\\nWhen this occurs, you must '+'specify an event ordering for the behaviours in your spec (e.g. [ \"listing\", \"toggling\" ]).\\nThe behaviours that '+'can trigger it are: '+JSON.stringify(map$2(tuples,c=>c.name),null,2)]);const fuse=(tuples,eventOrder,eventName)=>{const order=eventOrder[eventName];if(!order){return missingOrderError(eventName,tuples);}else{return sortKeys('Event: '+eventName,'name',tuples,order).map(sortedTuples=>{const handlers=map$2(sortedTuples,tuple=>tuple.handler);return fuse$1(handlers);});}};const combineGroups=(byEventName,eventOrder)=>{const r=mapToArray(byEventName,(tuples,eventName)=>{const combined=tuples.length===1?Result.value(tuples[0].handler):fuse(tuples,eventOrder,eventName);return combined.map(handler=>{const assembled=assemble(handler);const purpose=tuples.length>1?filter$2(eventOrder[eventName],o=>exists(tuples,t=>t.name===o)).join(' > '):tuples[0].name;return wrap$1(eventName,uncurried(assembled,purpose));});});return consolidate(r,{});};const baseBehaviour='alloy.base.behaviour';const schema$z=objOf([field$1('dom','dom',required$2(),objOf([required$1('tag'),defaulted('styles',{}),defaulted('classes',[]),defaulted('attributes',{}),option$3('value'),option$3('innerHtml')])),required$1('components'),required$1('uid'),defaulted('events',{}),defaulted('apis',{}),field$1('eventOrder','eventOrder',mergeWith({[execute$5()]:['disabling',baseBehaviour,'toggling','typeaheadevents'],[focus$4()]:[baseBehaviour,'focusing','keying'],[systemInit()]:[baseBehaviour,'disabling','toggling','representing'],[input()]:[baseBehaviour,'representing','streaming','invalidating'],[detachedFromDom()]:[baseBehaviour,'representing','item-events','tooltipping'],[mousedown()]:['focusing',baseBehaviour,'item-type-events'],[touchstart()]:['focusing',baseBehaviour,'item-type-events'],[mouseover()]:['item-type-events','tooltipping'],[receive()]:['receiving','reflecting','tooltipping']}),anyValue()),option$3('domModification')]);const toInfo=spec=>asRaw('custom.definition',schema$z,spec);const toDefinition=detail=>({...detail.dom,uid:detail.uid,domChildren:map$2(detail.components,comp=>comp.element)});const toModification=detail=>detail.domModification.fold(()=>nu$7({}),nu$7);const toEvents=info=>info.events;const read=(element,attr)=>{const value=get$f(element,attr);return value===undefined||value===''?[]:value.split(' ');};const add$4=(element,attr,id)=>{const old=read(element,attr);const nu=old.concat([id]);set$9(element,attr,nu.join(' '));return true;};const remove$4=(element,attr,id)=>{const nu=filter$2(read(element,attr),v=>v!==id);if(nu.length>0){set$9(element,attr,nu.join(' '));}else{remove$7(element,attr);}return false;};const supports=element=>element.dom.classList!==undefined;const get$8=element=>read(element,'class');const add$3=(element,clazz)=>add$4(element,'class',clazz);const remove$3=(element,clazz)=>remove$4(element,'class',clazz);const add$2=(element,clazz)=>{if(supports(element)){element.dom.classList.add(clazz);}else{add$3(element,clazz);}};const cleanClass=element=>{const classList=supports(element)?element.dom.classList:get$8(element);if(classList.length===0){remove$7(element,'class');}};const remove$2=(element,clazz)=>{if(supports(element)){const classList=element.dom.classList;classList.remove(clazz);}else{remove$3(element,clazz);}cleanClass(element);};const has=(element,clazz)=>supports(element)&&element.dom.classList.contains(clazz);const add$1=(element,classes)=>{each$1(classes,x=>{add$2(element,x);});};const remove$1=(element,classes)=>{each$1(classes,x=>{remove$2(element,x);});};const hasAll=(element,classes)=>forall(classes,clazz=>has(element,clazz));const getNative=element=>{const classList=element.dom.classList;const r=new Array(classList.length);for(let i=0;i<classList.length;i++){const item=classList.item(i);if(item!==null){r[i]=item;}}return r;};const get$7=element=>supports(element)?getNative(element):get$8(element);const get$6=element=>element.dom.value;const set$5=(element,value)=>{if(value===undefined){throw new Error('Value.set was undefined');}element.dom.value=value;};const determineObsoleted=(parent,index,oldObsoleted)=>{const newObsoleted=child$2(parent,index);return newObsoleted.map(newObs=>{const elemChanged=oldObsoleted.exists(o=>!eq(o,newObs));if(elemChanged){const oldTag=oldObsoleted.map(name$3).getOr('span');const marker=SugarElement.fromTag(oldTag);before$1(newObs,marker);return marker;}else{return newObs;}});};const ensureInDom=(parent,child,obsoleted)=>{obsoleted.fold(()=>append$2(parent,child),obs=>{if(!eq(obs,child)){before$1(obs,child);remove$5(obs);}});};const patchChildrenWith=(parent,nu,f)=>{const builtChildren=map$2(nu,f);const currentChildren=children(parent);each$1(currentChildren.slice(builtChildren.length),remove$5);return builtChildren;};const patchSpecChild=(parent,index,spec,build)=>{const oldObsoleted=child$2(parent,index);const childComp=build(spec,oldObsoleted);const obsoleted=determineObsoleted(parent,index,oldObsoleted);ensureInDom(parent,childComp.element,obsoleted);return childComp;};const patchSpecChildren=(parent,specs,build)=>patchChildrenWith(parent,specs,(spec,index)=>patchSpecChild(parent,index,spec,build));const patchDomChildren=(parent,nodes)=>patchChildrenWith(parent,nodes,(node,index)=>{const optObsoleted=child$2(parent,index);ensureInDom(parent,node,optObsoleted);return node;});const diffKeyValueSet=(newObj,oldObj)=>{const newKeys=keys(newObj);const oldKeys=keys(oldObj);const toRemove=difference(oldKeys,newKeys);const toSet=bifilter(newObj,(v,k)=>{return!has$2(oldObj,k)||v!==oldObj[k];}).t;return{toRemove,toSet};};const reconcileToDom=(definition,obsoleted)=>{const{class:clazz,style,...existingAttributes}=clone$1(obsoleted);const{toSet:attrsToSet,toRemove:attrsToRemove}=diffKeyValueSet(definition.attributes,existingAttributes);const updateAttrs=()=>{each$1(attrsToRemove,a=>remove$7(obsoleted,a));setAll$1(obsoleted,attrsToSet);};const existingStyles=getAllRaw(obsoleted);const{toSet:stylesToSet,toRemove:stylesToRemove}=diffKeyValueSet(definition.styles,existingStyles);const updateStyles=()=>{each$1(stylesToRemove,s=>remove$6(obsoleted,s));setAll(obsoleted,stylesToSet);};const existingClasses=get$7(obsoleted);const classesToRemove=difference(existingClasses,definition.classes);const classesToAdd=difference(definition.classes,existingClasses);const updateClasses=()=>{add$1(obsoleted,classesToAdd);remove$1(obsoleted,classesToRemove);};const updateHtml=html=>{set$6(obsoleted,html);};const updateChildren=()=>{const children=definition.domChildren;patchDomChildren(obsoleted,children);};const updateValue=()=>{const valueElement=obsoleted;const value=definition.value.getOrUndefined();if(value!==get$6(valueElement)){set$5(valueElement,value!==null&&value!==void 0?value:'');}};updateAttrs();updateClasses();updateStyles();definition.innerHtml.fold(updateChildren,updateHtml);updateValue();return obsoleted;};const introduceToDom=definition=>{const subject=SugarElement.fromTag(definition.tag);setAll$1(subject,definition.attributes);add$1(subject,definition.classes);setAll(subject,definition.styles);definition.innerHtml.each(html=>set$6(subject,html));const children=definition.domChildren;append$1(subject,children);definition.value.each(value=>{set$5(subject,value);});return subject;};const attemptPatch=(definition,obsoleted)=>{try{const e=reconcileToDom(definition,obsoleted);return Optional.some(e);}catch(err){return Optional.none();}};const hasMixedChildren=definition=>definition.innerHtml.isSome()&&definition.domChildren.length>0;const renderToDom=(definition,optObsoleted)=>{const canBePatched=candidate=>name$3(candidate)===definition.tag&&!hasMixedChildren(definition)&&!isPremade(candidate);const elem=optObsoleted.filter(canBePatched).bind(obsoleted=>attemptPatch(definition,obsoleted)).getOrThunk(()=>introduceToDom(definition));writeOnly(elem,definition.uid);return elem;};const getBehaviours$2=spec=>{const behaviours=get$g(spec,'behaviours').getOr({});return bind$3(keys(behaviours),name=>{const behaviour=behaviours[name];return isNonNullable(behaviour)?[behaviour.me]:[];});};const generateFrom=(spec,all)=>generateFrom$1(spec,all);const generate$4=spec=>{const all=getBehaviours$2(spec);return generateFrom(spec,all);};const getDomDefinition=(info,bList,bData)=>{const definition=toDefinition(info);const infoModification=toModification(info);const baseModification={'alloy.base.modification':infoModification};const modification=bList.length>0?combine$2(bData,baseModification,bList,definition):infoModification;return merge(definition,modification);};const getEvents=(info,bList,bData)=>{const baseEvents={'alloy.base.behaviour':toEvents(info)};return combine$1(bData,info.eventOrder,bList,baseEvents).getOrDie();};const build$2=(spec,obsoleted)=>{const getMe=()=>me;const systemApi=Cell(singleton$1);const info=getOrDie(toInfo(spec));const bBlob=generate$4(spec);const bList=getBehaviours$3(bBlob);const bData=getData$2(bBlob);const modDefinition=getDomDefinition(info,bList,bData);const item=renderToDom(modDefinition,obsoleted);const events=getEvents(info,bList,bData);const subcomponents=Cell(info.components);const connect=newApi=>{systemApi.set(newApi);};const disconnect=()=>{systemApi.set(NoContextApi(getMe));};const syncComponents=()=>{const children$1=children(item);const subs=bind$3(children$1,child=>systemApi.get().getByDom(child).fold(()=>[],pure$2));subcomponents.set(subs);};const config=behaviour=>{const b=bData;const f=isFunction(b[behaviour.name()])?b[behaviour.name()]:()=>{throw new Error('Could not find '+behaviour.name()+' in '+JSON.stringify(spec,null,2));};return f();};const hasConfigured=behaviour=>isFunction(bData[behaviour.name()]);const getApis=()=>info.apis;const readState=behaviourName=>bData[behaviourName]().map(b=>b.state.readState()).getOr('not enabled');const me={uid:spec.uid,getSystem:systemApi.get,config,hasConfigured,spec,readState,getApis,connect,disconnect,element:item,syncComponents,components:subcomponents.get,events};return me;};const buildSubcomponents=(spec,obsoleted)=>{const components=get$g(spec,'components').getOr([]);return obsoleted.fold(()=>map$2(components,build$1),obs=>map$2(components,(c,i)=>{return buildOrPatch(c,child$2(obs,i));}));};const buildFromSpec=(userSpec,obsoleted)=>{const{events:specEvents,...spec}=make$8(userSpec);const components=buildSubcomponents(spec,obsoleted);const completeSpec={...spec,events:{...DefaultEvents,...specEvents},components};return Result.value(build$2(completeSpec,obsoleted));};const text$1=textContent=>{const element=SugarElement.fromText(textContent);return external$1({element});};const external$1=spec=>{const extSpec=asRawOrDie$1('external.component',objOfOnly([required$1('element'),option$3('uid')]),spec);const systemApi=Cell(NoContextApi());const connect=newApi=>{systemApi.set(newApi);};const disconnect=()=>{systemApi.set(NoContextApi(()=>me));};const uid=extSpec.uid.getOrThunk(()=>generate$5('external'));writeOnly(extSpec.element,uid);const me={uid,getSystem:systemApi.get,config:Optional.none,hasConfigured:never,connect,disconnect,getApis:()=>({}),element:extSpec.element,spec,readState:constant$1('No state'),syncComponents:noop,components:constant$1([]),events:{}};return premade$1(me);};const uids=generate$5;const isSketchSpec$1=spec=>has$2(spec,'uid');const buildOrPatch=(spec,obsoleted)=>getPremade(spec).getOrThunk(()=>{const userSpecWithUid=isSketchSpec$1(spec)?spec:{uid:uids(''),...spec};return buildFromSpec(userSpecWithUid,obsoleted).getOrDie();});const build$1=spec=>buildOrPatch(spec,Optional.none());const premade=premade$1;var ClosestOrAncestor=(is,ancestor,scope,a,isRoot)=>{if(is(scope,a)){return Optional.some(scope);}else if(isFunction(isRoot)&&isRoot(scope)){return Optional.none();}else{return ancestor(scope,a,isRoot);}};const ancestor$1=(scope,predicate,isRoot)=>{let element=scope.dom;const stop=isFunction(isRoot)?isRoot:never;while(element.parentNode){element=element.parentNode;const el=SugarElement.fromDom(element);if(predicate(el)){return Optional.some(el);}else if(stop(el)){break;}}return Optional.none();};const closest$3=(scope,predicate,isRoot)=>{const is=(s,test)=>test(s);return ClosestOrAncestor(is,ancestor$1,scope,predicate,isRoot);};const child$1=(scope,predicate)=>{const pred=node=>predicate(SugarElement.fromDom(node));const result=find$5(scope.dom.childNodes,pred);return result.map(SugarElement.fromDom);};const descendant$1=(scope,predicate)=>{const descend=node=>{for(let i=0;i<node.childNodes.length;i++){const child=SugarElement.fromDom(node.childNodes[i]);if(predicate(child)){return Optional.some(child);}const res=descend(node.childNodes[i]);if(res.isSome()){return res;}}return Optional.none();};return descend(scope.dom);};const closest$2=(scope,predicate,isRoot)=>closest$3(scope,predicate,isRoot).isSome();const ancestor=(scope,selector,isRoot)=>ancestor$1(scope,e=>is(e,selector),isRoot);const child=(scope,selector)=>child$1(scope,e=>is(e,selector));const descendant=(scope,selector)=>one(selector,scope);const closest$1=(scope,selector,isRoot)=>{const is$1=(element,selector)=>is(element,selector);return ClosestOrAncestor(is$1,ancestor,scope,selector,isRoot);};const attribute='aria-controls';const find$1=queryElem=>{const dependent=closest$3(queryElem,elem=>{if(!isElement$1(elem)){return false;}const id=get$f(elem,'id');return id!==undefined&&id.indexOf(attribute)>-1;});return dependent.bind(dep=>{const id=get$f(dep,'id');const dos=getRootNode(dep);return descendant(dos,`[${attribute}=\"${id}\"]`);});};const manager=()=>{const ariaId=generate$6(attribute);const link=elem=>{set$9(elem,attribute,ariaId);};const unlink=elem=>{remove$7(elem,attribute);};return{id:ariaId,link,unlink};};const isAriaPartOf=(component,queryElem)=>find$1(queryElem).exists(owner=>isPartOf$1(component,owner));const isPartOf$1=(component,queryElem)=>closest$2(queryElem,el=>eq(el,component.element),never)||isAriaPartOf(component,queryElem);const unknown='unknown';var EventConfiguration;(function(EventConfiguration){EventConfiguration[EventConfiguration['STOP']=0]='STOP';EventConfiguration[EventConfiguration['NORMAL']=1]='NORMAL';EventConfiguration[EventConfiguration['LOGGING']=2]='LOGGING';})(EventConfiguration||(EventConfiguration={}));const eventConfig=Cell({});const makeEventLogger=(eventName,initialTarget)=>{const sequence=[];const startTime=new Date().getTime();return{logEventCut:(_name,target,purpose)=>{sequence.push({outcome:'cut',target,purpose});},logEventStopped:(_name,target,purpose)=>{sequence.push({outcome:'stopped',target,purpose});},logNoParent:(_name,target,purpose)=>{sequence.push({outcome:'no-parent',target,purpose});},logEventNoHandlers:(_name,target)=>{sequence.push({outcome:'no-handlers-left',target});},logEventResponse:(_name,target,purpose)=>{sequence.push({outcome:'response',purpose,target});},write:()=>{const finishTime=new Date().getTime();if(contains$2(['mousemove','mouseover','mouseout',systemInit()],eventName)){return;}console.log(eventName,{event:eventName,time:finishTime-startTime,target:initialTarget.dom,sequence:map$2(sequence,s=>{if(!contains$2(['cut','stopped','response'],s.outcome)){return s.outcome;}else{return'{'+s.purpose+'} '+s.outcome+' at ('+element(s.target)+')';}})});}};};const processEvent=(eventName,initialTarget,f)=>{const status=get$g(eventConfig.get(),eventName).orThunk(()=>{const patterns=keys(eventConfig.get());return findMap(patterns,p=>eventName.indexOf(p)>-1?Optional.some(eventConfig.get()[p]):Optional.none());}).getOr(EventConfiguration.NORMAL);switch(status){case EventConfiguration.NORMAL:return f(noLogger());case EventConfiguration.LOGGING:{const logger=makeEventLogger(eventName,initialTarget);const output=f(logger);logger.write();return output;}case EventConfiguration.STOP:return true;}};const path=['alloy/data/Fields','alloy/debugging/Debugging'];const getTrace=()=>{const err=new Error();if(err.stack!==undefined){const lines=err.stack.split('\\n');return find$5(lines,line=>line.indexOf('alloy')>0&&!exists(path,p=>line.indexOf(p)>-1)).getOr(unknown);}else{return unknown;}};const ignoreEvent={logEventCut:noop,logEventStopped:noop,logNoParent:noop,logEventNoHandlers:noop,logEventResponse:noop,write:noop};const monitorEvent=(eventName,initialTarget,f)=>processEvent(eventName,initialTarget,f);const noLogger=constant$1(ignoreEvent);const menuFields=constant$1([required$1('menu'),required$1('selectedMenu')]);const itemFields=constant$1([required$1('item'),required$1('selectedItem')]);constant$1(objOf(itemFields().concat(menuFields())));const itemSchema$3=constant$1(objOf(itemFields()));const _initSize=requiredObjOf('initSize',[required$1('numColumns'),required$1('numRows')]);const itemMarkers=()=>requiredOf('markers',itemSchema$3());const tieredMenuMarkers=()=>requiredObjOf('markers',[required$1('backgroundMenu')].concat(menuFields()).concat(itemFields()));const markers$1=required=>requiredObjOf('markers',map$2(required,required$1));const onPresenceHandler=(label,fieldName,presence)=>{getTrace();return field$1(fieldName,fieldName,presence,valueOf(f=>Result.value((...args)=>{return f.apply(undefined,args);})));};const onHandler=fieldName=>onPresenceHandler('onHandler',fieldName,defaulted$1(noop));const onKeyboardHandler=fieldName=>onPresenceHandler('onKeyboardHandler',fieldName,defaulted$1(Optional.none));const onStrictHandler=fieldName=>onPresenceHandler('onHandler',fieldName,required$2());const onStrictKeyboardHandler=fieldName=>onPresenceHandler('onKeyboardHandler',fieldName,required$2());const output$1=(name,value)=>customField(name,constant$1(value));const snapshot=name=>customField(name,identity);const initSize=constant$1(_initSize);const nu$6=(x,y,bubble,direction,placement,boundsRestriction,labelPrefix,alwaysFit=false)=>({x,y,bubble,direction,placement,restriction:boundsRestriction,label:`${labelPrefix}-${placement}`,alwaysFit});const adt$a=Adt.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]);const cata$2=(subject,southeast,southwest,northeast,northwest,south,north,east,west)=>subject.fold(southeast,southwest,northeast,northwest,south,north,east,west);const cataVertical=(subject,south,middle,north)=>subject.fold(south,south,north,north,south,north,middle,middle);const cataHorizontal=(subject,east,middle,west)=>subject.fold(east,west,east,west,middle,middle,east,west);const southeast$3=adt$a.southeast;const southwest$3=adt$a.southwest;const northeast$3=adt$a.northeast;const northwest$3=adt$a.northwest;const south$3=adt$a.south;const north$3=adt$a.north;const east$3=adt$a.east;const west$3=adt$a.west;const cycleBy=(value,delta,min,max)=>{const r=value+delta;if(r>max){return min;}else if(r<min){return max;}else{return r;}};const clamp=(value,min,max)=>Math.min(Math.max(value,min),max);const getRestriction=(anchor,restriction)=>{switch(restriction){case 1:return anchor.x;case 0:return anchor.x+anchor.width;case 2:return anchor.y;case 3:return anchor.y+anchor.height;}};const boundsRestriction=(anchor,restrictions)=>mapToObject(['left','right','top','bottom'],dir=>get$g(restrictions,dir).map(restriction=>getRestriction(anchor,restriction)));const adjustBounds=(bounds$1,restriction,bubbleOffset)=>{const applyRestriction=(dir,current)=>restriction[dir].map(pos=>{const isVerticalAxis=dir==='top'||dir==='bottom';const offset=isVerticalAxis?bubbleOffset.top:bubbleOffset.left;const comparator=dir==='left'||dir==='top'?Math.max:Math.min;const newPos=comparator(pos,current)+offset;return isVerticalAxis?clamp(newPos,bounds$1.y,bounds$1.bottom):clamp(newPos,bounds$1.x,bounds$1.right);}).getOr(current);const adjustedLeft=applyRestriction('left',bounds$1.x);const adjustedTop=applyRestriction('top',bounds$1.y);const adjustedRight=applyRestriction('right',bounds$1.right);const adjustedBottom=applyRestriction('bottom',bounds$1.bottom);return bounds(adjustedLeft,adjustedTop,adjustedRight-adjustedLeft,adjustedBottom-adjustedTop);};const labelPrefix$2='layout';const eastX$1=anchor=>anchor.x;const middleX$1=(anchor,element)=>anchor.x+anchor.width/2-element.width/2;const westX$1=(anchor,element)=>anchor.x+anchor.width-element.width;const northY$2=(anchor,element)=>anchor.y-element.height;const southY$2=anchor=>anchor.y+anchor.height;const centreY$1=(anchor,element)=>anchor.y+anchor.height/2-element.height/2;const eastEdgeX$1=anchor=>anchor.x+anchor.width;const westEdgeX$1=(anchor,element)=>anchor.x-element.width;const southeast$2=(anchor,element,bubbles)=>nu$6(eastX$1(anchor),southY$2(anchor),bubbles.southeast(),southeast$3(),'southeast',boundsRestriction(anchor,{left:1,top:3}),labelPrefix$2);const southwest$2=(anchor,element,bubbles)=>nu$6(westX$1(anchor,element),southY$2(anchor),bubbles.southwest(),southwest$3(),'southwest',boundsRestriction(anchor,{right:0,top:3}),labelPrefix$2);const northeast$2=(anchor,element,bubbles)=>nu$6(eastX$1(anchor),northY$2(anchor,element),bubbles.northeast(),northeast$3(),'northeast',boundsRestriction(anchor,{left:1,bottom:2}),labelPrefix$2);const northwest$2=(anchor,element,bubbles)=>nu$6(westX$1(anchor,element),northY$2(anchor,element),bubbles.northwest(),northwest$3(),'northwest',boundsRestriction(anchor,{right:0,bottom:2}),labelPrefix$2);const north$2=(anchor,element,bubbles)=>nu$6(middleX$1(anchor,element),northY$2(anchor,element),bubbles.north(),north$3(),'north',boundsRestriction(anchor,{bottom:2}),labelPrefix$2);const south$2=(anchor,element,bubbles)=>nu$6(middleX$1(anchor,element),southY$2(anchor),bubbles.south(),south$3(),'south',boundsRestriction(anchor,{top:3}),labelPrefix$2);const east$2=(anchor,element,bubbles)=>nu$6(eastEdgeX$1(anchor),centreY$1(anchor,element),bubbles.east(),east$3(),'east',boundsRestriction(anchor,{left:0}),labelPrefix$2);const west$2=(anchor,element,bubbles)=>nu$6(westEdgeX$1(anchor,element),centreY$1(anchor,element),bubbles.west(),west$3(),'west',boundsRestriction(anchor,{right:1}),labelPrefix$2);const all$1=()=>[southeast$2,southwest$2,northeast$2,northwest$2,south$2,north$2,east$2,west$2];const allRtl$1=()=>[southwest$2,southeast$2,northwest$2,northeast$2,south$2,north$2,east$2,west$2];const aboveOrBelow=()=>[northeast$2,northwest$2,southeast$2,southwest$2,north$2,south$2];const aboveOrBelowRtl=()=>[northwest$2,northeast$2,southwest$2,southeast$2,north$2,south$2];const belowOrAbove=()=>[southeast$2,southwest$2,northeast$2,northwest$2,south$2,north$2];const belowOrAboveRtl=()=>[southwest$2,southeast$2,northwest$2,northeast$2,south$2,north$2];const chooseChannels=(channels,message)=>message.universal?channels:filter$2(channels,ch=>contains$2(message.channels,ch));const events$h=receiveConfig=>derive$2([run$1(receive(),(component,message)=>{const channelMap=receiveConfig.channels;const channels=keys(channelMap);const receivingData=message;const targetChannels=chooseChannels(channels,receivingData);each$1(targetChannels,ch=>{const channelInfo=channelMap[ch];const channelSchema=channelInfo.schema;const data=asRawOrDie$1('channel['+ch+'] data\\nReceiver: '+element(component.element),channelSchema,receivingData.data);channelInfo.onReceive(component,data);});})]);var ActiveReceiving=/*#__PURE__*/Object.freeze({__proto__:null,events:events$h});var ReceivingSchema=[requiredOf('channels',setOf(Result.value,objOfOnly([onStrictHandler('onReceive'),defaulted('schema',anyValue())])))];const executeEvent=(bConfig,bState,executor)=>runOnExecute$1(component=>{executor(component,bConfig,bState);});const loadEvent=(bConfig,bState,f)=>runOnInit((component,_simulatedEvent)=>{f(component,bConfig,bState);});const create$4=(schema,name,active,apis,extra,state)=>{const configSchema=objOfOnly(schema);const schemaSchema=optionObjOf(name,[optionObjOfOnly('config',schema)]);return doCreate(configSchema,schemaSchema,name,active,apis,extra,state);};const createModes$1=(modes,name,active,apis,extra,state)=>{const configSchema=modes;const schemaSchema=optionObjOf(name,[optionOf('config',modes)]);return doCreate(configSchema,schemaSchema,name,active,apis,extra,state);};const wrapApi=(bName,apiFunction,apiName)=>{const f=(component,...rest)=>{const args=[component].concat(rest);return component.config({name:constant$1(bName)}).fold(()=>{throw new Error('We could not find any behaviour configuration for: '+bName+'. Using API: '+apiName);},info=>{const rest=Array.prototype.slice.call(args,1);return apiFunction.apply(undefined,[component,info.config,info.state].concat(rest));});};return markAsBehaviourApi(f,apiName,apiFunction);};const revokeBehaviour=name=>({key:name,value:undefined});const doCreate=(configSchema,schemaSchema,name,active,apis,extra,state)=>{const getConfig=info=>hasNonNullableKey(info,name)?info[name]():Optional.none();const wrappedApis=map$1(apis,(apiF,apiName)=>wrapApi(name,apiF,apiName));const wrappedExtra=map$1(extra,(extraF,extraName)=>markAsExtraApi(extraF,extraName));const me={...wrappedExtra,...wrappedApis,revoke:curry(revokeBehaviour,name),config:spec=>{const prepared=asRawOrDie$1(name+'-config',configSchema,spec);return{key:name,value:{config:prepared,me,configAsRaw:cached(()=>asRawOrDie$1(name+'-config',configSchema,spec)),initialConfig:spec,state}};},schema:constant$1(schemaSchema),exhibit:(info,base)=>{return lift2(getConfig(info),get$g(active,'exhibit'),(behaviourInfo,exhibitor)=>{return exhibitor(base,behaviourInfo.config,behaviourInfo.state);}).getOrThunk(()=>nu$7({}));},name:constant$1(name),handlers:info=>{return getConfig(info).map(behaviourInfo=>{const getEvents=get$g(active,'events').getOr(()=>({}));return getEvents(behaviourInfo.config,behaviourInfo.state);}).getOr({});}};return me;};const derive$1=capabilities=>wrapAll(capabilities);const simpleSchema=objOfOnly([required$1('fields'),required$1('name'),defaulted('active',{}),defaulted('apis',{}),defaulted('state',NoState),defaulted('extra',{})]);const create$3=data=>{const value=asRawOrDie$1('Creating behaviour: '+data.name,simpleSchema,data);return create$4(value.fields,value.name,value.active,value.apis,value.extra,value.state);};const modeSchema=objOfOnly([required$1('branchKey'),required$1('branches'),required$1('name'),defaulted('active',{}),defaulted('apis',{}),defaulted('state',NoState),defaulted('extra',{})]);const createModes=data=>{const value=asRawOrDie$1('Creating behaviour: '+data.name,modeSchema,data);return createModes$1(choose$1(value.branchKey,value.branches),value.name,value.active,value.apis,value.extra,value.state);};const revoke=constant$1(undefined);const Receiving=create$3({fields:ReceivingSchema,name:'receiving',active:ActiveReceiving});const exhibit$6=(base,posConfig)=>nu$7({classes:[],styles:posConfig.useFixed()?{}:{position:'relative'}});var ActivePosition=/*#__PURE__*/Object.freeze({__proto__:null,exhibit:exhibit$6});const focus$3=element=>element.dom.focus();const blur$1=element=>element.dom.blur();const hasFocus=element=>{const root=getRootNode(element).dom;return element.dom===root.activeElement;};const active$1=(root=getDocument())=>Optional.from(root.dom.activeElement).map(SugarElement.fromDom);const search=element=>active$1(getRootNode(element)).filter(e=>element.dom.contains(e.dom));const preserve$1=(f,container)=>{const dos=getRootNode(container);const refocus=active$1(dos).bind(focused=>{const hasFocus=elem=>eq(focused,elem);return hasFocus(container)?Optional.some(container):descendant$1(container,hasFocus);});const result=f(container);refocus.each(oldFocus=>{active$1(dos).filter(newFocus=>eq(newFocus,oldFocus)).fold(()=>{focus$3(oldFocus);},noop);});return result;};const NuPositionCss=(position,left,top,right,bottom)=>{const toPx=num=>num+'px';return{position,left:left.map(toPx),top:top.map(toPx),right:right.map(toPx),bottom:bottom.map(toPx)};};const toOptions=position=>({...position,position:Optional.some(position.position)});const applyPositionCss=(element,position)=>{setOptions(element,toOptions(position));};const adt$9=Adt.generate([{none:[]},{relative:['x','y','width','height']},{fixed:['x','y','width','height']}]);const positionWithDirection=(posName,decision,x,y,width,height)=>{const decisionRect=decision.rect;const decisionX=decisionRect.x-x;const decisionY=decisionRect.y-y;const decisionWidth=decisionRect.width;const decisionHeight=decisionRect.height;const decisionRight=width-(decisionX+decisionWidth);const decisionBottom=height-(decisionY+decisionHeight);const left=Optional.some(decisionX);const top=Optional.some(decisionY);const right=Optional.some(decisionRight);const bottom=Optional.some(decisionBottom);const none=Optional.none();return cata$2(decision.direction,()=>NuPositionCss(posName,left,top,none,none),()=>NuPositionCss(posName,none,top,right,none),()=>NuPositionCss(posName,left,none,none,bottom),()=>NuPositionCss(posName,none,none,right,bottom),()=>NuPositionCss(posName,left,top,none,none),()=>NuPositionCss(posName,left,none,none,bottom),()=>NuPositionCss(posName,left,top,none,none),()=>NuPositionCss(posName,none,top,right,none));};const reposition=(origin,decision)=>origin.fold(()=>{const decisionRect=decision.rect;return NuPositionCss('absolute',Optional.some(decisionRect.x),Optional.some(decisionRect.y),Optional.none(),Optional.none());},(x,y,width,height)=>{return positionWithDirection('absolute',decision,x,y,width,height);},(x,y,width,height)=>{return positionWithDirection('fixed',decision,x,y,width,height);});const toBox=(origin,element)=>{const rel=curry(find$2,element);const position=origin.fold(rel,rel,()=>{const scroll=get$b();return find$2(element).translate(-scroll.left,-scroll.top);});const width=getOuter$1(element);const height=getOuter$2(element);return bounds(position.left,position.top,width,height);};const viewport=(origin,getBounds)=>getBounds.fold(()=>origin.fold(win,win,bounds),b=>origin.fold(b,b,()=>{const bounds$1=b();const pos=translate$2(origin,bounds$1.x,bounds$1.y);return bounds(pos.left,pos.top,bounds$1.width,bounds$1.height);}));const translate$2=(origin,x,y)=>{const pos=SugarPosition(x,y);const removeScroll=()=>{const outerScroll=get$b();return pos.translate(-outerScroll.left,-outerScroll.top);};return origin.fold(constant$1(pos),constant$1(pos),removeScroll);};const cata$1=(subject,onNone,onRelative,onFixed)=>subject.fold(onNone,onRelative,onFixed);adt$9.none;const relative$1=adt$9.relative;const fixed$1=adt$9.fixed;const anchor=(anchorBox,origin)=>({anchorBox,origin});const box=(anchorBox,origin)=>anchor(anchorBox,origin);const placementAttribute='data-alloy-placement';const setPlacement$1=(element,placement)=>{set$9(element,placementAttribute,placement);};const getPlacement=element=>getOpt(element,placementAttribute);const reset$2=element=>remove$7(element,placementAttribute);const adt$8=Adt.generate([{fit:['reposition']},{nofit:['reposition','visibleW','visibleH','isVisible']}]);const determinePosition=(box,bounds)=>{const{x:boundsX,y:boundsY,right:boundsRight,bottom:boundsBottom}=bounds;const{x,y,right,bottom,width,height}=box;const xInBounds=x>=boundsX&&x<=boundsRight;const yInBounds=y>=boundsY&&y<=boundsBottom;const originInBounds=xInBounds&&yInBounds;const rightInBounds=right<=boundsRight&&right>=boundsX;const bottomInBounds=bottom<=boundsBottom&&bottom>=boundsY;const sizeInBounds=rightInBounds&&bottomInBounds;const visibleW=Math.min(width,x>=boundsX?boundsRight-x:right-boundsX);const visibleH=Math.min(height,y>=boundsY?boundsBottom-y:bottom-boundsY);return{originInBounds,sizeInBounds,visibleW,visibleH};};const calcReposition=(box,bounds$1)=>{const{x:boundsX,y:boundsY,right:boundsRight,bottom:boundsBottom}=bounds$1;const{x,y,width,height}=box;const maxX=Math.max(boundsX,boundsRight-width);const maxY=Math.max(boundsY,boundsBottom-height);const restrictedX=clamp(x,boundsX,maxX);const restrictedY=clamp(y,boundsY,maxY);const restrictedWidth=Math.min(restrictedX+width,boundsRight)-restrictedX;const restrictedHeight=Math.min(restrictedY+height,boundsBottom)-restrictedY;return bounds(restrictedX,restrictedY,restrictedWidth,restrictedHeight);};const calcMaxSizes=(direction,box,bounds)=>{const upAvailable=constant$1(box.bottom-bounds.y);const downAvailable=constant$1(bounds.bottom-box.y);const maxHeight=cataVertical(direction,downAvailable,downAvailable,upAvailable);const westAvailable=constant$1(box.right-bounds.x);const eastAvailable=constant$1(bounds.right-box.x);const maxWidth=cataHorizontal(direction,eastAvailable,eastAvailable,westAvailable);return{maxWidth,maxHeight};};const attempt=(candidate,width,height,bounds$1)=>{const bubble=candidate.bubble;const bubbleOffset=bubble.offset;const adjustedBounds=adjustBounds(bounds$1,candidate.restriction,bubbleOffset);const newX=candidate.x+bubbleOffset.left;const newY=candidate.y+bubbleOffset.top;const box=bounds(newX,newY,width,height);const{originInBounds,sizeInBounds,visibleW,visibleH}=determinePosition(box,adjustedBounds);const fits=originInBounds&&sizeInBounds;const fittedBox=fits?box:calcReposition(box,adjustedBounds);const isPartlyVisible=fittedBox.width>0&&fittedBox.height>0;const{maxWidth,maxHeight}=calcMaxSizes(candidate.direction,fittedBox,bounds$1);const reposition={rect:fittedBox,maxHeight,maxWidth,direction:candidate.direction,placement:candidate.placement,classes:{on:bubble.classesOn,off:bubble.classesOff},layout:candidate.label,testY:newY};return fits||candidate.alwaysFit?adt$8.fit(reposition):adt$8.nofit(reposition,visibleW,visibleH,isPartlyVisible);};const attempts=(element,candidates,anchorBox,elementBox,bubbles,bounds)=>{const panelWidth=elementBox.width;const panelHeight=elementBox.height;const attemptBestFit=(layout,reposition,visibleW,visibleH,isVisible)=>{const next=layout(anchorBox,elementBox,bubbles,element,bounds);const attemptLayout=attempt(next,panelWidth,panelHeight,bounds);return attemptLayout.fold(constant$1(attemptLayout),(newReposition,newVisibleW,newVisibleH,newIsVisible)=>{const improved=isVisible===newIsVisible?newVisibleH>visibleH||newVisibleW>visibleW:!isVisible&&newIsVisible;return improved?attemptLayout:adt$8.nofit(reposition,visibleW,visibleH,isVisible);});};const abc=foldl(candidates,(b,a)=>{const bestNext=curry(attemptBestFit,a);return b.fold(constant$1(b),bestNext);},adt$8.nofit({rect:anchorBox,maxHeight:elementBox.height,maxWidth:elementBox.width,direction:southeast$3(),placement:'southeast',classes:{on:[],off:[]},layout:'none',testY:anchorBox.y},-1,-1,false));return abc.fold(identity,identity);};const singleton=doRevoke=>{const subject=Cell(Optional.none());const revoke=()=>subject.get().each(doRevoke);const clear=()=>{revoke();subject.set(Optional.none());};const isSet=()=>subject.get().isSome();const get=()=>subject.get();const set=s=>{revoke();subject.set(Optional.some(s));};return{clear,isSet,get,set};};const destroyable=()=>singleton(s=>s.destroy());const unbindable=()=>singleton(s=>s.unbind());const value$2=()=>{const subject=singleton(noop);const on=f=>subject.get().each(f);return{...subject,on};};const filter=always;const bind=(element,event,handler)=>bind$2(element,event,filter,handler);const capture=(element,event,handler)=>capture$1(element,event,filter,handler);const fromRawEvent=fromRawEvent$1;const properties=['top','bottom','right','left'];const timerAttr='data-alloy-transition-timer';const isTransitioning$1=(element,transition)=>hasAll(element,transition.classes);const shouldApplyTransitionCss=(transition,decision,lastPlacement)=>{return lastPlacement.exists(placer=>{const mode=transition.mode;return mode==='all'?true:placer[mode]!==decision[mode];});};const hasChanges=(position,intermediate)=>{const round=value=>parseFloat(value).toFixed(3);return find$4(intermediate,(value,key)=>{const newValue=position[key].map(round);const val=value.map(round);return!equals(newValue,val);}).isSome();};const getTransitionDuration=element=>{const get=name=>{const style=get$e(element,name);const times=style.split(/\\s*,\\s*/);return filter$2(times,isNotEmpty);};const parse=value=>{if(isString(value)&&/^[\\d.]+/.test(value)){const num=parseFloat(value);return endsWith(value,'ms')?num:num*1000;}else{return 0;}};const delay=get('transition-delay');const duration=get('transition-duration');return foldl(duration,(acc,dur,i)=>{const time=parse(delay[i])+parse(dur);return Math.max(acc,time);},0);};const setupTransitionListeners=(element,transition)=>{const transitionEnd=unbindable();const transitionCancel=unbindable();let timer;const isSourceTransition=e=>{var _a;const pseudoElement=(_a=e.raw.pseudoElement)!==null&&_a!==void 0?_a:'';return eq(e.target,element)&&isEmpty(pseudoElement)&&contains$2(properties,e.raw.propertyName);};const transitionDone=e=>{if(isNullable(e)||isSourceTransition(e)){transitionEnd.clear();transitionCancel.clear();const type=e===null||e===void 0?void 0:e.raw.type;if(isNullable(type)||type===transitionend()){clearTimeout(timer);remove$7(element,timerAttr);remove$1(element,transition.classes);}}};const transitionStart=bind(element,transitionstart(),e=>{if(isSourceTransition(e)){transitionStart.unbind();transitionEnd.set(bind(element,transitionend(),transitionDone));transitionCancel.set(bind(element,transitioncancel(),transitionDone));}});const duration=getTransitionDuration(element);requestAnimationFrame(()=>{timer=setTimeout(transitionDone,duration+17);set$9(element,timerAttr,timer);});};const startTransitioning=(element,transition)=>{add$1(element,transition.classes);getOpt(element,timerAttr).each(timerId=>{clearTimeout(parseInt(timerId,10));remove$7(element,timerAttr);});setupTransitionListeners(element,transition);};const applyTransitionCss=(element,origin,position,transition,decision,lastPlacement)=>{const shouldTransition=shouldApplyTransitionCss(transition,decision,lastPlacement);if(shouldTransition||isTransitioning$1(element,transition)){set$8(element,'position',position.position);const rect=toBox(origin,element);const intermediatePosition=reposition(origin,{...decision,rect});const intermediateCssOptions=mapToObject(properties,prop=>intermediatePosition[prop]);if(hasChanges(position,intermediateCssOptions)){setOptions(element,intermediateCssOptions);if(shouldTransition){startTransitioning(element,transition);}reflow(element);}}else{remove$1(element,transition.classes);}};const elementSize=p=>({width:getOuter$1(p),height:getOuter$2(p)});const layout=(anchorBox,element,bubbles,options)=>{remove$6(element,'max-height');remove$6(element,'max-width');const elementBox=elementSize(element);return attempts(element,options.preference,anchorBox,elementBox,bubbles,options.bounds);};const setClasses=(element,decision)=>{const classInfo=decision.classes;remove$1(element,classInfo.off);add$1(element,classInfo.on);};const setHeight=(element,decision,options)=>{const maxHeightFunction=options.maxHeightFunction;maxHeightFunction(element,decision.maxHeight);};const setWidth=(element,decision,options)=>{const maxWidthFunction=options.maxWidthFunction;maxWidthFunction(element,decision.maxWidth);};const position$2=(element,decision,options)=>{const positionCss=reposition(options.origin,decision);options.transition.each(transition=>{applyTransitionCss(element,options.origin,positionCss,transition,decision,options.lastPlacement);});applyPositionCss(element,positionCss);};const setPlacement=(element,decision)=>{setPlacement$1(element,decision.placement);};const setMaxHeight=(element,maxHeight)=>{setMax$1(element,Math.floor(maxHeight));};const anchored=constant$1((element,available)=>{setMaxHeight(element,available);setAll(element,{'overflow-x':'hidden','overflow-y':'auto'});});const expandable$1=constant$1((element,available)=>{setMaxHeight(element,available);});const defaultOr=(options,key,dephault)=>options[key]===undefined?dephault:options[key];const simple=(anchor,element,bubble,layouts,lastPlacement,getBounds,overrideOptions,transition)=>{const maxHeightFunction=defaultOr(overrideOptions,'maxHeightFunction',anchored());const maxWidthFunction=defaultOr(overrideOptions,'maxWidthFunction',noop);const anchorBox=anchor.anchorBox;const origin=anchor.origin;const options={bounds:viewport(origin,getBounds),origin,preference:layouts,maxHeightFunction,maxWidthFunction,lastPlacement,transition};return go(anchorBox,element,bubble,options);};const go=(anchorBox,element,bubble,options)=>{const decision=layout(anchorBox,element,bubble,options);position$2(element,decision,options);setPlacement(element,decision);setClasses(element,decision);setHeight(element,decision,options);setWidth(element,decision,options);return{layout:decision.layout,placement:decision.placement};};const allAlignments=['valignCentre','alignLeft','alignRight','alignCentre','top','bottom','left','right','inset'];const nu$5=(xOffset,yOffset,classes,insetModifier=1)=>{const insetXOffset=xOffset*insetModifier;const insetYOffset=yOffset*insetModifier;const getClasses=prop=>get$g(classes,prop).getOr([]);const make=(xDelta,yDelta,alignmentsOn)=>{const alignmentsOff=difference(allAlignments,alignmentsOn);return{offset:SugarPosition(xDelta,yDelta),classesOn:bind$3(alignmentsOn,getClasses),classesOff:bind$3(alignmentsOff,getClasses)};};return{southeast:()=>make(-xOffset,yOffset,['top','alignLeft']),southwest:()=>make(xOffset,yOffset,['top','alignRight']),south:()=>make(-xOffset/2,yOffset,['top','alignCentre']),northeast:()=>make(-xOffset,-yOffset,['bottom','alignLeft']),northwest:()=>make(xOffset,-yOffset,['bottom','alignRight']),north:()=>make(-xOffset/2,-yOffset,['bottom','alignCentre']),east:()=>make(xOffset,-yOffset/2,['valignCentre','left']),west:()=>make(-xOffset,-yOffset/2,['valignCentre','right']),insetNortheast:()=>make(insetXOffset,insetYOffset,['top','alignLeft','inset']),insetNorthwest:()=>make(-insetXOffset,insetYOffset,['top','alignRight','inset']),insetNorth:()=>make(-insetXOffset/2,insetYOffset,['top','alignCentre','inset']),insetSoutheast:()=>make(insetXOffset,-insetYOffset,['bottom','alignLeft','inset']),insetSouthwest:()=>make(-insetXOffset,-insetYOffset,['bottom','alignRight','inset']),insetSouth:()=>make(-insetXOffset/2,-insetYOffset,['bottom','alignCentre','inset']),insetEast:()=>make(-insetXOffset,-insetYOffset/2,['valignCentre','right','inset']),insetWest:()=>make(insetXOffset,-insetYOffset/2,['valignCentre','left','inset'])};};const fallback=()=>nu$5(0,0,{});const nu$4=identity;const onDirection=(isLtr,isRtl)=>element=>getDirection(element)==='rtl'?isRtl:isLtr;const getDirection=element=>get$e(element,'direction')==='rtl'?'rtl':'ltr';var AttributeValue;(function(AttributeValue){AttributeValue['TopToBottom']='toptobottom';AttributeValue['BottomToTop']='bottomtotop';})(AttributeValue||(AttributeValue={}));const Attribute='data-alloy-vertical-dir';const isBottomToTopDir=el=>closest$2(el,current=>isElement$1(current)&&get$f(current,'data-alloy-vertical-dir')===AttributeValue.BottomToTop);const schema$y=()=>optionObjOf('layouts',[required$1('onLtr'),required$1('onRtl'),option$3('onBottomLtr'),option$3('onBottomRtl')]);const get$5=(elem,info,defaultLtr,defaultRtl,defaultBottomLtr,defaultBottomRtl,dirElement)=>{const isBottomToTop=dirElement.map(isBottomToTopDir).getOr(false);const customLtr=info.layouts.map(ls=>ls.onLtr(elem));const customRtl=info.layouts.map(ls=>ls.onRtl(elem));const ltr=isBottomToTop?info.layouts.bind(ls=>ls.onBottomLtr.map(f=>f(elem))).or(customLtr).getOr(defaultBottomLtr):customLtr.getOr(defaultLtr);const rtl=isBottomToTop?info.layouts.bind(ls=>ls.onBottomRtl.map(f=>f(elem))).or(customRtl).getOr(defaultBottomRtl):customRtl.getOr(defaultRtl);const f=onDirection(ltr,rtl);return f(elem);};const placement$4=(component,anchorInfo,origin)=>{const hotspot=anchorInfo.hotspot;const anchorBox=toBox(origin,hotspot.element);const layouts=get$5(component.element,anchorInfo,belowOrAbove(),belowOrAboveRtl(),aboveOrBelow(),aboveOrBelowRtl(),Optional.some(anchorInfo.hotspot.element));return Optional.some(nu$4({anchorBox,bubble:anchorInfo.bubble.getOr(fallback()),overrides:anchorInfo.overrides,layouts,placer:Optional.none()}));};var HotspotAnchor=[required$1('hotspot'),option$3('bubble'),defaulted('overrides',{}),schema$y(),output$1('placement',placement$4)];const placement$3=(component,anchorInfo,origin)=>{const pos=translate$2(origin,anchorInfo.x,anchorInfo.y);const anchorBox=bounds(pos.left,pos.top,anchorInfo.width,anchorInfo.height);const layouts=get$5(component.element,anchorInfo,all$1(),allRtl$1(),all$1(),allRtl$1(),Optional.none());return Optional.some(nu$4({anchorBox,bubble:anchorInfo.bubble,overrides:anchorInfo.overrides,layouts,placer:Optional.none()}));};var MakeshiftAnchor=[required$1('x'),required$1('y'),defaulted('height',0),defaulted('width',0),defaulted('bubble',fallback()),defaulted('overrides',{}),schema$y(),output$1('placement',placement$3)];const adt$7=Adt.generate([{screen:['point']},{absolute:['point','scrollLeft','scrollTop']}]);const toFixed=pos=>pos.fold(identity,(point,scrollLeft,scrollTop)=>point.translate(-scrollLeft,-scrollTop));const toAbsolute=pos=>pos.fold(identity,identity);const sum=points=>foldl(points,(b,a)=>b.translate(a.left,a.top),SugarPosition(0,0));const sumAsFixed=positions=>{const points=map$2(positions,toFixed);return sum(points);};const sumAsAbsolute=positions=>{const points=map$2(positions,toAbsolute);return sum(points);};const screen=adt$7.screen;const absolute$1=adt$7.absolute;const getOffset=(component,origin,anchorInfo)=>{const win=defaultView(anchorInfo.root).dom;const hasSameOwner=frame=>{const frameOwner=owner$4(frame);const compOwner=owner$4(component.element);return eq(frameOwner,compOwner);};return Optional.from(win.frameElement).map(SugarElement.fromDom).filter(hasSameOwner).map(absolute$3);};const getRootPoint=(component,origin,anchorInfo)=>{const doc=owner$4(component.element);const outerScroll=get$b(doc);const offset=getOffset(component,origin,anchorInfo).getOr(outerScroll);return absolute$1(offset,outerScroll.left,outerScroll.top);};const getBox=(left,top,width,height)=>{const point=screen(SugarPosition(left,top));return Optional.some(pointed(point,width,height));};const calcNewAnchor=(optBox,rootPoint,anchorInfo,origin,elem)=>optBox.map(box=>{const points=[rootPoint,box.point];const topLeft=cata$1(origin,()=>sumAsAbsolute(points),()=>sumAsAbsolute(points),()=>sumAsFixed(points));const anchorBox=rect(topLeft.left,topLeft.top,box.width,box.height);const layoutsLtr=anchorInfo.showAbove?aboveOrBelow():belowOrAbove();const layoutsRtl=anchorInfo.showAbove?aboveOrBelowRtl():belowOrAboveRtl();const layouts=get$5(elem,anchorInfo,layoutsLtr,layoutsRtl,layoutsLtr,layoutsRtl,Optional.none());return nu$4({anchorBox,bubble:anchorInfo.bubble.getOr(fallback()),overrides:anchorInfo.overrides,layouts,placer:Optional.none()});});const placement$2=(component,anchorInfo,origin)=>{const rootPoint=getRootPoint(component,origin,anchorInfo);return anchorInfo.node.filter(inBody).bind(target=>{const rect=target.dom.getBoundingClientRect();const nodeBox=getBox(rect.left,rect.top,rect.width,rect.height);const elem=anchorInfo.node.getOr(component.element);return calcNewAnchor(nodeBox,rootPoint,anchorInfo,origin,elem);});};var NodeAnchor=[required$1('node'),required$1('root'),option$3('bubble'),schema$y(),defaulted('overrides',{}),defaulted('showAbove',false),output$1('placement',placement$2)];const zeroWidth='\\uFEFF';const nbsp='\\xA0';const create$2=(start,soffset,finish,foffset)=>({start,soffset,finish,foffset});const SimRange={create:create$2};const adt$6=Adt.generate([{before:['element']},{on:['element','offset']},{after:['element']}]);const cata=(subject,onBefore,onOn,onAfter)=>subject.fold(onBefore,onOn,onAfter);const getStart$1=situ=>situ.fold(identity,identity,identity);const before=adt$6.before;const on$1=adt$6.on;const after$1=adt$6.after;const Situ={before,on:on$1,after:after$1,cata,getStart:getStart$1};const adt$5=Adt.generate([{domRange:['rng']},{relative:['startSitu','finishSitu']},{exact:['start','soffset','finish','foffset']}]);const exactFromRange=simRange=>adt$5.exact(simRange.start,simRange.soffset,simRange.finish,simRange.foffset);const getStart=selection=>selection.match({domRange:rng=>SugarElement.fromDom(rng.startContainer),relative:(startSitu,_finishSitu)=>Situ.getStart(startSitu),exact:(start,_soffset,_finish,_foffset)=>start});const domRange=adt$5.domRange;const relative=adt$5.relative;const exact=adt$5.exact;const getWin=selection=>{const start=getStart(selection);return defaultView(start);};const range$1=SimRange.create;const SimSelection={domRange,relative,exact,exactFromRange,getWin,range:range$1};const setStart=(rng,situ)=>{situ.fold(e=>{rng.setStartBefore(e.dom);},(e,o)=>{rng.setStart(e.dom,o);},e=>{rng.setStartAfter(e.dom);});};const setFinish=(rng,situ)=>{situ.fold(e=>{rng.setEndBefore(e.dom);},(e,o)=>{rng.setEnd(e.dom,o);},e=>{rng.setEndAfter(e.dom);});};const relativeToNative=(win,startSitu,finishSitu)=>{const range=win.document.createRange();setStart(range,startSitu);setFinish(range,finishSitu);return range;};const exactToNative=(win,start,soffset,finish,foffset)=>{const rng=win.document.createRange();rng.setStart(start.dom,soffset);rng.setEnd(finish.dom,foffset);return rng;};const toRect=rect=>({left:rect.left,top:rect.top,right:rect.right,bottom:rect.bottom,width:rect.width,height:rect.height});const getFirstRect$1=rng=>{const rects=rng.getClientRects();const rect=rects.length>0?rects[0]:rng.getBoundingClientRect();return rect.width>0||rect.height>0?Optional.some(rect).map(toRect):Optional.none();};const getBounds$2=rng=>{const rect=rng.getBoundingClientRect();return rect.width>0||rect.height>0?Optional.some(rect).map(toRect):Optional.none();};const adt$4=Adt.generate([{ltr:['start','soffset','finish','foffset']},{rtl:['start','soffset','finish','foffset']}]);const fromRange=(win,type,range)=>type(SugarElement.fromDom(range.startContainer),range.startOffset,SugarElement.fromDom(range.endContainer),range.endOffset);const getRanges=(win,selection)=>selection.match({domRange:rng=>{return{ltr:constant$1(rng),rtl:Optional.none};},relative:(startSitu,finishSitu)=>{return{ltr:cached(()=>relativeToNative(win,startSitu,finishSitu)),rtl:cached(()=>Optional.some(relativeToNative(win,finishSitu,startSitu)))};},exact:(start,soffset,finish,foffset)=>{return{ltr:cached(()=>exactToNative(win,start,soffset,finish,foffset)),rtl:cached(()=>Optional.some(exactToNative(win,finish,foffset,start,soffset)))};}});const doDiagnose=(win,ranges)=>{const rng=ranges.ltr();if(rng.collapsed){const reversed=ranges.rtl().filter(rev=>rev.collapsed===false);return reversed.map(rev=>adt$4.rtl(SugarElement.fromDom(rev.endContainer),rev.endOffset,SugarElement.fromDom(rev.startContainer),rev.startOffset)).getOrThunk(()=>fromRange(win,adt$4.ltr,rng));}else{return fromRange(win,adt$4.ltr,rng);}};const diagnose=(win,selection)=>{const ranges=getRanges(win,selection);return doDiagnose(win,ranges);};const asLtrRange=(win,selection)=>{const diagnosis=diagnose(win,selection);return diagnosis.match({ltr:(start,soffset,finish,foffset)=>{const rng=win.document.createRange();rng.setStart(start.dom,soffset);rng.setEnd(finish.dom,foffset);return rng;},rtl:(start,soffset,finish,foffset)=>{const rng=win.document.createRange();rng.setStart(finish.dom,foffset);rng.setEnd(start.dom,soffset);return rng;}});};adt$4.ltr;adt$4.rtl;const descendants=(scope,selector)=>all$3(selector,scope);const makeRange=(start,soffset,finish,foffset)=>{const doc=owner$4(start);const rng=doc.dom.createRange();rng.setStart(start.dom,soffset);rng.setEnd(finish.dom,foffset);return rng;};const after=(start,soffset,finish,foffset)=>{const r=makeRange(start,soffset,finish,foffset);const same=eq(start,finish)&&soffset===foffset;return r.collapsed&&!same;};const getNativeSelection=win=>Optional.from(win.getSelection());const readRange=selection=>{if(selection.rangeCount>0){const firstRng=selection.getRangeAt(0);const lastRng=selection.getRangeAt(selection.rangeCount-1);return Optional.some(SimRange.create(SugarElement.fromDom(firstRng.startContainer),firstRng.startOffset,SugarElement.fromDom(lastRng.endContainer),lastRng.endOffset));}else{return Optional.none();}};const doGetExact=selection=>{if(selection.anchorNode===null||selection.focusNode===null){return readRange(selection);}else{const anchor=SugarElement.fromDom(selection.anchorNode);const focus=SugarElement.fromDom(selection.focusNode);return after(anchor,selection.anchorOffset,focus,selection.focusOffset)?Optional.some(SimRange.create(anchor,selection.anchorOffset,focus,selection.focusOffset)):readRange(selection);}};const getExact=win=>getNativeSelection(win).filter(sel=>sel.rangeCount>0).bind(doGetExact);const getFirstRect=(win,selection)=>{const rng=asLtrRange(win,selection);return getFirstRect$1(rng);};const getBounds$1=(win,selection)=>{const rng=asLtrRange(win,selection);return getBounds$2(rng);};const NodeValue=(is,name)=>{const get=element=>{if(!is(element)){throw new Error('Can only get '+name+' value of a '+name+' node');}return getOption(element).getOr('');};const getOption=element=>is(element)?Optional.from(element.dom.nodeValue):Optional.none();const set=(element,value)=>{if(!is(element)){throw new Error('Can only set raw '+name+' value of a '+name+' node');}element.dom.nodeValue=value;};return{get,getOption,set};};const api=NodeValue(isText,'text');const get$4=element=>api.get(element);const point=(element,offset)=>({element,offset});const descendOnce$1=(element,offset)=>{const children$1=children(element);if(children$1.length===0){return point(element,offset);}else if(offset<children$1.length){return point(children$1[offset],0);}else{const last=children$1[children$1.length-1];const len=isText(last)?get$4(last).length:children(last).length;return point(last,len);}};const descendOnce=(element,offset)=>isText(element)?point(element,offset):descendOnce$1(element,offset);const getAnchorSelection=(win,anchorInfo)=>{const getSelection=anchorInfo.getSelection.getOrThunk(()=>()=>getExact(win));return getSelection().map(sel=>{const modStart=descendOnce(sel.start,sel.soffset);const modFinish=descendOnce(sel.finish,sel.foffset);return SimSelection.range(modStart.element,modStart.offset,modFinish.element,modFinish.offset);});};const placement$1=(component,anchorInfo,origin)=>{const win=defaultView(anchorInfo.root).dom;const rootPoint=getRootPoint(component,origin,anchorInfo);const selectionBox=getAnchorSelection(win,anchorInfo).bind(sel=>{const optRect=getBounds$1(win,SimSelection.exactFromRange(sel)).orThunk(()=>{const x=SugarElement.fromText(zeroWidth);before$1(sel.start,x);const rect=getFirstRect(win,SimSelection.exact(x,0,x,1));remove$5(x);return rect;});return optRect.bind(rawRect=>getBox(rawRect.left,rawRect.top,rawRect.width,rawRect.height));});const targetElement=getAnchorSelection(win,anchorInfo).bind(sel=>isElement$1(sel.start)?Optional.some(sel.start):parentElement(sel.start));const elem=targetElement.getOr(component.element);return calcNewAnchor(selectionBox,rootPoint,anchorInfo,origin,elem);};var SelectionAnchor=[option$3('getSelection'),required$1('root'),option$3('bubble'),schema$y(),defaulted('overrides',{}),defaulted('showAbove',false),output$1('placement',placement$1)];const labelPrefix$1='link-layout';const eastX=anchor=>anchor.x+anchor.width;const westX=(anchor,element)=>anchor.x-element.width;const northY$1=(anchor,element)=>anchor.y-element.height+anchor.height;const southY$1=anchor=>anchor.y;const southeast$1=(anchor,element,bubbles)=>nu$6(eastX(anchor),southY$1(anchor),bubbles.southeast(),southeast$3(),'southeast',boundsRestriction(anchor,{left:0,top:2}),labelPrefix$1);const southwest$1=(anchor,element,bubbles)=>nu$6(westX(anchor,element),southY$1(anchor),bubbles.southwest(),southwest$3(),'southwest',boundsRestriction(anchor,{right:1,top:2}),labelPrefix$1);const northeast$1=(anchor,element,bubbles)=>nu$6(eastX(anchor),northY$1(anchor,element),bubbles.northeast(),northeast$3(),'northeast',boundsRestriction(anchor,{left:0,bottom:3}),labelPrefix$1);const northwest$1=(anchor,element,bubbles)=>nu$6(westX(anchor,element),northY$1(anchor,element),bubbles.northwest(),northwest$3(),'northwest',boundsRestriction(anchor,{right:1,bottom:3}),labelPrefix$1);const all=()=>[southeast$1,southwest$1,northeast$1,northwest$1];const allRtl=()=>[southwest$1,southeast$1,northwest$1,northeast$1];const placement=(component,submenuInfo,origin)=>{const anchorBox=toBox(origin,submenuInfo.item.element);const layouts=get$5(component.element,submenuInfo,all(),allRtl(),all(),allRtl(),Optional.none());return Optional.some(nu$4({anchorBox,bubble:fallback(),overrides:submenuInfo.overrides,layouts,placer:Optional.none()}));};var SubmenuAnchor=[required$1('item'),schema$y(),defaulted('overrides',{}),output$1('placement',placement)];var AnchorSchema=choose$1('type',{selection:SelectionAnchor,node:NodeAnchor,hotspot:HotspotAnchor,submenu:SubmenuAnchor,makeshift:MakeshiftAnchor});const TransitionSchema=[requiredArrayOf('classes',string),defaultedStringEnum('mode','all',['all','layout','placement'])];const PositionSchema=[defaulted('useFixed',never),option$3('getBounds')];const PlacementSchema=[requiredOf('anchor',AnchorSchema),optionObjOf('transition',TransitionSchema)];const getFixedOrigin=()=>{const html=document.documentElement;return fixed$1(0,0,html.clientWidth,html.clientHeight);};const getRelativeOrigin=component=>{const position=absolute$3(component.element);const bounds=component.element.dom.getBoundingClientRect();return relative$1(position.left,position.top,bounds.width,bounds.height);};const place=(component,origin,anchoring,getBounds,placee,lastPlace,transition)=>{const anchor=box(anchoring.anchorBox,origin);return simple(anchor,placee.element,anchoring.bubble,anchoring.layouts,lastPlace,getBounds,anchoring.overrides,transition);};const position$1=(component,posConfig,posState,placee,placementSpec)=>{positionWithin(component,posConfig,posState,placee,placementSpec,Optional.none());};const positionWithin=(component,posConfig,posState,placee,placementSpec,boxElement)=>{const boundsBox=boxElement.map(box$1);return positionWithinBounds(component,posConfig,posState,placee,placementSpec,boundsBox);};const positionWithinBounds=(component,posConfig,posState,placee,placementSpec,bounds)=>{const placeeDetail=asRawOrDie$1('placement.info',objOf(PlacementSchema),placementSpec);const anchorage=placeeDetail.anchor;const element=placee.element;const placeeState=posState.get(placee.uid);preserve$1(()=>{set$8(element,'position','fixed');const oldVisibility=getRaw(element,'visibility');set$8(element,'visibility','hidden');const origin=posConfig.useFixed()?getFixedOrigin():getRelativeOrigin(component);const placer=anchorage.placement;const getBounds=bounds.map(constant$1).or(posConfig.getBounds);placer(component,anchorage,origin).each(anchoring=>{const doPlace=anchoring.placer.getOr(place);const newState=doPlace(component,origin,anchoring,getBounds,placee,placeeState,placeeDetail.transition);posState.set(placee.uid,newState);});oldVisibility.fold(()=>{remove$6(element,'visibility');},vis=>{set$8(element,'visibility',vis);});if(getRaw(element,'left').isNone()&&getRaw(element,'top').isNone()&&getRaw(element,'right').isNone()&&getRaw(element,'bottom').isNone()&&is$1(getRaw(element,'position'),'fixed')){remove$6(element,'position');}},element);};const getMode=(component,pConfig,_pState)=>pConfig.useFixed()?'fixed':'absolute';const reset$1=(component,pConfig,posState,placee)=>{const element=placee.element;each$1(['position','left','right','top','bottom'],prop=>remove$6(element,prop));reset$2(element);posState.clear(placee.uid);};var PositionApis=/*#__PURE__*/Object.freeze({__proto__:null,position:position$1,positionWithin:positionWithin,positionWithinBounds:positionWithinBounds,getMode:getMode,reset:reset$1});const init$g=()=>{let state={};const set=(id,data)=>{state[id]=data;};const get=id=>get$g(state,id);const clear=id=>{if(isNonNullable(id)){delete state[id];}else{state={};}};return nu$8({readState:()=>state,clear,set,get});};var PositioningState=/*#__PURE__*/Object.freeze({__proto__:null,init:init$g});const Positioning=create$3({fields:PositionSchema,name:'positioning',active:ActivePosition,apis:PositionApis,state:PositioningState});const isConnected=comp=>comp.getSystem().isConnected();const fireDetaching=component=>{emit(component,detachedFromDom());const children=component.components();each$1(children,fireDetaching);};const fireAttaching=component=>{const children=component.components();each$1(children,fireAttaching);emit(component,attachedToDom());};const virtualAttach=(parent,child)=>{parent.getSystem().addToWorld(child);if(inBody(parent.element)){fireAttaching(child);}};const virtualDetach=comp=>{fireDetaching(comp);comp.getSystem().removeFromWorld(comp);};const attach$1=(parent,child)=>{append$2(parent.element,child.element);};const detachChildren$1=component=>{each$1(component.components(),childComp=>remove$5(childComp.element));empty(component.element);component.syncComponents();};const replaceChildren=(component,newSpecs,buildNewChildren)=>{const subs=component.components();detachChildren$1(component);const newChildren=buildNewChildren(newSpecs);const deleted=difference(subs,newChildren);each$1(deleted,comp=>{fireDetaching(comp);component.getSystem().removeFromWorld(comp);});each$1(newChildren,childComp=>{if(!isConnected(childComp)){component.getSystem().addToWorld(childComp);attach$1(component,childComp);if(inBody(component.element)){fireAttaching(childComp);}}else{attach$1(component,childComp);}});component.syncComponents();};const virtualReplaceChildren=(component,newSpecs,buildNewChildren)=>{const subs=component.components();const existingComps=bind$3(newSpecs,spec=>getPremade(spec).toArray());each$1(subs,childComp=>{if(!contains$2(existingComps,childComp)){virtualDetach(childComp);}});const newChildren=buildNewChildren(newSpecs);const deleted=difference(subs,newChildren);each$1(deleted,deletedComp=>{if(isConnected(deletedComp)){virtualDetach(deletedComp);}});each$1(newChildren,childComp=>{if(!isConnected(childComp)){virtualAttach(component,childComp);}});component.syncComponents();};const attach=(parent,child)=>{attachWith(parent,child,append$2);};const attachWith=(parent,child,insertion)=>{parent.getSystem().addToWorld(child);insertion(parent.element,child.element);if(inBody(parent.element)){fireAttaching(child);}parent.syncComponents();};const doDetach=component=>{fireDetaching(component);remove$5(component.element);component.getSystem().removeFromWorld(component);};const detach=component=>{const parent$1=parent(component.element).bind(p=>component.getSystem().getByDom(p).toOptional());doDetach(component);parent$1.each(p=>{p.syncComponents();});};const detachChildren=component=>{const subs=component.components();each$1(subs,doDetach);empty(component.element);component.syncComponents();};const attachSystem=(element,guiSystem)=>{attachSystemWith(element,guiSystem,append$2);};const attachSystemAfter=(element,guiSystem)=>{attachSystemWith(element,guiSystem,after$2);};const attachSystemWith=(element,guiSystem,inserter)=>{inserter(element,guiSystem.element);const children$1=children(guiSystem.element);each$1(children$1,child=>{guiSystem.getByDom(child).each(fireAttaching);});};const detachSystem=guiSystem=>{const children$1=children(guiSystem.element);each$1(children$1,child=>{guiSystem.getByDom(child).each(fireDetaching);});remove$5(guiSystem.element);};const rebuild=(sandbox,sConfig,sState,data)=>{sState.get().each(_data=>{detachChildren(sandbox);});const point=sConfig.getAttachPoint(sandbox);attach(point,sandbox);const built=sandbox.getSystem().build(data);attach(sandbox,built);sState.set(built);return built;};const open$1=(sandbox,sConfig,sState,data)=>{const newState=rebuild(sandbox,sConfig,sState,data);sConfig.onOpen(sandbox,newState);return newState;};const setContent=(sandbox,sConfig,sState,data)=>sState.get().map(()=>rebuild(sandbox,sConfig,sState,data));const openWhileCloaked=(sandbox,sConfig,sState,data,transaction)=>{cloak(sandbox,sConfig);open$1(sandbox,sConfig,sState,data);transaction();decloak(sandbox,sConfig);};const close$1=(sandbox,sConfig,sState)=>{sState.get().each(data=>{detachChildren(sandbox);detach(sandbox);sConfig.onClose(sandbox,data);sState.clear();});};const isOpen$1=(_sandbox,_sConfig,sState)=>sState.isOpen();const isPartOf=(sandbox,sConfig,sState,queryElem)=>isOpen$1(sandbox,sConfig,sState)&&sState.get().exists(data=>sConfig.isPartOf(sandbox,data,queryElem));const getState$2=(_sandbox,_sConfig,sState)=>sState.get();const store=(sandbox,cssKey,attr,newValue)=>{getRaw(sandbox.element,cssKey).fold(()=>{remove$7(sandbox.element,attr);},v=>{set$9(sandbox.element,attr,v);});set$8(sandbox.element,cssKey,newValue);};const restore=(sandbox,cssKey,attr)=>{getOpt(sandbox.element,attr).fold(()=>remove$6(sandbox.element,cssKey),oldValue=>set$8(sandbox.element,cssKey,oldValue));};const cloak=(sandbox,sConfig,_sState)=>{const sink=sConfig.getAttachPoint(sandbox);set$8(sandbox.element,'position',Positioning.getMode(sink));store(sandbox,'visibility',sConfig.cloakVisibilityAttr,'hidden');};const hasPosition=element=>exists(['top','left','right','bottom'],pos=>getRaw(element,pos).isSome());const decloak=(sandbox,sConfig,_sState)=>{if(!hasPosition(sandbox.element)){remove$6(sandbox.element,'position');}restore(sandbox,'visibility',sConfig.cloakVisibilityAttr);};var SandboxApis=/*#__PURE__*/Object.freeze({__proto__:null,cloak:cloak,decloak:decloak,open:open$1,openWhileCloaked:openWhileCloaked,close:close$1,isOpen:isOpen$1,isPartOf:isPartOf,getState:getState$2,setContent:setContent});const events$g=(sandboxConfig,sandboxState)=>derive$2([run$1(sandboxClose(),(sandbox,_simulatedEvent)=>{close$1(sandbox,sandboxConfig,sandboxState);})]);var ActiveSandbox=/*#__PURE__*/Object.freeze({__proto__:null,events:events$g});var SandboxSchema=[onHandler('onOpen'),onHandler('onClose'),required$1('isPartOf'),required$1('getAttachPoint'),defaulted('cloakVisibilityAttr','data-precloak-visibility')];const init$f=()=>{const contents=value$2();const readState=constant$1('not-implemented');return nu$8({readState,isOpen:contents.isSet,clear:contents.clear,set:contents.set,get:contents.get});};var SandboxState=/*#__PURE__*/Object.freeze({__proto__:null,init:init$f});const Sandboxing=create$3({fields:SandboxSchema,name:'sandboxing',active:ActiveSandbox,apis:SandboxApis,state:SandboxState});const dismissPopups=constant$1('dismiss.popups');const repositionPopups=constant$1('reposition.popups');const mouseReleased=constant$1('mouse.released');const schema$x=objOfOnly([defaulted('isExtraPart',never),optionObjOf('fireEventInstead',[defaulted('event',dismissRequested())])]);const receivingChannel$1=rawSpec=>{const detail=asRawOrDie$1('Dismissal',schema$x,rawSpec);return{[dismissPopups()]:{schema:objOfOnly([required$1('target')]),onReceive:(sandbox,data)=>{if(Sandboxing.isOpen(sandbox)){const isPart=Sandboxing.isPartOf(sandbox,data.target)||detail.isExtraPart(sandbox,data.target);if(!isPart){detail.fireEventInstead.fold(()=>Sandboxing.close(sandbox),fe=>emit(sandbox,fe.event));}}}}};};const schema$w=objOfOnly([optionObjOf('fireEventInstead',[defaulted('event',repositionRequested())]),requiredFunction('doReposition')]);const receivingChannel=rawSpec=>{const detail=asRawOrDie$1('Reposition',schema$w,rawSpec);return{[repositionPopups()]:{onReceive:sandbox=>{if(Sandboxing.isOpen(sandbox)){detail.fireEventInstead.fold(()=>detail.doReposition(sandbox),fe=>emit(sandbox,fe.event));}}}};};const onLoad$5=(component,repConfig,repState)=>{repConfig.store.manager.onLoad(component,repConfig,repState);};const onUnload$2=(component,repConfig,repState)=>{repConfig.store.manager.onUnload(component,repConfig,repState);};const setValue$3=(component,repConfig,repState,data)=>{repConfig.store.manager.setValue(component,repConfig,repState,data);};const getValue$3=(component,repConfig,repState)=>repConfig.store.manager.getValue(component,repConfig,repState);const getState$1=(component,repConfig,repState)=>repState;var RepresentApis=/*#__PURE__*/Object.freeze({__proto__:null,onLoad:onLoad$5,onUnload:onUnload$2,setValue:setValue$3,getValue:getValue$3,getState:getState$1});const events$f=(repConfig,repState)=>{const es=repConfig.resetOnDom?[runOnAttached((comp,_se)=>{onLoad$5(comp,repConfig,repState);}),runOnDetached((comp,_se)=>{onUnload$2(comp,repConfig,repState);})]:[loadEvent(repConfig,repState,onLoad$5)];return derive$2(es);};var ActiveRepresenting=/*#__PURE__*/Object.freeze({__proto__:null,events:events$f});const memory$1=()=>{const data=Cell(null);const readState=()=>({mode:'memory',value:data.get()});const isNotSet=()=>data.get()===null;const clear=()=>{data.set(null);};return nu$8({set:data.set,get:data.get,isNotSet,clear,readState});};const manual=()=>{const readState=noop;return nu$8({readState});};const dataset=()=>{const dataByValue=Cell({});const dataByText=Cell({});const readState=()=>({mode:'dataset',dataByValue:dataByValue.get(),dataByText:dataByText.get()});const clear=()=>{dataByValue.set({});dataByText.set({});};const lookup=itemString=>get$g(dataByValue.get(),itemString).orThunk(()=>get$g(dataByText.get(),itemString));const update=items=>{const currentDataByValue=dataByValue.get();const currentDataByText=dataByText.get();const newDataByValue={};const newDataByText={};each$1(items,item=>{newDataByValue[item.value]=item;get$g(item,'meta').each(meta=>{get$g(meta,'text').each(text=>{newDataByText[text]=item;});});});dataByValue.set({...currentDataByValue,...newDataByValue});dataByText.set({...currentDataByText,...newDataByText});};return nu$8({readState,lookup,update,clear});};const init$e=spec=>spec.store.manager.state(spec);var RepresentState=/*#__PURE__*/Object.freeze({__proto__:null,memory:memory$1,dataset:dataset,manual:manual,init:init$e});const setValue$2=(component,repConfig,repState,data)=>{const store=repConfig.store;repState.update([data]);store.setValue(component,data);repConfig.onSetValue(component,data);};const getValue$2=(component,repConfig,repState)=>{const store=repConfig.store;const key=store.getDataKey(component);return repState.lookup(key).getOrThunk(()=>store.getFallbackEntry(key));};const onLoad$4=(component,repConfig,repState)=>{const store=repConfig.store;store.initialValue.each(data=>{setValue$2(component,repConfig,repState,data);});};const onUnload$1=(component,repConfig,repState)=>{repState.clear();};var DatasetStore=[option$3('initialValue'),required$1('getFallbackEntry'),required$1('getDataKey'),required$1('setValue'),output$1('manager',{setValue:setValue$2,getValue:getValue$2,onLoad:onLoad$4,onUnload:onUnload$1,state:dataset})];const getValue$1=(component,repConfig,_repState)=>repConfig.store.getValue(component);const setValue$1=(component,repConfig,_repState,data)=>{repConfig.store.setValue(component,data);repConfig.onSetValue(component,data);};const onLoad$3=(component,repConfig,_repState)=>{repConfig.store.initialValue.each(data=>{repConfig.store.setValue(component,data);});};var ManualStore=[required$1('getValue'),defaulted('setValue',noop),option$3('initialValue'),output$1('manager',{setValue:setValue$1,getValue:getValue$1,onLoad:onLoad$3,onUnload:noop,state:NoState.init})];const setValue=(component,repConfig,repState,data)=>{repState.set(data);repConfig.onSetValue(component,data);};const getValue=(component,repConfig,repState)=>repState.get();const onLoad$2=(component,repConfig,repState)=>{repConfig.store.initialValue.each(initVal=>{if(repState.isNotSet()){repState.set(initVal);}});};const onUnload=(component,repConfig,repState)=>{repState.clear();};var MemoryStore=[option$3('initialValue'),output$1('manager',{setValue,getValue,onLoad:onLoad$2,onUnload,state:memory$1})];var RepresentSchema=[defaultedOf('store',{mode:'memory'},choose$1('mode',{memory:MemoryStore,manual:ManualStore,dataset:DatasetStore})),onHandler('onSetValue'),defaulted('resetOnDom',false)];const Representing=create$3({fields:RepresentSchema,name:'representing',active:ActiveRepresenting,apis:RepresentApis,extra:{setValueFrom:(component,source)=>{const value=Representing.getValue(source);Representing.setValue(component,value);}},state:RepresentState});const field=(name,forbidden)=>defaultedObjOf(name,{},map$2(forbidden,f=>forbid(f.name(),'Cannot configure '+f.name()+' for '+name)).concat([customField('dump',identity)]));const get$3=data=>data.dump;const augment=(data,original)=>({...derive$1(original),...data.dump});const SketchBehaviours={field,augment,get:get$3};const _placeholder='placeholder';const adt$3=Adt.generate([{single:['required','valueThunk']},{multiple:['required','valueThunks']}]);const isSubstituted=spec=>has$2(spec,'uiType');const subPlaceholder=(owner,detail,compSpec,placeholders)=>{if(owner.exists(o=>o!==compSpec.owner)){return adt$3.single(true,constant$1(compSpec));}return get$g(placeholders,compSpec.name).fold(()=>{throw new Error('Unknown placeholder component: '+compSpec.name+'\\nKnown: ['+keys(placeholders)+']\\nNamespace: '+owner.getOr('none')+'\\nSpec: '+JSON.stringify(compSpec,null,2));},newSpec=>newSpec.replace());};const scan=(owner,detail,compSpec,placeholders)=>{if(isSubstituted(compSpec)&&compSpec.uiType===_placeholder){return subPlaceholder(owner,detail,compSpec,placeholders);}else{return adt$3.single(false,constant$1(compSpec));}};const substitute=(owner,detail,compSpec,placeholders)=>{const base=scan(owner,detail,compSpec,placeholders);return base.fold((req,valueThunk)=>{const value=isSubstituted(compSpec)?valueThunk(detail,compSpec.config,compSpec.validated):valueThunk(detail);const childSpecs=get$g(value,'components').getOr([]);const substituted=bind$3(childSpecs,c=>substitute(owner,detail,c,placeholders));return[{...value,components:substituted}];},(req,valuesThunk)=>{if(isSubstituted(compSpec)){const values=valuesThunk(detail,compSpec.config,compSpec.validated);const preprocessor=compSpec.validated.preprocess.getOr(identity);return preprocessor(values);}else{return valuesThunk(detail);}});};const substituteAll=(owner,detail,components,placeholders)=>bind$3(components,c=>substitute(owner,detail,c,placeholders));const oneReplace=(label,replacements)=>{let called=false;const used=()=>called;const replace=()=>{if(called){throw new Error('Trying to use the same placeholder more than once: '+label);}called=true;return replacements;};const required=()=>replacements.fold((req,_)=>req,(req,_)=>req);return{name:constant$1(label),required,used,replace};};const substitutePlaces=(owner,detail,components,placeholders)=>{const ps=map$1(placeholders,(ph,name)=>oneReplace(name,ph));const outcome=substituteAll(owner,detail,components,ps);each(ps,p=>{if(p.used()===false&&p.required()){throw new Error('Placeholder: '+p.name()+' was not found in components list\\nNamespace: '+owner.getOr('none')+'\\nComponents: '+JSON.stringify(detail.components,null,2));}});return outcome;};const single$2=adt$3.single;const multiple=adt$3.multiple;const placeholder=constant$1(_placeholder);const adt$2=Adt.generate([{required:['data']},{external:['data']},{optional:['data']},{group:['data']}]);const fFactory=defaulted('factory',{sketch:identity});const fSchema=defaulted('schema',[]);const fName=required$1('name');const fPname=field$1('pname','pname',defaultedThunk(typeSpec=>'<alloy.'+generate$6(typeSpec.name)+'>'),anyValue());const fGroupSchema=customField('schema',()=>[option$3('preprocess')]);const fDefaults=defaulted('defaults',constant$1({}));const fOverrides=defaulted('overrides',constant$1({}));const requiredSpec=objOf([fFactory,fSchema,fName,fPname,fDefaults,fOverrides]);const externalSpec=objOf([fFactory,fSchema,fName,fDefaults,fOverrides]);const optionalSpec=objOf([fFactory,fSchema,fName,fPname,fDefaults,fOverrides]);const groupSpec=objOf([fFactory,fGroupSchema,fName,required$1('unit'),fPname,fDefaults,fOverrides]);const asNamedPart=part=>{return part.fold(Optional.some,Optional.none,Optional.some,Optional.some);};const name$2=part=>{const get=data=>data.name;return part.fold(get,get,get,get);};const asCommon=part=>{return part.fold(identity,identity,identity,identity);};const convert=(adtConstructor,partSchema)=>spec=>{const data=asRawOrDie$1('Converting part type',partSchema,spec);return adtConstructor(data);};const required=convert(adt$2.required,requiredSpec);const external=convert(adt$2.external,externalSpec);const optional=convert(adt$2.optional,optionalSpec);const group=convert(adt$2.group,groupSpec);const original=constant$1('entirety');var PartType=/*#__PURE__*/Object.freeze({__proto__:null,required:required,external:external,optional:optional,group:group,asNamedPart:asNamedPart,name:name$2,asCommon:asCommon,original:original});const combine=(detail,data,partSpec,partValidated)=>deepMerge(data.defaults(detail,partSpec,partValidated),partSpec,{uid:detail.partUids[data.name]},data.overrides(detail,partSpec,partValidated));const subs=(owner,detail,parts)=>{const internals={};const externals={};each$1(parts,part=>{part.fold(data=>{internals[data.pname]=single$2(true,(detail,partSpec,partValidated)=>data.factory.sketch(combine(detail,data,partSpec,partValidated)));},data=>{const partSpec=detail.parts[data.name];externals[data.name]=constant$1(data.factory.sketch(combine(detail,data,partSpec[original()]),partSpec));},data=>{internals[data.pname]=single$2(false,(detail,partSpec,partValidated)=>data.factory.sketch(combine(detail,data,partSpec,partValidated)));},data=>{internals[data.pname]=multiple(true,(detail,_partSpec,_partValidated)=>{const units=detail[data.name];return map$2(units,u=>data.factory.sketch(deepMerge(data.defaults(detail,u,_partValidated),u,data.overrides(detail,u))));});});});return{internals:constant$1(internals),externals:constant$1(externals)};};const generate$3=(owner,parts)=>{const r={};each$1(parts,part=>{asNamedPart(part).each(np=>{const g=doGenerateOne(owner,np.pname);r[np.name]=config=>{const validated=asRawOrDie$1('Part: '+np.name+' in '+owner,objOf(np.schema),config);return{...g,config,validated};};});});return r;};const doGenerateOne=(owner,pname)=>({uiType:placeholder(),owner,name:pname});const generateOne$1=(owner,pname,config)=>({uiType:placeholder(),owner,name:pname,config,validated:{}});const schemas=parts=>bind$3(parts,part=>part.fold(Optional.none,Optional.some,Optional.none,Optional.none).map(data=>requiredObjOf(data.name,data.schema.concat([snapshot(original())]))).toArray());const names=parts=>map$2(parts,name$2);const substitutes=(owner,detail,parts)=>subs(owner,detail,parts);const components$1=(owner,detail,internals)=>substitutePlaces(Optional.some(owner),detail,detail.components,internals);const getPart=(component,detail,partKey)=>{const uid=detail.partUids[partKey];return component.getSystem().getByUid(uid).toOptional();};const getPartOrDie=(component,detail,partKey)=>getPart(component,detail,partKey).getOrDie('Could not find part: '+partKey);const getParts=(component,detail,partKeys)=>{const r={};const uids=detail.partUids;const system=component.getSystem();each$1(partKeys,pk=>{r[pk]=constant$1(system.getByUid(uids[pk]));});return r;};const getAllParts=(component,detail)=>{const system=component.getSystem();return map$1(detail.partUids,(pUid,_k)=>constant$1(system.getByUid(pUid)));};const getAllPartNames=detail=>keys(detail.partUids);const getPartsOrDie=(component,detail,partKeys)=>{const r={};const uids=detail.partUids;const system=component.getSystem();each$1(partKeys,pk=>{r[pk]=constant$1(system.getByUid(uids[pk]).getOrDie());});return r;};const defaultUids=(baseUid,partTypes)=>{const partNames=names(partTypes);return wrapAll(map$2(partNames,pn=>({key:pn,value:baseUid+'-'+pn})));};const defaultUidsSchema=partTypes=>field$1('partUids','partUids',mergeWithThunk(spec=>defaultUids(spec.uid,partTypes)),anyValue());var AlloyParts=/*#__PURE__*/Object.freeze({__proto__:null,generate:generate$3,generateOne:generateOne$1,schemas:schemas,names:names,substitutes:substitutes,components:components$1,defaultUids:defaultUids,defaultUidsSchema:defaultUidsSchema,getAllParts:getAllParts,getAllPartNames:getAllPartNames,getPart:getPart,getPartOrDie:getPartOrDie,getParts:getParts,getPartsOrDie:getPartsOrDie});const base=(partSchemas,partUidsSchemas)=>{const ps=partSchemas.length>0?[requiredObjOf('parts',partSchemas)]:[];return ps.concat([required$1('uid'),defaulted('dom',{}),defaulted('components',[]),snapshot('originalSpec'),defaulted('debug.sketcher',{})]).concat(partUidsSchemas);};const asRawOrDie=(label,schema,spec,partSchemas,partUidsSchemas)=>{const baseS=base(partSchemas,partUidsSchemas);return asRawOrDie$1(label+' [SpecSchema]',objOfOnly(baseS.concat(schema)),spec);};const single$1=(owner,schema,factory,spec)=>{const specWithUid=supplyUid(spec);const detail=asRawOrDie(owner,schema,specWithUid,[],[]);return factory(detail,specWithUid);};const composite$1=(owner,schema,partTypes,factory,spec)=>{const specWithUid=supplyUid(spec);const partSchemas=schemas(partTypes);const partUidsSchema=defaultUidsSchema(partTypes);const detail=asRawOrDie(owner,schema,specWithUid,partSchemas,[partUidsSchema]);const subs=substitutes(owner,detail,partTypes);const components=components$1(owner,detail,subs.internals());return factory(detail,components,specWithUid,subs.externals());};const hasUid=spec=>has$2(spec,'uid');const supplyUid=spec=>{return hasUid(spec)?spec:{...spec,uid:generate$5('uid')};};const isSketchSpec=spec=>{return spec.uid!==undefined;};const singleSchema=objOfOnly([required$1('name'),required$1('factory'),required$1('configFields'),defaulted('apis',{}),defaulted('extraApis',{})]);const compositeSchema=objOfOnly([required$1('name'),required$1('factory'),required$1('configFields'),required$1('partFields'),defaulted('apis',{}),defaulted('extraApis',{})]);const single=rawConfig=>{const config=asRawOrDie$1('Sketcher for '+rawConfig.name,singleSchema,rawConfig);const sketch=spec=>single$1(config.name,config.configFields,config.factory,spec);const apis=map$1(config.apis,makeApi);const extraApis=map$1(config.extraApis,(f,k)=>markAsExtraApi(f,k));return{name:config.name,configFields:config.configFields,sketch,...apis,...extraApis};};const composite=rawConfig=>{const config=asRawOrDie$1('Sketcher for '+rawConfig.name,compositeSchema,rawConfig);const sketch=spec=>composite$1(config.name,config.configFields,config.partFields,config.factory,spec);const parts=generate$3(config.name,config.partFields);const apis=map$1(config.apis,makeApi);const extraApis=map$1(config.extraApis,(f,k)=>markAsExtraApi(f,k));return{name:config.name,partFields:config.partFields,configFields:config.configFields,sketch,parts,...apis,...extraApis};};const inside=target=>isTag('input')(target)&&get$f(target,'type')!=='radio'||isTag('textarea')(target);const getCurrent=(component,composeConfig,_composeState)=>composeConfig.find(component);var ComposeApis=/*#__PURE__*/Object.freeze({__proto__:null,getCurrent:getCurrent});const ComposeSchema=[required$1('find')];const Composing=create$3({fields:ComposeSchema,name:'composing',apis:ComposeApis});const nativeDisabled=['input','button','textarea','select'];const onLoad$1=(component,disableConfig,disableState)=>{const f=disableConfig.disabled()?disable:enable;f(component,disableConfig);};const hasNative=(component,config)=>config.useNative===true&&contains$2(nativeDisabled,name$3(component.element));const nativeIsDisabled=component=>has$1(component.element,'disabled');const nativeDisable=component=>{set$9(component.element,'disabled','disabled');};const nativeEnable=component=>{remove$7(component.element,'disabled');};const ariaIsDisabled=component=>get$f(component.element,'aria-disabled')==='true';const ariaDisable=component=>{set$9(component.element,'aria-disabled','true');};const ariaEnable=component=>{set$9(component.element,'aria-disabled','false');};const disable=(component,disableConfig,_disableState)=>{disableConfig.disableClass.each(disableClass=>{add$2(component.element,disableClass);});const f=hasNative(component,disableConfig)?nativeDisable:ariaDisable;f(component);disableConfig.onDisabled(component);};const enable=(component,disableConfig,_disableState)=>{disableConfig.disableClass.each(disableClass=>{remove$2(component.element,disableClass);});const f=hasNative(component,disableConfig)?nativeEnable:ariaEnable;f(component);disableConfig.onEnabled(component);};const isDisabled=(component,disableConfig)=>hasNative(component,disableConfig)?nativeIsDisabled(component):ariaIsDisabled(component);const set$4=(component,disableConfig,disableState,disabled)=>{const f=disabled?disable:enable;f(component,disableConfig);};var DisableApis=/*#__PURE__*/Object.freeze({__proto__:null,enable:enable,disable:disable,isDisabled:isDisabled,onLoad:onLoad$1,set:set$4});const exhibit$5=(base,disableConfig)=>nu$7({classes:disableConfig.disabled()?disableConfig.disableClass.toArray():[]});const events$e=(disableConfig,disableState)=>derive$2([abort(execute$5(),(component,_simulatedEvent)=>isDisabled(component,disableConfig)),loadEvent(disableConfig,disableState,onLoad$1)]);var ActiveDisable=/*#__PURE__*/Object.freeze({__proto__:null,exhibit:exhibit$5,events:events$e});var DisableSchema=[defaultedFunction('disabled',never),defaulted('useNative',true),option$3('disableClass'),onHandler('onDisabled'),onHandler('onEnabled')];const Disabling=create$3({fields:DisableSchema,name:'disabling',active:ActiveDisable,apis:DisableApis});const dehighlightAllExcept=(component,hConfig,hState,skip)=>{const highlighted=descendants(component.element,'.'+hConfig.highlightClass);each$1(highlighted,h=>{const shouldSkip=exists(skip,skipComp=>eq(skipComp.element,h));if(!shouldSkip){remove$2(h,hConfig.highlightClass);component.getSystem().getByDom(h).each(target=>{hConfig.onDehighlight(component,target);emit(target,dehighlight$1());});}});};const dehighlightAll=(component,hConfig,hState)=>dehighlightAllExcept(component,hConfig,hState,[]);const dehighlight=(component,hConfig,hState,target)=>{if(isHighlighted(component,hConfig,hState,target)){remove$2(target.element,hConfig.highlightClass);hConfig.onDehighlight(component,target);emit(target,dehighlight$1());}};const highlight=(component,hConfig,hState,target)=>{dehighlightAllExcept(component,hConfig,hState,[target]);if(!isHighlighted(component,hConfig,hState,target)){add$2(target.element,hConfig.highlightClass);hConfig.onHighlight(component,target);emit(target,highlight$1());}};const highlightFirst=(component,hConfig,hState)=>{getFirst(component,hConfig).each(firstComp=>{highlight(component,hConfig,hState,firstComp);});};const highlightLast=(component,hConfig,hState)=>{getLast(component,hConfig).each(lastComp=>{highlight(component,hConfig,hState,lastComp);});};const highlightAt=(component,hConfig,hState,index)=>{getByIndex(component,hConfig,hState,index).fold(err=>{throw err;},firstComp=>{highlight(component,hConfig,hState,firstComp);});};const highlightBy=(component,hConfig,hState,predicate)=>{const candidates=getCandidates(component,hConfig);const targetComp=find$5(candidates,predicate);targetComp.each(c=>{highlight(component,hConfig,hState,c);});};const isHighlighted=(component,hConfig,hState,queryTarget)=>has(queryTarget.element,hConfig.highlightClass);const getHighlighted=(component,hConfig,_hState)=>descendant(component.element,'.'+hConfig.highlightClass).bind(e=>component.getSystem().getByDom(e).toOptional());const getByIndex=(component,hConfig,hState,index)=>{const items=descendants(component.element,'.'+hConfig.itemClass);return Optional.from(items[index]).fold(()=>Result.error(new Error('No element found with index '+index)),component.getSystem().getByDom);};const getFirst=(component,hConfig,_hState)=>descendant(component.element,'.'+hConfig.itemClass).bind(e=>component.getSystem().getByDom(e).toOptional());const getLast=(component,hConfig,_hState)=>{const items=descendants(component.element,'.'+hConfig.itemClass);const last=items.length>0?Optional.some(items[items.length-1]):Optional.none();return last.bind(c=>component.getSystem().getByDom(c).toOptional());};const getDelta$2=(component,hConfig,hState,delta)=>{const items=descendants(component.element,'.'+hConfig.itemClass);const current=findIndex$1(items,item=>has(item,hConfig.highlightClass));return current.bind(selected=>{const dest=cycleBy(selected,delta,0,items.length-1);return component.getSystem().getByDom(items[dest]).toOptional();});};const getPrevious=(component,hConfig,hState)=>getDelta$2(component,hConfig,hState,-1);const getNext=(component,hConfig,hState)=>getDelta$2(component,hConfig,hState,+1);const getCandidates=(component,hConfig,_hState)=>{const items=descendants(component.element,'.'+hConfig.itemClass);return cat(map$2(items,i=>component.getSystem().getByDom(i).toOptional()));};var HighlightApis=/*#__PURE__*/Object.freeze({__proto__:null,dehighlightAll:dehighlightAll,dehighlight:dehighlight,highlight:highlight,highlightFirst:highlightFirst,highlightLast:highlightLast,highlightAt:highlightAt,highlightBy:highlightBy,isHighlighted:isHighlighted,getHighlighted:getHighlighted,getFirst:getFirst,getLast:getLast,getPrevious:getPrevious,getNext:getNext,getCandidates:getCandidates});var HighlightSchema=[required$1('highlightClass'),required$1('itemClass'),onHandler('onHighlight'),onHandler('onDehighlight')];const Highlighting=create$3({fields:HighlightSchema,name:'highlighting',apis:HighlightApis});const BACKSPACE=[8];const TAB=[9];const ENTER=[13];const ESCAPE=[27];const SPACE=[32];const LEFT=[37];const UP=[38];const RIGHT=[39];const DOWN=[40];const cyclePrev=(values,index,predicate)=>{const before=reverse(values.slice(0,index));const after=reverse(values.slice(index+1));return find$5(before.concat(after),predicate);};const tryPrev=(values,index,predicate)=>{const before=reverse(values.slice(0,index));return find$5(before,predicate);};const cycleNext=(values,index,predicate)=>{const before=values.slice(0,index);const after=values.slice(index+1);return find$5(after.concat(before),predicate);};const tryNext=(values,index,predicate)=>{const after=values.slice(index+1);return find$5(after,predicate);};const inSet=keys=>event=>{const raw=event.raw;return contains$2(keys,raw.which);};const and=preds=>event=>forall(preds,pred=>pred(event));const isShift=event=>{const raw=event.raw;return raw.shiftKey===true;};const isControl=event=>{const raw=event.raw;return raw.ctrlKey===true;};const isNotShift=not(isShift);const rule=(matches,action)=>({matches,classification:action});const choose=(transitions,event)=>{const transition=find$5(transitions,t=>t.matches(event));return transition.map(t=>t.classification);};const reportFocusShifting=(component,prevFocus,newFocus)=>{const noChange=prevFocus.exists(p=>newFocus.exists(n=>eq(n,p)));if(!noChange){emitWith(component,focusShifted(),{prevFocus,newFocus});}};const dom$2=()=>{const get=component=>search(component.element);const set=(component,focusee)=>{const prevFocus=get(component);component.getSystem().triggerFocus(focusee,component.element);const newFocus=get(component);reportFocusShifting(component,prevFocus,newFocus);};return{get,set};};const highlights=()=>{const get=component=>Highlighting.getHighlighted(component).map(item=>item.element);const set=(component,element)=>{const prevFocus=get(component);component.getSystem().getByDom(element).fold(noop,item=>{Highlighting.highlight(component,item);});const newFocus=get(component);reportFocusShifting(component,prevFocus,newFocus);};return{get,set};};var FocusInsideModes;(function(FocusInsideModes){FocusInsideModes['OnFocusMode']='onFocus';FocusInsideModes['OnEnterOrSpaceMode']='onEnterOrSpace';FocusInsideModes['OnApiMode']='onApi';})(FocusInsideModes||(FocusInsideModes={}));const typical=(infoSchema,stateInit,getKeydownRules,getKeyupRules,optFocusIn)=>{const schema=()=>infoSchema.concat([defaulted('focusManager',dom$2()),defaultedOf('focusInside','onFocus',valueOf(val=>contains$2(['onFocus','onEnterOrSpace','onApi'],val)?Result.value(val):Result.error('Invalid value for focusInside'))),output$1('handler',me),output$1('state',stateInit),output$1('sendFocusIn',optFocusIn)]);const processKey=(component,simulatedEvent,getRules,keyingConfig,keyingState)=>{const rules=getRules(component,simulatedEvent,keyingConfig,keyingState);return choose(rules,simulatedEvent.event).bind(rule=>rule(component,simulatedEvent,keyingConfig,keyingState));};const toEvents=(keyingConfig,keyingState)=>{const onFocusHandler=keyingConfig.focusInside!==FocusInsideModes.OnFocusMode?Optional.none():optFocusIn(keyingConfig).map(focusIn=>run$1(focus$4(),(component,simulatedEvent)=>{focusIn(component,keyingConfig,keyingState);simulatedEvent.stop();}));const tryGoInsideComponent=(component,simulatedEvent)=>{const isEnterOrSpace=inSet(SPACE.concat(ENTER))(simulatedEvent.event);if(keyingConfig.focusInside===FocusInsideModes.OnEnterOrSpaceMode&&isEnterOrSpace&&isSource(component,simulatedEvent)){optFocusIn(keyingConfig).each(focusIn=>{focusIn(component,keyingConfig,keyingState);simulatedEvent.stop();});}};const keyboardEvents=[run$1(keydown(),(component,simulatedEvent)=>{processKey(component,simulatedEvent,getKeydownRules,keyingConfig,keyingState).fold(()=>{tryGoInsideComponent(component,simulatedEvent);},_=>{simulatedEvent.stop();});}),run$1(keyup(),(component,simulatedEvent)=>{processKey(component,simulatedEvent,getKeyupRules,keyingConfig,keyingState).each(_=>{simulatedEvent.stop();});})];return derive$2(onFocusHandler.toArray().concat(keyboardEvents));};const me={schema,processKey,toEvents};return me;};const create$1=cyclicField=>{const schema=[option$3('onEscape'),option$3('onEnter'),defaulted('selector','[data-alloy-tabstop=\"true\"]:not(:disabled)'),defaulted('firstTabstop',0),defaulted('useTabstopAt',always),option$3('visibilitySelector')].concat([cyclicField]);const isVisible=(tabbingConfig,element)=>{const target=tabbingConfig.visibilitySelector.bind(sel=>closest$1(element,sel)).getOr(element);return get$d(target)>0;};const findInitial=(component,tabbingConfig)=>{const tabstops=descendants(component.element,tabbingConfig.selector);const visibles=filter$2(tabstops,elem=>isVisible(tabbingConfig,elem));return Optional.from(visibles[tabbingConfig.firstTabstop]);};const findCurrent=(component,tabbingConfig)=>tabbingConfig.focusManager.get(component).bind(elem=>closest$1(elem,tabbingConfig.selector));const isTabstop=(tabbingConfig,element)=>isVisible(tabbingConfig,element)&&tabbingConfig.useTabstopAt(element);const focusIn=(component,tabbingConfig,_tabbingState)=>{findInitial(component,tabbingConfig).each(target=>{tabbingConfig.focusManager.set(component,target);});};const goFromTabstop=(component,tabstops,stopIndex,tabbingConfig,cycle)=>cycle(tabstops,stopIndex,elem=>isTabstop(tabbingConfig,elem)).fold(()=>tabbingConfig.cyclic?Optional.some(true):Optional.none(),target=>{tabbingConfig.focusManager.set(component,target);return Optional.some(true);});const go=(component,_simulatedEvent,tabbingConfig,cycle)=>{const tabstops=descendants(component.element,tabbingConfig.selector);return findCurrent(component,tabbingConfig).bind(tabstop=>{const optStopIndex=findIndex$1(tabstops,curry(eq,tabstop));return optStopIndex.bind(stopIndex=>goFromTabstop(component,tabstops,stopIndex,tabbingConfig,cycle));});};const goBackwards=(component,simulatedEvent,tabbingConfig)=>{const navigate=tabbingConfig.cyclic?cyclePrev:tryPrev;return go(component,simulatedEvent,tabbingConfig,navigate);};const goForwards=(component,simulatedEvent,tabbingConfig)=>{const navigate=tabbingConfig.cyclic?cycleNext:tryNext;return go(component,simulatedEvent,tabbingConfig,navigate);};const execute=(component,simulatedEvent,tabbingConfig)=>tabbingConfig.onEnter.bind(f=>f(component,simulatedEvent));const exit=(component,simulatedEvent,tabbingConfig)=>tabbingConfig.onEscape.bind(f=>f(component,simulatedEvent));const getKeydownRules=constant$1([rule(and([isShift,inSet(TAB)]),goBackwards),rule(inSet(TAB),goForwards),rule(and([isNotShift,inSet(ENTER)]),execute)]);const getKeyupRules=constant$1([rule(inSet(ESCAPE),exit)]);return typical(schema,NoState.init,getKeydownRules,getKeyupRules,()=>Optional.some(focusIn));};var AcyclicType=create$1(customField('cyclic',never));var CyclicType=create$1(customField('cyclic',always));const doDefaultExecute=(component,_simulatedEvent,focused)=>{dispatch(component,focused,execute$5());return Optional.some(true);};const defaultExecute=(component,simulatedEvent,focused)=>{const isComplex=inside(focused)&&inSet(SPACE)(simulatedEvent.event);return isComplex?Optional.none():doDefaultExecute(component,simulatedEvent,focused);};const stopEventForFirefox=(_component,_simulatedEvent)=>Optional.some(true);const schema$v=[defaulted('execute',defaultExecute),defaulted('useSpace',false),defaulted('useEnter',true),defaulted('useControlEnter',false),defaulted('useDown',false)];const execute$4=(component,simulatedEvent,executeConfig)=>executeConfig.execute(component,simulatedEvent,component.element);const getKeydownRules$5=(component,_simulatedEvent,executeConfig,_executeState)=>{const spaceExec=executeConfig.useSpace&&!inside(component.element)?SPACE:[];const enterExec=executeConfig.useEnter?ENTER:[];const downExec=executeConfig.useDown?DOWN:[];const execKeys=spaceExec.concat(enterExec).concat(downExec);return[rule(inSet(execKeys),execute$4)].concat(executeConfig.useControlEnter?[rule(and([isControl,inSet(ENTER)]),execute$4)]:[]);};const getKeyupRules$5=(component,_simulatedEvent,executeConfig,_executeState)=>executeConfig.useSpace&&!inside(component.element)?[rule(inSet(SPACE),stopEventForFirefox)]:[];var ExecutionType=typical(schema$v,NoState.init,getKeydownRules$5,getKeyupRules$5,()=>Optional.none());const flatgrid$1=()=>{const dimensions=value$2();const setGridSize=(numRows,numColumns)=>{dimensions.set({numRows,numColumns});};const getNumRows=()=>dimensions.get().map(d=>d.numRows);const getNumColumns=()=>dimensions.get().map(d=>d.numColumns);return nu$8({readState:()=>dimensions.get().map(d=>({numRows:String(d.numRows),numColumns:String(d.numColumns)})).getOr({numRows:'?',numColumns:'?'}),setGridSize,getNumRows,getNumColumns});};const init$d=spec=>spec.state(spec);var KeyingState=/*#__PURE__*/Object.freeze({__proto__:null,flatgrid:flatgrid$1,init:init$d});const useH=movement=>(component,simulatedEvent,config,state)=>{const move=movement(component.element);return use(move,component,simulatedEvent,config,state);};const west$1=(moveLeft,moveRight)=>{const movement=onDirection(moveLeft,moveRight);return useH(movement);};const east$1=(moveLeft,moveRight)=>{const movement=onDirection(moveRight,moveLeft);return useH(movement);};const useV=move=>(component,simulatedEvent,config,state)=>use(move,component,simulatedEvent,config,state);const use=(move,component,simulatedEvent,config,state)=>{const outcome=config.focusManager.get(component).bind(focused=>move(component.element,focused,config,state));return outcome.map(newFocus=>{config.focusManager.set(component,newFocus);return true;});};const north$1=useV;const south$1=useV;const move$1=useV;const isHidden$1=dom=>dom.offsetWidth<=0&&dom.offsetHeight<=0;const isVisible=element=>!isHidden$1(element.dom);const locate=(candidates,predicate)=>findIndex$1(candidates,predicate).map(index=>({index,candidates}));const locateVisible=(container,current,selector)=>{const predicate=x=>eq(x,current);const candidates=descendants(container,selector);const visible=filter$2(candidates,isVisible);return locate(visible,predicate);};const findIndex=(elements,target)=>findIndex$1(elements,elem=>eq(target,elem));const withGrid=(values,index,numCols,f)=>{const oldRow=Math.floor(index/numCols);const oldColumn=index%numCols;return f(oldRow,oldColumn).bind(address=>{const newIndex=address.row*numCols+address.column;return newIndex>=0&&newIndex<values.length?Optional.some(values[newIndex]):Optional.none();});};const cycleHorizontal$1=(values,index,numRows,numCols,delta)=>withGrid(values,index,numCols,(oldRow,oldColumn)=>{const onLastRow=oldRow===numRows-1;const colsInRow=onLastRow?values.length-oldRow*numCols:numCols;const newColumn=cycleBy(oldColumn,delta,0,colsInRow-1);return Optional.some({row:oldRow,column:newColumn});});const cycleVertical$1=(values,index,numRows,numCols,delta)=>withGrid(values,index,numCols,(oldRow,oldColumn)=>{const newRow=cycleBy(oldRow,delta,0,numRows-1);const onLastRow=newRow===numRows-1;const colsInRow=onLastRow?values.length-newRow*numCols:numCols;const newCol=clamp(oldColumn,0,colsInRow-1);return Optional.some({row:newRow,column:newCol});});const cycleRight$1=(values,index,numRows,numCols)=>cycleHorizontal$1(values,index,numRows,numCols,+1);const cycleLeft$1=(values,index,numRows,numCols)=>cycleHorizontal$1(values,index,numRows,numCols,-1);const cycleUp$1=(values,index,numRows,numCols)=>cycleVertical$1(values,index,numRows,numCols,-1);const cycleDown$1=(values,index,numRows,numCols)=>cycleVertical$1(values,index,numRows,numCols,+1);const schema$u=[required$1('selector'),defaulted('execute',defaultExecute),onKeyboardHandler('onEscape'),defaulted('captureTab',false),initSize()];const focusIn$3=(component,gridConfig,_gridState)=>{descendant(component.element,gridConfig.selector).each(first=>{gridConfig.focusManager.set(component,first);});};const findCurrent$1=(component,gridConfig)=>gridConfig.focusManager.get(component).bind(elem=>closest$1(elem,gridConfig.selector));const execute$3=(component,simulatedEvent,gridConfig,_gridState)=>findCurrent$1(component,gridConfig).bind(focused=>gridConfig.execute(component,simulatedEvent,focused));const doMove$2=cycle=>(element,focused,gridConfig,gridState)=>locateVisible(element,focused,gridConfig.selector).bind(identified=>cycle(identified.candidates,identified.index,gridState.getNumRows().getOr(gridConfig.initSize.numRows),gridState.getNumColumns().getOr(gridConfig.initSize.numColumns)));const handleTab=(_component,_simulatedEvent,gridConfig)=>gridConfig.captureTab?Optional.some(true):Optional.none();const doEscape$1=(component,simulatedEvent,gridConfig)=>gridConfig.onEscape(component,simulatedEvent);const moveLeft$3=doMove$2(cycleLeft$1);const moveRight$3=doMove$2(cycleRight$1);const moveNorth$1=doMove$2(cycleUp$1);const moveSouth$1=doMove$2(cycleDown$1);const getKeydownRules$4=constant$1([rule(inSet(LEFT),west$1(moveLeft$3,moveRight$3)),rule(inSet(RIGHT),east$1(moveLeft$3,moveRight$3)),rule(inSet(UP),north$1(moveNorth$1)),rule(inSet(DOWN),south$1(moveSouth$1)),rule(and([isShift,inSet(TAB)]),handleTab),rule(and([isNotShift,inSet(TAB)]),handleTab),rule(inSet(SPACE.concat(ENTER)),execute$3)]);const getKeyupRules$4=constant$1([rule(inSet(ESCAPE),doEscape$1),rule(inSet(SPACE),stopEventForFirefox)]);var FlatgridType=typical(schema$u,flatgrid$1,getKeydownRules$4,getKeyupRules$4,()=>Optional.some(focusIn$3));const horizontal=(container,selector,current,delta)=>{const isDisabledButton=candidate=>name$3(candidate)==='button'&&get$f(candidate,'disabled')==='disabled';const tryCycle=(initial,index,candidates)=>{const newIndex=cycleBy(index,delta,0,candidates.length-1);if(newIndex===initial){return Optional.none();}else{return isDisabledButton(candidates[newIndex])?tryCycle(initial,newIndex,candidates):Optional.from(candidates[newIndex]);}};return locateVisible(container,current,selector).bind(identified=>{const index=identified.index;const candidates=identified.candidates;return tryCycle(index,index,candidates);});};const schema$t=[required$1('selector'),defaulted('getInitial',Optional.none),defaulted('execute',defaultExecute),onKeyboardHandler('onEscape'),defaulted('executeOnMove',false),defaulted('allowVertical',true)];const findCurrent=(component,flowConfig)=>flowConfig.focusManager.get(component).bind(elem=>closest$1(elem,flowConfig.selector));const execute$2=(component,simulatedEvent,flowConfig)=>findCurrent(component,flowConfig).bind(focused=>flowConfig.execute(component,simulatedEvent,focused));const focusIn$2=(component,flowConfig,_state)=>{flowConfig.getInitial(component).orThunk(()=>descendant(component.element,flowConfig.selector)).each(first=>{flowConfig.focusManager.set(component,first);});};const moveLeft$2=(element,focused,info)=>horizontal(element,info.selector,focused,-1);const moveRight$2=(element,focused,info)=>horizontal(element,info.selector,focused,+1);const doMove$1=movement=>(component,simulatedEvent,flowConfig,flowState)=>movement(component,simulatedEvent,flowConfig,flowState).bind(()=>flowConfig.executeOnMove?execute$2(component,simulatedEvent,flowConfig):Optional.some(true));const doEscape=(component,simulatedEvent,flowConfig)=>flowConfig.onEscape(component,simulatedEvent);const getKeydownRules$3=(_component,_se,flowConfig,_flowState)=>{const westMovers=LEFT.concat(flowConfig.allowVertical?UP:[]);const eastMovers=RIGHT.concat(flowConfig.allowVertical?DOWN:[]);return[rule(inSet(westMovers),doMove$1(west$1(moveLeft$2,moveRight$2))),rule(inSet(eastMovers),doMove$1(east$1(moveLeft$2,moveRight$2))),rule(inSet(ENTER),execute$2),rule(inSet(SPACE),execute$2)];};const getKeyupRules$3=constant$1([rule(inSet(SPACE),stopEventForFirefox),rule(inSet(ESCAPE),doEscape)]);var FlowType=typical(schema$t,NoState.init,getKeydownRules$3,getKeyupRules$3,()=>Optional.some(focusIn$2));const toCell=(matrix,rowIndex,columnIndex)=>Optional.from(matrix[rowIndex]).bind(row=>Optional.from(row[columnIndex]).map(cell=>({rowIndex,columnIndex,cell})));const cycleHorizontal=(matrix,rowIndex,startCol,deltaCol)=>{const row=matrix[rowIndex];const colsInRow=row.length;const newColIndex=cycleBy(startCol,deltaCol,0,colsInRow-1);return toCell(matrix,rowIndex,newColIndex);};const cycleVertical=(matrix,colIndex,startRow,deltaRow)=>{const nextRowIndex=cycleBy(startRow,deltaRow,0,matrix.length-1);const colsInNextRow=matrix[nextRowIndex].length;const nextColIndex=clamp(colIndex,0,colsInNextRow-1);return toCell(matrix,nextRowIndex,nextColIndex);};const moveHorizontal=(matrix,rowIndex,startCol,deltaCol)=>{const row=matrix[rowIndex];const colsInRow=row.length;const newColIndex=clamp(startCol+deltaCol,0,colsInRow-1);return toCell(matrix,rowIndex,newColIndex);};const moveVertical=(matrix,colIndex,startRow,deltaRow)=>{const nextRowIndex=clamp(startRow+deltaRow,0,matrix.length-1);const colsInNextRow=matrix[nextRowIndex].length;const nextColIndex=clamp(colIndex,0,colsInNextRow-1);return toCell(matrix,nextRowIndex,nextColIndex);};const cycleRight=(matrix,startRow,startCol)=>cycleHorizontal(matrix,startRow,startCol,+1);const cycleLeft=(matrix,startRow,startCol)=>cycleHorizontal(matrix,startRow,startCol,-1);const cycleUp=(matrix,startRow,startCol)=>cycleVertical(matrix,startCol,startRow,-1);const cycleDown=(matrix,startRow,startCol)=>cycleVertical(matrix,startCol,startRow,+1);const moveLeft$1=(matrix,startRow,startCol)=>moveHorizontal(matrix,startRow,startCol,-1);const moveRight$1=(matrix,startRow,startCol)=>moveHorizontal(matrix,startRow,startCol,+1);const moveUp$1=(matrix,startRow,startCol)=>moveVertical(matrix,startCol,startRow,-1);const moveDown$1=(matrix,startRow,startCol)=>moveVertical(matrix,startCol,startRow,+1);const schema$s=[requiredObjOf('selectors',[required$1('row'),required$1('cell')]),defaulted('cycles',true),defaulted('previousSelector',Optional.none),defaulted('execute',defaultExecute)];const focusIn$1=(component,matrixConfig,_state)=>{const focused=matrixConfig.previousSelector(component).orThunk(()=>{const selectors=matrixConfig.selectors;return descendant(component.element,selectors.cell);});focused.each(cell=>{matrixConfig.focusManager.set(component,cell);});};const execute$1=(component,simulatedEvent,matrixConfig)=>search(component.element).bind(focused=>matrixConfig.execute(component,simulatedEvent,focused));const toMatrix=(rows,matrixConfig)=>map$2(rows,row=>descendants(row,matrixConfig.selectors.cell));const doMove=(ifCycle,ifMove)=>(element,focused,matrixConfig)=>{const move=matrixConfig.cycles?ifCycle:ifMove;return closest$1(focused,matrixConfig.selectors.row).bind(inRow=>{const cellsInRow=descendants(inRow,matrixConfig.selectors.cell);return findIndex(cellsInRow,focused).bind(colIndex=>{const allRows=descendants(element,matrixConfig.selectors.row);return findIndex(allRows,inRow).bind(rowIndex=>{const matrix=toMatrix(allRows,matrixConfig);return move(matrix,rowIndex,colIndex).map(next=>next.cell);});});});};const moveLeft=doMove(cycleLeft,moveLeft$1);const moveRight=doMove(cycleRight,moveRight$1);const moveNorth=doMove(cycleUp,moveUp$1);const moveSouth=doMove(cycleDown,moveDown$1);const getKeydownRules$2=constant$1([rule(inSet(LEFT),west$1(moveLeft,moveRight)),rule(inSet(RIGHT),east$1(moveLeft,moveRight)),rule(inSet(UP),north$1(moveNorth)),rule(inSet(DOWN),south$1(moveSouth)),rule(inSet(SPACE.concat(ENTER)),execute$1)]);const getKeyupRules$2=constant$1([rule(inSet(SPACE),stopEventForFirefox)]);var MatrixType=typical(schema$s,NoState.init,getKeydownRules$2,getKeyupRules$2,()=>Optional.some(focusIn$1));const schema$r=[required$1('selector'),defaulted('execute',defaultExecute),defaulted('moveOnTab',false)];const execute=(component,simulatedEvent,menuConfig)=>menuConfig.focusManager.get(component).bind(focused=>menuConfig.execute(component,simulatedEvent,focused));const focusIn=(component,menuConfig,_state)=>{descendant(component.element,menuConfig.selector).each(first=>{menuConfig.focusManager.set(component,first);});};const moveUp=(element,focused,info)=>horizontal(element,info.selector,focused,-1);const moveDown=(element,focused,info)=>horizontal(element,info.selector,focused,+1);const fireShiftTab=(component,simulatedEvent,menuConfig,menuState)=>menuConfig.moveOnTab?move$1(moveUp)(component,simulatedEvent,menuConfig,menuState):Optional.none();const fireTab=(component,simulatedEvent,menuConfig,menuState)=>menuConfig.moveOnTab?move$1(moveDown)(component,simulatedEvent,menuConfig,menuState):Optional.none();const getKeydownRules$1=constant$1([rule(inSet(UP),move$1(moveUp)),rule(inSet(DOWN),move$1(moveDown)),rule(and([isShift,inSet(TAB)]),fireShiftTab),rule(and([isNotShift,inSet(TAB)]),fireTab),rule(inSet(ENTER),execute),rule(inSet(SPACE),execute)]);const getKeyupRules$1=constant$1([rule(inSet(SPACE),stopEventForFirefox)]);var MenuType=typical(schema$r,NoState.init,getKeydownRules$1,getKeyupRules$1,()=>Optional.some(focusIn));const schema$q=[onKeyboardHandler('onSpace'),onKeyboardHandler('onEnter'),onKeyboardHandler('onShiftEnter'),onKeyboardHandler('onLeft'),onKeyboardHandler('onRight'),onKeyboardHandler('onTab'),onKeyboardHandler('onShiftTab'),onKeyboardHandler('onUp'),onKeyboardHandler('onDown'),onKeyboardHandler('onEscape'),defaulted('stopSpaceKeyup',false),option$3('focusIn')];const getKeydownRules=(component,simulatedEvent,specialInfo)=>[rule(inSet(SPACE),specialInfo.onSpace),rule(and([isNotShift,inSet(ENTER)]),specialInfo.onEnter),rule(and([isShift,inSet(ENTER)]),specialInfo.onShiftEnter),rule(and([isShift,inSet(TAB)]),specialInfo.onShiftTab),rule(and([isNotShift,inSet(TAB)]),specialInfo.onTab),rule(inSet(UP),specialInfo.onUp),rule(inSet(DOWN),specialInfo.onDown),rule(inSet(LEFT),specialInfo.onLeft),rule(inSet(RIGHT),specialInfo.onRight),rule(inSet(SPACE),specialInfo.onSpace)];const getKeyupRules=(component,simulatedEvent,specialInfo)=>[...(specialInfo.stopSpaceKeyup?[rule(inSet(SPACE),stopEventForFirefox)]:[]),rule(inSet(ESCAPE),specialInfo.onEscape)];var SpecialType=typical(schema$q,NoState.init,getKeydownRules,getKeyupRules,specialInfo=>specialInfo.focusIn);const acyclic=AcyclicType.schema();const cyclic=CyclicType.schema();const flow=FlowType.schema();const flatgrid=FlatgridType.schema();const matrix=MatrixType.schema();const execution=ExecutionType.schema();const menu=MenuType.schema();const special=SpecialType.schema();var KeyboardBranches=/*#__PURE__*/Object.freeze({__proto__:null,acyclic:acyclic,cyclic:cyclic,flow:flow,flatgrid:flatgrid,matrix:matrix,execution:execution,menu:menu,special:special});const isFlatgridState=keyState=>hasNonNullableKey(keyState,'setGridSize');const Keying=createModes({branchKey:'mode',branches:KeyboardBranches,name:'keying',active:{events:(keyingConfig,keyingState)=>{const handler=keyingConfig.handler;return handler.toEvents(keyingConfig,keyingState);}},apis:{focusIn:(component,keyConfig,keyState)=>{keyConfig.sendFocusIn(keyConfig).fold(()=>{component.getSystem().triggerFocus(component.element,component.element);},sendFocusIn=>{sendFocusIn(component,keyConfig,keyState);});},setGridSize:(component,keyConfig,keyState,numRows,numColumns)=>{if(!isFlatgridState(keyState)){console.error('Layout does not support setGridSize');}else{keyState.setGridSize(numRows,numColumns);}}},state:KeyingState});const withoutReuse=(parent,data)=>{preserve$1(()=>{replaceChildren(parent,data,()=>map$2(data,parent.getSystem().build));},parent.element);};const withReuse=(parent,data)=>{preserve$1(()=>{virtualReplaceChildren(parent,data,()=>{return patchSpecChildren(parent.element,data,parent.getSystem().buildOrPatch);});},parent.element);};const virtualReplace=(component,replacee,replaceeIndex,childSpec)=>{virtualDetach(replacee);const child=patchSpecChild(component.element,replaceeIndex,childSpec,component.getSystem().buildOrPatch);virtualAttach(component,child);component.syncComponents();};const insert=(component,insertion,childSpec)=>{const child=component.getSystem().build(childSpec);attachWith(component,child,insertion);};const replace=(component,replacee,replaceeIndex,childSpec)=>{detach(replacee);insert(component,(p,c)=>appendAt(p,c,replaceeIndex),childSpec);};const set$3=(component,replaceConfig,replaceState,data)=>{const replacer=replaceConfig.reuseDom?withReuse:withoutReuse;return replacer(component,data);};const append=(component,replaceConfig,replaceState,appendee)=>{insert(component,append$2,appendee);};const prepend=(component,replaceConfig,replaceState,prependee)=>{insert(component,prepend$1,prependee);};const remove=(component,replaceConfig,replaceState,removee)=>{const children=contents(component);const foundChild=find$5(children,child=>eq(removee.element,child.element));foundChild.each(detach);};const contents=(component,_replaceConfig)=>component.components();const replaceAt=(component,replaceConfig,replaceState,replaceeIndex,replacer)=>{const children=contents(component);return Optional.from(children[replaceeIndex]).map(replacee=>{replacer.fold(()=>detach(replacee),r=>{const replacer=replaceConfig.reuseDom?virtualReplace:replace;replacer(component,replacee,replaceeIndex,r);});return replacee;});};const replaceBy=(component,replaceConfig,replaceState,replaceePred,replacer)=>{const children=contents(component);return findIndex$1(children,replaceePred).bind(replaceeIndex=>replaceAt(component,replaceConfig,replaceState,replaceeIndex,replacer));};var ReplaceApis=/*#__PURE__*/Object.freeze({__proto__:null,append:append,prepend:prepend,remove:remove,replaceAt:replaceAt,replaceBy:replaceBy,set:set$3,contents:contents});const Replacing=create$3({fields:[defaultedBoolean('reuseDom',true)],name:'replacing',apis:ReplaceApis});const events$d=(name,eventHandlers)=>{const events=derive$2(eventHandlers);return create$3({fields:[required$1('enabled')],name,active:{events:constant$1(events)}});};const config=(name,eventHandlers)=>{const me=events$d(name,eventHandlers);return{key:name,value:{config:{},me,configAsRaw:constant$1({}),initialConfig:{},state:NoState}};};const focus$2=(component,focusConfig)=>{if(!focusConfig.ignore){focus$3(component.element);focusConfig.onFocus(component);}};const blur=(component,focusConfig)=>{if(!focusConfig.ignore){blur$1(component.element);}};const isFocused=component=>hasFocus(component.element);var FocusApis=/*#__PURE__*/Object.freeze({__proto__:null,focus:focus$2,blur:blur,isFocused:isFocused});const exhibit$4=(base,focusConfig)=>{const mod=focusConfig.ignore?{}:{attributes:{tabindex:'-1'}};return nu$7(mod);};const events$c=focusConfig=>derive$2([run$1(focus$4(),(component,simulatedEvent)=>{focus$2(component,focusConfig);simulatedEvent.stop();})].concat(focusConfig.stopMousedown?[run$1(mousedown(),(_,simulatedEvent)=>{simulatedEvent.event.prevent();})]:[]));var ActiveFocus=/*#__PURE__*/Object.freeze({__proto__:null,exhibit:exhibit$4,events:events$c});var FocusSchema=[onHandler('onFocus'),defaulted('stopMousedown',false),defaulted('ignore',false)];const Focusing=create$3({fields:FocusSchema,name:'focusing',active:ActiveFocus,apis:FocusApis});const SetupBehaviourCellState=initialState=>{const init=()=>{const cell=Cell(initialState);const get=()=>cell.get();const set=newState=>cell.set(newState);const clear=()=>cell.set(initialState);const readState=()=>cell.get();return{get,set,clear,readState};};return{init};};const updateAriaState=(component,toggleConfig,toggleState)=>{const ariaInfo=toggleConfig.aria;ariaInfo.update(component,ariaInfo,toggleState.get());};const updateClass=(component,toggleConfig,toggleState)=>{toggleConfig.toggleClass.each(toggleClass=>{if(toggleState.get()){add$2(component.element,toggleClass);}else{remove$2(component.element,toggleClass);}});};const set$2=(component,toggleConfig,toggleState,state)=>{const initialState=toggleState.get();toggleState.set(state);updateClass(component,toggleConfig,toggleState);updateAriaState(component,toggleConfig,toggleState);if(initialState!==state){toggleConfig.onToggled(component,state);}};const toggle$2=(component,toggleConfig,toggleState)=>{set$2(component,toggleConfig,toggleState,!toggleState.get());};const on=(component,toggleConfig,toggleState)=>{set$2(component,toggleConfig,toggleState,true);};const off=(component,toggleConfig,toggleState)=>{set$2(component,toggleConfig,toggleState,false);};const isOn=(component,toggleConfig,toggleState)=>toggleState.get();const onLoad=(component,toggleConfig,toggleState)=>{set$2(component,toggleConfig,toggleState,toggleConfig.selected);};var ToggleApis=/*#__PURE__*/Object.freeze({__proto__:null,onLoad:onLoad,toggle:toggle$2,isOn:isOn,on:on,off:off,set:set$2});const exhibit$3=()=>nu$7({});const events$b=(toggleConfig,toggleState)=>{const execute=executeEvent(toggleConfig,toggleState,toggle$2);const load=loadEvent(toggleConfig,toggleState,onLoad);return derive$2(flatten([toggleConfig.toggleOnExecute?[execute]:[],[load]]));};var ActiveToggle=/*#__PURE__*/Object.freeze({__proto__:null,exhibit:exhibit$3,events:events$b});const updatePressed=(component,ariaInfo,status)=>{set$9(component.element,'aria-pressed',status);if(ariaInfo.syncWithExpanded){updateExpanded(component,ariaInfo,status);}};const updateSelected=(component,ariaInfo,status)=>{set$9(component.element,'aria-selected',status);};const updateChecked=(component,ariaInfo,status)=>{set$9(component.element,'aria-checked',status);};const updateExpanded=(component,ariaInfo,status)=>{set$9(component.element,'aria-expanded',status);};var ToggleSchema=[defaulted('selected',false),option$3('toggleClass'),defaulted('toggleOnExecute',true),onHandler('onToggled'),defaultedOf('aria',{mode:'none'},choose$1('mode',{pressed:[defaulted('syncWithExpanded',false),output$1('update',updatePressed)],checked:[output$1('update',updateChecked)],expanded:[output$1('update',updateExpanded)],selected:[output$1('update',updateSelected)],none:[output$1('update',noop)]}))];const Toggling=create$3({fields:ToggleSchema,name:'toggling',active:ActiveToggle,apis:ToggleApis,state:SetupBehaviourCellState(false)});const pointerEvents=()=>{const onClick=(component,simulatedEvent)=>{simulatedEvent.stop();emitExecute(component);};return[run$1(click(),onClick),run$1(tap(),onClick),cutter(touchstart()),cutter(mousedown())];};const events$a=optAction=>{const executeHandler=action=>runOnExecute$1((component,simulatedEvent)=>{action(component);simulatedEvent.stop();});return derive$2(flatten([optAction.map(executeHandler).toArray(),pointerEvents()]));};const hoverEvent='alloy.item-hover';const focusEvent='alloy.item-focus';const toggledEvent='alloy.item-toggled';const onHover=item=>{if(search(item.element).isNone()||Focusing.isFocused(item)){if(!Focusing.isFocused(item)){Focusing.focus(item);}emitWith(item,hoverEvent,{item});}};const onFocus$1=item=>{emitWith(item,focusEvent,{item});};const onToggled=(item,state)=>{emitWith(item,toggledEvent,{item,state});};const hover=constant$1(hoverEvent);const focus$1=constant$1(focusEvent);const toggled=constant$1(toggledEvent);const getItemRole=detail=>detail.toggling.map(toggling=>toggling.exclusive?'menuitemradio':'menuitemcheckbox').getOr('menuitem');const getTogglingSpec=tConfig=>({aria:{mode:'checked'},...filter$1(tConfig,(_value,name)=>name!=='exclusive'),onToggled:(component,state)=>{if(isFunction(tConfig.onToggled)){tConfig.onToggled(component,state);}onToggled(component,state);}});const builder$2=detail=>({dom:detail.dom,domModification:{...detail.domModification,attributes:{'role':getItemRole(detail),...detail.domModification.attributes,'aria-haspopup':detail.hasSubmenu,...(detail.hasSubmenu?{'aria-expanded':false}:{})}},behaviours:SketchBehaviours.augment(detail.itemBehaviours,[detail.toggling.fold(Toggling.revoke,tConfig=>Toggling.config(getTogglingSpec(tConfig))),Focusing.config({ignore:detail.ignoreFocus,stopMousedown:detail.ignoreFocus,onFocus:component=>{onFocus$1(component);}}),Keying.config({mode:'execution'}),Representing.config({store:{mode:'memory',initialValue:detail.data}}),config('item-type-events',[...pointerEvents(),run$1(mouseover(),onHover),run$1(focusItem(),Focusing.focus)])]),components:detail.components,eventOrder:detail.eventOrder});const schema$p=[required$1('data'),required$1('components'),required$1('dom'),defaulted('hasSubmenu',false),option$3('toggling'),SketchBehaviours.field('itemBehaviours',[Toggling,Focusing,Keying,Representing]),defaulted('ignoreFocus',false),defaulted('domModification',{}),output$1('builder',builder$2),defaulted('eventOrder',{})];const builder$1=detail=>({dom:detail.dom,components:detail.components,events:derive$2([stopper(focusItem())])});const schema$o=[required$1('dom'),required$1('components'),output$1('builder',builder$1)];const owner$2=constant$1('item-widget');const parts$h=constant$1([required({name:'widget',overrides:detail=>{return{behaviours:derive$1([Representing.config({store:{mode:'manual',getValue:_component=>{return detail.data;},setValue:noop}})])};}})]);const builder=detail=>{const subs=substitutes(owner$2(),detail,parts$h());const components=components$1(owner$2(),detail,subs.internals());const focusWidget=component=>getPart(component,detail,'widget').map(widget=>{Keying.focusIn(widget);return widget;});const onHorizontalArrow=(component,simulatedEvent)=>inside(simulatedEvent.event.target)?Optional.none():(()=>{if(detail.autofocus){simulatedEvent.setSource(component.element);return Optional.none();}else{return Optional.none();}})();return{dom:detail.dom,components,domModification:detail.domModification,events:derive$2([runOnExecute$1((component,simulatedEvent)=>{focusWidget(component).each(_widget=>{simulatedEvent.stop();});}),run$1(mouseover(),onHover),run$1(focusItem(),(component,_simulatedEvent)=>{if(detail.autofocus){focusWidget(component);}else{Focusing.focus(component);}})]),behaviours:SketchBehaviours.augment(detail.widgetBehaviours,[Representing.config({store:{mode:'memory',initialValue:detail.data}}),Focusing.config({ignore:detail.ignoreFocus,onFocus:component=>{onFocus$1(component);}}),Keying.config({mode:'special',focusIn:detail.autofocus?component=>{focusWidget(component);}:revoke(),onLeft:onHorizontalArrow,onRight:onHorizontalArrow,onEscape:(component,simulatedEvent)=>{if(!Focusing.isFocused(component)&&!detail.autofocus){Focusing.focus(component);return Optional.some(true);}else if(detail.autofocus){simulatedEvent.setSource(component.element);return Optional.none();}else{return Optional.none();}}})])};};const schema$n=[required$1('uid'),required$1('data'),required$1('components'),required$1('dom'),defaulted('autofocus',false),defaulted('ignoreFocus',false),SketchBehaviours.field('widgetBehaviours',[Representing,Focusing,Keying]),defaulted('domModification',{}),defaultUidsSchema(parts$h()),output$1('builder',builder)];const itemSchema$2=choose$1('type',{widget:schema$n,item:schema$p,separator:schema$o});const configureGrid=(detail,movementInfo)=>({mode:'flatgrid',selector:'.'+detail.markers.item,initSize:{numColumns:movementInfo.initSize.numColumns,numRows:movementInfo.initSize.numRows},focusManager:detail.focusManager});const configureMatrix=(detail,movementInfo)=>({mode:'matrix',selectors:{row:movementInfo.rowSelector,cell:'.'+detail.markers.item},focusManager:detail.focusManager});const configureMenu=(detail,movementInfo)=>({mode:'menu',selector:'.'+detail.markers.item,moveOnTab:movementInfo.moveOnTab,focusManager:detail.focusManager});const parts$g=constant$1([group({factory:{sketch:spec=>{const itemInfo=asRawOrDie$1('menu.spec item',itemSchema$2,spec);return itemInfo.builder(itemInfo);}},name:'items',unit:'item',defaults:(detail,u)=>{return has$2(u,'uid')?u:{...u,uid:generate$5('item')};},overrides:(detail,u)=>{return{type:u.type,ignoreFocus:detail.fakeFocus,domModification:{classes:[detail.markers.item]}};}})]);const schema$m=constant$1([required$1('value'),required$1('items'),required$1('dom'),required$1('components'),defaulted('eventOrder',{}),field('menuBehaviours',[Highlighting,Representing,Composing,Keying]),defaultedOf('movement',{mode:'menu',moveOnTab:true},choose$1('mode',{grid:[initSize(),output$1('config',configureGrid)],matrix:[output$1('config',configureMatrix),required$1('rowSelector')],menu:[defaulted('moveOnTab',true),output$1('config',configureMenu)]})),itemMarkers(),defaulted('fakeFocus',false),defaulted('focusManager',dom$2()),onHandler('onHighlight'),onHandler('onDehighlight')]);const focus=constant$1('alloy.menu-focus');const deselectOtherRadioItems=(menu,item)=>{const checkedRadioItems=descendants(menu.element,'[role=\"menuitemradio\"][aria-checked=\"true\"]');each$1(checkedRadioItems,ele=>{if(!eq(ele,item.element)){menu.getSystem().getByDom(ele).each(c=>{Toggling.off(c);});}});};const make$7=(detail,components,_spec,_externals)=>({uid:detail.uid,dom:detail.dom,markers:detail.markers,behaviours:augment(detail.menuBehaviours,[Highlighting.config({highlightClass:detail.markers.selectedItem,itemClass:detail.markers.item,onHighlight:detail.onHighlight,onDehighlight:detail.onDehighlight}),Representing.config({store:{mode:'memory',initialValue:detail.value}}),Composing.config({find:Optional.some}),Keying.config(detail.movement.config(detail,detail.movement))]),events:derive$2([run$1(focus$1(),(menu,simulatedEvent)=>{const event=simulatedEvent.event;menu.getSystem().getByDom(event.target).each(item=>{Highlighting.highlight(menu,item);simulatedEvent.stop();emitWith(menu,focus(),{menu,item});});}),run$1(hover(),(menu,simulatedEvent)=>{const item=simulatedEvent.event.item;Highlighting.highlight(menu,item);}),run$1(toggled(),(menu,simulatedEvent)=>{const{item,state}=simulatedEvent.event;if(state&&get$f(item.element,'role')==='menuitemradio'){deselectOtherRadioItems(menu,item);}})]),components,eventOrder:detail.eventOrder,domModification:{attributes:{role:'menu'}}});const Menu=composite({name:'Menu',configFields:schema$m(),partFields:parts$g(),factory:make$7});const transpose$1=obj=>tupleMap(obj,(v,k)=>({k:v,v:k}));const trace=(items,byItem,byMenu,finish)=>get$g(byMenu,finish).bind(triggerItem=>get$g(items,triggerItem).bind(triggerMenu=>{const rest=trace(items,byItem,byMenu,triggerMenu);return Optional.some([triggerMenu].concat(rest));})).getOr([]);const generate$2=(menus,expansions)=>{const items={};each(menus,(menuItems,menu)=>{each$1(menuItems,item=>{items[item]=menu;});});const byItem=expansions;const byMenu=transpose$1(expansions);const menuPaths=map$1(byMenu,(_triggerItem,submenu)=>[submenu].concat(trace(items,byItem,byMenu,submenu)));return map$1(items,menu=>get$g(menuPaths,menu).getOr([menu]));};const init$c=()=>{const expansions=Cell({});const menus=Cell({});const paths=Cell({});const primary=value$2();const directory=Cell({});const clear=()=>{expansions.set({});menus.set({});paths.set({});primary.clear();};const isClear=()=>primary.get().isNone();const setMenuBuilt=(menuName,built)=>{menus.set({...menus.get(),[menuName]:{type:'prepared',menu:built}});};const setContents=(sPrimary,sMenus,sExpansions,dir)=>{primary.set(sPrimary);expansions.set(sExpansions);menus.set(sMenus);directory.set(dir);const sPaths=generate$2(dir,sExpansions);paths.set(sPaths);};const getTriggeringItem=menuValue=>find$4(expansions.get(),(v,_k)=>v===menuValue);const getTriggerData=(menuValue,getItemByValue,path)=>getPreparedMenu(menuValue).bind(menu=>getTriggeringItem(menuValue).bind(triggeringItemValue=>getItemByValue(triggeringItemValue).map(triggeredItem=>({triggeredMenu:menu,triggeringItem:triggeredItem,triggeringPath:path}))));const getTriggeringPath=(itemValue,getItemByValue)=>{const extraPath=filter$2(lookupItem(itemValue).toArray(),menuValue=>getPreparedMenu(menuValue).isSome());return get$g(paths.get(),itemValue).bind(path=>{const revPath=reverse(extraPath.concat(path));const triggers=bind$3(revPath,(menuValue,menuIndex)=>getTriggerData(menuValue,getItemByValue,revPath.slice(0,menuIndex+1)).fold(()=>is$1(primary.get(),menuValue)?[]:[Optional.none()],data=>[Optional.some(data)]));return sequence(triggers);});};const expand=itemValue=>get$g(expansions.get(),itemValue).map(menu=>{const current=get$g(paths.get(),itemValue).getOr([]);return[menu].concat(current);});const collapse=itemValue=>get$g(paths.get(),itemValue).bind(path=>path.length>1?Optional.some(path.slice(1)):Optional.none());const refresh=itemValue=>get$g(paths.get(),itemValue);const getPreparedMenu=menuValue=>lookupMenu(menuValue).bind(extractPreparedMenu);const lookupMenu=menuValue=>get$g(menus.get(),menuValue);const lookupItem=itemValue=>get$g(expansions.get(),itemValue);const otherMenus=path=>{const menuValues=directory.get();return difference(keys(menuValues),path);};const getPrimary=()=>primary.get().bind(getPreparedMenu);const getMenus=()=>menus.get();return{setMenuBuilt,setContents,expand,refresh,collapse,lookupMenu,lookupItem,otherMenus,getPrimary,getMenus,clear,isClear,getTriggeringPath};};const extractPreparedMenu=prep=>prep.type==='prepared'?Optional.some(prep.menu):Optional.none();const LayeredState={init:init$c,extractPreparedMenu};const onMenuItemHighlightedEvent=generate$6('tiered-menu-item-highlight');const onMenuItemDehighlightedEvent=generate$6('tiered-menu-item-dehighlight');var HighlightOnOpen;(function(HighlightOnOpen){HighlightOnOpen[HighlightOnOpen['HighlightMenuAndItem']=0]='HighlightMenuAndItem';HighlightOnOpen[HighlightOnOpen['HighlightJustMenu']=1]='HighlightJustMenu';HighlightOnOpen[HighlightOnOpen['HighlightNone']=2]='HighlightNone';})(HighlightOnOpen||(HighlightOnOpen={}));const make$6=(detail,_rawUiSpec)=>{const submenuParentItems=value$2();const buildMenus=(container,primaryName,menus)=>map$1(menus,(spec,name)=>{const makeSketch=()=>Menu.sketch({...spec,value:name,markers:detail.markers,fakeFocus:detail.fakeFocus,onHighlight:(menuComp,itemComp)=>{const highlightData={menuComp,itemComp};emitWith(menuComp,onMenuItemHighlightedEvent,highlightData);},onDehighlight:(menuComp,itemComp)=>{const dehighlightData={menuComp,itemComp};emitWith(menuComp,onMenuItemDehighlightedEvent,dehighlightData);},focusManager:detail.fakeFocus?highlights():dom$2()});return name===primaryName?{type:'prepared',menu:container.getSystem().build(makeSketch())}:{type:'notbuilt',nbMenu:makeSketch};});const layeredState=LayeredState.init();const setup=container=>{const componentMap=buildMenus(container,detail.data.primary,detail.data.menus);const directory=toDirectory();layeredState.setContents(detail.data.primary,componentMap,detail.data.expansions,directory);return layeredState.getPrimary();};const getItemValue=item=>Representing.getValue(item).value;const getItemByValue=(_container,menus,itemValue)=>findMap(menus,menu=>{if(!menu.getSystem().isConnected()){return Optional.none();}const candidates=Highlighting.getCandidates(menu);return find$5(candidates,c=>getItemValue(c)===itemValue);});const toDirectory=_container=>map$1(detail.data.menus,(data,_menuName)=>bind$3(data.items,item=>item.type==='separator'?[]:[item.data.value]));const setActiveMenu=Highlighting.highlight;const setActiveMenuAndItem=(container,menu)=>{setActiveMenu(container,menu);Highlighting.getHighlighted(menu).orThunk(()=>Highlighting.getFirst(menu)).each(item=>{if(detail.fakeFocus){Highlighting.highlight(menu,item);}else{dispatch(container,item.element,focusItem());}});};const getMenus=(state,menuValues)=>cat(map$2(menuValues,mv=>state.lookupMenu(mv).bind(prep=>prep.type==='prepared'?Optional.some(prep.menu):Optional.none())));const closeOthers=(container,state,path)=>{const others=getMenus(state,state.otherMenus(path));each$1(others,o=>{remove$1(o.element,[detail.markers.backgroundMenu]);if(!detail.stayInDom){Replacing.remove(container,o);}});};const getSubmenuParents=container=>submenuParentItems.get().getOrThunk(()=>{const r={};const items=descendants(container.element,`.${detail.markers.item}`);const parentItems=filter$2(items,i=>get$f(i,'aria-haspopup')==='true');each$1(parentItems,i=>{container.getSystem().getByDom(i).each(itemComp=>{const key=getItemValue(itemComp);r[key]=itemComp;});});submenuParentItems.set(r);return r;});const updateAriaExpansions=(container,path)=>{const parentItems=getSubmenuParents(container);each(parentItems,(v,k)=>{const expanded=contains$2(path,k);set$9(v.element,'aria-expanded',expanded);});};const updateMenuPath=(container,state,path)=>Optional.from(path[0]).bind(latestMenuName=>state.lookupMenu(latestMenuName).bind(menuPrep=>{if(menuPrep.type==='notbuilt'){return Optional.none();}else{const activeMenu=menuPrep.menu;const rest=getMenus(state,path.slice(1));each$1(rest,r=>{add$2(r.element,detail.markers.backgroundMenu);});if(!inBody(activeMenu.element)){Replacing.append(container,premade(activeMenu));}remove$1(activeMenu.element,[detail.markers.backgroundMenu]);setActiveMenuAndItem(container,activeMenu);closeOthers(container,state,path);return Optional.some(activeMenu);}}));let ExpandHighlightDecision;(function(ExpandHighlightDecision){ExpandHighlightDecision[ExpandHighlightDecision['HighlightSubmenu']=0]='HighlightSubmenu';ExpandHighlightDecision[ExpandHighlightDecision['HighlightParent']=1]='HighlightParent';})(ExpandHighlightDecision||(ExpandHighlightDecision={}));const buildIfRequired=(container,menuName,menuPrep)=>{if(menuPrep.type==='notbuilt'){const menu=container.getSystem().build(menuPrep.nbMenu());layeredState.setMenuBuilt(menuName,menu);return menu;}else{return menuPrep.menu;}};const expandRight=(container,item,decision=ExpandHighlightDecision.HighlightSubmenu)=>{if(item.hasConfigured(Disabling)&&Disabling.isDisabled(item)){return Optional.some(item);}else{const value=getItemValue(item);return layeredState.expand(value).bind(path=>{updateAriaExpansions(container,path);return Optional.from(path[0]).bind(menuName=>layeredState.lookupMenu(menuName).bind(activeMenuPrep=>{const activeMenu=buildIfRequired(container,menuName,activeMenuPrep);if(!inBody(activeMenu.element)){Replacing.append(container,premade(activeMenu));}detail.onOpenSubmenu(container,item,activeMenu,reverse(path));if(decision===ExpandHighlightDecision.HighlightSubmenu){Highlighting.highlightFirst(activeMenu);return updateMenuPath(container,layeredState,path);}else{Highlighting.dehighlightAll(activeMenu);return Optional.some(item);}}));});}};const collapseLeft=(container,item)=>{const value=getItemValue(item);return layeredState.collapse(value).bind(path=>{updateAriaExpansions(container,path);return updateMenuPath(container,layeredState,path).map(activeMenu=>{detail.onCollapseMenu(container,item,activeMenu);return activeMenu;});});};const updateView=(container,item)=>{const value=getItemValue(item);return layeredState.refresh(value).bind(path=>{updateAriaExpansions(container,path);return updateMenuPath(container,layeredState,path);});};const onRight=(container,item)=>inside(item.element)?Optional.none():expandRight(container,item,ExpandHighlightDecision.HighlightSubmenu);const onLeft=(container,item)=>inside(item.element)?Optional.none():collapseLeft(container,item);const onEscape=(container,item)=>collapseLeft(container,item).orThunk(()=>detail.onEscape(container,item).map(()=>container));const keyOnItem=f=>(container,simulatedEvent)=>{return closest$1(simulatedEvent.getSource(),`.${detail.markers.item}`).bind(target=>container.getSystem().getByDom(target).toOptional().bind(item=>f(container,item).map(always)));};const events=derive$2([run$1(focus(),(tmenu,simulatedEvent)=>{const item=simulatedEvent.event.item;layeredState.lookupItem(getItemValue(item)).each(()=>{const menu=simulatedEvent.event.menu;Highlighting.highlight(tmenu,menu);const value=getItemValue(simulatedEvent.event.item);layeredState.refresh(value).each(path=>closeOthers(tmenu,layeredState,path));});}),runOnExecute$1((component,simulatedEvent)=>{const target=simulatedEvent.event.target;component.getSystem().getByDom(target).each(item=>{const itemValue=getItemValue(item);if(itemValue.indexOf('collapse-item')===0){collapseLeft(component,item);}expandRight(component,item,ExpandHighlightDecision.HighlightSubmenu).fold(()=>{detail.onExecute(component,item);},noop);});}),runOnAttached((container,_simulatedEvent)=>{setup(container).each(primary=>{Replacing.append(container,premade(primary));detail.onOpenMenu(container,primary);if(detail.highlightOnOpen===HighlightOnOpen.HighlightMenuAndItem){setActiveMenuAndItem(container,primary);}else if(detail.highlightOnOpen===HighlightOnOpen.HighlightJustMenu){setActiveMenu(container,primary);}});}),run$1(onMenuItemHighlightedEvent,(tmenuComp,se)=>{detail.onHighlightItem(tmenuComp,se.event.menuComp,se.event.itemComp);}),run$1(onMenuItemDehighlightedEvent,(tmenuComp,se)=>{detail.onDehighlightItem(tmenuComp,se.event.menuComp,se.event.itemComp);}),...(detail.navigateOnHover?[run$1(hover(),(tmenu,simulatedEvent)=>{const item=simulatedEvent.event.item;updateView(tmenu,item);expandRight(tmenu,item,ExpandHighlightDecision.HighlightParent);detail.onHover(tmenu,item);})]:[])]);const getActiveItem=container=>Highlighting.getHighlighted(container).bind(Highlighting.getHighlighted);const collapseMenuApi=container=>{getActiveItem(container).each(currentItem=>{collapseLeft(container,currentItem);});};const highlightPrimary=container=>{layeredState.getPrimary().each(primary=>{setActiveMenuAndItem(container,primary);});};const extractMenuFromContainer=container=>Optional.from(container.components()[0]).filter(comp=>get$f(comp.element,'role')==='menu');const repositionMenus=container=>{const maybeActivePrimary=layeredState.getPrimary().bind(primary=>getActiveItem(container).bind(currentItem=>{const itemValue=getItemValue(currentItem);const allMenus=values(layeredState.getMenus());const preparedMenus=cat(map$2(allMenus,LayeredState.extractPreparedMenu));return layeredState.getTriggeringPath(itemValue,v=>getItemByValue(container,preparedMenus,v));}).map(triggeringPath=>({primary,triggeringPath})));maybeActivePrimary.fold(()=>{extractMenuFromContainer(container).each(primaryMenu=>{detail.onRepositionMenu(container,primaryMenu,[]);});},({primary,triggeringPath})=>{detail.onRepositionMenu(container,primary,triggeringPath);});};const apis={collapseMenu:collapseMenuApi,highlightPrimary,repositionMenus};return{uid:detail.uid,dom:detail.dom,markers:detail.markers,behaviours:augment(detail.tmenuBehaviours,[Keying.config({mode:'special',onRight:keyOnItem(onRight),onLeft:keyOnItem(onLeft),onEscape:keyOnItem(onEscape),focusIn:(container,_keyInfo)=>{layeredState.getPrimary().each(primary=>{dispatch(container,primary.element,focusItem());});}}),Highlighting.config({highlightClass:detail.markers.selectedMenu,itemClass:detail.markers.menu}),Composing.config({find:container=>{return Highlighting.getHighlighted(container);}}),Replacing.config({})]),eventOrder:detail.eventOrder,apis,events};};const collapseItem$1=constant$1('collapse-item');const tieredData=(primary,menus,expansions)=>({primary,menus,expansions});const singleData=(name,menu)=>({primary:name,menus:wrap$1(name,menu),expansions:{}});const collapseItem=text=>({value:generate$6(collapseItem$1()),meta:{text}});const tieredMenu=single({name:'TieredMenu',configFields:[onStrictKeyboardHandler('onExecute'),onStrictKeyboardHandler('onEscape'),onStrictHandler('onOpenMenu'),onStrictHandler('onOpenSubmenu'),onHandler('onRepositionMenu'),onHandler('onCollapseMenu'),defaulted('highlightOnOpen',HighlightOnOpen.HighlightMenuAndItem),requiredObjOf('data',[required$1('primary'),required$1('menus'),required$1('expansions')]),defaulted('fakeFocus',false),onHandler('onHighlightItem'),onHandler('onDehighlightItem'),onHandler('onHover'),tieredMenuMarkers(),required$1('dom'),defaulted('navigateOnHover',true),defaulted('stayInDom',false),field('tmenuBehaviours',[Keying,Highlighting,Composing,Replacing]),defaulted('eventOrder',{})],apis:{collapseMenu:(apis,tmenu)=>{apis.collapseMenu(tmenu);},highlightPrimary:(apis,tmenu)=>{apis.highlightPrimary(tmenu);},repositionMenus:(apis,tmenu)=>{apis.repositionMenus(tmenu);}},factory:make$6,extraApis:{tieredData,singleData,collapseItem}});const makeMenu=(detail,menuSandbox,placementSpec,menuSpec,getBounds)=>{const lazySink=()=>detail.lazySink(menuSandbox);const layouts=menuSpec.type==='horizontal'?{layouts:{onLtr:()=>belowOrAbove(),onRtl:()=>belowOrAboveRtl()}}:{};const isFirstTierSubmenu=triggeringPaths=>triggeringPaths.length===2;const getSubmenuLayouts=triggeringPaths=>isFirstTierSubmenu(triggeringPaths)?layouts:{};return tieredMenu.sketch({dom:{tag:'div'},data:menuSpec.data,markers:menuSpec.menu.markers,highlightOnOpen:menuSpec.menu.highlightOnOpen,fakeFocus:menuSpec.menu.fakeFocus,onEscape:()=>{Sandboxing.close(menuSandbox);detail.onEscape.map(handler=>handler(menuSandbox));return Optional.some(true);},onExecute:()=>{return Optional.some(true);},onOpenMenu:(tmenu,menu)=>{Positioning.positionWithinBounds(lazySink().getOrDie(),menu,placementSpec,getBounds());},onOpenSubmenu:(tmenu,item,submenu,triggeringPaths)=>{const sink=lazySink().getOrDie();Positioning.position(sink,submenu,{anchor:{type:'submenu',item,...getSubmenuLayouts(triggeringPaths)}});},onRepositionMenu:(tmenu,primaryMenu,submenuTriggers)=>{const sink=lazySink().getOrDie();Positioning.positionWithinBounds(sink,primaryMenu,placementSpec,getBounds());each$1(submenuTriggers,st=>{const submenuLayouts=getSubmenuLayouts(st.triggeringPath);Positioning.position(sink,st.triggeredMenu,{anchor:{type:'submenu',item:st.triggeringItem,...submenuLayouts}});});}});};const factory$m=(detail,spec)=>{const isPartOfRelated=(sandbox,queryElem)=>{const related=detail.getRelated(sandbox);return related.exists(rel=>isPartOf$1(rel,queryElem));};const setContent=(sandbox,thing)=>{Sandboxing.setContent(sandbox,thing);};const showAt=(sandbox,thing,placementSpec)=>{showWithin(sandbox,thing,placementSpec,Optional.none());};const showWithin=(sandbox,thing,placementSpec,boxElement)=>{showWithinBounds(sandbox,thing,placementSpec,()=>boxElement.map(elem=>box$1(elem)));};const showWithinBounds=(sandbox,thing,placementSpec,getBounds)=>{const sink=detail.lazySink(sandbox).getOrDie();Sandboxing.openWhileCloaked(sandbox,thing,()=>Positioning.positionWithinBounds(sink,sandbox,placementSpec,getBounds()));Representing.setValue(sandbox,Optional.some({mode:'position',config:placementSpec,getBounds}));};const showMenuAt=(sandbox,placementSpec,menuSpec)=>{showMenuWithinBounds(sandbox,placementSpec,menuSpec,Optional.none);};const showMenuWithinBounds=(sandbox,placementSpec,menuSpec,getBounds)=>{const menu=makeMenu(detail,sandbox,placementSpec,menuSpec,getBounds);Sandboxing.open(sandbox,menu);Representing.setValue(sandbox,Optional.some({mode:'menu',menu}));};const hide=sandbox=>{if(Sandboxing.isOpen(sandbox)){Representing.setValue(sandbox,Optional.none());Sandboxing.close(sandbox);}};const getContent=sandbox=>Sandboxing.getState(sandbox);const reposition=sandbox=>{if(Sandboxing.isOpen(sandbox)){Representing.getValue(sandbox).each(state=>{switch(state.mode){case'menu':Sandboxing.getState(sandbox).each(tieredMenu.repositionMenus);break;case'position':const sink=detail.lazySink(sandbox).getOrDie();Positioning.positionWithinBounds(sink,sandbox,state.config,state.getBounds());break;}});}};const apis={setContent,showAt,showWithin,showWithinBounds,showMenuAt,showMenuWithinBounds,hide,getContent,reposition,isOpen:Sandboxing.isOpen};return{uid:detail.uid,dom:detail.dom,behaviours:augment(detail.inlineBehaviours,[Sandboxing.config({isPartOf:(sandbox,data,queryElem)=>{return isPartOf$1(data,queryElem)||isPartOfRelated(sandbox,queryElem);},getAttachPoint:sandbox=>{return detail.lazySink(sandbox).getOrDie();},onOpen:sandbox=>{detail.onShow(sandbox);},onClose:sandbox=>{detail.onHide(sandbox);}}),Representing.config({store:{mode:'memory',initialValue:Optional.none()}}),Receiving.config({channels:{...receivingChannel$1({isExtraPart:spec.isExtraPart,...detail.fireDismissalEventInstead.map(fe=>({fireEventInstead:{event:fe.event}})).getOr({})}),...receivingChannel({...detail.fireRepositionEventInstead.map(fe=>({fireEventInstead:{event:fe.event}})).getOr({}),doReposition:reposition})}})]),eventOrder:detail.eventOrder,apis};};const InlineView=single({name:'InlineView',configFields:[required$1('lazySink'),onHandler('onShow'),onHandler('onHide'),optionFunction('onEscape'),field('inlineBehaviours',[Sandboxing,Representing,Receiving]),optionObjOf('fireDismissalEventInstead',[defaulted('event',dismissRequested())]),optionObjOf('fireRepositionEventInstead',[defaulted('event',repositionRequested())]),defaulted('getRelated',Optional.none),defaulted('isExtraPart',never),defaulted('eventOrder',Optional.none)],factory:factory$m,apis:{showAt:(apis,component,anchor,thing)=>{apis.showAt(component,anchor,thing);},showWithin:(apis,component,anchor,thing,boxElement)=>{apis.showWithin(component,anchor,thing,boxElement);},showWithinBounds:(apis,component,anchor,thing,bounds)=>{apis.showWithinBounds(component,anchor,thing,bounds);},showMenuAt:(apis,component,anchor,menuSpec)=>{apis.showMenuAt(component,anchor,menuSpec);},showMenuWithinBounds:(apis,component,anchor,menuSpec,bounds)=>{apis.showMenuWithinBounds(component,anchor,menuSpec,bounds);},hide:(apis,component)=>{apis.hide(component);},isOpen:(apis,component)=>apis.isOpen(component),getContent:(apis,component)=>apis.getContent(component),setContent:(apis,component,thing)=>{apis.setContent(component,thing);},reposition:(apis,component)=>{apis.reposition(component);}}});var global$9=tinymce.util.Tools.resolve('tinymce.util.Delay');const factory$l=detail=>{const events=events$a(detail.action);const tag=detail.dom.tag;const lookupAttr=attr=>get$g(detail.dom,'attributes').bind(attrs=>get$g(attrs,attr));const getModAttributes=()=>{if(tag==='button'){const type=lookupAttr('type').getOr('button');const roleAttrs=lookupAttr('role').map(role=>({role})).getOr({});return{type,...roleAttrs};}else{const role=lookupAttr('role').getOr('button');return{role};}};return{uid:detail.uid,dom:detail.dom,components:detail.components,events,behaviours:SketchBehaviours.augment(detail.buttonBehaviours,[Focusing.config({}),Keying.config({mode:'execution',useSpace:true,useEnter:true})]),domModification:{attributes:getModAttributes()},eventOrder:detail.eventOrder};};const Button=single({name:'Button',factory:factory$l,configFields:[defaulted('uid',undefined),required$1('dom'),defaulted('components',[]),SketchBehaviours.field('buttonBehaviours',[Focusing,Keying]),option$3('action'),option$3('role'),defaulted('eventOrder',{})]});const record=spec=>{const uid=isSketchSpec(spec)&&hasNonNullableKey(spec,'uid')?spec.uid:generate$5('memento');const get=anyInSystem=>anyInSystem.getSystem().getByUid(uid).getOrDie();const getOpt=anyInSystem=>anyInSystem.getSystem().getByUid(uid).toOptional();const asSpec=()=>({...spec,uid});return{get,getOpt,asSpec};};var global$8=tinymce.util.Tools.resolve('tinymce.util.I18n');const rtlTransform={'indent':true,'outdent':true,'table-insert-column-after':true,'table-insert-column-before':true,'paste-column-after':true,'paste-column-before':true,'unordered-list':true,'list-bull-circle':true,'list-bull-default':true,'list-bull-square':true};const defaultIconName='temporary-placeholder';const defaultIcon=icons=>()=>get$g(icons,defaultIconName).getOr('!not found!');const getIconName=(name,icons)=>{const lcName=name.toLowerCase();if(global$8.isRtl()){const rtlName=ensureTrailing(lcName,'-rtl');return has$2(icons,rtlName)?rtlName:lcName;}else{return lcName;}};const lookupIcon=(name,icons)=>get$g(icons,getIconName(name,icons));const get$2=(name,iconProvider)=>{const icons=iconProvider();return lookupIcon(name,icons).getOrThunk(defaultIcon(icons));};const getOr=(name,iconProvider,fallbackIcon)=>{const icons=iconProvider();return lookupIcon(name,icons).or(fallbackIcon).getOrThunk(defaultIcon(icons));};const needsRtlTransform=iconName=>global$8.isRtl()?has$2(rtlTransform,iconName):false;const addFocusableBehaviour=()=>config('add-focusable',[runOnAttached(comp=>{child(comp.element,'svg').each(svg=>set$9(svg,'focusable','false'));})]);const renderIcon$2=(spec,iconName,icons,fallbackIcon)=>{var _a,_b;const rtlIconClasses=needsRtlTransform(iconName)?['tox-icon--flip']:[];const iconHtml=get$g(icons,getIconName(iconName,icons)).or(fallbackIcon).getOrThunk(defaultIcon(icons));return{dom:{tag:spec.tag,attributes:(_a=spec.attributes)!==null&&_a!==void 0?_a:{},classes:spec.classes.concat(rtlIconClasses),innerHtml:iconHtml},behaviours:derive$1([...((_b=spec.behaviours)!==null&&_b!==void 0?_b:[]),addFocusableBehaviour()])};};const render$3=(iconName,spec,iconProvider,fallbackIcon=Optional.none())=>renderIcon$2(spec,iconName,iconProvider(),fallbackIcon);const renderFirst=(iconNames,spec,iconProvider)=>{const icons=iconProvider();const iconName=find$5(iconNames,name=>has$2(icons,getIconName(name,icons)));return renderIcon$2(spec,iconName.getOr(defaultIconName),icons,Optional.none());};const notificationIconMap={success:'checkmark',error:'warning',err:'error',warning:'warning',warn:'warning',info:'info'};const factory$k=detail=>{const memBannerText=record({dom:{tag:'p',innerHtml:detail.translationProvider(detail.text)},behaviours:derive$1([Replacing.config({})])});const renderPercentBar=percent=>({dom:{tag:'div',classes:['tox-bar'],styles:{width:`${percent}%`}}});const renderPercentText=percent=>({dom:{tag:'div',classes:['tox-text'],innerHtml:`${percent}%`}});const memBannerProgress=record({dom:{tag:'div',classes:detail.progress?['tox-progress-bar','tox-progress-indicator']:['tox-progress-bar']},components:[{dom:{tag:'div',classes:['tox-bar-container']},components:[renderPercentBar(0)]},renderPercentText(0)],behaviours:derive$1([Replacing.config({})])});const updateProgress=(comp,percent)=>{if(comp.getSystem().isConnected()){memBannerProgress.getOpt(comp).each(progress=>{Replacing.set(progress,[{dom:{tag:'div',classes:['tox-bar-container']},components:[renderPercentBar(percent)]},renderPercentText(percent)]);});}};const updateText=(comp,text)=>{if(comp.getSystem().isConnected()){const banner=memBannerText.get(comp);Replacing.set(banner,[text$1(text)]);}};const apis={updateProgress,updateText};const iconChoices=flatten([detail.icon.toArray(),detail.level.toArray(),detail.level.bind(level=>Optional.from(notificationIconMap[level])).toArray()]);const memButton=record(Button.sketch({dom:{tag:'button',classes:['tox-notification__dismiss','tox-button','tox-button--naked','tox-button--icon']},components:[render$3('close',{tag:'div',classes:['tox-icon'],attributes:{'aria-label':detail.translationProvider('Close')}},detail.iconProvider)],action:comp=>{detail.onAction(comp);}}));const notificationIconSpec=renderFirst(iconChoices,{tag:'div',classes:['tox-notification__icon']},detail.iconProvider);const notificationBodySpec={dom:{tag:'div',classes:['tox-notification__body']},components:[memBannerText.asSpec()],behaviours:derive$1([Replacing.config({})])};const components=[notificationIconSpec,notificationBodySpec];return{uid:detail.uid,dom:{tag:'div',attributes:{role:'alert'},classes:detail.level.map(level=>['tox-notification','tox-notification--in',`tox-notification--${level}`]).getOr(['tox-notification','tox-notification--in'])},behaviours:derive$1([Focusing.config({}),config('notification-events',[run$1(focusin(),comp=>{memButton.getOpt(comp).each(Focusing.focus);})])]),components:components.concat(detail.progress?[memBannerProgress.asSpec()]:[]).concat(!detail.closeButton?[]:[memButton.asSpec()]),apis};};const Notification=single({name:'Notification',factory:factory$k,configFields:[option$3('level'),required$1('progress'),option$3('icon'),required$1('onAction'),required$1('text'),required$1('iconProvider'),required$1('translationProvider'),defaultedBoolean('closeButton',true)],apis:{updateProgress:(apis,comp,percent)=>{apis.updateProgress(comp,percent);},updateText:(apis,comp,text)=>{apis.updateText(comp,text);}}});var NotificationManagerImpl=(editor,extras,uiMothership)=>{const sharedBackstage=extras.backstage.shared;const getBounds=()=>{const contentArea=box$1(SugarElement.fromDom(editor.getContentAreaContainer()));const win$1=win();const x=clamp(win$1.x,contentArea.x,contentArea.right);const y=clamp(win$1.y,contentArea.y,contentArea.bottom);const right=Math.max(contentArea.right,win$1.right);const bottom=Math.max(contentArea.bottom,win$1.bottom);return Optional.some(bounds(x,y,right-x,bottom-y));};const open=(settings,closeCallback)=>{const close=()=>{closeCallback();InlineView.hide(notificationWrapper);};const notification=build$1(Notification.sketch({text:settings.text,level:contains$2(['success','error','warning','warn','info'],settings.type)?settings.type:undefined,progress:settings.progressBar===true,icon:settings.icon,closeButton:settings.closeButton,onAction:close,iconProvider:sharedBackstage.providers.icons,translationProvider:sharedBackstage.providers.translate}));const notificationWrapper=build$1(InlineView.sketch({dom:{tag:'div',classes:['tox-notifications-container']},lazySink:sharedBackstage.getSink,fireDismissalEventInstead:{},...(sharedBackstage.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})}));uiMothership.add(notificationWrapper);if(isNumber(settings.timeout)&&settings.timeout>0){global$9.setEditorTimeout(editor,()=>{close();},settings.timeout);}const reposition=()=>{const notificationSpec=premade(notification);const anchorOverrides={maxHeightFunction:expandable$1()};const allNotifications=editor.notificationManager.getNotifications();if(allNotifications[0]===thisNotification){const anchor={...sharedBackstage.anchors.banner(),overrides:anchorOverrides};InlineView.showWithinBounds(notificationWrapper,notificationSpec,{anchor},getBounds);}else{indexOf(allNotifications,thisNotification).each(idx=>{const previousNotification=allNotifications[idx-1].getEl();const nodeAnchor={type:'node',root:body(),node:Optional.some(SugarElement.fromDom(previousNotification)),overrides:anchorOverrides,layouts:{onRtl:()=>[south$2],onLtr:()=>[south$2]}};InlineView.showWithinBounds(notificationWrapper,notificationSpec,{anchor:nodeAnchor},getBounds);});}};const thisNotification={close,reposition,text:nuText=>{Notification.updateText(notification,nuText);},settings,getEl:()=>notification.element.dom,progressBar:{value:percent=>{Notification.updateProgress(notification,percent);}}};return thisNotification;};const close=notification=>{notification.close();};const getArgs=notification=>{return notification.settings;};return{open,close,getArgs};};var global$7=tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');var global$6=tinymce.util.Tools.resolve('tinymce.EditorManager');var global$5=tinymce.util.Tools.resolve('tinymce.Env');var ToolbarMode$1;(function(ToolbarMode){ToolbarMode['default']='wrap';ToolbarMode['floating']='floating';ToolbarMode['sliding']='sliding';ToolbarMode['scrolling']='scrolling';})(ToolbarMode$1||(ToolbarMode$1={}));var ToolbarLocation$1;(function(ToolbarLocation){ToolbarLocation['auto']='auto';ToolbarLocation['top']='top';ToolbarLocation['bottom']='bottom';})(ToolbarLocation$1||(ToolbarLocation$1={}));const option$2=name=>editor=>editor.options.get(name);const wrapOptional=fn=>editor=>Optional.from(fn(editor));const register$e=editor=>{const isPhone=global$5.deviceType.isPhone();const isMobile=global$5.deviceType.isTablet()||isPhone;const registerOption=editor.options.register;const stringOrFalseProcessor=value=>isString(value)||value===false;const stringOrNumberProcessor=value=>isString(value)||isNumber(value);registerOption('skin',{processor:value=>isString(value)||value===false,default:'oxide'});registerOption('skin_url',{processor:'string'});registerOption('height',{processor:stringOrNumberProcessor,default:Math.max(editor.getElement().offsetHeight,400)});registerOption('width',{processor:stringOrNumberProcessor,default:global$7.DOM.getStyle(editor.getElement(),'width')});registerOption('min_height',{processor:'number',default:100});registerOption('min_width',{processor:'number'});registerOption('max_height',{processor:'number'});registerOption('max_width',{processor:'number'});registerOption('style_formats',{processor:'object[]'});registerOption('style_formats_merge',{processor:'boolean',default:false});registerOption('style_formats_autohide',{processor:'boolean',default:false});registerOption('line_height_formats',{processor:'string',default:'1 1.1 1.2 1.3 1.4 1.5 2'});registerOption('font_family_formats',{processor:'string',default:'Andale Mono=andale mono,monospace;'+'Arial=arial,helvetica,sans-serif;'+'Arial Black=arial black,sans-serif;'+'Book Antiqua=book antiqua,palatino,serif;'+'Comic Sans MS=comic sans ms,sans-serif;'+'Courier New=courier new,courier,monospace;'+'Georgia=georgia,palatino,serif;'+'Helvetica=helvetica,arial,sans-serif;'+'Impact=impact,sans-serif;'+'Symbol=symbol;'+'Tahoma=tahoma,arial,helvetica,sans-serif;'+'Terminal=terminal,monaco,monospace;'+'Times New Roman=times new roman,times,serif;'+'Trebuchet MS=trebuchet ms,geneva,sans-serif;'+'Verdana=verdana,geneva,sans-serif;'+'Webdings=webdings;'+'Wingdings=wingdings,zapf dingbats'});registerOption('font_size_formats',{processor:'string',default:'8pt 10pt 12pt 14pt 18pt 24pt 36pt'});registerOption('block_formats',{processor:'string',default:'Paragraph=p;'+'Heading 1=h1;'+'Heading 2=h2;'+'Heading 3=h3;'+'Heading 4=h4;'+'Heading 5=h5;'+'Heading 6=h6;'+'Preformatted=pre'});registerOption('content_langs',{processor:'object[]'});registerOption('removed_menuitems',{processor:'string',default:''});registerOption('menubar',{processor:value=>isString(value)||isBoolean(value),default:!isPhone});registerOption('menu',{processor:'object',default:{}});registerOption('toolbar',{processor:value=>{if(isBoolean(value)||isString(value)||isArray(value)){return{value,valid:true};}else{return{valid:false,message:'Must be a boolean, string or array.'};}},default:true});range$2(9,num=>{registerOption('toolbar'+(num+1),{processor:'string'});});registerOption('toolbar_mode',{processor:'string',default:isMobile?'scrolling':'floating'});registerOption('toolbar_groups',{processor:'object',default:{}});registerOption('toolbar_location',{processor:'string',default:ToolbarLocation$1.auto});registerOption('toolbar_persist',{processor:'boolean',default:false});registerOption('toolbar_sticky',{processor:'boolean',default:editor.inline});registerOption('toolbar_sticky_offset',{processor:'number',default:0});registerOption('fixed_toolbar_container',{processor:'string',default:''});registerOption('fixed_toolbar_container_target',{processor:'object'});registerOption('file_picker_callback',{processor:'function'});registerOption('file_picker_validator_handler',{processor:'function'});registerOption('file_picker_types',{processor:'string'});registerOption('typeahead_urls',{processor:'boolean',default:true});registerOption('anchor_top',{processor:stringOrFalseProcessor,default:'#top'});registerOption('anchor_bottom',{processor:stringOrFalseProcessor,default:'#bottom'});registerOption('draggable_modal',{processor:'boolean',default:false});registerOption('statusbar',{processor:'boolean',default:true});registerOption('elementpath',{processor:'boolean',default:true});registerOption('branding',{processor:'boolean',default:true});registerOption('promotion',{processor:'boolean',default:true});registerOption('resize',{processor:value=>value==='both'||isBoolean(value),default:!global$5.deviceType.isTouch()});registerOption('sidebar_show',{processor:'string'});};const isReadOnly=option$2('readonly');const getHeightOption=option$2('height');const getWidthOption=option$2('width');const getMinWidthOption=wrapOptional(option$2('min_width'));const getMinHeightOption=wrapOptional(option$2('min_height'));const getMaxWidthOption=wrapOptional(option$2('max_width'));const getMaxHeightOption=wrapOptional(option$2('max_height'));const getUserStyleFormats=wrapOptional(option$2('style_formats'));const shouldMergeStyleFormats=option$2('style_formats_merge');const shouldAutoHideStyleFormats=option$2('style_formats_autohide');const getContentLanguages=option$2('content_langs');const getRemovedMenuItems=option$2('removed_menuitems');const getToolbarMode=option$2('toolbar_mode');const getToolbarGroups=option$2('toolbar_groups');const getToolbarLocation=option$2('toolbar_location');const fixedContainerSelector=option$2('fixed_toolbar_container');const fixedToolbarContainerTarget=option$2('fixed_toolbar_container_target');const isToolbarPersist=option$2('toolbar_persist');const getStickyToolbarOffset=option$2('toolbar_sticky_offset');const getMenubar=option$2('menubar');const getToolbar=option$2('toolbar');const getFilePickerCallback=option$2('file_picker_callback');const getFilePickerValidatorHandler=option$2('file_picker_validator_handler');const getFilePickerTypes=option$2('file_picker_types');const useTypeaheadUrls=option$2('typeahead_urls');const getAnchorTop=option$2('anchor_top');const getAnchorBottom=option$2('anchor_bottom');const isDraggableModal$1=option$2('draggable_modal');const useStatusBar=option$2('statusbar');const useElementPath=option$2('elementpath');const useBranding=option$2('branding');const getResize=option$2('resize');const getPasteAsText=option$2('paste_as_text');const getSidebarShow=option$2('sidebar_show');const promotionEnabled=option$2('promotion');const isSkinDisabled=editor=>editor.options.get('skin')===false;const isMenubarEnabled=editor=>editor.options.get('menubar')!==false;const getSkinUrl=editor=>{const skinUrl=editor.options.get('skin_url');if(isSkinDisabled(editor)){return skinUrl;}else{if(skinUrl){return editor.documentBaseURI.toAbsolute(skinUrl);}else{const skin=editor.options.get('skin');return global$6.baseURL+'/skins/ui/'+skin;}}};const getLineHeightFormats=editor=>editor.options.get('line_height_formats').split(' ');const isToolbarEnabled=editor=>{const toolbar=getToolbar(editor);const isToolbarString=isString(toolbar);const isToolbarObjectArray=isArray(toolbar)&&toolbar.length>0;return!isMultipleToolbars(editor)&&(isToolbarObjectArray||isToolbarString||toolbar===true);};const getMultipleToolbarsOption=editor=>{const toolbars=range$2(9,num=>editor.options.get('toolbar'+(num+1)));const toolbarArray=filter$2(toolbars,isString);return someIf(toolbarArray.length>0,toolbarArray);};const isMultipleToolbars=editor=>getMultipleToolbarsOption(editor).fold(()=>{const toolbar=getToolbar(editor);return isArrayOf(toolbar,isString)&&toolbar.length>0;},always);const isToolbarLocationBottom=editor=>getToolbarLocation(editor)===ToolbarLocation$1.bottom;const fixedContainerTarget=editor=>{var _a;if(!editor.inline){return Optional.none();}const selector=(_a=fixedContainerSelector(editor))!==null&&_a!==void 0?_a:'';if(selector.length>0){return descendant(body(),selector);}const element=fixedToolbarContainerTarget(editor);if(isNonNullable(element)){return Optional.some(SugarElement.fromDom(element));}return Optional.none();};const useFixedContainer=editor=>editor.inline&&fixedContainerTarget(editor).isSome();const getUiContainer=editor=>{const fixedContainer=fixedContainerTarget(editor);return fixedContainer.getOrThunk(()=>getContentContainer(getRootNode(SugarElement.fromDom(editor.getElement()))));};const isDistractionFree=editor=>editor.inline&&!isMenubarEnabled(editor)&&!isToolbarEnabled(editor)&&!isMultipleToolbars(editor);const isStickyToolbar=editor=>{const isStickyToolbar=editor.options.get('toolbar_sticky');return(isStickyToolbar||editor.inline)&&!useFixedContainer(editor)&&!isDistractionFree(editor);};const getMenus=editor=>{const menu=editor.options.get('menu');return map$1(menu,menu=>({...menu,items:menu.items}));};var Options=/*#__PURE__*/Object.freeze({__proto__:null,get ToolbarMode(){return ToolbarMode$1;},get ToolbarLocation(){return ToolbarLocation$1;},register:register$e,getSkinUrl:getSkinUrl,isReadOnly:isReadOnly,isSkinDisabled:isSkinDisabled,getHeightOption:getHeightOption,getWidthOption:getWidthOption,getMinWidthOption:getMinWidthOption,getMinHeightOption:getMinHeightOption,getMaxWidthOption:getMaxWidthOption,getMaxHeightOption:getMaxHeightOption,getUserStyleFormats:getUserStyleFormats,shouldMergeStyleFormats:shouldMergeStyleFormats,shouldAutoHideStyleFormats:shouldAutoHideStyleFormats,getLineHeightFormats:getLineHeightFormats,getContentLanguages:getContentLanguages,getRemovedMenuItems:getRemovedMenuItems,isMenubarEnabled:isMenubarEnabled,isMultipleToolbars:isMultipleToolbars,isToolbarEnabled:isToolbarEnabled,isToolbarPersist:isToolbarPersist,getMultipleToolbarsOption:getMultipleToolbarsOption,getUiContainer:getUiContainer,useFixedContainer:useFixedContainer,getToolbarMode:getToolbarMode,isDraggableModal:isDraggableModal$1,isDistractionFree:isDistractionFree,isStickyToolbar:isStickyToolbar,getStickyToolbarOffset:getStickyToolbarOffset,getToolbarLocation:getToolbarLocation,isToolbarLocationBottom:isToolbarLocationBottom,getToolbarGroups:getToolbarGroups,getMenus:getMenus,getMenubar:getMenubar,getToolbar:getToolbar,getFilePickerCallback:getFilePickerCallback,getFilePickerTypes:getFilePickerTypes,useTypeaheadUrls:useTypeaheadUrls,getAnchorTop:getAnchorTop,getAnchorBottom:getAnchorBottom,getFilePickerValidatorHandler:getFilePickerValidatorHandler,useStatusBar:useStatusBar,useElementPath:useElementPath,promotionEnabled:promotionEnabled,useBranding:useBranding,getResize:getResize,getPasteAsText:getPasteAsText,getSidebarShow:getSidebarShow});const autocompleteSelector='[data-mce-autocompleter]';const detect=elm=>closest$1(elm,autocompleteSelector);const findIn=elm=>descendant(elm,autocompleteSelector);const setup$e=(api,editor)=>{const redirectKeyToItem=(item,e)=>{emitWith(item,keydown(),{raw:e});};const getItem=()=>api.getMenu().bind(Highlighting.getHighlighted);editor.on('keydown',e=>{const keyCode=e.which;if(!api.isActive()){return;}if(api.isMenuOpen()){if(keyCode===13){getItem().each(emitExecute);e.preventDefault();}else if(keyCode===40){getItem().fold(()=>{api.getMenu().each(Highlighting.highlightFirst);},item=>{redirectKeyToItem(item,e);});e.preventDefault();e.stopImmediatePropagation();}else if(keyCode===37||keyCode===38||keyCode===39){getItem().each(item=>{redirectKeyToItem(item,e);e.preventDefault();e.stopImmediatePropagation();});}}else{if(keyCode===13||keyCode===38||keyCode===40){api.cancelIfNecessary();}}});editor.on('NodeChange',e=>{if(api.isActive()&&!api.isProcessingAction()&&detect(SugarElement.fromDom(e.element)).isNone()){api.cancelIfNecessary();}});};const AutocompleterEditorEvents={setup:setup$e};var ItemResponse;(function(ItemResponse){ItemResponse[ItemResponse['CLOSE_ON_EXECUTE']=0]='CLOSE_ON_EXECUTE';ItemResponse[ItemResponse['BUBBLE_TO_SANDBOX']=1]='BUBBLE_TO_SANDBOX';})(ItemResponse||(ItemResponse={}));var ItemResponse$1=ItemResponse;const navClass='tox-menu-nav__js';const selectableClass='tox-collection__item';const colorClass='tox-swatch';const presetClasses={normal:navClass,color:colorClass};const tickedClass='tox-collection__item--enabled';const groupHeadingClass='tox-collection__group-heading';const iconClass='tox-collection__item-icon';const textClass='tox-collection__item-label';const accessoryClass='tox-collection__item-accessory';const caretClass='tox-collection__item-caret';const checkmarkClass='tox-collection__item-checkmark';const activeClass='tox-collection__item--active';const containerClass='tox-collection__item-container';const containerColumnClass='tox-collection__item-container--column';const containerRowClass='tox-collection__item-container--row';const containerAlignRightClass='tox-collection__item-container--align-right';const containerAlignLeftClass='tox-collection__item-container--align-left';const containerValignTopClass='tox-collection__item-container--valign-top';const containerValignMiddleClass='tox-collection__item-container--valign-middle';const containerValignBottomClass='tox-collection__item-container--valign-bottom';const classForPreset=presets=>get$g(presetClasses,presets).getOr(navClass);const forMenu=presets=>{if(presets==='color'){return'tox-swatches';}else{return'tox-menu';}};const classes=presets=>({backgroundMenu:'tox-background-menu',selectedMenu:'tox-selected-menu',selectedItem:'tox-collection__item--active',hasIcons:'tox-menu--has-icons',menu:forMenu(presets),tieredMenu:'tox-tiered-menu'});const markers=presets=>{const menuClasses=classes(presets);return{backgroundMenu:menuClasses.backgroundMenu,selectedMenu:menuClasses.selectedMenu,menu:menuClasses.menu,selectedItem:menuClasses.selectedItem,item:classForPreset(presets)};};const dom$1=(hasIcons,columns,presets)=>{const menuClasses=classes(presets);return{tag:'div',classes:flatten([[menuClasses.menu,`tox-menu-${columns}-column`],hasIcons?[menuClasses.hasIcons]:[]])};};const components=[Menu.parts.items({})];const part=(hasIcons,columns,presets)=>{const menuClasses=classes(presets);const d={tag:'div',classes:flatten([[menuClasses.tieredMenu]])};return{dom:d,markers:markers(presets)};};const schema$l=constant$1([option$3('data'),defaulted('inputAttributes',{}),defaulted('inputStyles',{}),defaulted('tag','input'),defaulted('inputClasses',[]),onHandler('onSetValue'),defaulted('styles',{}),defaulted('eventOrder',{}),field('inputBehaviours',[Representing,Focusing]),defaulted('selectOnFocus',true)]);const focusBehaviours=detail=>derive$1([Focusing.config({onFocus:!detail.selectOnFocus?noop:component=>{const input=component.element;const value=get$6(input);input.dom.setSelectionRange(0,value.length);}})]);const behaviours=detail=>({...focusBehaviours(detail),...augment(detail.inputBehaviours,[Representing.config({store:{mode:'manual',...detail.data.map(data=>({initialValue:data})).getOr({}),getValue:input=>{return get$6(input.element);},setValue:(input,data)=>{const current=get$6(input.element);if(current!==data){set$5(input.element,data);}}},onSetValue:detail.onSetValue})])});const dom=detail=>({tag:detail.tag,attributes:{type:'text',...detail.inputAttributes},styles:detail.inputStyles,classes:detail.inputClasses});const factory$j=(detail,_spec)=>({uid:detail.uid,dom:dom(detail),components:[],behaviours:behaviours(detail),eventOrder:detail.eventOrder});const Input=single({name:'Input',configFields:schema$l(),factory:factory$j});const refetchTriggerEvent=generate$6('refetch-trigger-event');const redirectMenuItemInteractionEvent=generate$6('redirect-menu-item-interaction');const menuSearcherClass='tox-menu__searcher';const findWithinSandbox=sandboxComp=>{return descendant(sandboxComp.element,`.${menuSearcherClass}`).bind(inputElem=>sandboxComp.getSystem().getByDom(inputElem).toOptional());};const findWithinMenu=findWithinSandbox;const restoreState=(inputComp,searcherState)=>{Representing.setValue(inputComp,searcherState.fetchPattern);inputComp.element.dom.selectionStart=searcherState.selectionStart;inputComp.element.dom.selectionEnd=searcherState.selectionEnd;};const saveState=inputComp=>{const fetchPattern=Representing.getValue(inputComp);const selectionStart=inputComp.element.dom.selectionStart;const selectionEnd=inputComp.element.dom.selectionEnd;return{fetchPattern,selectionStart,selectionEnd};};const setActiveDescendant=(inputComp,active)=>{getOpt(active.element,'id').each(id=>set$9(inputComp.element,'aria-activedescendant',id));};const renderMenuSearcher=spec=>{const handleByBrowser=(comp,se)=>{se.cut();return Optional.none();};const handleByHighlightedItem=(comp,se)=>{const eventData={interactionEvent:se.event,eventType:se.event.raw.type};emitWith(comp,redirectMenuItemInteractionEvent,eventData);return Optional.some(true);};const customSearcherEventsName='searcher-events';return{dom:{tag:'div',classes:[selectableClass]},components:[Input.sketch({inputClasses:[menuSearcherClass,'tox-textfield'],inputAttributes:{...spec.placeholder.map(placeholder=>({placeholder:spec.i18n(placeholder)})).getOr({}),'type':'search','aria-autocomplete':'list'},inputBehaviours:derive$1([config(customSearcherEventsName,[run$1(input(),inputComp=>{emit(inputComp,refetchTriggerEvent);}),run$1(keydown(),(inputComp,se)=>{if(se.event.raw.key==='Escape'){se.stop();}})]),Keying.config({mode:'special',onLeft:handleByBrowser,onRight:handleByBrowser,onSpace:handleByBrowser,onEnter:handleByHighlightedItem,onEscape:handleByHighlightedItem,onUp:handleByHighlightedItem,onDown:handleByHighlightedItem})]),eventOrder:{keydown:[customSearcherEventsName,Keying.name()]}})]};};const searchResultsClass='tox-collection--results__js';const augmentWithAria=item=>{var _a;if(item.dom){return{...item,dom:{...item.dom,attributes:{...((_a=item.dom.attributes)!==null&&_a!==void 0?_a:{}),'id':generate$6('aria-item-search-result-id'),'aria-selected':'false'}}};}else{return item;}};const chunk=(rowDom,numColumns)=>items=>{const chunks=chunk$1(items,numColumns);return map$2(chunks,c=>({dom:rowDom,components:c}));};const forSwatch=columns=>({dom:{tag:'div',classes:['tox-menu','tox-swatches-menu']},components:[{dom:{tag:'div',classes:['tox-swatches']},components:[Menu.parts.items({preprocess:columns!=='auto'?chunk({tag:'div',classes:['tox-swatches__row']},columns):identity})]}]});const forToolbar=columns=>({dom:{tag:'div',classes:['tox-menu','tox-collection','tox-collection--toolbar','tox-collection--toolbar-lg']},components:[Menu.parts.items({preprocess:chunk({tag:'div',classes:['tox-collection__group']},columns)})]});const preprocessCollection=(items,isSeparator)=>{const allSplits=[];let currentSplit=[];each$1(items,(item,i)=>{if(isSeparator(item,i)){if(currentSplit.length>0){allSplits.push(currentSplit);}currentSplit=[];if(has$2(item.dom,'innerHtml')||item.components&&item.components.length>0){currentSplit.push(item);}}else{currentSplit.push(item);}});if(currentSplit.length>0){allSplits.push(currentSplit);}return map$2(allSplits,s=>({dom:{tag:'div',classes:['tox-collection__group']},components:s}));};const insertItemsPlaceholder=(columns,initItems,onItem)=>{return Menu.parts.items({preprocess:rawItems=>{const enrichedItems=map$2(rawItems,onItem);if(columns!=='auto'&&columns>1){return chunk({tag:'div',classes:['tox-collection__group']},columns)(enrichedItems);}else{return preprocessCollection(enrichedItems,(_item,i)=>initItems[i].type==='separator');}}});};const forCollection=(columns,initItems,_hasIcons=true)=>({dom:{tag:'div',classes:['tox-menu','tox-collection'].concat(columns===1?['tox-collection--list']:['tox-collection--grid'])},components:[insertItemsPlaceholder(columns,initItems,identity)]});const forCollectionWithSearchResults=(columns,initItems,_hasIcons=true)=>{const ariaControlsSearchResults=generate$6('aria-controls-search-results');return{dom:{tag:'div',classes:['tox-menu','tox-collection',searchResultsClass].concat(columns===1?['tox-collection--list']:['tox-collection--grid']),attributes:{id:ariaControlsSearchResults}},components:[insertItemsPlaceholder(columns,initItems,augmentWithAria)]};};const forCollectionWithSearchField=(columns,initItems,searchField)=>{const ariaControlsSearchResults=generate$6('aria-controls-search-results');return{dom:{tag:'div',classes:['tox-menu','tox-collection'].concat(columns===1?['tox-collection--list']:['tox-collection--grid'])},components:[renderMenuSearcher({i18n:global$8.translate,placeholder:searchField.placeholder}),{dom:{tag:'div',classes:[...(columns===1?['tox-collection--list']:['tox-collection--grid']),searchResultsClass],attributes:{id:ariaControlsSearchResults}},components:[insertItemsPlaceholder(columns,initItems,augmentWithAria)]}]};};const forHorizontalCollection=(initItems,_hasIcons=true)=>({dom:{tag:'div',classes:['tox-collection','tox-collection--horizontal']},components:[Menu.parts.items({preprocess:items=>preprocessCollection(items,(_item,i)=>initItems[i].type==='separator')})]});const menuHasIcons=xs=>exists(xs,item=>'icon'in item&&item.icon!==undefined);const handleError=error=>{console.error(formatError(error));console.log(error);return Optional.none();};const createHorizontalPartialMenuWithAlloyItems=(value,_hasIcons,items,_columns,_menuLayout)=>{const structure=forHorizontalCollection(items);return{value,dom:structure.dom,components:structure.components,items};};const createPartialMenuWithAlloyItems=(value,hasIcons,items,columns,menuLayout)=>{const getNormalStructure=()=>{if(menuLayout.menuType!=='searchable'){return forCollection(columns,items);}else{return menuLayout.searchMode.searchMode==='search-with-field'?forCollectionWithSearchField(columns,items,menuLayout.searchMode):forCollectionWithSearchResults(columns,items);}};if(menuLayout.menuType==='color'){const structure=forSwatch(columns);return{value,dom:structure.dom,components:structure.components,items};}else if(menuLayout.menuType==='normal'&&columns==='auto'){const structure=forCollection(columns,items);return{value,dom:structure.dom,components:structure.components,items};}else if(menuLayout.menuType==='normal'||menuLayout.menuType==='searchable'){const structure=getNormalStructure();return{value,dom:structure.dom,components:structure.components,items};}else if(menuLayout.menuType==='listpreview'&&columns!=='auto'){const structure=forToolbar(columns);return{value,dom:structure.dom,components:structure.components,items};}else{return{value,dom:dom$1(hasIcons,columns,menuLayout.menuType),components:components,items};}};const type=requiredString('type');const name$1=requiredString('name');const label=requiredString('label');const text=requiredString('text');const title=requiredString('title');const icon=requiredString('icon');const value$1=requiredString('value');const fetch$1=requiredFunction('fetch');const getSubmenuItems=requiredFunction('getSubmenuItems');const onAction=requiredFunction('onAction');const onItemAction=requiredFunction('onItemAction');const onSetup=defaultedFunction('onSetup',()=>noop);const optionalName=optionString('name');const optionalText=optionString('text');const optionalIcon=optionString('icon');const optionalTooltip=optionString('tooltip');const optionalLabel=optionString('label');const optionalShortcut=optionString('shortcut');const optionalSelect=optionFunction('select');const active=defaultedBoolean('active',false);const borderless=defaultedBoolean('borderless',false);const enabled=defaultedBoolean('enabled',true);const primary=defaultedBoolean('primary',false);const defaultedColumns=num=>defaulted('columns',num);const defaultedMeta=defaulted('meta',{});const defaultedOnAction=defaultedFunction('onAction',noop);const defaultedType=type=>defaultedString('type',type);const generatedName=namePrefix=>field$1('name','name',defaultedThunk(()=>generate$6(`${namePrefix}-name`)),string);const generatedValue=valuePrefix=>field$1('value','value',defaultedThunk(()=>generate$6(`${valuePrefix}-value`)),anyValue());const separatorMenuItemSchema=objOf([type,optionalText]);const createSeparatorMenuItem=spec=>asRaw('separatormenuitem',separatorMenuItemSchema,spec);const autocompleterItemSchema=objOf([defaultedType('autocompleteitem'),active,enabled,defaultedMeta,value$1,optionalText,optionalIcon]);const createSeparatorItem=spec=>asRaw('Autocompleter.Separator',separatorMenuItemSchema,spec);const createAutocompleterItem=spec=>asRaw('Autocompleter.Item',autocompleterItemSchema,spec);const baseToolbarButtonFields=[enabled,optionalTooltip,optionalIcon,optionalText,onSetup];const toolbarButtonSchema=objOf([type,onAction].concat(baseToolbarButtonFields));const createToolbarButton=spec=>asRaw('toolbarbutton',toolbarButtonSchema,spec);const baseToolbarToggleButtonFields=[active].concat(baseToolbarButtonFields);const toggleButtonSchema=objOf(baseToolbarToggleButtonFields.concat([type,onAction]));const createToggleButton=spec=>asRaw('ToggleButton',toggleButtonSchema,spec);const contextBarFields=[defaultedFunction('predicate',never),defaultedStringEnum('scope','node',['node','editor']),defaultedStringEnum('position','selection',['node','selection','line'])];const contextButtonFields=baseToolbarButtonFields.concat([defaultedType('contextformbutton'),primary,onAction,customField('original',identity)]);const contextToggleButtonFields=baseToolbarToggleButtonFields.concat([defaultedType('contextformbutton'),primary,onAction,customField('original',identity)]);const launchButtonFields=baseToolbarButtonFields.concat([defaultedType('contextformbutton')]);const launchToggleButtonFields=baseToolbarToggleButtonFields.concat([defaultedType('contextformtogglebutton')]);const toggleOrNormal=choose$1('type',{contextformbutton:contextButtonFields,contextformtogglebutton:contextToggleButtonFields});const contextFormSchema=objOf([defaultedType('contextform'),defaultedFunction('initValue',constant$1('')),optionalLabel,requiredArrayOf('commands',toggleOrNormal),optionOf('launch',choose$1('type',{contextformbutton:launchButtonFields,contextformtogglebutton:launchToggleButtonFields}))].concat(contextBarFields));const createContextForm=spec=>asRaw('ContextForm',contextFormSchema,spec);const contextToolbarSchema=objOf([defaultedType('contexttoolbar'),requiredString('items')].concat(contextBarFields));const createContextToolbar=spec=>asRaw('ContextToolbar',contextToolbarSchema,spec);const cardImageFields=[type,requiredString('src'),optionString('alt'),defaultedArrayOf('classes',[],string)];const cardImageSchema=objOf(cardImageFields);const cardTextFields=[type,text,optionalName,defaultedArrayOf('classes',['tox-collection__item-label'],string)];const cardTextSchema=objOf(cardTextFields);const itemSchema$1=valueThunk(()=>choose$2('type',{cardimage:cardImageSchema,cardtext:cardTextSchema,cardcontainer:cardContainerSchema}));const cardContainerSchema=objOf([type,defaultedString('direction','horizontal'),defaultedString('align','left'),defaultedString('valign','middle'),requiredArrayOf('items',itemSchema$1)]);const commonMenuItemFields=[enabled,optionalText,optionalShortcut,generatedValue('menuitem'),defaultedMeta];const cardMenuItemSchema=objOf([type,optionalLabel,requiredArrayOf('items',itemSchema$1),onSetup,defaultedOnAction].concat(commonMenuItemFields));const createCardMenuItem=spec=>asRaw('cardmenuitem',cardMenuItemSchema,spec);const choiceMenuItemSchema=objOf([type,active,optionalIcon].concat(commonMenuItemFields));const createChoiceMenuItem=spec=>asRaw('choicemenuitem',choiceMenuItemSchema,spec);const baseFields=[type,requiredString('fancytype'),defaultedOnAction];const insertTableFields=[defaulted('initData',{})].concat(baseFields);const colorSwatchFields=[defaultedObjOf('initData',{},[defaultedBoolean('allowCustomColors',true),optionArrayOf('colors',anyValue())])].concat(baseFields);const fancyMenuItemSchema=choose$1('fancytype',{inserttable:insertTableFields,colorswatch:colorSwatchFields});const createFancyMenuItem=spec=>asRaw('fancymenuitem',fancyMenuItemSchema,spec);const menuItemSchema=objOf([type,onSetup,defaultedOnAction,optionalIcon].concat(commonMenuItemFields));const createMenuItem=spec=>asRaw('menuitem',menuItemSchema,spec);const nestedMenuItemSchema=objOf([type,getSubmenuItems,onSetup,optionalIcon].concat(commonMenuItemFields));const createNestedMenuItem=spec=>asRaw('nestedmenuitem',nestedMenuItemSchema,spec);const toggleMenuItemSchema=objOf([type,optionalIcon,active,onSetup,onAction].concat(commonMenuItemFields));const createToggleMenuItem=spec=>asRaw('togglemenuitem',toggleMenuItemSchema,spec);const detectSize=(comp,margin,selectorClass)=>{const descendants$1=descendants(comp.element,'.'+selectorClass);if(descendants$1.length>0){const columnLength=findIndex$1(descendants$1,c=>{const thisTop=c.dom.getBoundingClientRect().top;const cTop=descendants$1[0].dom.getBoundingClientRect().top;return Math.abs(thisTop-cTop)>margin;}).getOr(descendants$1.length);return Optional.some({numColumns:columnLength,numRows:Math.ceil(descendants$1.length/columnLength)});}else{return Optional.none();}};const namedEvents=(name,handlers)=>derive$1([config(name,handlers)]);const unnamedEvents=handlers=>namedEvents(generate$6('unnamed-events'),handlers);const SimpleBehaviours={namedEvents,unnamedEvents};const ExclusivityChannel=generate$6('tooltip.exclusive');const ShowTooltipEvent=generate$6('tooltip.show');const HideTooltipEvent=generate$6('tooltip.hide');const hideAllExclusive=(component,_tConfig,_tState)=>{component.getSystem().broadcastOn([ExclusivityChannel],{});};const setComponents=(component,tConfig,tState,specs)=>{tState.getTooltip().each(tooltip=>{if(tooltip.getSystem().isConnected()){Replacing.set(tooltip,specs);}});};var TooltippingApis=/*#__PURE__*/Object.freeze({__proto__:null,hideAllExclusive:hideAllExclusive,setComponents:setComponents});const events$9=(tooltipConfig,state)=>{const hide=comp=>{state.getTooltip().each(p=>{detach(p);tooltipConfig.onHide(comp,p);state.clearTooltip();});state.clearTimer();};const show=comp=>{if(!state.isShowing()){hideAllExclusive(comp);const sink=tooltipConfig.lazySink(comp).getOrDie();const popup=comp.getSystem().build({dom:tooltipConfig.tooltipDom,components:tooltipConfig.tooltipComponents,events:derive$2(tooltipConfig.mode==='normal'?[run$1(mouseover(),_=>{emit(comp,ShowTooltipEvent);}),run$1(mouseout(),_=>{emit(comp,HideTooltipEvent);})]:[]),behaviours:derive$1([Replacing.config({})])});state.setTooltip(popup);attach(sink,popup);tooltipConfig.onShow(comp,popup);Positioning.position(sink,popup,{anchor:tooltipConfig.anchor(comp)});}};return derive$2(flatten([[run$1(ShowTooltipEvent,comp=>{state.resetTimer(()=>{show(comp);},tooltipConfig.delay);}),run$1(HideTooltipEvent,comp=>{state.resetTimer(()=>{hide(comp);},tooltipConfig.delay);}),run$1(receive(),(comp,message)=>{const receivingData=message;if(!receivingData.universal){if(contains$2(receivingData.channels,ExclusivityChannel)){hide(comp);}}}),runOnDetached(comp=>{hide(comp);})],tooltipConfig.mode==='normal'?[run$1(focusin(),comp=>{emit(comp,ShowTooltipEvent);}),run$1(postBlur(),comp=>{emit(comp,HideTooltipEvent);}),run$1(mouseover(),comp=>{emit(comp,ShowTooltipEvent);}),run$1(mouseout(),comp=>{emit(comp,HideTooltipEvent);})]:[run$1(highlight$1(),(comp,_se)=>{emit(comp,ShowTooltipEvent);}),run$1(dehighlight$1(),comp=>{emit(comp,HideTooltipEvent);})]]));};var ActiveTooltipping=/*#__PURE__*/Object.freeze({__proto__:null,events:events$9});var TooltippingSchema=[required$1('lazySink'),required$1('tooltipDom'),defaulted('exclusive',true),defaulted('tooltipComponents',[]),defaulted('delay',300),defaultedStringEnum('mode','normal',['normal','follow-highlight']),defaulted('anchor',comp=>({type:'hotspot',hotspot:comp,layouts:{onLtr:constant$1([south$2,north$2,southeast$2,northeast$2,southwest$2,northwest$2]),onRtl:constant$1([south$2,north$2,southeast$2,northeast$2,southwest$2,northwest$2])}})),onHandler('onHide'),onHandler('onShow')];const init$b=()=>{const timer=value$2();const popup=value$2();const clearTimer=()=>{timer.on(clearTimeout);};const resetTimer=(f,delay)=>{clearTimer();timer.set(setTimeout(f,delay));};const readState=constant$1('not-implemented');return nu$8({getTooltip:popup.get,isShowing:popup.isSet,setTooltip:popup.set,clearTooltip:popup.clear,clearTimer,resetTimer,readState});};var TooltippingState=/*#__PURE__*/Object.freeze({__proto__:null,init:init$b});const Tooltipping=create$3({fields:TooltippingSchema,name:'tooltipping',active:ActiveTooltipping,state:TooltippingState,apis:TooltippingApis});const escape=text=>text.replace(/[.*+?^${}()|[\\]\\\\]/g,'\\\\$&');const ReadOnlyChannel='silver.readonly';const ReadOnlyDataSchema=objOf([requiredBoolean('readonly')]);const broadcastReadonly=(uiComponents,readonly)=>{const outerContainer=uiComponents.outerContainer;const target=outerContainer.element;if(readonly){uiComponents.mothership.broadcastOn([dismissPopups()],{target});uiComponents.uiMothership.broadcastOn([dismissPopups()],{target});}uiComponents.mothership.broadcastOn([ReadOnlyChannel],{readonly});uiComponents.uiMothership.broadcastOn([ReadOnlyChannel],{readonly});};const setupReadonlyModeSwitch=(editor,uiComponents)=>{editor.on('init',()=>{if(editor.mode.isReadOnly()){broadcastReadonly(uiComponents,true);}});editor.on('SwitchMode',()=>broadcastReadonly(uiComponents,editor.mode.isReadOnly()));if(isReadOnly(editor)){editor.mode.set('readonly');}};const receivingConfig=()=>Receiving.config({channels:{[ReadOnlyChannel]:{schema:ReadOnlyDataSchema,onReceive:(comp,data)=>{Disabling.set(comp,data.readonly);}}}});const item=disabled=>Disabling.config({disabled,disableClass:'tox-collection__item--state-disabled'});const button=disabled=>Disabling.config({disabled});const splitButton=disabled=>Disabling.config({disabled,disableClass:'tox-tbtn--disabled'});const toolbarButton=disabled=>Disabling.config({disabled,disableClass:'tox-tbtn--disabled',useNative:false});const DisablingConfigs={item,button,splitButton,toolbarButton};const runWithApi=(info,comp)=>{const api=info.getApi(comp);return f=>{f(api);};};const onControlAttached=(info,editorOffCell)=>runOnAttached(comp=>{const run=runWithApi(info,comp);run(api=>{const onDestroy=info.onSetup(api);if(isFunction(onDestroy)){editorOffCell.set(onDestroy);}});});const onControlDetached=(getApi,editorOffCell)=>runOnDetached(comp=>runWithApi(getApi,comp)(editorOffCell.get()));const onMenuItemExecute=(info,itemResponse)=>runOnExecute$1((comp,simulatedEvent)=>{runWithApi(info,comp)(info.onAction);if(!info.triggersSubmenu&&itemResponse===ItemResponse$1.CLOSE_ON_EXECUTE){if(comp.getSystem().isConnected()){emit(comp,sandboxClose());}simulatedEvent.stop();}});const menuItemEventOrder={[execute$5()]:['disabling','alloy.base.behaviour','toggling','item-events']};const componentRenderPipeline=cat;const renderCommonItem=(spec,structure,itemResponse,providersBackstage)=>{const editorOffCell=Cell(noop);return{type:'item',dom:structure.dom,components:componentRenderPipeline(structure.optComponents),data:spec.data,eventOrder:menuItemEventOrder,hasSubmenu:spec.triggersSubmenu,itemBehaviours:derive$1([config('item-events',[onMenuItemExecute(spec,itemResponse),onControlAttached(spec,editorOffCell),onControlDetached(spec,editorOffCell)]),DisablingConfigs.item(()=>!spec.enabled||providersBackstage.isDisabled()),receivingConfig(),Replacing.config({})].concat(spec.itemBehaviours))};};const buildData=source=>({value:source.value,meta:{text:source.text.getOr(''),...source.meta}});const convertText=source=>{const isMac=global$5.os.isMacOS()||global$5.os.isiOS();const mac={alt:'\\u2325',ctrl:'\\u2303',shift:'\\u21E7',meta:'\\u2318',access:'\\u2303\\u2325'};const other={meta:'Ctrl',access:'Shift+Alt'};const replace=isMac?mac:other;const shortcut=source.split('+');const updated=map$2(shortcut,segment=>{const search=segment.toLowerCase().trim();return has$2(replace,search)?replace[search]:segment;});return isMac?updated.join(''):updated.join('+');};const renderIcon$1=(name,icons,classes=[iconClass])=>render$3(name,{tag:'div',classes},icons);const renderText=text=>({dom:{tag:'div',classes:[textClass]},components:[text$1(global$8.translate(text))]});const renderHtml=(html,classes)=>({dom:{tag:'div',classes,innerHtml:html}});const renderStyledText=(style,text)=>({dom:{tag:'div',classes:[textClass]},components:[{dom:{tag:style.tag,styles:style.styles},components:[text$1(global$8.translate(text))]}]});const renderShortcut=shortcut=>({dom:{tag:'div',classes:[accessoryClass]},components:[text$1(convertText(shortcut))]});const renderCheckmark=icons=>renderIcon$1('checkmark',icons,[checkmarkClass]);const renderSubmenuCaret=icons=>renderIcon$1('chevron-right',icons,[caretClass]);const renderDownwardsCaret=icons=>renderIcon$1('chevron-down',icons,[caretClass]);const renderContainer=(container,components)=>{const directionClass=container.direction==='vertical'?containerColumnClass:containerRowClass;const alignClass=container.align==='left'?containerAlignLeftClass:containerAlignRightClass;const getValignClass=()=>{switch(container.valign){case'top':return containerValignTopClass;case'middle':return containerValignMiddleClass;case'bottom':return containerValignBottomClass;}};return{dom:{tag:'div',classes:[containerClass,directionClass,alignClass,getValignClass()]},components};};const renderImage=(src,classes,alt)=>({dom:{tag:'img',classes,attributes:{src,alt:alt.getOr('')}}});const renderColorStructure=(item,providerBackstage,fallbackIcon)=>{const colorPickerCommand='custom';const removeColorCommand='remove';const itemText=item.ariaLabel;const itemValue=item.value;const iconSvg=item.iconContent.map(name=>getOr(name,providerBackstage.icons,fallbackIcon));const getDom=()=>{const common=colorClass;const icon=iconSvg.getOr('');const attributes=itemText.map(text=>({title:providerBackstage.translate(text)})).getOr({});const baseDom={tag:'div',attributes,classes:[common]};if(itemValue===colorPickerCommand){return{...baseDom,tag:'button',classes:[...baseDom.classes,'tox-swatches__picker-btn'],innerHtml:icon};}else if(itemValue===removeColorCommand){return{...baseDom,classes:[...baseDom.classes,'tox-swatch--remove'],innerHtml:icon};}else if(isNonNullable(itemValue)){return{...baseDom,attributes:{...baseDom.attributes,'data-mce-color':itemValue},styles:{'background-color':itemValue}};}else{return baseDom;}};return{dom:getDom(),optComponents:[]};};const renderItemDomStructure=ariaLabel=>{const domTitle=ariaLabel.map(label=>({attributes:{title:global$8.translate(label)}})).getOr({});return{tag:'div',classes:[navClass,selectableClass],...domTitle};};const renderNormalItemStructure=(info,providersBackstage,renderIcons,fallbackIcon)=>{const iconSpec={tag:'div',classes:[iconClass]};const renderIcon=iconName=>render$3(iconName,iconSpec,providersBackstage.icons,fallbackIcon);const renderEmptyIcon=()=>Optional.some({dom:iconSpec});const leftIcon=renderIcons?info.iconContent.map(renderIcon).orThunk(renderEmptyIcon):Optional.none();const checkmark=info.checkMark;const textRender=Optional.from(info.meta).fold(()=>renderText,meta=>has$2(meta,'style')?curry(renderStyledText,meta.style):renderText);const content=info.htmlContent.fold(()=>info.textContent.map(textRender),html=>Optional.some(renderHtml(html,[textClass])));const menuItem={dom:renderItemDomStructure(info.ariaLabel),optComponents:[leftIcon,content,info.shortcutContent.map(renderShortcut),checkmark,info.caret]};return menuItem;};const renderItemStructure=(info,providersBackstage,renderIcons,fallbackIcon=Optional.none())=>{if(info.presets==='color'){return renderColorStructure(info,providersBackstage,fallbackIcon);}else{return renderNormalItemStructure(info,providersBackstage,renderIcons,fallbackIcon);}};const tooltipBehaviour=(meta,sharedBackstage)=>get$g(meta,'tooltipWorker').map(tooltipWorker=>[Tooltipping.config({lazySink:sharedBackstage.getSink,tooltipDom:{tag:'div',classes:['tox-tooltip-worker-container']},tooltipComponents:[],anchor:comp=>({type:'submenu',item:comp,overrides:{maxHeightFunction:expandable$1}}),mode:'follow-highlight',onShow:(component,_tooltip)=>{tooltipWorker(elm=>{Tooltipping.setComponents(component,[external$1({element:SugarElement.fromDom(elm)})]);});}})]).getOr([]);const encodeText=text=>global$7.DOM.encode(text);const replaceText=(text,matchText)=>{const translated=global$8.translate(text);const encoded=encodeText(translated);if(matchText.length>0){const escapedMatchRegex=new RegExp(escape(matchText),'gi');return encoded.replace(escapedMatchRegex,match=>`<span class=\"tox-autocompleter-highlight\">${match}</span>`);}else{return encoded;}};const renderAutocompleteItem=(spec,matchText,useText,presets,onItemValueHandler,itemResponse,sharedBackstage,renderIcons=true)=>{const structure=renderItemStructure({presets,textContent:Optional.none(),htmlContent:useText?spec.text.map(text=>replaceText(text,matchText)):Optional.none(),ariaLabel:spec.text,iconContent:spec.icon,shortcutContent:Optional.none(),checkMark:Optional.none(),caret:Optional.none(),value:spec.value},sharedBackstage.providers,renderIcons,spec.icon);return renderCommonItem({data:buildData(spec),enabled:spec.enabled,getApi:constant$1({}),onAction:_api=>onItemValueHandler(spec.value,spec.meta),onSetup:constant$1(noop),triggersSubmenu:false,itemBehaviours:tooltipBehaviour(spec.meta,sharedBackstage)},structure,itemResponse,sharedBackstage.providers);};const render$2=(items,extras)=>map$2(items,item=>{switch(item.type){case'cardcontainer':return renderContainer(item,render$2(item.items,extras));case'cardimage':return renderImage(item.src,item.classes,item.alt);case'cardtext':const shouldHighlight=item.name.exists(name=>contains$2(extras.cardText.highlightOn,name));const matchText=shouldHighlight?Optional.from(extras.cardText.matchText).getOr(''):'';return renderHtml(replaceText(item.text,matchText),item.classes);}});const renderCardMenuItem=(spec,itemResponse,sharedBackstage,extras)=>{const getApi=component=>({isEnabled:()=>!Disabling.isDisabled(component),setEnabled:state=>{Disabling.set(component,!state);each$1(descendants(component.element,'*'),elm=>{component.getSystem().getByDom(elm).each(comp=>{if(comp.hasConfigured(Disabling)){Disabling.set(comp,!state);}});});}});const structure={dom:renderItemDomStructure(spec.label),optComponents:[Optional.some({dom:{tag:'div',classes:[containerClass,containerRowClass]},components:render$2(spec.items,extras)})]};return renderCommonItem({data:buildData({text:Optional.none(),...spec}),enabled:spec.enabled,getApi,onAction:spec.onAction,onSetup:spec.onSetup,triggersSubmenu:false,itemBehaviours:Optional.from(extras.itemBehaviours).getOr([])},structure,itemResponse,sharedBackstage.providers);};const renderChoiceItem=(spec,useText,presets,onItemValueHandler,isSelected,itemResponse,providersBackstage,renderIcons=true)=>{const getApi=component=>({setActive:state=>{Toggling.set(component,state);},isActive:()=>Toggling.isOn(component),isEnabled:()=>!Disabling.isDisabled(component),setEnabled:state=>Disabling.set(component,!state)});const structure=renderItemStructure({presets,textContent:useText?spec.text:Optional.none(),htmlContent:Optional.none(),ariaLabel:spec.text,iconContent:spec.icon,shortcutContent:useText?spec.shortcut:Optional.none(),checkMark:useText?Optional.some(renderCheckmark(providersBackstage.icons)):Optional.none(),caret:Optional.none(),value:spec.value},providersBackstage,renderIcons);return deepMerge(renderCommonItem({data:buildData(spec),enabled:spec.enabled,getApi,onAction:_api=>onItemValueHandler(spec.value),onSetup:api=>{api.setActive(isSelected);return noop;},triggersSubmenu:false,itemBehaviours:[]},structure,itemResponse,providersBackstage),{toggling:{toggleClass:tickedClass,toggleOnExecute:false,selected:spec.active,exclusive:true}});};const parts$f=generate$3(owner$2(),parts$h());const hexColour=value=>({value});const shorthandRegex=/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;const longformRegex=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;const isHexString=hex=>shorthandRegex.test(hex)||longformRegex.test(hex);const normalizeHex=hex=>removeLeading(hex,'#').toUpperCase();const fromString$1=hex=>isHexString(hex)?Optional.some({value:normalizeHex(hex)}):Optional.none();const getLongForm=hex=>{const hexString=hex.value.replace(shorthandRegex,(m,r,g,b)=>r+r+g+g+b+b);return{value:hexString};};const extractValues=hex=>{const longForm=getLongForm(hex);const splitForm=longformRegex.exec(longForm.value);return splitForm===null?['FFFFFF','FF','FF','FF']:splitForm;};const toHex=component=>{const hex=component.toString(16);return(hex.length===1?'0'+hex:hex).toUpperCase();};const fromRgba=rgbaColour=>{const value=toHex(rgbaColour.red)+toHex(rgbaColour.green)+toHex(rgbaColour.blue);return hexColour(value);};const min=Math.min;const max=Math.max;const round$1=Math.round;const rgbRegex=/^\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\\s*$/i;const rgbaRegex=/^\\s*rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d?(?:\\.\\d+)?)\\s*\\)\\s*$/i;const rgbaColour=(red,green,blue,alpha)=>({red,green,blue,alpha});const isRgbaComponent=value=>{const num=parseInt(value,10);return num.toString()===value&&num>=0&&num<=255;};const fromHsv=hsv=>{let r;let g;let b;const hue=(hsv.hue||0)%360;let saturation=hsv.saturation/100;let brightness=hsv.value/100;saturation=max(0,min(saturation,1));brightness=max(0,min(brightness,1));if(saturation===0){r=g=b=round$1(255*brightness);return rgbaColour(r,g,b,1);}const side=hue/60;const chroma=brightness*saturation;const x=chroma*(1-Math.abs(side%2-1));const match=brightness-chroma;switch(Math.floor(side)){case 0:r=chroma;g=x;b=0;break;case 1:r=x;g=chroma;b=0;break;case 2:r=0;g=chroma;b=x;break;case 3:r=0;g=x;b=chroma;break;case 4:r=x;g=0;b=chroma;break;case 5:r=chroma;g=0;b=x;break;default:r=g=b=0;}r=round$1(255*(r+match));g=round$1(255*(g+match));b=round$1(255*(b+match));return rgbaColour(r,g,b,1);};const fromHex=hexColour=>{const result=extractValues(hexColour);const red=parseInt(result[1],16);const green=parseInt(result[2],16);const blue=parseInt(result[3],16);return rgbaColour(red,green,blue,1);};const fromStringValues=(red,green,blue,alpha)=>{const r=parseInt(red,10);const g=parseInt(green,10);const b=parseInt(blue,10);const a=parseFloat(alpha);return rgbaColour(r,g,b,a);};const fromString=rgbaString=>{if(rgbaString==='transparent'){return Optional.some(rgbaColour(0,0,0,0));}const rgbMatch=rgbRegex.exec(rgbaString);if(rgbMatch!==null){return Optional.some(fromStringValues(rgbMatch[1],rgbMatch[2],rgbMatch[3],'1'));}const rgbaMatch=rgbaRegex.exec(rgbaString);if(rgbaMatch!==null){return Optional.some(fromStringValues(rgbaMatch[1],rgbaMatch[2],rgbaMatch[3],rgbaMatch[4]));}return Optional.none();};const toString=rgba=>`rgba(${rgba.red},${rgba.green},${rgba.blue},${rgba.alpha})`;const red=rgbaColour(255,0,0,1);const fireSkinLoaded$1=editor=>{editor.dispatch('SkinLoaded');};const fireSkinLoadError$1=(editor,error)=>{editor.dispatch('SkinLoadError',error);};const fireResizeEditor=editor=>{editor.dispatch('ResizeEditor');};const fireResizeContent=(editor,e)=>{editor.dispatch('ResizeContent',e);};const fireScrollContent=(editor,e)=>{editor.dispatch('ScrollContent',e);};const fireTextColorChange=(editor,data)=>{editor.dispatch('TextColorChange',data);};const fireAfterProgressState=(editor,state)=>{editor.dispatch('AfterProgressState',{state});};const fireResolveName=(editor,node)=>editor.dispatch('ResolveName',{name:node.nodeName.toLowerCase(),target:node});const hsvColour=(hue,saturation,value)=>({hue,saturation,value});const fromRgb=rgbaColour=>{let h=0;let s=0;let v=0;const r=rgbaColour.red/255;const g=rgbaColour.green/255;const b=rgbaColour.blue/255;const minRGB=Math.min(r,Math.min(g,b));const maxRGB=Math.max(r,Math.max(g,b));if(minRGB===maxRGB){v=minRGB;return hsvColour(0,0,v*100);}const d=r===minRGB?g-b:b===minRGB?r-g:b-r;h=r===minRGB?3:b===minRGB?1:5;h=60*(h-d/(maxRGB-minRGB));s=(maxRGB-minRGB)/maxRGB;v=maxRGB;return hsvColour(Math.round(h),Math.round(s*100),Math.round(v*100));};const hexToHsv=hex=>fromRgb(fromHex(hex));const hsvToHex=hsv=>fromRgba(fromHsv(hsv));const anyToHex=color=>fromString$1(color).orThunk(()=>fromString(color).map(fromRgba)).getOrThunk(()=>{const canvas=document.createElement('canvas');canvas.height=1;canvas.width=1;const canvasContext=canvas.getContext('2d');canvasContext.clearRect(0,0,canvas.width,canvas.height);canvasContext.fillStyle='#FFFFFF';canvasContext.fillStyle=color;canvasContext.fillRect(0,0,1,1);const rgba=canvasContext.getImageData(0,0,1,1).data;const r=rgba[0];const g=rgba[1];const b=rgba[2];const a=rgba[3];return fromRgba(rgbaColour(r,g,b,a));});var global$4=tinymce.util.Tools.resolve('tinymce.util.LocalStorage');const storageName='tinymce-custom-colors';const ColorCache=(max=10)=>{const storageString=global$4.getItem(storageName);const localstorage=isString(storageString)?JSON.parse(storageString):[];const prune=list=>{const diff=max-list.length;return diff<0?list.slice(0,max):list;};const cache=prune(localstorage);const add=key=>{indexOf(cache,key).each(remove);cache.unshift(key);if(cache.length>max){cache.pop();}global$4.setItem(storageName,JSON.stringify(cache));};const remove=idx=>{cache.splice(idx,1);};const state=()=>cache.slice(0);return{add,state};};const colorCache=ColorCache(10);const calcCols=colors=>Math.max(5,Math.ceil(Math.sqrt(colors)));const mapColors=colorMap=>{const colors=[];for(let i=0;i<colorMap.length;i+=2){colors.push({text:colorMap[i+1],value:'#'+anyToHex(colorMap[i]).value,type:'choiceitem'});}return colors;};const option$1=name=>editor=>editor.options.get(name);const register$d=editor=>{const registerOption=editor.options.register;registerOption('color_map',{processor:value=>{if(isArrayOf(value,isString)){return{value:mapColors(value),valid:true};}else{return{valid:false,message:'Must be an array of strings.'};}},default:['#BFEDD2','Light Green','#FBEEB8','Light Yellow','#F8CAC6','Light Red','#ECCAFA','Light Purple','#C2E0F4','Light Blue','#2DC26B','Green','#F1C40F','Yellow','#E03E2D','Red','#B96AD9','Purple','#3598DB','Blue','#169179','Dark Turquoise','#E67E23','Orange','#BA372A','Dark Red','#843FA1','Dark Purple','#236FA1','Dark Blue','#ECF0F1','Light Gray','#CED4D9','Medium Gray','#95A5A6','Gray','#7E8C8D','Dark Gray','#34495E','Navy Blue','#000000','Black','#ffffff','White']});registerOption('color_cols',{processor:'number',default:calcCols(getColors$2(editor).length)});registerOption('custom_colors',{processor:'boolean',default:true});};const getColorCols$1=option$1('color_cols');const hasCustomColors$1=option$1('custom_colors');const getColors$2=option$1('color_map');const getCurrentColors=()=>map$2(colorCache.state(),color=>({type:'choiceitem',text:color,value:color}));const addColor=color=>{colorCache.add(color);};const fallbackColor='#000000';const hasStyleApi=node=>isNonNullable(node.style);const getCurrentColor=(editor,format)=>{let color;editor.dom.getParents(editor.selection.getStart(),elm=>{const value=hasStyleApi(elm)?elm.style[format==='forecolor'?'color':'backgroundColor']:null;if(value){color=color?color:value;}});return Optional.from(color);};const applyFormat=(editor,format,value)=>{editor.undoManager.transact(()=>{editor.focus();editor.formatter.apply(format,{value});editor.nodeChanged();});};const removeFormat=(editor,format)=>{editor.undoManager.transact(()=>{editor.focus();editor.formatter.remove(format,{value:null},undefined,true);editor.nodeChanged();});};const registerCommands=editor=>{editor.addCommand('mceApplyTextcolor',(format,value)=>{applyFormat(editor,format,value);});editor.addCommand('mceRemoveTextcolor',format=>{removeFormat(editor,format);});};const getAdditionalColors=hasCustom=>{const type='choiceitem';const remove={type,text:'Remove color',icon:'color-swatch-remove-color',value:'remove'};const custom={type,text:'Custom color',icon:'color-picker',value:'custom'};return hasCustom?[remove,custom]:[remove];};const applyColor=(editor,format,value,onChoice)=>{if(value==='custom'){const dialog=colorPickerDialog(editor);dialog(colorOpt=>{colorOpt.each(color=>{addColor(color);editor.execCommand('mceApplyTextcolor',format,color);onChoice(color);});},fallbackColor);}else if(value==='remove'){onChoice('');editor.execCommand('mceRemoveTextcolor',format);}else{onChoice(value);editor.execCommand('mceApplyTextcolor',format,value);}};const getColors$1=(colors,hasCustom)=>colors.concat(getCurrentColors().concat(getAdditionalColors(hasCustom)));const getFetch$1=(colors,hasCustom)=>callback=>{callback(getColors$1(colors,hasCustom));};const setIconColor=(splitButtonApi,name,newColor)=>{const id=name==='forecolor'?'tox-icon-text-color__color':'tox-icon-highlight-bg-color__color';splitButtonApi.setIconFill(id,newColor);};const registerTextColorButton=(editor,name,format,tooltip,lastColor)=>{editor.ui.registry.addSplitButton(name,{tooltip,presets:'color',icon:name==='forecolor'?'text-color':'highlight-bg-color',select:value=>{const optCurrentRgb=getCurrentColor(editor,format);return optCurrentRgb.bind(currentRgb=>fromString(currentRgb).map(rgba=>{const currentHex=fromRgba(rgba).value;return contains$1(value.toLowerCase(),currentHex);})).getOr(false);},columns:getColorCols$1(editor),fetch:getFetch$1(getColors$2(editor),hasCustomColors$1(editor)),onAction:_splitButtonApi=>{applyColor(editor,format,lastColor.get(),noop);},onItemAction:(_splitButtonApi,value)=>{applyColor(editor,format,value,newColor=>{lastColor.set(newColor);fireTextColorChange(editor,{name,color:newColor});});},onSetup:splitButtonApi=>{setIconColor(splitButtonApi,name,lastColor.get());const handler=e=>{if(e.name===name){setIconColor(splitButtonApi,e.name,e.color);}};editor.on('TextColorChange',handler);return()=>{editor.off('TextColorChange',handler);};}});};const registerTextColorMenuItem=(editor,name,format,text)=>{editor.ui.registry.addNestedMenuItem(name,{text,icon:name==='forecolor'?'text-color':'highlight-bg-color',getSubmenuItems:()=>[{type:'fancymenuitem',fancytype:'colorswatch',onAction:data=>{applyColor(editor,format,data.value,noop);}}]});};const colorPickerDialog=editor=>(callback,value)=>{let isValid=false;const onSubmit=api=>{const data=api.getData();const hex=data.colorpicker;if(isValid){callback(Optional.from(hex));api.close();}else{editor.windowManager.alert(editor.translate(['Invalid hex color code: {0}',hex]));}};const onAction=(_api,details)=>{if(details.name==='hex-valid'){isValid=details.value;}};const initialData={colorpicker:value};editor.windowManager.open({title:'Color Picker',size:'normal',body:{type:'panel',items:[{type:'colorpicker',name:'colorpicker',label:'Color'}]},buttons:[{type:'cancel',name:'cancel',text:'Cancel'},{type:'submit',name:'save',text:'Save',primary:true}],initialData,onAction,onSubmit,onClose:noop,onCancel:()=>{callback(Optional.none());}});};const register$c=editor=>{registerCommands(editor);const lastForeColor=Cell(fallbackColor);const lastBackColor=Cell(fallbackColor);registerTextColorButton(editor,'forecolor','forecolor','Text color',lastForeColor);registerTextColorButton(editor,'backcolor','hilitecolor','Background color',lastBackColor);registerTextColorMenuItem(editor,'forecolor','forecolor','Text color');registerTextColorMenuItem(editor,'backcolor','hilitecolor','Background color');};const createPartialChoiceMenu=(value,items,onItemValueHandler,columns,presets,itemResponse,select,providersBackstage)=>{const hasIcons=menuHasIcons(items);const presetItemTypes=presets!=='color'?'normal':'color';const alloyItems=createChoiceItems(items,onItemValueHandler,columns,presetItemTypes,itemResponse,select,providersBackstage);const menuLayout={menuType:presets};return createPartialMenuWithAlloyItems(value,hasIcons,alloyItems,columns,menuLayout);};const createChoiceItems=(items,onItemValueHandler,columns,itemPresets,itemResponse,select,providersBackstage)=>cat(map$2(items,item=>{if(item.type==='choiceitem'){return createChoiceMenuItem(item).fold(handleError,d=>Optional.some(renderChoiceItem(d,columns===1,itemPresets,onItemValueHandler,select(d.value),itemResponse,providersBackstage,menuHasIcons(items))));}else{return Optional.none();}}));const deriveMenuMovement=(columns,presets)=>{const menuMarkers=markers(presets);if(columns===1){return{mode:'menu',moveOnTab:true};}else if(columns==='auto'){return{mode:'grid',selector:'.'+menuMarkers.item,initSize:{numColumns:1,numRows:1}};}else{const rowClass=presets==='color'?'tox-swatches__row':'tox-collection__group';return{mode:'matrix',rowSelector:'.'+rowClass};}};const deriveCollectionMovement=(columns,presets)=>{if(columns===1){return{mode:'menu',moveOnTab:false,selector:'.tox-collection__item'};}else if(columns==='auto'){return{mode:'flatgrid',selector:'.'+'tox-collection__item',initSize:{numColumns:1,numRows:1}};}else{return{mode:'matrix',selectors:{row:presets==='color'?'.tox-swatches__row':'.tox-collection__group',cell:presets==='color'?`.${colorClass}`:`.${selectableClass}`}};}};const renderColorSwatchItem=(spec,backstage)=>{const items=getColorItems(spec,backstage);const columns=backstage.colorinput.getColorCols();const presets='color';const menuSpec=createPartialChoiceMenu(generate$6('menu-value'),items,value=>{spec.onAction({value});},columns,presets,ItemResponse$1.CLOSE_ON_EXECUTE,never,backstage.shared.providers);const widgetSpec={...menuSpec,markers:markers(presets),movement:deriveMenuMovement(columns,presets)};return{type:'widget',data:{value:generate$6('widget-id')},dom:{tag:'div',classes:['tox-fancymenuitem']},autofocus:true,components:[parts$f.widget(Menu.sketch(widgetSpec))]};};const getColorItems=(spec,backstage)=>{const useCustomColors=spec.initData.allowCustomColors&&backstage.colorinput.hasCustomColors();return spec.initData.colors.fold(()=>getColors$1(backstage.colorinput.getColors(),useCustomColors),colors=>colors.concat(getAdditionalColors(useCustomColors)));};const cellOverEvent=generate$6('cell-over');const cellExecuteEvent=generate$6('cell-execute');const makeCell=(row,col,labelId)=>{const emitCellOver=c=>emitWith(c,cellOverEvent,{row,col});const emitExecute=c=>emitWith(c,cellExecuteEvent,{row,col});const onClick=(c,se)=>{se.stop();emitExecute(c);};return build$1({dom:{tag:'div',attributes:{role:'button',['aria-labelledby']:labelId}},behaviours:derive$1([config('insert-table-picker-cell',[run$1(mouseover(),Focusing.focus),run$1(execute$5(),emitExecute),run$1(click(),onClick),run$1(tap(),onClick)]),Toggling.config({toggleClass:'tox-insert-table-picker__selected',toggleOnExecute:false}),Focusing.config({onFocus:emitCellOver})])});};const makeCells=(labelId,numRows,numCols)=>{const cells=[];for(let i=0;i<numRows;i++){const row=[];for(let j=0;j<numCols;j++){row.push(makeCell(i,j,labelId));}cells.push(row);}return cells;};const selectCells=(cells,selectedRow,selectedColumn,numRows,numColumns)=>{for(let i=0;i<numRows;i++){for(let j=0;j<numColumns;j++){Toggling.set(cells[i][j],i<=selectedRow&&j<=selectedColumn);}}};const makeComponents=cells=>bind$3(cells,cellRow=>map$2(cellRow,premade));const makeLabelText=(row,col)=>text$1(`${col}x${row}`);const renderInsertTableMenuItem=spec=>{const numRows=10;const numColumns=10;const sizeLabelId=generate$6('size-label');const cells=makeCells(sizeLabelId,numRows,numColumns);const emptyLabelText=makeLabelText(0,0);const memLabel=record({dom:{tag:'span',classes:['tox-insert-table-picker__label'],attributes:{id:sizeLabelId}},components:[emptyLabelText],behaviours:derive$1([Replacing.config({})])});return{type:'widget',data:{value:generate$6('widget-id')},dom:{tag:'div',classes:['tox-fancymenuitem']},autofocus:true,components:[parts$f.widget({dom:{tag:'div',classes:['tox-insert-table-picker']},components:makeComponents(cells).concat(memLabel.asSpec()),behaviours:derive$1([config('insert-table-picker',[runOnAttached(c=>{Replacing.set(memLabel.get(c),[emptyLabelText]);}),runWithTarget(cellOverEvent,(c,t,e)=>{const{row,col}=e.event;selectCells(cells,row,col,numRows,numColumns);Replacing.set(memLabel.get(c),[makeLabelText(row+1,col+1)]);}),runWithTarget(cellExecuteEvent,(c,_,e)=>{const{row,col}=e.event;spec.onAction({numRows:row+1,numColumns:col+1});emit(c,sandboxClose());})]),Keying.config({initSize:{numRows,numColumns},mode:'flatgrid',selector:'[role=\"button\"]'})])})]};};const fancyMenuItems={inserttable:renderInsertTableMenuItem,colorswatch:renderColorSwatchItem};const renderFancyMenuItem=(spec,backstage)=>get$g(fancyMenuItems,spec.fancytype).map(render=>render(spec,backstage));const renderNestedItem=(spec,itemResponse,providersBackstage,renderIcons=true,downwardsCaret=false)=>{const caret=downwardsCaret?renderDownwardsCaret(providersBackstage.icons):renderSubmenuCaret(providersBackstage.icons);const getApi=component=>({isEnabled:()=>!Disabling.isDisabled(component),setEnabled:state=>Disabling.set(component,!state)});const structure=renderItemStructure({presets:'normal',iconContent:spec.icon,textContent:spec.text,htmlContent:Optional.none(),ariaLabel:spec.text,caret:Optional.some(caret),checkMark:Optional.none(),shortcutContent:spec.shortcut},providersBackstage,renderIcons);return renderCommonItem({data:buildData(spec),getApi,enabled:spec.enabled,onAction:noop,onSetup:spec.onSetup,triggersSubmenu:true,itemBehaviours:[]},structure,itemResponse,providersBackstage);};const renderNormalItem=(spec,itemResponse,providersBackstage,renderIcons=true)=>{const getApi=component=>({isEnabled:()=>!Disabling.isDisabled(component),setEnabled:state=>Disabling.set(component,!state)});const structure=renderItemStructure({presets:'normal',iconContent:spec.icon,textContent:spec.text,htmlContent:Optional.none(),ariaLabel:spec.text,caret:Optional.none(),checkMark:Optional.none(),shortcutContent:spec.shortcut},providersBackstage,renderIcons);return renderCommonItem({data:buildData(spec),getApi,enabled:spec.enabled,onAction:spec.onAction,onSetup:spec.onSetup,triggersSubmenu:false,itemBehaviours:[]},structure,itemResponse,providersBackstage);};const renderSeparatorItem=spec=>({type:'separator',dom:{tag:'div',classes:[selectableClass,groupHeadingClass]},components:spec.text.map(text$1).toArray()});const renderToggleMenuItem=(spec,itemResponse,providersBackstage,renderIcons=true)=>{const getApi=component=>({setActive:state=>{Toggling.set(component,state);},isActive:()=>Toggling.isOn(component),isEnabled:()=>!Disabling.isDisabled(component),setEnabled:state=>Disabling.set(component,!state)});const structure=renderItemStructure({iconContent:spec.icon,textContent:spec.text,htmlContent:Optional.none(),ariaLabel:spec.text,checkMark:Optional.some(renderCheckmark(providersBackstage.icons)),caret:Optional.none(),shortcutContent:spec.shortcut,presets:'normal',meta:spec.meta},providersBackstage,renderIcons);return deepMerge(renderCommonItem({data:buildData(spec),enabled:spec.enabled,getApi,onAction:spec.onAction,onSetup:spec.onSetup,triggersSubmenu:false,itemBehaviours:[]},structure,itemResponse,providersBackstage),{toggling:{toggleClass:tickedClass,toggleOnExecute:false,selected:spec.active}});};const autocomplete=renderAutocompleteItem;const separator$3=renderSeparatorItem;const normal=renderNormalItem;const nested=renderNestedItem;const toggle$1=renderToggleMenuItem;const fancy=renderFancyMenuItem;const card=renderCardMenuItem;const getCoupled=(component,coupleConfig,coupleState,name)=>coupleState.getOrCreate(component,coupleConfig,name);const getExistingCoupled=(component,coupleConfig,coupleState,name)=>coupleState.getExisting(component,coupleConfig,name);var CouplingApis=/*#__PURE__*/Object.freeze({__proto__:null,getCoupled:getCoupled,getExistingCoupled:getExistingCoupled});var CouplingSchema=[requiredOf('others',setOf(Result.value,anyValue()))];const init$a=()=>{const coupled={};const lookupCoupled=(coupleConfig,coupledName)=>{const available=keys(coupleConfig.others);if(available.length===0){throw new Error('Cannot find any known coupled components');}else{return get$g(coupled,coupledName);}};const getOrCreate=(component,coupleConfig,name)=>{return lookupCoupled(coupleConfig,name).getOrThunk(()=>{const builder=get$g(coupleConfig.others,name).getOrDie('No information found for coupled component: '+name);const spec=builder(component);const built=component.getSystem().build(spec);coupled[name]=built;return built;});};const getExisting=(component,coupleConfig,name)=>{return lookupCoupled(coupleConfig,name).orThunk(()=>{get$g(coupleConfig.others,name).getOrDie('No information found for coupled component: '+name);return Optional.none();});};const readState=constant$1({});return nu$8({readState,getExisting,getOrCreate});};var CouplingState=/*#__PURE__*/Object.freeze({__proto__:null,init:init$a});const Coupling=create$3({fields:CouplingSchema,name:'coupling',apis:CouplingApis,state:CouplingState});const nu$3=baseFn=>{let data=Optional.none();let callbacks=[];const map=f=>nu$3(nCallback=>{get(data=>{nCallback(f(data));});});const get=nCallback=>{if(isReady()){call(nCallback);}else{callbacks.push(nCallback);}};const set=x=>{if(!isReady()){data=Optional.some(x);run(callbacks);callbacks=[];}};const isReady=()=>data.isSome();const run=cbs=>{each$1(cbs,call);};const call=cb=>{data.each(x=>{setTimeout(()=>{cb(x);},0);});};baseFn(set);return{get,map,isReady};};const pure$1=a=>nu$3(callback=>{callback(a);});const LazyValue={nu:nu$3,pure:pure$1};const errorReporter=err=>{setTimeout(()=>{throw err;},0);};const make$5=run=>{const get=callback=>{run().then(callback,errorReporter);};const map=fab=>{return make$5(()=>run().then(fab));};const bind=aFutureB=>{return make$5(()=>run().then(v=>aFutureB(v).toPromise()));};const anonBind=futureB=>{return make$5(()=>run().then(()=>futureB.toPromise()));};const toLazy=()=>{return LazyValue.nu(get);};const toCached=()=>{let cache=null;return make$5(()=>{if(cache===null){cache=run();}return cache;});};const toPromise=run;return{map,bind,anonBind,toLazy,toCached,toPromise,get};};const nu$2=baseFn=>{return make$5(()=>new Promise(baseFn));};const pure=a=>{return make$5(()=>Promise.resolve(a));};const Future={nu:nu$2,pure};const suffix=constant$1('sink');const partType$1=constant$1(optional({name:suffix(),overrides:constant$1({dom:{tag:'div'},behaviours:derive$1([Positioning.config({useFixed:always})]),events:derive$2([cutter(keydown()),cutter(mousedown()),cutter(click())])})}));const getAnchor=(detail,component)=>{const hotspot=detail.getHotspot(component).getOr(component);const type='hotspot';const overrides=detail.getAnchorOverrides();return detail.layouts.fold(()=>({type,hotspot,overrides}),layouts=>({type,hotspot,overrides,layouts}));};const fetch=(detail,mapFetch,component)=>{const fetcher=detail.fetch;return fetcher(component).map(mapFetch);};const openF=(detail,mapFetch,anchor,component,sandbox,externals,highlightOnOpen)=>{const futureData=fetch(detail,mapFetch,component);const getLazySink=getSink(component,detail);return futureData.map(tdata=>tdata.bind(data=>Optional.from(tieredMenu.sketch({...externals.menu(),uid:generate$5(''),data,highlightOnOpen,onOpenMenu:(tmenu,menu)=>{const sink=getLazySink().getOrDie();Positioning.position(sink,menu,{anchor});Sandboxing.decloak(sandbox);},onOpenSubmenu:(tmenu,item,submenu)=>{const sink=getLazySink().getOrDie();Positioning.position(sink,submenu,{anchor:{type:'submenu',item}});Sandboxing.decloak(sandbox);},onRepositionMenu:(tmenu,primaryMenu,submenuTriggers)=>{const sink=getLazySink().getOrDie();Positioning.position(sink,primaryMenu,{anchor});each$1(submenuTriggers,st=>{Positioning.position(sink,st.triggeredMenu,{anchor:{type:'submenu',item:st.triggeringItem}});});},onEscape:()=>{Focusing.focus(component);Sandboxing.close(sandbox);return Optional.some(true);}}))));};const open=(detail,mapFetch,hotspot,sandbox,externals,onOpenSync,highlightOnOpen)=>{const anchor=getAnchor(detail,hotspot);const processed=openF(detail,mapFetch,anchor,hotspot,sandbox,externals,highlightOnOpen);return processed.map(tdata=>{tdata.fold(()=>{if(Sandboxing.isOpen(sandbox)){Sandboxing.close(sandbox);}},data=>{Sandboxing.cloak(sandbox);Sandboxing.open(sandbox,data);onOpenSync(sandbox);});return sandbox;});};const close=(detail,mapFetch,component,sandbox,_externals,_onOpenSync,_highlightOnOpen)=>{Sandboxing.close(sandbox);return Future.pure(sandbox);};const togglePopup=(detail,mapFetch,hotspot,externals,onOpenSync,highlightOnOpen)=>{const sandbox=Coupling.getCoupled(hotspot,'sandbox');const showing=Sandboxing.isOpen(sandbox);const action=showing?close:open;return action(detail,mapFetch,hotspot,sandbox,externals,onOpenSync,highlightOnOpen);};const matchWidth=(hotspot,container,useMinWidth)=>{const menu=Composing.getCurrent(container).getOr(container);const buttonWidth=get$c(hotspot.element);if(useMinWidth){set$8(menu.element,'min-width',buttonWidth+'px');}else{set$7(menu.element,buttonWidth);}};const getSink=(anyInSystem,sinkDetail)=>anyInSystem.getSystem().getByUid(sinkDetail.uid+'-'+suffix()).map(internalSink=>()=>Result.value(internalSink)).getOrThunk(()=>sinkDetail.lazySink.fold(()=>()=>Result.error(new Error('No internal sink is specified, nor could an external sink be found')),lazySinkFn=>()=>lazySinkFn(anyInSystem)));const doRepositionMenus=sandbox=>{Sandboxing.getState(sandbox).each(tmenu=>{tieredMenu.repositionMenus(tmenu);});};const makeSandbox$1=(detail,hotspot,extras)=>{const ariaControls=manager();const onOpen=(component,menu)=>{const anchor=getAnchor(detail,hotspot);ariaControls.link(hotspot.element);if(detail.matchWidth){matchWidth(anchor.hotspot,menu,detail.useMinWidth);}detail.onOpen(anchor,component,menu);if(extras!==undefined&&extras.onOpen!==undefined){extras.onOpen(component,menu);}};const onClose=(component,menu)=>{ariaControls.unlink(hotspot.element);if(extras!==undefined&&extras.onClose!==undefined){extras.onClose(component,menu);}};const lazySink=getSink(hotspot,detail);return{dom:{tag:'div',classes:detail.sandboxClasses,attributes:{id:ariaControls.id,role:'listbox'}},behaviours:SketchBehaviours.augment(detail.sandboxBehaviours,[Representing.config({store:{mode:'memory',initialValue:hotspot}}),Sandboxing.config({onOpen,onClose,isPartOf:(container,data,queryElem)=>{return isPartOf$1(data,queryElem)||isPartOf$1(hotspot,queryElem);},getAttachPoint:()=>{return lazySink().getOrDie();}}),Composing.config({find:sandbox=>{return Sandboxing.getState(sandbox).bind(menu=>Composing.getCurrent(menu));}}),Receiving.config({channels:{...receivingChannel$1({isExtraPart:never}),...receivingChannel({doReposition:doRepositionMenus})}})])};};const repositionMenus=comp=>{const sandbox=Coupling.getCoupled(comp,'sandbox');doRepositionMenus(sandbox);};const sandboxFields=()=>[defaulted('sandboxClasses',[]),SketchBehaviours.field('sandboxBehaviours',[Composing,Receiving,Sandboxing,Representing])];const schema$k=constant$1([required$1('dom'),required$1('fetch'),onHandler('onOpen'),onKeyboardHandler('onExecute'),defaulted('getHotspot',Optional.some),defaulted('getAnchorOverrides',constant$1({})),schema$y(),field('dropdownBehaviours',[Toggling,Coupling,Keying,Focusing]),required$1('toggleClass'),defaulted('eventOrder',{}),option$3('lazySink'),defaulted('matchWidth',false),defaulted('useMinWidth',false),option$3('role')].concat(sandboxFields()));const parts$e=constant$1([external({schema:[tieredMenuMarkers(),defaulted('fakeFocus',false)],name:'menu',defaults:detail=>{return{onExecute:detail.onExecute};}}),partType$1()]);const factory$i=(detail,components,_spec,externals)=>{const lookupAttr=attr=>get$g(detail.dom,'attributes').bind(attrs=>get$g(attrs,attr));const switchToMenu=sandbox=>{Sandboxing.getState(sandbox).each(tmenu=>{tieredMenu.highlightPrimary(tmenu);});};const togglePopup$1=(dropdownComp,onOpenSync,highlightOnOpen)=>{return togglePopup(detail,identity,dropdownComp,externals,onOpenSync,highlightOnOpen);};const action=component=>{const onOpenSync=switchToMenu;togglePopup$1(component,onOpenSync,HighlightOnOpen.HighlightMenuAndItem).get(noop);};const apis={expand:comp=>{if(!Toggling.isOn(comp)){togglePopup$1(comp,noop,HighlightOnOpen.HighlightNone).get(noop);}},open:comp=>{if(!Toggling.isOn(comp)){togglePopup$1(comp,noop,HighlightOnOpen.HighlightMenuAndItem).get(noop);}},refetch:comp=>{const optSandbox=Coupling.getExistingCoupled(comp,'sandbox');return optSandbox.fold(()=>{return togglePopup$1(comp,noop,HighlightOnOpen.HighlightMenuAndItem).map(noop);},sandboxComp=>{return open(detail,identity,comp,sandboxComp,externals,noop,HighlightOnOpen.HighlightMenuAndItem).map(noop);});},isOpen:Toggling.isOn,close:comp=>{if(Toggling.isOn(comp)){togglePopup$1(comp,noop,HighlightOnOpen.HighlightMenuAndItem).get(noop);}},repositionMenus:comp=>{if(Toggling.isOn(comp)){repositionMenus(comp);}}};const triggerExecute=(comp,_se)=>{emitExecute(comp);return Optional.some(true);};return{uid:detail.uid,dom:detail.dom,components,behaviours:augment(detail.dropdownBehaviours,[Toggling.config({toggleClass:detail.toggleClass,aria:{mode:'expanded'}}),Coupling.config({others:{sandbox:hotspot=>{return makeSandbox$1(detail,hotspot,{onOpen:()=>Toggling.on(hotspot),onClose:()=>Toggling.off(hotspot)});}}}),Keying.config({mode:'special',onSpace:triggerExecute,onEnter:triggerExecute,onDown:(comp,_se)=>{if(Dropdown.isOpen(comp)){const sandbox=Coupling.getCoupled(comp,'sandbox');switchToMenu(sandbox);}else{Dropdown.open(comp);}return Optional.some(true);},onEscape:(comp,_se)=>{if(Dropdown.isOpen(comp)){Dropdown.close(comp);return Optional.some(true);}else{return Optional.none();}}}),Focusing.config({})]),events:events$a(Optional.some(action)),eventOrder:{...detail.eventOrder,[execute$5()]:['disabling','toggling','alloy.base.behaviour']},apis,domModification:{attributes:{'aria-haspopup':'true',...detail.role.fold(()=>({}),role=>({role})),...(detail.dom.tag==='button'?{type:lookupAttr('type').getOr('button')}:{})}}};};const Dropdown=composite({name:'Dropdown',configFields:schema$k(),partFields:parts$e(),factory:factory$i,apis:{open:(apis,comp)=>apis.open(comp),refetch:(apis,comp)=>apis.refetch(comp),expand:(apis,comp)=>apis.expand(comp),close:(apis,comp)=>apis.close(comp),isOpen:(apis,comp)=>apis.isOpen(comp),repositionMenus:(apis,comp)=>apis.repositionMenus(comp)}});const identifyMenuLayout=searchMode=>{switch(searchMode.searchMode){case'no-search':{return{menuType:'normal'};}default:{return{menuType:'searchable',searchMode};}}};const handleRefetchTrigger=originalSandboxComp=>{const dropdown=Representing.getValue(originalSandboxComp);const optSearcherState=findWithinSandbox(originalSandboxComp).map(saveState);Dropdown.refetch(dropdown).get(()=>{const newSandboxComp=Coupling.getCoupled(dropdown,'sandbox');optSearcherState.each(searcherState=>findWithinSandbox(newSandboxComp).each(inputComp=>restoreState(inputComp,searcherState)));});};const handleRedirectToMenuItem=(sandboxComp,se)=>{getActiveMenuItemFrom(sandboxComp).each(activeItem=>{retargetAndDispatchWith(sandboxComp,activeItem.element,se.event.eventType,se.event.interactionEvent);});};const getActiveMenuItemFrom=sandboxComp=>{return Sandboxing.getState(sandboxComp).bind(Highlighting.getHighlighted).bind(Highlighting.getHighlighted);};const getSearchResults=activeMenuComp=>{return has(activeMenuComp.element,searchResultsClass)?Optional.some(activeMenuComp.element):descendant(activeMenuComp.element,'.'+searchResultsClass);};const updateAriaOnHighlight=(tmenuComp,menuComp,itemComp)=>{findWithinMenu(tmenuComp).each(inputComp=>{setActiveDescendant(inputComp,itemComp);const optActiveResults=getSearchResults(menuComp);optActiveResults.each(resultsElem=>{getOpt(resultsElem,'id').each(controlledId=>set$9(inputComp.element,'aria-controls',controlledId));});});set$9(itemComp.element,'aria-selected','true');};const updateAriaOnDehighlight=(tmenuComp,menuComp,itemComp)=>{set$9(itemComp.element,'aria-selected','false');};const focusSearchField=tmenuComp=>{findWithinMenu(tmenuComp).each(searcherComp=>Focusing.focus(searcherComp));};const getSearchPattern=dropdownComp=>{const optSandboxComp=Coupling.getExistingCoupled(dropdownComp,'sandbox');return optSandboxComp.bind(findWithinSandbox).map(saveState).map(state=>state.fetchPattern).getOr('');};var FocusMode;(function(FocusMode){FocusMode[FocusMode['ContentFocus']=0]='ContentFocus';FocusMode[FocusMode['UiFocus']=1]='UiFocus';})(FocusMode||(FocusMode={}));const createMenuItemFromBridge=(item,itemResponse,backstage,menuHasIcons,isHorizontalMenu)=>{const providersBackstage=backstage.shared.providers;const parseForHorizontalMenu=menuitem=>!isHorizontalMenu?menuitem:{...menuitem,shortcut:Optional.none(),icon:menuitem.text.isSome()?Optional.none():menuitem.icon};switch(item.type){case'menuitem':return createMenuItem(item).fold(handleError,d=>Optional.some(normal(parseForHorizontalMenu(d),itemResponse,providersBackstage,menuHasIcons)));case'nestedmenuitem':return createNestedMenuItem(item).fold(handleError,d=>Optional.some(nested(parseForHorizontalMenu(d),itemResponse,providersBackstage,menuHasIcons,isHorizontalMenu)));case'togglemenuitem':return createToggleMenuItem(item).fold(handleError,d=>Optional.some(toggle$1(parseForHorizontalMenu(d),itemResponse,providersBackstage,menuHasIcons)));case'separator':return createSeparatorMenuItem(item).fold(handleError,d=>Optional.some(separator$3(d)));case'fancymenuitem':return createFancyMenuItem(item).fold(handleError,d=>fancy(d,backstage));default:{console.error('Unknown item in general menu',item);return Optional.none();}}};const createAutocompleteItems=(items,matchText,onItemValueHandler,columns,itemResponse,sharedBackstage,highlightOn)=>{const renderText=columns===1;const renderIcons=!renderText||menuHasIcons(items);return cat(map$2(items,item=>{switch(item.type){case'separator':return createSeparatorItem(item).fold(handleError,d=>Optional.some(separator$3(d)));case'cardmenuitem':return createCardMenuItem(item).fold(handleError,d=>Optional.some(card({...d,onAction:api=>{d.onAction(api);onItemValueHandler(d.value,d.meta);}},itemResponse,sharedBackstage,{itemBehaviours:tooltipBehaviour(d.meta,sharedBackstage),cardText:{matchText,highlightOn}})));case'autocompleteitem':default:return createAutocompleterItem(item).fold(handleError,d=>Optional.some(autocomplete(d,matchText,renderText,'normal',onItemValueHandler,itemResponse,sharedBackstage,renderIcons)));}}));};const createPartialMenu=(value,items,itemResponse,backstage,isHorizontalMenu,searchMode)=>{const hasIcons=menuHasIcons(items);const alloyItems=cat(map$2(items,item=>{const itemHasIcon=i=>isHorizontalMenu?!has$2(i,'text'):hasIcons;const createItem=i=>createMenuItemFromBridge(i,itemResponse,backstage,itemHasIcon(i),isHorizontalMenu);if(item.type==='nestedmenuitem'&&item.getSubmenuItems().length<=0){return createItem({...item,enabled:false});}else{return createItem(item);}}));const menuLayout=identifyMenuLayout(searchMode);const createPartial=isHorizontalMenu?createHorizontalPartialMenuWithAlloyItems:createPartialMenuWithAlloyItems;return createPartial(value,hasIcons,alloyItems,1,menuLayout);};const createTieredDataFrom=partialMenu=>tieredMenu.singleData(partialMenu.value,partialMenu);const createInlineMenuFrom=(partialMenu,columns,focusMode,presets)=>{const movement=deriveMenuMovement(columns,presets);const menuMarkers=markers(presets);return{data:createTieredDataFrom({...partialMenu,movement,menuBehaviours:SimpleBehaviours.unnamedEvents(columns!=='auto'?[]:[runOnAttached((comp,_se)=>{detectSize(comp,4,menuMarkers.item).each(({numColumns,numRows})=>{Keying.setGridSize(comp,numRows,numColumns);});})])}),menu:{markers:markers(presets),fakeFocus:focusMode===FocusMode.ContentFocus}};};const getAutocompleterRange=(dom,initRange)=>{return detect(SugarElement.fromDom(initRange.startContainer)).map(elm=>{const range=dom.createRng();range.selectNode(elm.dom);return range;});};const register$b=(editor,sharedBackstage)=>{const processingAction=Cell(false);const activeState=Cell(false);const autocompleter=build$1(InlineView.sketch({dom:{tag:'div',classes:['tox-autocompleter']},components:[],fireDismissalEventInstead:{},inlineBehaviours:derive$1([config('dismissAutocompleter',[run$1(dismissRequested(),()=>cancelIfNecessary())])]),lazySink:sharedBackstage.getSink}));const isMenuOpen=()=>InlineView.isOpen(autocompleter);const isActive=activeState.get;const hideIfNecessary=()=>{if(isMenuOpen()){InlineView.hide(autocompleter);}};const getMenu=()=>InlineView.getContent(autocompleter).bind(tmenu=>{return get$h(tmenu.components(),0);});const cancelIfNecessary=()=>editor.execCommand('mceAutocompleterClose');const getCombinedItems=matches=>{const columns=findMap(matches,m=>Optional.from(m.columns)).getOr(1);return bind$3(matches,match=>{const choices=match.items;return createAutocompleteItems(choices,match.matchText,(itemValue,itemMeta)=>{const nr=editor.selection.getRng();getAutocompleterRange(editor.dom,nr).each(range=>{const autocompleterApi={hide:()=>cancelIfNecessary(),reload:fetchOptions=>{hideIfNecessary();editor.execCommand('mceAutocompleterReload',false,{fetchOptions});}};processingAction.set(true);match.onAction(autocompleterApi,range,itemValue,itemMeta);processingAction.set(false);});},columns,ItemResponse$1.BUBBLE_TO_SANDBOX,sharedBackstage,match.highlightOn);});};const display=(lookupData,items)=>{findIn(SugarElement.fromDom(editor.getBody())).each(element=>{const columns=findMap(lookupData,ld=>Optional.from(ld.columns)).getOr(1);InlineView.showMenuAt(autocompleter,{anchor:{type:'node',root:SugarElement.fromDom(editor.getBody()),node:Optional.from(element)}},createInlineMenuFrom(createPartialMenuWithAlloyItems('autocompleter-value',true,items,columns,{menuType:'normal'}),columns,FocusMode.ContentFocus,'normal'));});getMenu().each(Highlighting.highlightFirst);};const updateDisplay=lookupData=>{const combinedItems=getCombinedItems(lookupData);if(combinedItems.length>0){display(lookupData,combinedItems);}else{hideIfNecessary();}};editor.on('AutocompleterStart',({lookupData})=>{activeState.set(true);processingAction.set(false);updateDisplay(lookupData);});editor.on('AutocompleterUpdate',({lookupData})=>updateDisplay(lookupData));editor.on('AutocompleterEnd',()=>{hideIfNecessary();activeState.set(false);processingAction.set(false);});const autocompleterUiApi={cancelIfNecessary,isMenuOpen,isActive,isProcessingAction:processingAction.get,getMenu};AutocompleterEditorEvents.setup(autocompleterUiApi,editor);};const Autocompleter={register:register$b};const closest=(scope,selector,isRoot)=>closest$1(scope,selector,isRoot).isSome();const DelayedFunction=(fun,delay)=>{let ref=null;const schedule=(...args)=>{ref=setTimeout(()=>{fun.apply(null,args);ref=null;},delay);};const cancel=()=>{if(ref!==null){clearTimeout(ref);ref=null;}};return{cancel,schedule};};const SIGNIFICANT_MOVE=5;const LONGPRESS_DELAY=400;const getTouch=event=>{const raw=event.raw;if(raw.touches===undefined||raw.touches.length!==1){return Optional.none();}return Optional.some(raw.touches[0]);};const isFarEnough=(touch,data)=>{const distX=Math.abs(touch.clientX-data.x);const distY=Math.abs(touch.clientY-data.y);return distX>SIGNIFICANT_MOVE||distY>SIGNIFICANT_MOVE;};const monitor=settings=>{const startData=value$2();const longpressFired=Cell(false);const longpress$1=DelayedFunction(event=>{settings.triggerEvent(longpress(),event);longpressFired.set(true);},LONGPRESS_DELAY);const handleTouchstart=event=>{getTouch(event).each(touch=>{longpress$1.cancel();const data={x:touch.clientX,y:touch.clientY,target:event.target};longpress$1.schedule(event);longpressFired.set(false);startData.set(data);});return Optional.none();};const handleTouchmove=event=>{longpress$1.cancel();getTouch(event).each(touch=>{startData.on(data=>{if(isFarEnough(touch,data)){startData.clear();}});});return Optional.none();};const handleTouchend=event=>{longpress$1.cancel();const isSame=data=>eq(data.target,event.target);return startData.get().filter(isSame).map(_data=>{if(longpressFired.get()){event.prevent();return false;}else{return settings.triggerEvent(tap(),event);}});};const handlers=wrapAll([{key:touchstart(),value:handleTouchstart},{key:touchmove(),value:handleTouchmove},{key:touchend(),value:handleTouchend}]);const fireIfReady=(event,type)=>get$g(handlers,type).bind(handler=>handler(event));return{fireIfReady};};const isDangerous=event=>{const keyEv=event.raw;return keyEv.which===BACKSPACE[0]&&!contains$2(['input','textarea'],name$3(event.target))&&!closest(event.target,'[contenteditable=\"true\"]');};const setup$d=(container,rawSettings)=>{const settings={stopBackspace:true,...rawSettings};const pointerEvents=['touchstart','touchmove','touchend','touchcancel','gesturestart','mousedown','mouseup','mouseover','mousemove','mouseout','click'];const tapEvent=monitor(settings);const simpleEvents=map$2(pointerEvents.concat(['selectstart','input','contextmenu','change','transitionend','transitioncancel','drag','dragstart','dragend','dragenter','dragleave','dragover','drop','keyup']),type=>bind(container,type,event=>{tapEvent.fireIfReady(event,type).each(tapStopped=>{if(tapStopped){event.kill();}});const stopped=settings.triggerEvent(type,event);if(stopped){event.kill();}}));const pasteTimeout=value$2();const onPaste=bind(container,'paste',event=>{tapEvent.fireIfReady(event,'paste').each(tapStopped=>{if(tapStopped){event.kill();}});const stopped=settings.triggerEvent('paste',event);if(stopped){event.kill();}pasteTimeout.set(setTimeout(()=>{settings.triggerEvent(postPaste(),event);},0));});const onKeydown=bind(container,'keydown',event=>{const stopped=settings.triggerEvent('keydown',event);if(stopped){event.kill();}else if(settings.stopBackspace&&isDangerous(event)){event.prevent();}});const onFocusIn=bind(container,'focusin',event=>{const stopped=settings.triggerEvent('focusin',event);if(stopped){event.kill();}});const focusoutTimeout=value$2();const onFocusOut=bind(container,'focusout',event=>{const stopped=settings.triggerEvent('focusout',event);if(stopped){event.kill();}focusoutTimeout.set(setTimeout(()=>{settings.triggerEvent(postBlur(),event);},0));});const unbind=()=>{each$1(simpleEvents,e=>{e.unbind();});onKeydown.unbind();onFocusIn.unbind();onFocusOut.unbind();onPaste.unbind();pasteTimeout.on(clearTimeout);focusoutTimeout.on(clearTimeout);};return{unbind};};const derive=(rawEvent,rawTarget)=>{const source=get$g(rawEvent,'target').getOr(rawTarget);return Cell(source);};const fromSource=(event,source)=>{const stopper=Cell(false);const cutter=Cell(false);const stop=()=>{stopper.set(true);};const cut=()=>{cutter.set(true);};return{stop,cut,isStopped:stopper.get,isCut:cutter.get,event,setSource:source.set,getSource:source.get};};const fromExternal=event=>{const stopper=Cell(false);const stop=()=>{stopper.set(true);};return{stop,cut:noop,isStopped:stopper.get,isCut:never,event,setSource:die('Cannot set source of a broadcasted event'),getSource:die('Cannot get source of a broadcasted event')};};const adt$1=Adt.generate([{stopped:[]},{resume:['element']},{complete:[]}]);const doTriggerHandler=(lookup,eventType,rawEvent,target,source,logger)=>{const handler=lookup(eventType,target);const simulatedEvent=fromSource(rawEvent,source);return handler.fold(()=>{logger.logEventNoHandlers(eventType,target);return adt$1.complete();},handlerInfo=>{const descHandler=handlerInfo.descHandler;const eventHandler=getCurried(descHandler);eventHandler(simulatedEvent);if(simulatedEvent.isStopped()){logger.logEventStopped(eventType,handlerInfo.element,descHandler.purpose);return adt$1.stopped();}else if(simulatedEvent.isCut()){logger.logEventCut(eventType,handlerInfo.element,descHandler.purpose);return adt$1.complete();}else{return parent(handlerInfo.element).fold(()=>{logger.logNoParent(eventType,handlerInfo.element,descHandler.purpose);return adt$1.complete();},parent=>{logger.logEventResponse(eventType,handlerInfo.element,descHandler.purpose);return adt$1.resume(parent);});}});};const doTriggerOnUntilStopped=(lookup,eventType,rawEvent,rawTarget,source,logger)=>doTriggerHandler(lookup,eventType,rawEvent,rawTarget,source,logger).fold(always,parent=>doTriggerOnUntilStopped(lookup,eventType,rawEvent,parent,source,logger),never);const triggerHandler=(lookup,eventType,rawEvent,target,logger)=>{const source=derive(rawEvent,target);return doTriggerHandler(lookup,eventType,rawEvent,target,source,logger);};const broadcast=(listeners,rawEvent,_logger)=>{const simulatedEvent=fromExternal(rawEvent);each$1(listeners,listener=>{const descHandler=listener.descHandler;const handler=getCurried(descHandler);handler(simulatedEvent);});return simulatedEvent.isStopped();};const triggerUntilStopped=(lookup,eventType,rawEvent,logger)=>triggerOnUntilStopped(lookup,eventType,rawEvent,rawEvent.target,logger);const triggerOnUntilStopped=(lookup,eventType,rawEvent,rawTarget,logger)=>{const source=derive(rawEvent,rawTarget);return doTriggerOnUntilStopped(lookup,eventType,rawEvent,rawTarget,source,logger);};const eventHandler=(element,descHandler)=>({element,descHandler});const broadcastHandler=(id,handler)=>({id,descHandler:handler});const EventRegistry=()=>{const registry={};const registerId=(extraArgs,id,events)=>{each(events,(v,k)=>{const handlers=registry[k]!==undefined?registry[k]:{};handlers[id]=curryArgs(v,extraArgs);registry[k]=handlers;});};const findHandler=(handlers,elem)=>read$1(elem).bind(id=>get$g(handlers,id)).map(descHandler=>eventHandler(elem,descHandler));const filterByType=type=>get$g(registry,type).map(handlers=>mapToArray(handlers,(f,id)=>broadcastHandler(id,f))).getOr([]);const find=(isAboveRoot,type,target)=>get$g(registry,type).bind(handlers=>closest$4(target,elem=>findHandler(handlers,elem),isAboveRoot));const unregisterId=id=>{each(registry,(handlersById,_eventName)=>{if(has$2(handlersById,id)){delete handlersById[id];}});};return{registerId,unregisterId,filterByType,find};};const Registry=()=>{const events=EventRegistry();const components={};const readOrTag=component=>{const elem=component.element;return read$1(elem).getOrThunk(()=>write('uid-',component.element));};const failOnDuplicate=(component,tagId)=>{const conflict=components[tagId];if(conflict===component){unregister(component);}else{throw new Error('The tagId \"'+tagId+'\" is already used by: '+element(conflict.element)+'\\nCannot use it for: '+element(component.element)+'\\n'+'The conflicting element is'+(inBody(conflict.element)?' ':' not ')+'already in the DOM');}};const register=component=>{const tagId=readOrTag(component);if(hasNonNullableKey(components,tagId)){failOnDuplicate(component,tagId);}const extraArgs=[component];events.registerId(extraArgs,tagId,component.events);components[tagId]=component;};const unregister=component=>{read$1(component.element).each(tagId=>{delete components[tagId];events.unregisterId(tagId);});};const filter=type=>events.filterByType(type);const find=(isAboveRoot,type,target)=>events.find(isAboveRoot,type,target);const getById=id=>get$g(components,id);return{find,filter,register,unregister,getById};};const factory$h=detail=>{const{attributes,...domWithoutAttributes}=detail.dom;return{uid:detail.uid,dom:{tag:'div',attributes:{role:'presentation',...attributes},...domWithoutAttributes},components:detail.components,behaviours:get$3(detail.containerBehaviours),events:detail.events,domModification:detail.domModification,eventOrder:detail.eventOrder};};const Container=single({name:'Container',factory:factory$h,configFields:[defaulted('components',[]),field('containerBehaviours',[]),defaulted('events',{}),defaulted('domModification',{}),defaulted('eventOrder',{})]});const takeover=root=>{const isAboveRoot=el=>parent(root.element).fold(always,parent=>eq(el,parent));const registry=Registry();const lookup=(eventName,target)=>registry.find(isAboveRoot,eventName,target);const domEvents=setup$d(root.element,{triggerEvent:(eventName,event)=>{return monitorEvent(eventName,event.target,logger=>triggerUntilStopped(lookup,eventName,event,logger));}});const systemApi={debugInfo:constant$1('real'),triggerEvent:(eventName,target,data)=>{monitorEvent(eventName,target,logger=>triggerOnUntilStopped(lookup,eventName,data,target,logger));},triggerFocus:(target,originator)=>{read$1(target).fold(()=>{focus$3(target);},_alloyId=>{monitorEvent(focus$4(),target,logger=>{triggerHandler(lookup,focus$4(),{originator,kill:noop,prevent:noop,target},target,logger);return false;});});},triggerEscape:(comp,simulatedEvent)=>{systemApi.triggerEvent('keydown',comp.element,simulatedEvent.event);},getByUid:uid=>{return getByUid(uid);},getByDom:elem=>{return getByDom(elem);},build:build$1,buildOrPatch:buildOrPatch,addToGui:c=>{add(c);},removeFromGui:c=>{remove(c);},addToWorld:c=>{addToWorld(c);},removeFromWorld:c=>{removeFromWorld(c);},broadcast:message=>{broadcast$1(message);},broadcastOn:(channels,message)=>{broadcastOn(channels,message);},broadcastEvent:(eventName,event)=>{broadcastEvent(eventName,event);},isConnected:always};const addToWorld=component=>{component.connect(systemApi);if(!isText(component.element)){registry.register(component);each$1(component.components(),addToWorld);systemApi.triggerEvent(systemInit(),component.element,{target:component.element});}};const removeFromWorld=component=>{if(!isText(component.element)){each$1(component.components(),removeFromWorld);registry.unregister(component);}component.disconnect();};const add=component=>{attach(root,component);};const remove=component=>{detach(component);};const destroy=()=>{domEvents.unbind();remove$5(root.element);};const broadcastData=data=>{const receivers=registry.filter(receive());each$1(receivers,receiver=>{const descHandler=receiver.descHandler;const handler=getCurried(descHandler);handler(data);});};const broadcast$1=message=>{broadcastData({universal:true,data:message});};const broadcastOn=(channels,message)=>{broadcastData({universal:false,channels,data:message});};const broadcastEvent=(eventName,event)=>{const listeners=registry.filter(eventName);return broadcast(listeners,event);};const getByUid=uid=>registry.getById(uid).fold(()=>Result.error(new Error('Could not find component with uid: \"'+uid+'\" in system.')),Result.value);const getByDom=elem=>{const uid=read$1(elem).getOr('not found');return getByUid(uid);};addToWorld(root);return{root,element:root.element,destroy,add,remove,getByUid,getByDom,addToWorld,removeFromWorld,broadcast:broadcast$1,broadcastOn,broadcastEvent};};const renderBar=(spec,backstage)=>({dom:{tag:'div',classes:['tox-bar','tox-form__controls-h-stack']},components:map$2(spec.items,backstage.interpreter)});const schema$j=constant$1([defaulted('prefix','form-field'),field('fieldBehaviours',[Composing,Representing])]);const parts$d=constant$1([optional({schema:[required$1('dom')],name:'label'}),optional({factory:{sketch:spec=>{return{uid:spec.uid,dom:{tag:'span',styles:{display:'none'},attributes:{'aria-hidden':'true'},innerHtml:spec.text}};}},schema:[required$1('text')],name:'aria-descriptor'}),required({factory:{sketch:spec=>{const excludeFactory=exclude(spec,['factory']);return spec.factory.sketch(excludeFactory);}},schema:[required$1('factory')],name:'field'})]);const factory$g=(detail,components,_spec,_externals)=>{const behaviours=augment(detail.fieldBehaviours,[Composing.config({find:container=>{return getPart(container,detail,'field');}}),Representing.config({store:{mode:'manual',getValue:field=>{return Composing.getCurrent(field).bind(Representing.getValue);},setValue:(field,value)=>{Composing.getCurrent(field).each(current=>{Representing.setValue(current,value);});}}})]);const events=derive$2([runOnAttached((component,_simulatedEvent)=>{const ps=getParts(component,detail,['label','field','aria-descriptor']);ps.field().each(field=>{const id=generate$6(detail.prefix);ps.label().each(label=>{set$9(label.element,'for',id);set$9(field.element,'id',id);});ps['aria-descriptor']().each(descriptor=>{const descriptorId=generate$6(detail.prefix);set$9(descriptor.element,'id',descriptorId);set$9(field.element,'aria-describedby',descriptorId);});});})]);const apis={getField:container=>getPart(container,detail,'field'),getLabel:container=>getPart(container,detail,'label')};return{uid:detail.uid,dom:detail.dom,components,behaviours,events,apis};};const FormField=composite({name:'FormField',configFields:schema$j(),partFields:parts$d(),factory:factory$g,apis:{getField:(apis,comp)=>apis.getField(comp),getLabel:(apis,comp)=>apis.getLabel(comp)}});const exhibit$2=(base,tabConfig)=>nu$7({attributes:wrapAll([{key:tabConfig.tabAttr,value:'true'}])});var ActiveTabstopping=/*#__PURE__*/Object.freeze({__proto__:null,exhibit:exhibit$2});var TabstopSchema=[defaulted('tabAttr','data-alloy-tabstop')];const Tabstopping=create$3({fields:TabstopSchema,name:'tabstopping',active:ActiveTabstopping});var global$3=tinymce.util.Tools.resolve('tinymce.html.Entities');const renderFormFieldWith=(pLabel,pField,extraClasses,extraBehaviours)=>{const spec=renderFormFieldSpecWith(pLabel,pField,extraClasses,extraBehaviours);return FormField.sketch(spec);};const renderFormField=(pLabel,pField)=>renderFormFieldWith(pLabel,pField,[],[]);const renderFormFieldSpecWith=(pLabel,pField,extraClasses,extraBehaviours)=>({dom:renderFormFieldDomWith(extraClasses),components:pLabel.toArray().concat([pField]),fieldBehaviours:derive$1(extraBehaviours)});const renderFormFieldDom=()=>renderFormFieldDomWith([]);const renderFormFieldDomWith=extraClasses=>({tag:'div',classes:['tox-form__group'].concat(extraClasses)});const renderLabel$2=(label,providersBackstage)=>FormField.parts.label({dom:{tag:'label',classes:['tox-label']},components:[text$1(providersBackstage.translate(label))]});const formChangeEvent=generate$6('form-component-change');const formCloseEvent=generate$6('form-close');const formCancelEvent=generate$6('form-cancel');const formActionEvent=generate$6('form-action');const formSubmitEvent=generate$6('form-submit');const formBlockEvent=generate$6('form-block');const formUnblockEvent=generate$6('form-unblock');const formTabChangeEvent=generate$6('form-tabchange');const formResizeEvent=generate$6('form-resize');const renderCollection=(spec,providersBackstage,initialData)=>{const pLabel=spec.label.map(label=>renderLabel$2(label,providersBackstage));const runOnItem=f=>(comp,se)=>{closest$1(se.event.target,'[data-collection-item-value]').each(target=>{f(comp,se,target,get$f(target,'data-collection-item-value'));});};const setContents=(comp,items)=>{const htmlLines=map$2(items,item=>{const itemText=global$8.translate(item.text);const textContent=spec.columns===1?`<div class=\"tox-collection__item-label\">${itemText}</div>`:'';const iconContent=`<div class=\"tox-collection__item-icon\">${item.icon}</div>`;const mapItemName={'_':' ',' - ':' ','-':' '};const ariaLabel=itemText.replace(/\\_| \\- |\\-/g,match=>mapItemName[match]);const disabledClass=providersBackstage.isDisabled()?' tox-collection__item--state-disabled':'';return`<div class=\"tox-collection__item${disabledClass}\" tabindex=\"-1\" data-collection-item-value=\"${global$3.encodeAllRaw(item.value)}\" title=\"${ariaLabel}\" aria-label=\"${ariaLabel}\">${iconContent}${textContent}</div>`;});const chunks=spec.columns!=='auto'&&spec.columns>1?chunk$1(htmlLines,spec.columns):[htmlLines];const html=map$2(chunks,ch=>`<div class=\"tox-collection__group\">${ch.join('')}</div>`);set$6(comp.element,html.join(''));};const onClick=runOnItem((comp,se,tgt,itemValue)=>{se.stop();if(!providersBackstage.isDisabled()){emitWith(comp,formActionEvent,{name:spec.name,value:itemValue});}});const collectionEvents=[run$1(mouseover(),runOnItem((comp,se,tgt)=>{focus$3(tgt);})),run$1(click(),onClick),run$1(tap(),onClick),run$1(focusin(),runOnItem((comp,se,tgt)=>{descendant(comp.element,'.'+activeClass).each(currentActive=>{remove$2(currentActive,activeClass);});add$2(tgt,activeClass);})),run$1(focusout(),runOnItem(comp=>{descendant(comp.element,'.'+activeClass).each(currentActive=>{remove$2(currentActive,activeClass);});})),runOnExecute$1(runOnItem((comp,se,tgt,itemValue)=>{emitWith(comp,formActionEvent,{name:spec.name,value:itemValue});}))];const iterCollectionItems=(comp,applyAttributes)=>map$2(descendants(comp.element,'.tox-collection__item'),applyAttributes);const pField=FormField.parts.field({dom:{tag:'div',classes:['tox-collection'].concat(spec.columns!==1?['tox-collection--grid']:['tox-collection--list'])},components:[],factory:{sketch:identity},behaviours:derive$1([Disabling.config({disabled:providersBackstage.isDisabled,onDisabled:comp=>{iterCollectionItems(comp,childElm=>{add$2(childElm,'tox-collection__item--state-disabled');set$9(childElm,'aria-disabled',true);});},onEnabled:comp=>{iterCollectionItems(comp,childElm=>{remove$2(childElm,'tox-collection__item--state-disabled');remove$7(childElm,'aria-disabled');});}}),receivingConfig(),Replacing.config({}),Representing.config({store:{mode:'memory',initialValue:initialData.getOr([])},onSetValue:(comp,items)=>{setContents(comp,items);if(spec.columns==='auto'){detectSize(comp,5,'tox-collection__item').each(({numRows,numColumns})=>{Keying.setGridSize(comp,numRows,numColumns);});}emit(comp,formResizeEvent);}}),Tabstopping.config({}),Keying.config(deriveCollectionMovement(spec.columns,'normal')),config('collection-events',collectionEvents)]),eventOrder:{[execute$5()]:['disabling','alloy.base.behaviour','collection-events']}});const extraClasses=['tox-form__group--collection'];return renderFormFieldWith(pLabel,pField,extraClasses,[]);};const ariaElements=['input','textarea'];const isAriaElement=elem=>{const name=name$3(elem);return contains$2(ariaElements,name);};const markValid=(component,invalidConfig)=>{const elem=invalidConfig.getRoot(component).getOr(component.element);remove$2(elem,invalidConfig.invalidClass);invalidConfig.notify.each(notifyInfo=>{if(isAriaElement(component.element)){set$9(component.element,'aria-invalid',false);}notifyInfo.getContainer(component).each(container=>{set$6(container,notifyInfo.validHtml);});notifyInfo.onValid(component);});};const markInvalid=(component,invalidConfig,invalidState,text)=>{const elem=invalidConfig.getRoot(component).getOr(component.element);add$2(elem,invalidConfig.invalidClass);invalidConfig.notify.each(notifyInfo=>{if(isAriaElement(component.element)){set$9(component.element,'aria-invalid',true);}notifyInfo.getContainer(component).each(container=>{set$6(container,text);});notifyInfo.onInvalid(component,text);});};const query=(component,invalidConfig,_invalidState)=>invalidConfig.validator.fold(()=>Future.pure(Result.value(true)),validatorInfo=>validatorInfo.validate(component));const run=(component,invalidConfig,invalidState)=>{invalidConfig.notify.each(notifyInfo=>{notifyInfo.onValidate(component);});return query(component,invalidConfig).map(valid=>{if(component.getSystem().isConnected()){return valid.fold(err=>{markInvalid(component,invalidConfig,invalidState,err);return Result.error(err);},v=>{markValid(component,invalidConfig);return Result.value(v);});}else{return Result.error('No longer in system');}});};const isInvalid=(component,invalidConfig)=>{const elem=invalidConfig.getRoot(component).getOr(component.element);return has(elem,invalidConfig.invalidClass);};var InvalidateApis=/*#__PURE__*/Object.freeze({__proto__:null,markValid:markValid,markInvalid:markInvalid,query:query,run:run,isInvalid:isInvalid});const events$8=(invalidConfig,invalidState)=>invalidConfig.validator.map(validatorInfo=>derive$2([run$1(validatorInfo.onEvent,component=>{run(component,invalidConfig,invalidState).get(identity);})].concat(validatorInfo.validateOnLoad?[runOnAttached(component=>{run(component,invalidConfig,invalidState).get(noop);})]:[]))).getOr({});var ActiveInvalidate=/*#__PURE__*/Object.freeze({__proto__:null,events:events$8});var InvalidateSchema=[required$1('invalidClass'),defaulted('getRoot',Optional.none),optionObjOf('notify',[defaulted('aria','alert'),defaulted('getContainer',Optional.none),defaulted('validHtml',''),onHandler('onValid'),onHandler('onInvalid'),onHandler('onValidate')]),optionObjOf('validator',[required$1('validate'),defaulted('onEvent','input'),defaulted('validateOnLoad',true)])];const Invalidating=create$3({fields:InvalidateSchema,name:'invalidating',active:ActiveInvalidate,apis:InvalidateApis,extra:{validation:validator=>{return component=>{const v=Representing.getValue(component);return Future.pure(validator(v));};}}});const exhibit$1=()=>nu$7({styles:{'-webkit-user-select':'none','user-select':'none','-ms-user-select':'none','-moz-user-select':'-moz-none'},attributes:{unselectable:'on'}});const events$7=()=>derive$2([abort(selectstart(),always)]);var ActiveUnselecting=/*#__PURE__*/Object.freeze({__proto__:null,events:events$7,exhibit:exhibit$1});const Unselecting=create$3({fields:[],name:'unselecting',active:ActiveUnselecting});const renderPanelButton=(spec,sharedBackstage)=>Dropdown.sketch({dom:spec.dom,components:spec.components,toggleClass:'mce-active',dropdownBehaviours:derive$1([DisablingConfigs.button(sharedBackstage.providers.isDisabled),receivingConfig(),Unselecting.config({}),Tabstopping.config({})]),layouts:spec.layouts,sandboxClasses:['tox-dialog__popups'],lazySink:sharedBackstage.getSink,fetch:comp=>Future.nu(callback=>spec.fetch(callback)).map(items=>Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'),items,value=>{spec.onItemAction(comp,value);},spec.columns,spec.presets,ItemResponse$1.CLOSE_ON_EXECUTE,never,sharedBackstage.providers),{movement:deriveMenuMovement(spec.columns,spec.presets)})))),parts:{menu:part(false,1,spec.presets)}});const colorInputChangeEvent=generate$6('color-input-change');const colorSwatchChangeEvent=generate$6('color-swatch-change');const colorPickerCancelEvent=generate$6('color-picker-cancel');const renderColorInput=(spec,sharedBackstage,colorInputBackstage,initialData)=>{const pField=FormField.parts.field({factory:Input,inputClasses:['tox-textfield'],data:initialData,onSetValue:c=>Invalidating.run(c).get(noop),inputBehaviours:derive$1([Disabling.config({disabled:sharedBackstage.providers.isDisabled}),receivingConfig(),Tabstopping.config({}),Invalidating.config({invalidClass:'tox-textbox-field-invalid',getRoot:comp=>parentElement(comp.element),notify:{onValid:comp=>{const val=Representing.getValue(comp);emitWith(comp,colorInputChangeEvent,{color:val});}},validator:{validateOnLoad:false,validate:input=>{const inputValue=Representing.getValue(input);if(inputValue.length===0){return Future.pure(Result.value(true));}else{const span=SugarElement.fromTag('span');set$8(span,'background-color',inputValue);const res=getRaw(span,'background-color').fold(()=>Result.error('blah'),_=>Result.value(inputValue));return Future.pure(res);}}}})]),selectOnFocus:false});const pLabel=spec.label.map(label=>renderLabel$2(label,sharedBackstage.providers));const emitSwatchChange=(colorBit,value)=>{emitWith(colorBit,colorSwatchChangeEvent,{value});};const onItemAction=(comp,value)=>{memColorButton.getOpt(comp).each(colorBit=>{if(value==='custom'){colorInputBackstage.colorPicker(valueOpt=>{valueOpt.fold(()=>emit(colorBit,colorPickerCancelEvent),value=>{emitSwatchChange(colorBit,value);addColor(value);});},'#ffffff');}else if(value==='remove'){emitSwatchChange(colorBit,'');}else{emitSwatchChange(colorBit,value);}});};const memColorButton=record(renderPanelButton({dom:{tag:'span',attributes:{'aria-label':sharedBackstage.providers.translate('Color swatch')}},layouts:{onRtl:()=>[southwest$2,southeast$2,south$2],onLtr:()=>[southeast$2,southwest$2,south$2]},components:[],fetch:getFetch$1(colorInputBackstage.getColors(),colorInputBackstage.hasCustomColors()),columns:colorInputBackstage.getColorCols(),presets:'color',onItemAction},sharedBackstage));return FormField.sketch({dom:{tag:'div',classes:['tox-form__group']},components:pLabel.toArray().concat([{dom:{tag:'div',classes:['tox-color-input']},components:[pField,memColorButton.asSpec()]}]),fieldBehaviours:derive$1([config('form-field-events',[run$1(colorInputChangeEvent,(comp,se)=>{memColorButton.getOpt(comp).each(colorButton=>{set$8(colorButton.element,'background-color',se.event.color);});emitWith(comp,formChangeEvent,{name:spec.name});}),run$1(colorSwatchChangeEvent,(comp,se)=>{FormField.getField(comp).each(field=>{Representing.setValue(field,se.event.value);Composing.getCurrent(comp).each(Focusing.focus);});}),run$1(colorPickerCancelEvent,(comp,_se)=>{FormField.getField(comp).each(_field=>{Composing.getCurrent(comp).each(Focusing.focus);});})])])});};const labelPart=optional({schema:[required$1('dom')],name:'label'});const edgePart=name=>optional({name:''+name+'-edge',overrides:detail=>{const action=detail.model.manager.edgeActions[name];return action.fold(()=>({}),a=>({events:derive$2([runActionExtra(touchstart(),(comp,se,d)=>a(comp,d),[detail]),runActionExtra(mousedown(),(comp,se,d)=>a(comp,d),[detail]),runActionExtra(mousemove(),(comp,se,det)=>{if(det.mouseIsDown.get()){a(comp,det);}},[detail])])}));}});const tlEdgePart=edgePart('top-left');const tedgePart=edgePart('top');const trEdgePart=edgePart('top-right');const redgePart=edgePart('right');const brEdgePart=edgePart('bottom-right');const bedgePart=edgePart('bottom');const blEdgePart=edgePart('bottom-left');const ledgePart=edgePart('left');const thumbPart=required({name:'thumb',defaults:constant$1({dom:{styles:{position:'absolute'}}}),overrides:detail=>{return{events:derive$2([redirectToPart(touchstart(),detail,'spectrum'),redirectToPart(touchmove(),detail,'spectrum'),redirectToPart(touchend(),detail,'spectrum'),redirectToPart(mousedown(),detail,'spectrum'),redirectToPart(mousemove(),detail,'spectrum'),redirectToPart(mouseup(),detail,'spectrum')])};}});const spectrumPart=required({schema:[customField('mouseIsDown',()=>Cell(false))],name:'spectrum',overrides:detail=>{const modelDetail=detail.model;const model=modelDetail.manager;const setValueFrom=(component,simulatedEvent)=>model.getValueFromEvent(simulatedEvent).map(value=>model.setValueFrom(component,detail,value));return{behaviours:derive$1([Keying.config({mode:'special',onLeft:spectrum=>model.onLeft(spectrum,detail),onRight:spectrum=>model.onRight(spectrum,detail),onUp:spectrum=>model.onUp(spectrum,detail),onDown:spectrum=>model.onDown(spectrum,detail)}),Focusing.config({})]),events:derive$2([run$1(touchstart(),setValueFrom),run$1(touchmove(),setValueFrom),run$1(mousedown(),setValueFrom),run$1(mousemove(),(spectrum,se)=>{if(detail.mouseIsDown.get()){setValueFrom(spectrum,se);}})])};}});var SliderParts=[labelPart,ledgePart,redgePart,tedgePart,bedgePart,tlEdgePart,trEdgePart,blEdgePart,brEdgePart,thumbPart,spectrumPart];const _sliderChangeEvent='slider.change.value';const sliderChangeEvent=constant$1(_sliderChangeEvent);const isTouchEvent$2=evt=>evt.type.indexOf('touch')!==-1;const getEventSource=simulatedEvent=>{const evt=simulatedEvent.event.raw;if(isTouchEvent$2(evt)){const touchEvent=evt;return touchEvent.touches!==undefined&&touchEvent.touches.length===1?Optional.some(touchEvent.touches[0]).map(t=>SugarPosition(t.clientX,t.clientY)):Optional.none();}else{const mouseEvent=evt;return mouseEvent.clientX!==undefined?Optional.some(mouseEvent).map(me=>SugarPosition(me.clientX,me.clientY)):Optional.none();}};const t='top',r='right',b='bottom',l='left';const minX=detail=>detail.model.minX;const minY=detail=>detail.model.minY;const min1X=detail=>detail.model.minX-1;const min1Y=detail=>detail.model.minY-1;const maxX=detail=>detail.model.maxX;const maxY=detail=>detail.model.maxY;const max1X=detail=>detail.model.maxX+1;const max1Y=detail=>detail.model.maxY+1;const range=(detail,max,min)=>max(detail)-min(detail);const xRange=detail=>range(detail,maxX,minX);const yRange=detail=>range(detail,maxY,minY);const halfX=detail=>xRange(detail)/2;const halfY=detail=>yRange(detail)/2;const step=detail=>detail.stepSize;const snap=detail=>detail.snapToGrid;const snapStart=detail=>detail.snapStart;const rounded=detail=>detail.rounded;const hasEdge=(detail,edgeName)=>detail[edgeName+'-edge']!==undefined;const hasLEdge=detail=>hasEdge(detail,l);const hasREdge=detail=>hasEdge(detail,r);const hasTEdge=detail=>hasEdge(detail,t);const hasBEdge=detail=>hasEdge(detail,b);const currentValue=detail=>detail.model.value.get();const xyValue=(x,y)=>({x,y});const fireSliderChange$3=(component,value)=>{emitWith(component,sliderChangeEvent(),{value});};const setToTLEdgeXY=(edge,detail)=>{fireSliderChange$3(edge,xyValue(min1X(detail),min1Y(detail)));};const setToTEdge=(edge,detail)=>{fireSliderChange$3(edge,min1Y(detail));};const setToTEdgeXY=(edge,detail)=>{fireSliderChange$3(edge,xyValue(halfX(detail),min1Y(detail)));};const setToTREdgeXY=(edge,detail)=>{fireSliderChange$3(edge,xyValue(max1X(detail),min1Y(detail)));};const setToREdge=(edge,detail)=>{fireSliderChange$3(edge,max1X(detail));};const setToREdgeXY=(edge,detail)=>{fireSliderChange$3(edge,xyValue(max1X(detail),halfY(detail)));};const setToBREdgeXY=(edge,detail)=>{fireSliderChange$3(edge,xyValue(max1X(detail),max1Y(detail)));};const setToBEdge=(edge,detail)=>{fireSliderChange$3(edge,max1Y(detail));};const setToBEdgeXY=(edge,detail)=>{fireSliderChange$3(edge,xyValue(halfX(detail),max1Y(detail)));};const setToBLEdgeXY=(edge,detail)=>{fireSliderChange$3(edge,xyValue(min1X(detail),max1Y(detail)));};const setToLEdge=(edge,detail)=>{fireSliderChange$3(edge,min1X(detail));};const setToLEdgeXY=(edge,detail)=>{fireSliderChange$3(edge,xyValue(min1X(detail),halfY(detail)));};const reduceBy=(value,min,max,step)=>{if(value<min){return value;}else if(value>max){return max;}else if(value===min){return min-1;}else{return Math.max(min,value-step);}};const increaseBy=(value,min,max,step)=>{if(value>max){return value;}else if(value<min){return min;}else if(value===max){return max+1;}else{return Math.min(max,value+step);}};const capValue=(value,min,max)=>Math.max(min,Math.min(max,value));const snapValueOf=(value,min,max,step,snapStart)=>snapStart.fold(()=>{const initValue=value-min;const extraValue=Math.round(initValue/step)*step;return capValue(min+extraValue,min-1,max+1);},start=>{const remainder=(value-start)%step;const adjustment=Math.round(remainder/step);const rawSteps=Math.floor((value-start)/step);const maxSteps=Math.floor((max-start)/step);const numSteps=Math.min(maxSteps,rawSteps+adjustment);const r=start+numSteps*step;return Math.max(start,r);});const findOffsetOf=(value,min,max)=>Math.min(max,Math.max(value,min))-min;const findValueOf=args=>{const{min,max,range,value,step,snap,snapStart,rounded,hasMinEdge,hasMaxEdge,minBound,maxBound,screenRange}=args;const capMin=hasMinEdge?min-1:min;const capMax=hasMaxEdge?max+1:max;if(value<minBound){return capMin;}else if(value>maxBound){return capMax;}else{const offset=findOffsetOf(value,minBound,maxBound);const newValue=capValue(offset/screenRange*range+min,capMin,capMax);if(snap&&newValue>=min&&newValue<=max){return snapValueOf(newValue,min,max,step,snapStart);}else if(rounded){return Math.round(newValue);}else{return newValue;}}};const findOffsetOfValue$2=args=>{const{min,max,range,value,hasMinEdge,hasMaxEdge,maxBound,maxOffset,centerMinEdge,centerMaxEdge}=args;if(value<min){return hasMinEdge?0:centerMinEdge;}else if(value>max){return hasMaxEdge?maxBound:centerMaxEdge;}else{return(value-min)/range*maxOffset;}};const top='top',right='right',bottom='bottom',left='left',width='width',height='height';const getBounds=component=>component.element.dom.getBoundingClientRect();const getBoundsProperty=(bounds,property)=>bounds[property];const getMinXBounds=component=>{const bounds=getBounds(component);return getBoundsProperty(bounds,left);};const getMaxXBounds=component=>{const bounds=getBounds(component);return getBoundsProperty(bounds,right);};const getMinYBounds=component=>{const bounds=getBounds(component);return getBoundsProperty(bounds,top);};const getMaxYBounds=component=>{const bounds=getBounds(component);return getBoundsProperty(bounds,bottom);};const getXScreenRange=component=>{const bounds=getBounds(component);return getBoundsProperty(bounds,width);};const getYScreenRange=component=>{const bounds=getBounds(component);return getBoundsProperty(bounds,height);};const getCenterOffsetOf=(componentMinEdge,componentMaxEdge,spectrumMinEdge)=>(componentMinEdge+componentMaxEdge)/2-spectrumMinEdge;const getXCenterOffSetOf=(component,spectrum)=>{const componentBounds=getBounds(component);const spectrumBounds=getBounds(spectrum);const componentMinEdge=getBoundsProperty(componentBounds,left);const componentMaxEdge=getBoundsProperty(componentBounds,right);const spectrumMinEdge=getBoundsProperty(spectrumBounds,left);return getCenterOffsetOf(componentMinEdge,componentMaxEdge,spectrumMinEdge);};const getYCenterOffSetOf=(component,spectrum)=>{const componentBounds=getBounds(component);const spectrumBounds=getBounds(spectrum);const componentMinEdge=getBoundsProperty(componentBounds,top);const componentMaxEdge=getBoundsProperty(componentBounds,bottom);const spectrumMinEdge=getBoundsProperty(spectrumBounds,top);return getCenterOffsetOf(componentMinEdge,componentMaxEdge,spectrumMinEdge);};const fireSliderChange$2=(spectrum,value)=>{emitWith(spectrum,sliderChangeEvent(),{value});};const findValueOfOffset$1=(spectrum,detail,left)=>{const args={min:minX(detail),max:maxX(detail),range:xRange(detail),value:left,step:step(detail),snap:snap(detail),snapStart:snapStart(detail),rounded:rounded(detail),hasMinEdge:hasLEdge(detail),hasMaxEdge:hasREdge(detail),minBound:getMinXBounds(spectrum),maxBound:getMaxXBounds(spectrum),screenRange:getXScreenRange(spectrum)};return findValueOf(args);};const setValueFrom$2=(spectrum,detail,value)=>{const xValue=findValueOfOffset$1(spectrum,detail,value);const sliderVal=xValue;fireSliderChange$2(spectrum,sliderVal);return xValue;};const setToMin$2=(spectrum,detail)=>{const min=minX(detail);fireSliderChange$2(spectrum,min);};const setToMax$2=(spectrum,detail)=>{const max=maxX(detail);fireSliderChange$2(spectrum,max);};const moveBy$2=(direction,spectrum,detail)=>{const f=direction>0?increaseBy:reduceBy;const xValue=f(currentValue(detail),minX(detail),maxX(detail),step(detail));fireSliderChange$2(spectrum,xValue);return Optional.some(xValue);};const handleMovement$2=direction=>(spectrum,detail)=>moveBy$2(direction,spectrum,detail).map(always);const getValueFromEvent$2=simulatedEvent=>{const pos=getEventSource(simulatedEvent);return pos.map(p=>p.left);};const findOffsetOfValue$1=(spectrum,detail,value,minEdge,maxEdge)=>{const minOffset=0;const maxOffset=getXScreenRange(spectrum);const centerMinEdge=minEdge.bind(edge=>Optional.some(getXCenterOffSetOf(edge,spectrum))).getOr(minOffset);const centerMaxEdge=maxEdge.bind(edge=>Optional.some(getXCenterOffSetOf(edge,spectrum))).getOr(maxOffset);const args={min:minX(detail),max:maxX(detail),range:xRange(detail),value,hasMinEdge:hasLEdge(detail),hasMaxEdge:hasREdge(detail),minBound:getMinXBounds(spectrum),minOffset,maxBound:getMaxXBounds(spectrum),maxOffset,centerMinEdge,centerMaxEdge};return findOffsetOfValue$2(args);};const findPositionOfValue$1=(slider,spectrum,value,minEdge,maxEdge,detail)=>{const offset=findOffsetOfValue$1(spectrum,detail,value,minEdge,maxEdge);return getMinXBounds(spectrum)-getMinXBounds(slider)+offset;};const setPositionFromValue$2=(slider,thumb,detail,edges)=>{const value=currentValue(detail);const pos=findPositionOfValue$1(slider,edges.getSpectrum(slider),value,edges.getLeftEdge(slider),edges.getRightEdge(slider),detail);const thumbRadius=get$c(thumb.element)/2;set$8(thumb.element,'left',pos-thumbRadius+'px');};const onLeft$2=handleMovement$2(-1);const onRight$2=handleMovement$2(1);const onUp$2=Optional.none;const onDown$2=Optional.none;const edgeActions$2={'top-left':Optional.none(),'top':Optional.none(),'top-right':Optional.none(),'right':Optional.some(setToREdge),'bottom-right':Optional.none(),'bottom':Optional.none(),'bottom-left':Optional.none(),'left':Optional.some(setToLEdge)};var HorizontalModel=/*#__PURE__*/Object.freeze({__proto__:null,setValueFrom:setValueFrom$2,setToMin:setToMin$2,setToMax:setToMax$2,findValueOfOffset:findValueOfOffset$1,getValueFromEvent:getValueFromEvent$2,findPositionOfValue:findPositionOfValue$1,setPositionFromValue:setPositionFromValue$2,onLeft:onLeft$2,onRight:onRight$2,onUp:onUp$2,onDown:onDown$2,edgeActions:edgeActions$2});const fireSliderChange$1=(spectrum,value)=>{emitWith(spectrum,sliderChangeEvent(),{value});};const findValueOfOffset=(spectrum,detail,top)=>{const args={min:minY(detail),max:maxY(detail),range:yRange(detail),value:top,step:step(detail),snap:snap(detail),snapStart:snapStart(detail),rounded:rounded(detail),hasMinEdge:hasTEdge(detail),hasMaxEdge:hasBEdge(detail),minBound:getMinYBounds(spectrum),maxBound:getMaxYBounds(spectrum),screenRange:getYScreenRange(spectrum)};return findValueOf(args);};const setValueFrom$1=(spectrum,detail,value)=>{const yValue=findValueOfOffset(spectrum,detail,value);const sliderVal=yValue;fireSliderChange$1(spectrum,sliderVal);return yValue;};const setToMin$1=(spectrum,detail)=>{const min=minY(detail);fireSliderChange$1(spectrum,min);};const setToMax$1=(spectrum,detail)=>{const max=maxY(detail);fireSliderChange$1(spectrum,max);};const moveBy$1=(direction,spectrum,detail)=>{const f=direction>0?increaseBy:reduceBy;const yValue=f(currentValue(detail),minY(detail),maxY(detail),step(detail));fireSliderChange$1(spectrum,yValue);return Optional.some(yValue);};const handleMovement$1=direction=>(spectrum,detail)=>moveBy$1(direction,spectrum,detail).map(always);const getValueFromEvent$1=simulatedEvent=>{const pos=getEventSource(simulatedEvent);return pos.map(p=>{return p.top;});};const findOffsetOfValue=(spectrum,detail,value,minEdge,maxEdge)=>{const minOffset=0;const maxOffset=getYScreenRange(spectrum);const centerMinEdge=minEdge.bind(edge=>Optional.some(getYCenterOffSetOf(edge,spectrum))).getOr(minOffset);const centerMaxEdge=maxEdge.bind(edge=>Optional.some(getYCenterOffSetOf(edge,spectrum))).getOr(maxOffset);const args={min:minY(detail),max:maxY(detail),range:yRange(detail),value,hasMinEdge:hasTEdge(detail),hasMaxEdge:hasBEdge(detail),minBound:getMinYBounds(spectrum),minOffset,maxBound:getMaxYBounds(spectrum),maxOffset,centerMinEdge,centerMaxEdge};return findOffsetOfValue$2(args);};const findPositionOfValue=(slider,spectrum,value,minEdge,maxEdge,detail)=>{const offset=findOffsetOfValue(spectrum,detail,value,minEdge,maxEdge);return getMinYBounds(spectrum)-getMinYBounds(slider)+offset;};const setPositionFromValue$1=(slider,thumb,detail,edges)=>{const value=currentValue(detail);const pos=findPositionOfValue(slider,edges.getSpectrum(slider),value,edges.getTopEdge(slider),edges.getBottomEdge(slider),detail);const thumbRadius=get$d(thumb.element)/2;set$8(thumb.element,'top',pos-thumbRadius+'px');};const onLeft$1=Optional.none;const onRight$1=Optional.none;const onUp$1=handleMovement$1(-1);const onDown$1=handleMovement$1(1);const edgeActions$1={'top-left':Optional.none(),'top':Optional.some(setToTEdge),'top-right':Optional.none(),'right':Optional.none(),'bottom-right':Optional.none(),'bottom':Optional.some(setToBEdge),'bottom-left':Optional.none(),'left':Optional.none()};var VerticalModel=/*#__PURE__*/Object.freeze({__proto__:null,setValueFrom:setValueFrom$1,setToMin:setToMin$1,setToMax:setToMax$1,findValueOfOffset:findValueOfOffset,getValueFromEvent:getValueFromEvent$1,findPositionOfValue:findPositionOfValue,setPositionFromValue:setPositionFromValue$1,onLeft:onLeft$1,onRight:onRight$1,onUp:onUp$1,onDown:onDown$1,edgeActions:edgeActions$1});const fireSliderChange=(spectrum,value)=>{emitWith(spectrum,sliderChangeEvent(),{value});};const sliderValue=(x,y)=>({x,y});const setValueFrom=(spectrum,detail,value)=>{const xValue=findValueOfOffset$1(spectrum,detail,value.left);const yValue=findValueOfOffset(spectrum,detail,value.top);const val=sliderValue(xValue,yValue);fireSliderChange(spectrum,val);return val;};const moveBy=(direction,isVerticalMovement,spectrum,detail)=>{const f=direction>0?increaseBy:reduceBy;const xValue=isVerticalMovement?currentValue(detail).x:f(currentValue(detail).x,minX(detail),maxX(detail),step(detail));const yValue=!isVerticalMovement?currentValue(detail).y:f(currentValue(detail).y,minY(detail),maxY(detail),step(detail));fireSliderChange(spectrum,sliderValue(xValue,yValue));return Optional.some(xValue);};const handleMovement=(direction,isVerticalMovement)=>(spectrum,detail)=>moveBy(direction,isVerticalMovement,spectrum,detail).map(always);const setToMin=(spectrum,detail)=>{const mX=minX(detail);const mY=minY(detail);fireSliderChange(spectrum,sliderValue(mX,mY));};const setToMax=(spectrum,detail)=>{const mX=maxX(detail);const mY=maxY(detail);fireSliderChange(spectrum,sliderValue(mX,mY));};const getValueFromEvent=simulatedEvent=>getEventSource(simulatedEvent);const setPositionFromValue=(slider,thumb,detail,edges)=>{const value=currentValue(detail);const xPos=findPositionOfValue$1(slider,edges.getSpectrum(slider),value.x,edges.getLeftEdge(slider),edges.getRightEdge(slider),detail);const yPos=findPositionOfValue(slider,edges.getSpectrum(slider),value.y,edges.getTopEdge(slider),edges.getBottomEdge(slider),detail);const thumbXRadius=get$c(thumb.element)/2;const thumbYRadius=get$d(thumb.element)/2;set$8(thumb.element,'left',xPos-thumbXRadius+'px');set$8(thumb.element,'top',yPos-thumbYRadius+'px');};const onLeft=handleMovement(-1,false);const onRight=handleMovement(1,false);const onUp=handleMovement(-1,true);const onDown=handleMovement(1,true);const edgeActions={'top-left':Optional.some(setToTLEdgeXY),'top':Optional.some(setToTEdgeXY),'top-right':Optional.some(setToTREdgeXY),'right':Optional.some(setToREdgeXY),'bottom-right':Optional.some(setToBREdgeXY),'bottom':Optional.some(setToBEdgeXY),'bottom-left':Optional.some(setToBLEdgeXY),'left':Optional.some(setToLEdgeXY)};var TwoDModel=/*#__PURE__*/Object.freeze({__proto__:null,setValueFrom:setValueFrom,setToMin:setToMin,setToMax:setToMax,getValueFromEvent:getValueFromEvent,setPositionFromValue:setPositionFromValue,onLeft:onLeft,onRight:onRight,onUp:onUp,onDown:onDown,edgeActions:edgeActions});const SliderSchema=[defaulted('stepSize',1),defaulted('onChange',noop),defaulted('onChoose',noop),defaulted('onInit',noop),defaulted('onDragStart',noop),defaulted('onDragEnd',noop),defaulted('snapToGrid',false),defaulted('rounded',true),option$3('snapStart'),requiredOf('model',choose$1('mode',{x:[defaulted('minX',0),defaulted('maxX',100),customField('value',spec=>Cell(spec.mode.minX)),required$1('getInitialValue'),output$1('manager',HorizontalModel)],y:[defaulted('minY',0),defaulted('maxY',100),customField('value',spec=>Cell(spec.mode.minY)),required$1('getInitialValue'),output$1('manager',VerticalModel)],xy:[defaulted('minX',0),defaulted('maxX',100),defaulted('minY',0),defaulted('maxY',100),customField('value',spec=>Cell({x:spec.mode.minX,y:spec.mode.minY})),required$1('getInitialValue'),output$1('manager',TwoDModel)]})),field('sliderBehaviours',[Keying,Representing]),customField('mouseIsDown',()=>Cell(false))];const sketch$2=(detail,components,_spec,_externals)=>{const getThumb=component=>getPartOrDie(component,detail,'thumb');const getSpectrum=component=>getPartOrDie(component,detail,'spectrum');const getLeftEdge=component=>getPart(component,detail,'left-edge');const getRightEdge=component=>getPart(component,detail,'right-edge');const getTopEdge=component=>getPart(component,detail,'top-edge');const getBottomEdge=component=>getPart(component,detail,'bottom-edge');const modelDetail=detail.model;const model=modelDetail.manager;const refresh=(slider,thumb)=>{model.setPositionFromValue(slider,thumb,detail,{getLeftEdge,getRightEdge,getTopEdge,getBottomEdge,getSpectrum});};const setValue=(slider,newValue)=>{modelDetail.value.set(newValue);const thumb=getThumb(slider);refresh(slider,thumb);};const changeValue=(slider,newValue)=>{setValue(slider,newValue);const thumb=getThumb(slider);detail.onChange(slider,thumb,newValue);return Optional.some(true);};const resetToMin=slider=>{model.setToMin(slider,detail);};const resetToMax=slider=>{model.setToMax(slider,detail);};const choose=slider=>{const fireOnChoose=()=>{getPart(slider,detail,'thumb').each(thumb=>{const value=modelDetail.value.get();detail.onChoose(slider,thumb,value);});};const wasDown=detail.mouseIsDown.get();detail.mouseIsDown.set(false);if(wasDown){fireOnChoose();}};const onDragStart=(slider,simulatedEvent)=>{simulatedEvent.stop();detail.mouseIsDown.set(true);detail.onDragStart(slider,getThumb(slider));};const onDragEnd=(slider,simulatedEvent)=>{simulatedEvent.stop();detail.onDragEnd(slider,getThumb(slider));choose(slider);};return{uid:detail.uid,dom:detail.dom,components,behaviours:augment(detail.sliderBehaviours,[Keying.config({mode:'special',focusIn:slider=>{return getPart(slider,detail,'spectrum').map(Keying.focusIn).map(always);}}),Representing.config({store:{mode:'manual',getValue:_=>{return modelDetail.value.get();},setValue}}),Receiving.config({channels:{[mouseReleased()]:{onReceive:choose}}})]),events:derive$2([run$1(sliderChangeEvent(),(slider,simulatedEvent)=>{changeValue(slider,simulatedEvent.event.value);}),runOnAttached((slider,_simulatedEvent)=>{const getInitial=modelDetail.getInitialValue();modelDetail.value.set(getInitial);const thumb=getThumb(slider);refresh(slider,thumb);const spectrum=getSpectrum(slider);detail.onInit(slider,thumb,spectrum,modelDetail.value.get());}),run$1(touchstart(),onDragStart),run$1(touchend(),onDragEnd),run$1(mousedown(),onDragStart),run$1(mouseup(),onDragEnd)]),apis:{resetToMin,resetToMax,setValue,refresh},domModification:{styles:{position:'relative'}}};};const Slider=composite({name:'Slider',configFields:SliderSchema,partFields:SliderParts,factory:sketch$2,apis:{setValue:(apis,slider,value)=>{apis.setValue(slider,value);},resetToMin:(apis,slider)=>{apis.resetToMin(slider);},resetToMax:(apis,slider)=>{apis.resetToMax(slider);},refresh:(apis,slider)=>{apis.refresh(slider);}}});const fieldsUpdate=generate$6('rgb-hex-update');const sliderUpdate=generate$6('slider-update');const paletteUpdate=generate$6('palette-update');const sliderFactory=(translate,getClass)=>{const spectrum=Slider.parts.spectrum({dom:{tag:'div',classes:[getClass('hue-slider-spectrum')],attributes:{role:'presentation'}}});const thumb=Slider.parts.thumb({dom:{tag:'div',classes:[getClass('hue-slider-thumb')],attributes:{role:'presentation'}}});return Slider.sketch({dom:{tag:'div',classes:[getClass('hue-slider')],attributes:{role:'presentation'}},rounded:false,model:{mode:'y',getInitialValue:constant$1(0)},components:[spectrum,thumb],sliderBehaviours:derive$1([Focusing.config({})]),onChange:(slider,_thumb,value)=>{emitWith(slider,sliderUpdate,{value});}});};const owner$1='form';const schema$i=[field('formBehaviours',[Representing])];const getPartName$1=name=>'<alloy.field.'+name+'>';const sketch$1=fSpec=>{const parts=(()=>{const record=[];const field=(name,config)=>{record.push(name);return generateOne$1(owner$1,getPartName$1(name),config);};return{field,record:constant$1(record)};})();const spec=fSpec(parts);const partNames=parts.record();const fieldParts=map$2(partNames,n=>required({name:n,pname:getPartName$1(n)}));return composite$1(owner$1,schema$i,fieldParts,make$4,spec);};const toResult=(o,e)=>o.fold(()=>Result.error(e),Result.value);const make$4=(detail,components)=>({uid:detail.uid,dom:detail.dom,components,behaviours:augment(detail.formBehaviours,[Representing.config({store:{mode:'manual',getValue:form=>{const resPs=getAllParts(form,detail);return map$1(resPs,(resPThunk,pName)=>resPThunk().bind(v=>{const opt=Composing.getCurrent(v);return toResult(opt,new Error(`Cannot find a current component to extract the value from for form part '${pName}': `+element(v.element)));}).map(Representing.getValue));},setValue:(form,values)=>{each(values,(newValue,key)=>{getPart(form,detail,key).each(wrapper=>{Composing.getCurrent(wrapper).each(field=>{Representing.setValue(field,newValue);});});});}}})]),apis:{getField:(form,key)=>{return getPart(form,detail,key).bind(Composing.getCurrent);}}});const Form={getField:makeApi((apis,component,key)=>apis.getField(component,key)),sketch:sketch$1};const validInput=generate$6('valid-input');const invalidInput=generate$6('invalid-input');const validatingInput=generate$6('validating-input');const translatePrefix='colorcustom.rgb.';const rgbFormFactory=(translate,getClass,onValidHexx,onInvalidHexx)=>{const invalidation=(label,isValid)=>Invalidating.config({invalidClass:getClass('invalid'),notify:{onValidate:comp=>{emitWith(comp,validatingInput,{type:label});},onValid:comp=>{emitWith(comp,validInput,{type:label,value:Representing.getValue(comp)});},onInvalid:comp=>{emitWith(comp,invalidInput,{type:label,value:Representing.getValue(comp)});}},validator:{validate:comp=>{const value=Representing.getValue(comp);const res=isValid(value)?Result.value(true):Result.error(translate('aria.input.invalid'));return Future.pure(res);},validateOnLoad:false}});const renderTextField=(isValid,name,label,description,data)=>{const helptext=translate(translatePrefix+'range');const pLabel=FormField.parts.label({dom:{tag:'label',attributes:{'aria-label':description}},components:[text$1(label)]});const pField=FormField.parts.field({data,factory:Input,inputAttributes:{type:'text',...(name==='hex'?{'aria-live':'polite'}:{})},inputClasses:[getClass('textfield')],inputBehaviours:derive$1([invalidation(name,isValid),Tabstopping.config({})]),onSetValue:input=>{if(Invalidating.isInvalid(input)){const run=Invalidating.run(input);run.get(noop);}}});const comps=[pLabel,pField];const concats=name!=='hex'?[FormField.parts['aria-descriptor']({text:helptext})]:[];const components=comps.concat(concats);return{dom:{tag:'div',attributes:{role:'presentation'}},components};};const copyRgbToHex=(form,rgba)=>{const hex=fromRgba(rgba);Form.getField(form,'hex').each(hexField=>{if(!Focusing.isFocused(hexField)){Representing.setValue(form,{hex:hex.value});}});return hex;};const copyRgbToForm=(form,rgb)=>{const red=rgb.red;const green=rgb.green;const blue=rgb.blue;Representing.setValue(form,{red,green,blue});};const memPreview=record({dom:{tag:'div',classes:[getClass('rgba-preview')],styles:{'background-color':'white'},attributes:{role:'presentation'}}});const updatePreview=(anyInSystem,hex)=>{memPreview.getOpt(anyInSystem).each(preview=>{set$8(preview.element,'background-color','#'+hex.value);});};const factory=()=>{const state={red:Cell(Optional.some(255)),green:Cell(Optional.some(255)),blue:Cell(Optional.some(255)),hex:Cell(Optional.some('ffffff'))};const copyHexToRgb=(form,hex)=>{const rgb=fromHex(hex);copyRgbToForm(form,rgb);setValueRgb(rgb);};const get=prop=>state[prop].get();const set=(prop,value)=>{state[prop].set(value);};const getValueRgb=()=>get('red').bind(red=>get('green').bind(green=>get('blue').map(blue=>rgbaColour(red,green,blue,1))));const setValueRgb=rgb=>{const red=rgb.red;const green=rgb.green;const blue=rgb.blue;set('red',Optional.some(red));set('green',Optional.some(green));set('blue',Optional.some(blue));};const onInvalidInput=(form,simulatedEvent)=>{const data=simulatedEvent.event;if(data.type!=='hex'){set(data.type,Optional.none());}else{onInvalidHexx(form);}};const onValidHex=(form,value)=>{onValidHexx(form);const hex=hexColour(value);set('hex',Optional.some(value));const rgb=fromHex(hex);copyRgbToForm(form,rgb);setValueRgb(rgb);emitWith(form,fieldsUpdate,{hex});updatePreview(form,hex);};const onValidRgb=(form,prop,value)=>{const val=parseInt(value,10);set(prop,Optional.some(val));getValueRgb().each(rgb=>{const hex=copyRgbToHex(form,rgb);emitWith(form,fieldsUpdate,{hex});updatePreview(form,hex);});};const isHexInputEvent=data=>data.type==='hex';const onValidInput=(form,simulatedEvent)=>{const data=simulatedEvent.event;if(isHexInputEvent(data)){onValidHex(form,data.value);}else{onValidRgb(form,data.type,data.value);}};const formPartStrings=key=>({label:translate(translatePrefix+key+'.label'),description:translate(translatePrefix+key+'.description')});const redStrings=formPartStrings('red');const greenStrings=formPartStrings('green');const blueStrings=formPartStrings('blue');const hexStrings=formPartStrings('hex');return deepMerge(Form.sketch(parts=>({dom:{tag:'form',classes:[getClass('rgb-form')],attributes:{'aria-label':translate('aria.color.picker')}},components:[parts.field('red',FormField.sketch(renderTextField(isRgbaComponent,'red',redStrings.label,redStrings.description,255))),parts.field('green',FormField.sketch(renderTextField(isRgbaComponent,'green',greenStrings.label,greenStrings.description,255))),parts.field('blue',FormField.sketch(renderTextField(isRgbaComponent,'blue',blueStrings.label,blueStrings.description,255))),parts.field('hex',FormField.sketch(renderTextField(isHexString,'hex',hexStrings.label,hexStrings.description,'ffffff'))),memPreview.asSpec()],formBehaviours:derive$1([Invalidating.config({invalidClass:getClass('form-invalid')}),config('rgb-form-events',[run$1(validInput,onValidInput),run$1(invalidInput,onInvalidInput),run$1(validatingInput,onInvalidInput)])])})),{apis:{updateHex:(form,hex)=>{Representing.setValue(form,{hex:hex.value});copyHexToRgb(form,hex);updatePreview(form,hex);}}});};const rgbFormSketcher=single({factory,name:'RgbForm',configFields:[],apis:{updateHex:(apis,form,hex)=>{apis.updateHex(form,hex);}},extraApis:{}});return rgbFormSketcher;};const paletteFactory=(_translate,getClass)=>{const spectrumPart=Slider.parts.spectrum({dom:{tag:'canvas',attributes:{role:'presentation'},classes:[getClass('sv-palette-spectrum')]}});const thumbPart=Slider.parts.thumb({dom:{tag:'div',attributes:{role:'presentation'},classes:[getClass('sv-palette-thumb')],innerHtml:`<div class=${getClass('sv-palette-inner-thumb')} role=\"presentation\"></div>`}});const setColour=(canvas,rgba)=>{const{width,height}=canvas;const ctx=canvas.getContext('2d');if(ctx===null){return;}ctx.fillStyle=rgba;ctx.fillRect(0,0,width,height);const grdWhite=ctx.createLinearGradient(0,0,width,0);grdWhite.addColorStop(0,'rgba(255,255,255,1)');grdWhite.addColorStop(1,'rgba(255,255,255,0)');ctx.fillStyle=grdWhite;ctx.fillRect(0,0,width,height);const grdBlack=ctx.createLinearGradient(0,0,0,height);grdBlack.addColorStop(0,'rgba(0,0,0,0)');grdBlack.addColorStop(1,'rgba(0,0,0,1)');ctx.fillStyle=grdBlack;ctx.fillRect(0,0,width,height);};const setPaletteHue=(slider,hue)=>{const canvas=slider.components()[0].element.dom;const hsv=hsvColour(hue,100,100);const rgba=fromHsv(hsv);setColour(canvas,toString(rgba));};const setPaletteThumb=(slider,hex)=>{const hsv=fromRgb(fromHex(hex));Slider.setValue(slider,{x:hsv.saturation,y:100-hsv.value});};const factory=_detail=>{const getInitialValue=constant$1({x:0,y:0});const onChange=(slider,_thumb,value)=>{emitWith(slider,paletteUpdate,{value});};const onInit=(_slider,_thumb,spectrum,_value)=>{setColour(spectrum.element.dom,toString(red));};const sliderBehaviours=derive$1([Composing.config({find:Optional.some}),Focusing.config({})]);return Slider.sketch({dom:{tag:'div',attributes:{role:'presentation'},classes:[getClass('sv-palette')]},model:{mode:'xy',getInitialValue},rounded:false,components:[spectrumPart,thumbPart],onChange,onInit,sliderBehaviours});};const saturationBrightnessPaletteSketcher=single({factory,name:'SaturationBrightnessPalette',configFields:[],apis:{setHue:(_apis,slider,hue)=>{setPaletteHue(slider,hue);},setThumb:(_apis,slider,hex)=>{setPaletteThumb(slider,hex);}},extraApis:{}});return saturationBrightnessPaletteSketcher;};const makeFactory=(translate,getClass)=>{const factory=detail=>{const rgbForm=rgbFormFactory(translate,getClass,detail.onValidHex,detail.onInvalidHex);const sbPalette=paletteFactory(translate,getClass);const hueSliderToDegrees=hue=>(100-hue)/100*360;const hueDegreesToSlider=hue=>100-hue/360*100;const state={paletteRgba:Cell(red),paletteHue:Cell(0)};const memSlider=record(sliderFactory(translate,getClass));const memPalette=record(sbPalette.sketch({}));const memRgb=record(rgbForm.sketch({}));const updatePalette=(anyInSystem,_hex,hue)=>{memPalette.getOpt(anyInSystem).each(palette=>{sbPalette.setHue(palette,hue);});};const updateFields=(anyInSystem,hex)=>{memRgb.getOpt(anyInSystem).each(form=>{rgbForm.updateHex(form,hex);});};const updateSlider=(anyInSystem,_hex,hue)=>{memSlider.getOpt(anyInSystem).each(slider=>{Slider.setValue(slider,hueDegreesToSlider(hue));});};const updatePaletteThumb=(anyInSystem,hex)=>{memPalette.getOpt(anyInSystem).each(palette=>{sbPalette.setThumb(palette,hex);});};const updateState=(hex,hue)=>{const rgba=fromHex(hex);state.paletteRgba.set(rgba);state.paletteHue.set(hue);};const runUpdates=(anyInSystem,hex,hue,updates)=>{updateState(hex,hue);each$1(updates,update=>{update(anyInSystem,hex,hue);});};const onPaletteUpdate=()=>{const updates=[updateFields];return(form,simulatedEvent)=>{const value=simulatedEvent.event.value;const oldHue=state.paletteHue.get();const newHsv=hsvColour(oldHue,value.x,100-value.y);const newHex=hsvToHex(newHsv);runUpdates(form,newHex,oldHue,updates);};};const onSliderUpdate=()=>{const updates=[updatePalette,updateFields];return(form,simulatedEvent)=>{const hue=hueSliderToDegrees(simulatedEvent.event.value);const oldRgb=state.paletteRgba.get();const oldHsv=fromRgb(oldRgb);const newHsv=hsvColour(hue,oldHsv.saturation,oldHsv.value);const newHex=hsvToHex(newHsv);runUpdates(form,newHex,hue,updates);};};const onFieldsUpdate=()=>{const updates=[updatePalette,updateSlider,updatePaletteThumb];return(form,simulatedEvent)=>{const hex=simulatedEvent.event.hex;const hsv=hexToHsv(hex);runUpdates(form,hex,hsv.hue,updates);};};return{uid:detail.uid,dom:detail.dom,components:[memPalette.asSpec(),memSlider.asSpec(),memRgb.asSpec()],behaviours:derive$1([config('colour-picker-events',[run$1(fieldsUpdate,onFieldsUpdate()),run$1(paletteUpdate,onPaletteUpdate()),run$1(sliderUpdate,onSliderUpdate())]),Composing.config({find:comp=>memRgb.getOpt(comp)}),Keying.config({mode:'acyclic'})])};};const colourPickerSketcher=single({name:'ColourPicker',configFields:[required$1('dom'),defaulted('onValidHex',noop),defaulted('onInvalidHex',noop)],factory});return colourPickerSketcher;};const self=()=>Composing.config({find:Optional.some});const memento$1=mem=>Composing.config({find:mem.getOpt});const childAt=index=>Composing.config({find:comp=>child$2(comp.element,index).bind(element=>comp.getSystem().getByDom(element).toOptional())});const ComposingConfigs={self,memento:memento$1,childAt};const processors=objOf([defaulted('preprocess',identity),defaulted('postprocess',identity)]);const memento=(mem,rawProcessors)=>{const ps=asRawOrDie$1('RepresentingConfigs.memento processors',processors,rawProcessors);return Representing.config({store:{mode:'manual',getValue:comp=>{const other=mem.get(comp);const rawValue=Representing.getValue(other);return ps.postprocess(rawValue);},setValue:(comp,rawValue)=>{const newValue=ps.preprocess(rawValue);const other=mem.get(comp);Representing.setValue(other,newValue);}}});};const withComp=(optInitialValue,getter,setter)=>Representing.config({store:{mode:'manual',...optInitialValue.map(initialValue=>({initialValue})).getOr({}),getValue:getter,setValue:setter}});const withElement=(initialValue,getter,setter)=>withComp(initialValue,c=>getter(c.element),(c,v)=>setter(c.element,v));const domValue=optInitialValue=>withElement(optInitialValue,get$6,set$5);const domHtml=optInitialValue=>withElement(optInitialValue,get$9,set$6);const memory=initialValue=>Representing.config({store:{mode:'memory',initialValue}});const RepresentingConfigs={memento,withElement,withComp,domValue,domHtml,memory};const english={'colorcustom.rgb.red.label':'R','colorcustom.rgb.red.description':'Red component','colorcustom.rgb.green.label':'G','colorcustom.rgb.green.description':'Green component','colorcustom.rgb.blue.label':'B','colorcustom.rgb.blue.description':'Blue component','colorcustom.rgb.hex.label':'#','colorcustom.rgb.hex.description':'Hex color code','colorcustom.rgb.range':'Range 0 to 255','aria.color.picker':'Color Picker','aria.input.invalid':'Invalid input'};const translate$1=providerBackstage=>key=>{return providerBackstage.translate(english[key]);};const renderColorPicker=(_spec,providerBackstage,initialData)=>{const getClass=key=>'tox-'+key;const colourPickerFactory=makeFactory(translate$1(providerBackstage),getClass);const onValidHex=form=>{emitWith(form,formActionEvent,{name:'hex-valid',value:true});};const onInvalidHex=form=>{emitWith(form,formActionEvent,{name:'hex-valid',value:false});};const memPicker=record(colourPickerFactory.sketch({dom:{tag:'div',classes:[getClass('color-picker-container')],attributes:{role:'presentation'}},onValidHex,onInvalidHex}));return{dom:{tag:'div'},components:[memPicker.asSpec()],behaviours:derive$1([RepresentingConfigs.withComp(initialData,comp=>{const picker=memPicker.get(comp);const optRgbForm=Composing.getCurrent(picker);const optHex=optRgbForm.bind(rgbForm=>{const formValues=Representing.getValue(rgbForm);return formValues.hex;});return optHex.map(hex=>'#'+hex).getOr('');},(comp,newValue)=>{const pattern=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/;const valOpt=Optional.from(pattern.exec(newValue)).bind(matches=>get$h(matches,1));const picker=memPicker.get(comp);const optRgbForm=Composing.getCurrent(picker);optRgbForm.fold(()=>{console.log('Can not find form');},rgbForm=>{Representing.setValue(rgbForm,{hex:valOpt.getOr('')});Form.getField(rgbForm,'hex').each(hexField=>{emit(hexField,input());});});}),ComposingConfigs.self()])};};var global$2=tinymce.util.Tools.resolve('tinymce.Resource');const isOldCustomEditor=spec=>has$2(spec,'init');const renderCustomEditor=spec=>{const editorApi=value$2();const memReplaced=record({dom:{tag:spec.tag}});const initialValue=value$2();return{dom:{tag:'div',classes:['tox-custom-editor']},behaviours:derive$1([config('custom-editor-events',[runOnAttached(component=>{memReplaced.getOpt(component).each(ta=>{(isOldCustomEditor(spec)?spec.init(ta.element.dom):global$2.load(spec.scriptId,spec.scriptUrl).then(init=>init(ta.element.dom,spec.settings))).then(ea=>{initialValue.on(cvalue=>{ea.setValue(cvalue);});initialValue.clear();editorApi.set(ea);});});})]),RepresentingConfigs.withComp(Optional.none(),()=>editorApi.get().fold(()=>initialValue.get().getOr(''),ed=>ed.getValue()),(component,value)=>{editorApi.get().fold(()=>initialValue.set(value),ed=>ed.setValue(value));}),ComposingConfigs.self()]),components:[memReplaced.asSpec()]};};var global$1=tinymce.util.Tools.resolve('tinymce.util.Tools');const filterByExtension=(files,providersBackstage)=>{const allowedImageFileTypes=global$1.explode(providersBackstage.getOption('images_file_types'));const isFileInAllowedTypes=file=>exists(allowedImageFileTypes,type=>endsWith(file.name.toLowerCase(),`.${type.toLowerCase()}`));return filter$2(from(files),isFileInAllowedTypes);};const renderDropZone=(spec,providersBackstage,initialData)=>{const stopper=(_,se)=>{se.stop();};const sequence=actions=>(comp,se)=>{each$1(actions,a=>{a(comp,se);});};const onDrop=(comp,se)=>{var _a;if(!Disabling.isDisabled(comp)){const transferEvent=se.event.raw;handleFiles(comp,(_a=transferEvent.dataTransfer)===null||_a===void 0?void 0:_a.files);}};const onSelect=(component,simulatedEvent)=>{const input=simulatedEvent.event.raw.target;handleFiles(component,input.files);};const handleFiles=(component,files)=>{if(files){Representing.setValue(component,filterByExtension(files,providersBackstage));emitWith(component,formChangeEvent,{name:spec.name});}};const memInput=record({dom:{tag:'input',attributes:{type:'file',accept:'image/*'},styles:{display:'none'}},behaviours:derive$1([config('input-file-events',[cutter(click()),cutter(tap())])])});const renderField=s=>({uid:s.uid,dom:{tag:'div',classes:['tox-dropzone-container']},behaviours:derive$1([RepresentingConfigs.memory(initialData.getOr([])),ComposingConfigs.self(),Disabling.config({}),Toggling.config({toggleClass:'dragenter',toggleOnExecute:false}),config('dropzone-events',[run$1('dragenter',sequence([stopper,Toggling.toggle])),run$1('dragleave',sequence([stopper,Toggling.toggle])),run$1('dragover',stopper),run$1('drop',sequence([stopper,onDrop])),run$1(change(),onSelect)])]),components:[{dom:{tag:'div',classes:['tox-dropzone'],styles:{}},components:[{dom:{tag:'p'},components:[text$1(providersBackstage.translate('Drop an image here'))]},Button.sketch({dom:{tag:'button',styles:{position:'relative'},classes:['tox-button','tox-button--secondary']},components:[text$1(providersBackstage.translate('Browse for an image')),memInput.asSpec()],action:comp=>{const inputComp=memInput.get(comp);inputComp.element.dom.click();},buttonBehaviours:derive$1([Tabstopping.config({}),DisablingConfigs.button(providersBackstage.isDisabled),receivingConfig()])})]}]});const pLabel=spec.label.map(label=>renderLabel$2(label,providersBackstage));const pField=FormField.parts.field({factory:{sketch:renderField}});return renderFormFieldWith(pLabel,pField,['tox-form__group--stretched'],[]);};const renderGrid=(spec,backstage)=>({dom:{tag:'div',classes:['tox-form__grid',`tox-form__grid--${spec.columns}col`]},components:map$2(spec.items,backstage.interpreter)});const beforeObject=generate$6('alloy-fake-before-tabstop');const afterObject=generate$6('alloy-fake-after-tabstop');const craftWithClasses=classes=>{return{dom:{tag:'div',styles:{width:'1px',height:'1px',outline:'none'},attributes:{tabindex:'0'},classes},behaviours:derive$1([Focusing.config({ignore:true}),Tabstopping.config({})])};};const craft=spec=>{return{dom:{tag:'div',classes:['tox-navobj']},components:[craftWithClasses([beforeObject]),spec,craftWithClasses([afterObject])],behaviours:derive$1([ComposingConfigs.childAt(1)])};};const triggerTab=(placeholder,shiftKey)=>{emitWith(placeholder,keydown(),{raw:{which:9,shiftKey}});};const onFocus=(container,targetComp)=>{const target=targetComp.element;if(has(target,beforeObject)){triggerTab(container,true);}else if(has(target,afterObject)){triggerTab(container,false);}};const isPseudoStop=element=>{return closest(element,['.'+beforeObject,'.'+afterObject].join(','),never);};const getDynamicSource=initialData=>{const cachedValue=Cell(initialData.getOr(''));return{getValue:_frameComponent=>cachedValue.get(),setValue:(frameComponent,html)=>{if(cachedValue.get()!==html){set$9(frameComponent.element,'srcdoc',html);}cachedValue.set(html);}};};const renderIFrame=(spec,providersBackstage,initialData)=>{const isSandbox=spec.sandboxed;const isTransparent=spec.transparent;const baseClass='tox-dialog__iframe';const attributes={...spec.label.map(title=>({title})).getOr({}),...initialData.map(html=>({srcdoc:html})).getOr({}),...(isSandbox?{sandbox:'allow-scripts allow-same-origin'}:{})};const sourcing=getDynamicSource(initialData);const pLabel=spec.label.map(label=>renderLabel$2(label,providersBackstage));const factory=newSpec=>craft({uid:newSpec.uid,dom:{tag:'iframe',attributes,classes:isTransparent?[baseClass]:[baseClass,`${baseClass}--opaque`]},behaviours:derive$1([Tabstopping.config({}),Focusing.config({}),RepresentingConfigs.withComp(initialData,sourcing.getValue,sourcing.setValue)])});const pField=FormField.parts.field({factory:{sketch:factory}});return renderFormFieldWith(pLabel,pField,['tox-form__group--stretched'],[]);};const image=image=>new Promise((resolve,reject)=>{const loaded=()=>{destroy();resolve(image);};const listeners=[bind(image,'load',loaded),bind(image,'error',()=>{destroy();reject('Unable to load data from image: '+image.dom.src);})];const destroy=()=>each$1(listeners,l=>l.unbind());if(image.dom.complete){loaded();}});const calculateImagePosition=(panelWidth,panelHeight,imageWidth,imageHeight,zoom)=>{const width=imageWidth*zoom;const height=imageHeight*zoom;const left=Math.max(0,panelWidth/2-width/2);const top=Math.max(0,panelHeight/2-height/2);return{left:left.toString()+'px',top:top.toString()+'px',width:width.toString()+'px',height:height.toString()+'px'};};const zoomToFit=(panel,width,height)=>{const panelW=get$c(panel);const panelH=get$d(panel);return Math.min(panelW/width,panelH/height,1);};const renderImagePreview=(spec,initialData)=>{const cachedData=Cell(initialData.getOr({url:''}));const memImage=record({dom:{tag:'img',classes:['tox-imagepreview__image'],attributes:initialData.map(data=>({src:data.url})).getOr({})}});const memContainer=record({dom:{tag:'div',classes:['tox-imagepreview__container'],attributes:{role:'presentation'}},components:[memImage.asSpec()]});const setValue=(frameComponent,data)=>{const translatedData={url:data.url};data.zoom.each(z=>translatedData.zoom=z);data.cachedWidth.each(z=>translatedData.cachedWidth=z);data.cachedHeight.each(z=>translatedData.cachedHeight=z);cachedData.set(translatedData);const applyFramePositioning=()=>{const{cachedWidth,cachedHeight,zoom}=translatedData;if(!isUndefined(cachedWidth)&&!isUndefined(cachedHeight)){if(isUndefined(zoom)){const z=zoomToFit(frameComponent.element,cachedWidth,cachedHeight);translatedData.zoom=z;}const position=calculateImagePosition(get$c(frameComponent.element),get$d(frameComponent.element),cachedWidth,cachedHeight,translatedData.zoom);memContainer.getOpt(frameComponent).each(container=>{setAll(container.element,position);});}};memImage.getOpt(frameComponent).each(imageComponent=>{const img=imageComponent.element;if(data.url!==get$f(img,'src')){set$9(img,'src',data.url);remove$2(frameComponent.element,'tox-imagepreview__loaded');}applyFramePositioning();image(img).then(img=>{if(frameComponent.getSystem().isConnected()){add$2(frameComponent.element,'tox-imagepreview__loaded');translatedData.cachedWidth=img.dom.naturalWidth;translatedData.cachedHeight=img.dom.naturalHeight;applyFramePositioning();}});});};const styles={};spec.height.each(h=>styles.height=h);const fakeValidatedData=initialData.map(d=>({url:d.url,zoom:Optional.from(d.zoom),cachedWidth:Optional.from(d.cachedWidth),cachedHeight:Optional.from(d.cachedHeight)}));return{dom:{tag:'div',classes:['tox-imagepreview'],styles,attributes:{role:'presentation'}},components:[memContainer.asSpec()],behaviours:derive$1([ComposingConfigs.self(),RepresentingConfigs.withComp(fakeValidatedData,()=>cachedData.get(),setValue)])};};const renderLabel$1=(spec,backstageShared)=>{const label={dom:{tag:'label',classes:['tox-label']},components:[text$1(backstageShared.providers.translate(spec.label))]};const comps=map$2(spec.items,backstageShared.interpreter);return{dom:{tag:'div',classes:['tox-form__group']},components:[label,...comps],behaviours:derive$1([ComposingConfigs.self(),Replacing.config({}),RepresentingConfigs.domHtml(Optional.none()),Keying.config({mode:'acyclic'})])};};const internalToolbarButtonExecute=generate$6('toolbar.button.execute');const onToolbarButtonExecute=info=>runOnExecute$1((comp,_simulatedEvent)=>{runWithApi(info,comp)(itemApi=>{emitWith(comp,internalToolbarButtonExecute,{buttonApi:itemApi});info.onAction(itemApi);});});const toolbarButtonEventOrder={[execute$5()]:['disabling','alloy.base.behaviour','toggling','toolbar-button-events']};const renderIcon=(iconName,iconsProvider,behaviours)=>render$3(iconName,{tag:'span',classes:['tox-icon','tox-tbtn__icon-wrap'],behaviours},iconsProvider);const renderIconFromPack=(iconName,iconsProvider)=>renderIcon(iconName,iconsProvider,[]);const renderReplaceableIconFromPack=(iconName,iconsProvider)=>renderIcon(iconName,iconsProvider,[Replacing.config({})]);const renderLabel=(text,prefix,providersBackstage)=>({dom:{tag:'span',classes:[`${prefix}__select-label`]},components:[text$1(providersBackstage.translate(text))],behaviours:derive$1([Replacing.config({})])});const updateMenuText=generate$6('update-menu-text');const updateMenuIcon=generate$6('update-menu-icon');const renderCommonDropdown=(spec,prefix,sharedBackstage)=>{const editorOffCell=Cell(noop);const optMemDisplayText=spec.text.map(text=>record(renderLabel(text,prefix,sharedBackstage.providers)));const optMemDisplayIcon=spec.icon.map(iconName=>record(renderReplaceableIconFromPack(iconName,sharedBackstage.providers.icons)));const onLeftOrRightInMenu=(comp,se)=>{const dropdown=Representing.getValue(comp);Focusing.focus(dropdown);emitWith(dropdown,'keydown',{raw:se.event.raw});Dropdown.close(dropdown);return Optional.some(true);};const role=spec.role.fold(()=>({}),role=>({role}));const tooltipAttributes=spec.tooltip.fold(()=>({}),tooltip=>{const translatedTooltip=sharedBackstage.providers.translate(tooltip);return{'title':translatedTooltip,'aria-label':translatedTooltip};});const iconSpec=render$3('chevron-down',{tag:'div',classes:[`${prefix}__select-chevron`]},sharedBackstage.providers.icons);const memDropdown=record(Dropdown.sketch({...(spec.uid?{uid:spec.uid}:{}),...role,dom:{tag:'button',classes:[prefix,`${prefix}--select`].concat(map$2(spec.classes,c=>`${prefix}--${c}`)),attributes:{...tooltipAttributes}},components:componentRenderPipeline([optMemDisplayIcon.map(mem=>mem.asSpec()),optMemDisplayText.map(mem=>mem.asSpec()),Optional.some(iconSpec)]),matchWidth:true,useMinWidth:true,onOpen:(anchor,dropdownComp,tmenuComp)=>{if(spec.searchable){focusSearchField(tmenuComp);}},dropdownBehaviours:derive$1([...spec.dropdownBehaviours,DisablingConfigs.button(()=>spec.disabled||sharedBackstage.providers.isDisabled()),receivingConfig(),Unselecting.config({}),Replacing.config({}),config('dropdown-events',[onControlAttached(spec,editorOffCell),onControlDetached(spec,editorOffCell)]),config('menubutton-update-display-text',[run$1(updateMenuText,(comp,se)=>{optMemDisplayText.bind(mem=>mem.getOpt(comp)).each(displayText=>{Replacing.set(displayText,[text$1(sharedBackstage.providers.translate(se.event.text))]);});}),run$1(updateMenuIcon,(comp,se)=>{optMemDisplayIcon.bind(mem=>mem.getOpt(comp)).each(displayIcon=>{Replacing.set(displayIcon,[renderReplaceableIconFromPack(se.event.icon,sharedBackstage.providers.icons)]);});})])]),eventOrder:deepMerge(toolbarButtonEventOrder,{mousedown:['focusing','alloy.base.behaviour','item-type-events','normal-dropdown-events']}),sandboxBehaviours:derive$1([Keying.config({mode:'special',onLeft:onLeftOrRightInMenu,onRight:onLeftOrRightInMenu}),config('dropdown-sandbox-events',[run$1(refetchTriggerEvent,(originalSandboxComp,se)=>{handleRefetchTrigger(originalSandboxComp);se.stop();}),run$1(redirectMenuItemInteractionEvent,(sandboxComp,se)=>{handleRedirectToMenuItem(sandboxComp,se);se.stop();})])]),lazySink:sharedBackstage.getSink,toggleClass:`${prefix}--active`,parts:{menu:{...part(false,spec.columns,spec.presets),fakeFocus:spec.searchable,onHighlightItem:updateAriaOnHighlight,onCollapseMenu:(tmenuComp,itemCompCausingCollapse,nowActiveMenuComp)=>{Highlighting.getHighlighted(nowActiveMenuComp).each(itemComp=>{updateAriaOnHighlight(tmenuComp,nowActiveMenuComp,itemComp);});},onDehighlightItem:updateAriaOnDehighlight}},fetch:comp=>Future.nu(curry(spec.fetch,comp))}));return memDropdown.asSpec();};const isMenuItemReference=item=>isString(item);const isSeparator$2=item=>item.type==='separator';const isExpandingMenuItem=item=>has$2(item,'getSubmenuItems');const separator$2={type:'separator'};const unwrapReferences=(items,menuItems)=>{const realItems=foldl(items,(acc,item)=>{if(isMenuItemReference(item)){if(item===''){return acc;}else if(item==='|'){return acc.length>0&&!isSeparator$2(acc[acc.length-1])?acc.concat([separator$2]):acc;}else if(has$2(menuItems,item.toLowerCase())){return acc.concat([menuItems[item.toLowerCase()]]);}else{return acc;}}else{return acc.concat([item]);}},[]);if(realItems.length>0&&isSeparator$2(realItems[realItems.length-1])){realItems.pop();}return realItems;};const getFromExpandingItem=(item,menuItems)=>{const submenuItems=item.getSubmenuItems();const rest=expand(submenuItems,menuItems);const newMenus=deepMerge(rest.menus,{[item.value]:rest.items});const newExpansions=deepMerge(rest.expansions,{[item.value]:item.value});return{item,menus:newMenus,expansions:newExpansions};};const generateValueIfRequired=item=>{const itemValue=get$g(item,'value').getOrThunk(()=>generate$6('generated-menu-item'));return deepMerge({value:itemValue},item);};const expand=(items,menuItems)=>{const realItems=unwrapReferences(isString(items)?items.split(' '):items,menuItems);return foldr(realItems,(acc,item)=>{if(isExpandingMenuItem(item)){const itemWithValue=generateValueIfRequired(item);const newData=getFromExpandingItem(itemWithValue,menuItems);return{menus:deepMerge(acc.menus,newData.menus),items:[newData.item,...acc.items],expansions:deepMerge(acc.expansions,newData.expansions)};}else{return{...acc,items:[item,...acc.items]};}},{menus:{},expansions:{},items:[]});};const getSearchModeForField=settings=>{return settings.search.fold(()=>({searchMode:'no-search'}),searchSettings=>({searchMode:'search-with-field',placeholder:searchSettings.placeholder}));};const getSearchModeForResults=settings=>{return settings.search.fold(()=>({searchMode:'no-search'}),_=>({searchMode:'search-with-results'}));};const build=(items,itemResponse,backstage,settings)=>{const primary=generate$6('primary-menu');const data=expand(items,backstage.shared.providers.menuItems());if(data.items.length===0){return Optional.none();}const mainMenuSearchMode=getSearchModeForField(settings);const mainMenu=createPartialMenu(primary,data.items,itemResponse,backstage,settings.isHorizontalMenu,mainMenuSearchMode);const submenuSearchMode=getSearchModeForResults(settings);const submenus=map$1(data.menus,(menuItems,menuName)=>createPartialMenu(menuName,menuItems,itemResponse,backstage,false,submenuSearchMode));const menus=deepMerge(submenus,wrap$1(primary,mainMenu));return Optional.from(tieredMenu.tieredData(primary,menus,data.expansions));};const isSingleListItem=item=>!has$2(item,'items');const dataAttribute='data-value';const fetchItems=(dropdownComp,name,items,selectedValue)=>map$2(items,item=>{if(!isSingleListItem(item)){return{type:'nestedmenuitem',text:item.text,getSubmenuItems:()=>fetchItems(dropdownComp,name,item.items,selectedValue)};}else{return{type:'togglemenuitem',text:item.text,value:item.value,active:item.value===selectedValue,onAction:()=>{Representing.setValue(dropdownComp,item.value);emitWith(dropdownComp,formChangeEvent,{name});Focusing.focus(dropdownComp);}};}});const findItemByValue=(items,value)=>findMap(items,item=>{if(!isSingleListItem(item)){return findItemByValue(item.items,value);}else{return someIf(item.value===value,item);}});const renderListBox=(spec,backstage,initialData)=>{const providersBackstage=backstage.shared.providers;const initialItem=initialData.bind(value=>findItemByValue(spec.items,value)).orThunk(()=>head(spec.items).filter(isSingleListItem));const pLabel=spec.label.map(label=>renderLabel$2(label,providersBackstage));const pField=FormField.parts.field({dom:{},factory:{sketch:sketchSpec=>renderCommonDropdown({uid:sketchSpec.uid,text:initialItem.map(item=>item.text),icon:Optional.none(),tooltip:spec.label,role:Optional.none(),fetch:(comp,callback)=>{const items=fetchItems(comp,spec.name,spec.items,Representing.getValue(comp));callback(build(items,ItemResponse$1.CLOSE_ON_EXECUTE,backstage,{isHorizontalMenu:false,search:Optional.none()}));},onSetup:constant$1(noop),getApi:constant$1({}),columns:1,presets:'normal',classes:[],dropdownBehaviours:[Tabstopping.config({}),RepresentingConfigs.withComp(initialItem.map(item=>item.value),comp=>get$f(comp.element,dataAttribute),(comp,data)=>{findItemByValue(spec.items,data).each(item=>{set$9(comp.element,dataAttribute,item.value);emitWith(comp,updateMenuText,{text:item.text});});})]},'tox-listbox',backstage.shared)}});const listBoxWrap={dom:{tag:'div',classes:['tox-listboxfield']},components:[pField]};return FormField.sketch({dom:{tag:'div',classes:['tox-form__group']},components:flatten([pLabel.toArray(),[listBoxWrap]]),fieldBehaviours:derive$1([Disabling.config({disabled:constant$1(!spec.enabled),onDisabled:comp=>{FormField.getField(comp).each(Disabling.disable);},onEnabled:comp=>{FormField.getField(comp).each(Disabling.enable);}})])});};const renderPanel=(spec,backstage)=>({dom:{tag:'div',classes:spec.classes},components:map$2(spec.items,backstage.shared.interpreter)});const factory$f=(detail,_spec)=>{const options=map$2(detail.options,option=>({dom:{tag:'option',value:option.value,innerHtml:option.text}}));const initialValues=detail.data.map(v=>wrap$1('initialValue',v)).getOr({});return{uid:detail.uid,dom:{tag:'select',classes:detail.selectClasses,attributes:detail.selectAttributes},components:options,behaviours:augment(detail.selectBehaviours,[Focusing.config({}),Representing.config({store:{mode:'manual',getValue:select=>{return get$6(select.element);},setValue:(select,newValue)=>{const found=find$5(detail.options,opt=>opt.value===newValue);if(found.isSome()){set$5(select.element,newValue);}},...initialValues}})])};};const HtmlSelect=single({name:'HtmlSelect',configFields:[required$1('options'),field('selectBehaviours',[Focusing,Representing]),defaulted('selectClasses',[]),defaulted('selectAttributes',{}),option$3('data')],factory:factory$f});const renderSelectBox=(spec,providersBackstage,initialData)=>{const translatedOptions=map$2(spec.items,item=>({text:providersBackstage.translate(item.text),value:item.value}));const pLabel=spec.label.map(label=>renderLabel$2(label,providersBackstage));const pField=FormField.parts.field({dom:{},...initialData.map(data=>({data})).getOr({}),selectAttributes:{size:spec.size},options:translatedOptions,factory:HtmlSelect,selectBehaviours:derive$1([Disabling.config({disabled:()=>!spec.enabled||providersBackstage.isDisabled()}),Tabstopping.config({}),config('selectbox-change',[run$1(change(),(component,_)=>{emitWith(component,formChangeEvent,{name:spec.name});})])])});const chevron=spec.size>1?Optional.none():Optional.some(render$3('chevron-down',{tag:'div',classes:['tox-selectfield__icon-js']},providersBackstage.icons));const selectWrap={dom:{tag:'div',classes:['tox-selectfield']},components:flatten([[pField],chevron.toArray()])};return FormField.sketch({dom:{tag:'div',classes:['tox-form__group']},components:flatten([pLabel.toArray(),[selectWrap]]),fieldBehaviours:derive$1([Disabling.config({disabled:()=>!spec.enabled||providersBackstage.isDisabled(),onDisabled:comp=>{FormField.getField(comp).each(Disabling.disable);},onEnabled:comp=>{FormField.getField(comp).each(Disabling.enable);}}),receivingConfig()])});};const schema$h=constant$1([defaulted('field1Name','field1'),defaulted('field2Name','field2'),onStrictHandler('onLockedChange'),markers$1(['lockClass']),defaulted('locked',false),SketchBehaviours.field('coupledFieldBehaviours',[Composing,Representing])]);const getField=(comp,detail,partName)=>getPart(comp,detail,partName).bind(Composing.getCurrent);const coupledPart=(selfName,otherName)=>required({factory:FormField,name:selfName,overrides:detail=>{return{fieldBehaviours:derive$1([config('coupled-input-behaviour',[run$1(input(),me=>{getField(me,detail,otherName).each(other=>{getPart(me,detail,'lock').each(lock=>{if(Toggling.isOn(lock)){detail.onLockedChange(me,other,lock);}});});})])])};}});const parts$c=constant$1([coupledPart('field1','field2'),coupledPart('field2','field1'),required({factory:Button,schema:[required$1('dom')],name:'lock',overrides:detail=>{return{buttonBehaviours:derive$1([Toggling.config({selected:detail.locked,toggleClass:detail.markers.lockClass,aria:{mode:'pressed'}})])};}})]);const factory$e=(detail,components,_spec,_externals)=>({uid:detail.uid,dom:detail.dom,components,behaviours:SketchBehaviours.augment(detail.coupledFieldBehaviours,[Composing.config({find:Optional.some}),Representing.config({store:{mode:'manual',getValue:comp=>{const parts=getPartsOrDie(comp,detail,['field1','field2']);return{[detail.field1Name]:Representing.getValue(parts.field1()),[detail.field2Name]:Representing.getValue(parts.field2())};},setValue:(comp,value)=>{const parts=getPartsOrDie(comp,detail,['field1','field2']);if(hasNonNullableKey(value,detail.field1Name)){Representing.setValue(parts.field1(),value[detail.field1Name]);}if(hasNonNullableKey(value,detail.field2Name)){Representing.setValue(parts.field2(),value[detail.field2Name]);}}}})]),apis:{getField1:component=>getPart(component,detail,'field1'),getField2:component=>getPart(component,detail,'field2'),getLock:component=>getPart(component,detail,'lock')}});const FormCoupledInputs=composite({name:'FormCoupledInputs',configFields:schema$h(),partFields:parts$c(),factory:factory$e,apis:{getField1:(apis,component)=>apis.getField1(component),getField2:(apis,component)=>apis.getField2(component),getLock:(apis,component)=>apis.getLock(component)}});const formatSize=size=>{const unitDec={'':0,'px':0,'pt':1,'mm':1,'pc':2,'ex':2,'em':2,'ch':2,'rem':2,'cm':3,'in':4,'%':4};const maxDecimal=unit=>unit in unitDec?unitDec[unit]:1;let numText=size.value.toFixed(maxDecimal(size.unit));if(numText.indexOf('.')!==-1){numText=numText.replace(/\\.?0*$/,'');}return numText+size.unit;};const parseSize=sizeText=>{const numPattern=/^\\s*(\\d+(?:\\.\\d+)?)\\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\\s*$/;const match=numPattern.exec(sizeText);if(match!==null){const value=parseFloat(match[1]);const unit=match[2];return Result.value({value,unit});}else{return Result.error(sizeText);}};const convertUnit=(size,unit)=>{const inInch={'':96,'px':96,'pt':72,'cm':2.54,'pc':12,'mm':25.4,'in':1};const supported=u=>has$2(inInch,u);if(size.unit===unit){return Optional.some(size.value);}else if(supported(size.unit)&&supported(unit)){if(inInch[size.unit]===inInch[unit]){return Optional.some(size.value);}else{return Optional.some(size.value/inInch[size.unit]*inInch[unit]);}}else{return Optional.none();}};const noSizeConversion=_input=>Optional.none();const ratioSizeConversion=(scale,unit)=>size=>convertUnit(size,unit).map(value=>({value:value*scale,unit}));const makeRatioConverter=(currentFieldText,otherFieldText)=>{const cValue=parseSize(currentFieldText).toOptional();const oValue=parseSize(otherFieldText).toOptional();return lift2(cValue,oValue,(cSize,oSize)=>convertUnit(cSize,oSize.unit).map(val=>oSize.value/val).map(r=>ratioSizeConversion(r,oSize.unit)).getOr(noSizeConversion)).getOr(noSizeConversion);};const renderSizeInput=(spec,providersBackstage)=>{let converter=noSizeConversion;const ratioEvent=generate$6('ratio-event');const makeIcon=iconName=>render$3(iconName,{tag:'span',classes:['tox-icon','tox-lock-icon__'+iconName]},providersBackstage.icons);const pLock=FormCoupledInputs.parts.lock({dom:{tag:'button',classes:['tox-lock','tox-button','tox-button--naked','tox-button--icon'],attributes:{title:providersBackstage.translate(spec.label.getOr('Constrain proportions'))}},components:[makeIcon('lock'),makeIcon('unlock')],buttonBehaviours:derive$1([Disabling.config({disabled:()=>!spec.enabled||providersBackstage.isDisabled()}),receivingConfig(),Tabstopping.config({})])});const formGroup=components=>({dom:{tag:'div',classes:['tox-form__group']},components});const getFieldPart=isField1=>FormField.parts.field({factory:Input,inputClasses:['tox-textfield'],inputBehaviours:derive$1([Disabling.config({disabled:()=>!spec.enabled||providersBackstage.isDisabled()}),receivingConfig(),Tabstopping.config({}),config('size-input-events',[run$1(focusin(),(component,_simulatedEvent)=>{emitWith(component,ratioEvent,{isField1});}),run$1(change(),(component,_simulatedEvent)=>{emitWith(component,formChangeEvent,{name:spec.name});})])]),selectOnFocus:false});const getLabel=label=>({dom:{tag:'label',classes:['tox-label']},components:[text$1(providersBackstage.translate(label))]});const widthField=FormCoupledInputs.parts.field1(formGroup([FormField.parts.label(getLabel('Width')),getFieldPart(true)]));const heightField=FormCoupledInputs.parts.field2(formGroup([FormField.parts.label(getLabel('Height')),getFieldPart(false)]));return FormCoupledInputs.sketch({dom:{tag:'div',classes:['tox-form__group']},components:[{dom:{tag:'div',classes:['tox-form__controls-h-stack']},components:[widthField,heightField,formGroup([getLabel(nbsp),pLock])]}],field1Name:'width',field2Name:'height',locked:true,markers:{lockClass:'tox-locked'},onLockedChange:(current,other,_lock)=>{parseSize(Representing.getValue(current)).each(size=>{converter(size).each(newSize=>{Representing.setValue(other,formatSize(newSize));});});},coupledFieldBehaviours:derive$1([Disabling.config({disabled:()=>!spec.enabled||providersBackstage.isDisabled(),onDisabled:comp=>{FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.disable);FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.disable);FormCoupledInputs.getLock(comp).each(Disabling.disable);},onEnabled:comp=>{FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.enable);FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.enable);FormCoupledInputs.getLock(comp).each(Disabling.enable);}}),receivingConfig(),config('size-input-events2',[run$1(ratioEvent,(component,simulatedEvent)=>{const isField1=simulatedEvent.event.isField1;const optCurrent=isField1?FormCoupledInputs.getField1(component):FormCoupledInputs.getField2(component);const optOther=isField1?FormCoupledInputs.getField2(component):FormCoupledInputs.getField1(component);const value1=optCurrent.map(Representing.getValue).getOr('');const value2=optOther.map(Representing.getValue).getOr('');converter=makeRatioConverter(value1,value2);})])])});};const renderSlider=(spec,providerBackstage,initialData)=>{const labelPart=Slider.parts.label({dom:{tag:'label',classes:['tox-label']},components:[text$1(providerBackstage.translate(spec.label))]});const spectrum=Slider.parts.spectrum({dom:{tag:'div',classes:['tox-slider__rail'],attributes:{role:'presentation'}}});const thumb=Slider.parts.thumb({dom:{tag:'div',classes:['tox-slider__handle'],attributes:{role:'presentation'}}});return Slider.sketch({dom:{tag:'div',classes:['tox-slider'],attributes:{role:'presentation'}},model:{mode:'x',minX:spec.min,maxX:spec.max,getInitialValue:constant$1(initialData.getOrThunk(()=>(Math.abs(spec.max)-Math.abs(spec.min))/2))},components:[labelPart,spectrum,thumb],sliderBehaviours:derive$1([ComposingConfigs.self(),Focusing.config({})]),onChoose:(component,thumb,value)=>{emitWith(component,formChangeEvent,{name:spec.name,value});}});};const renderTable=(spec,providersBackstage)=>{const renderTh=text=>({dom:{tag:'th',innerHtml:providersBackstage.translate(text)}});const renderHeader=header=>({dom:{tag:'thead'},components:[{dom:{tag:'tr'},components:map$2(header,renderTh)}]});const renderTd=text=>({dom:{tag:'td',innerHtml:providersBackstage.translate(text)}});const renderTr=row=>({dom:{tag:'tr'},components:map$2(row,renderTd)});const renderRows=rows=>({dom:{tag:'tbody'},components:map$2(rows,renderTr)});return{dom:{tag:'table',classes:['tox-dialog__table']},components:[renderHeader(spec.header),renderRows(spec.cells)],behaviours:derive$1([Tabstopping.config({}),Focusing.config({})])};};const renderTextField=(spec,providersBackstage)=>{const pLabel=spec.label.map(label=>renderLabel$2(label,providersBackstage));const baseInputBehaviours=[Disabling.config({disabled:()=>spec.disabled||providersBackstage.isDisabled()}),receivingConfig(),Keying.config({mode:'execution',useEnter:spec.multiline!==true,useControlEnter:spec.multiline===true,execute:comp=>{emit(comp,formSubmitEvent);return Optional.some(true);}}),config('textfield-change',[run$1(input(),(component,_)=>{emitWith(component,formChangeEvent,{name:spec.name});}),run$1(postPaste(),(component,_)=>{emitWith(component,formChangeEvent,{name:spec.name});})]),Tabstopping.config({})];const validatingBehaviours=spec.validation.map(vl=>Invalidating.config({getRoot:input=>{return parentElement(input.element);},invalidClass:'tox-invalid',validator:{validate:input=>{const v=Representing.getValue(input);const result=vl.validator(v);return Future.pure(result===true?Result.value(v):Result.error(result));},validateOnLoad:vl.validateOnLoad}})).toArray();const placeholder=spec.placeholder.fold(constant$1({}),p=>({placeholder:providersBackstage.translate(p)}));const inputMode=spec.inputMode.fold(constant$1({}),mode=>({inputmode:mode}));const inputAttributes={...placeholder,...inputMode};const pField=FormField.parts.field({tag:spec.multiline===true?'textarea':'input',...spec.data.map(data=>({data})).getOr({}),inputAttributes,inputClasses:[spec.classname],inputBehaviours:derive$1(flatten([baseInputBehaviours,validatingBehaviours])),selectOnFocus:false,factory:Input});const extraClasses=spec.flex?['tox-form__group--stretched']:[];const extraClasses2=extraClasses.concat(spec.maximized?['tox-form-group--maximize']:[]);const extraBehaviours=[Disabling.config({disabled:()=>spec.disabled||providersBackstage.isDisabled(),onDisabled:comp=>{FormField.getField(comp).each(Disabling.disable);},onEnabled:comp=>{FormField.getField(comp).each(Disabling.enable);}}),receivingConfig()];return renderFormFieldWith(pLabel,pField,extraClasses2,extraBehaviours);};const renderInput=(spec,providersBackstage,initialData)=>renderTextField({name:spec.name,multiline:false,label:spec.label,inputMode:spec.inputMode,placeholder:spec.placeholder,flex:false,disabled:!spec.enabled,classname:'tox-textfield',validation:Optional.none(),maximized:spec.maximized,data:initialData},providersBackstage);const renderTextarea=(spec,providersBackstage,initialData)=>renderTextField({name:spec.name,multiline:true,label:spec.label,inputMode:Optional.none(),placeholder:spec.placeholder,flex:true,disabled:!spec.enabled,classname:'tox-textarea',validation:Optional.none(),maximized:spec.maximized,data:initialData},providersBackstage);const events$6=(streamConfig,streamState)=>{const streams=streamConfig.stream.streams;const processor=streams.setup(streamConfig,streamState);return derive$2([run$1(streamConfig.event,processor),runOnDetached(()=>streamState.cancel())].concat(streamConfig.cancelEvent.map(e=>[run$1(e,()=>streamState.cancel())]).getOr([])));};var ActiveStreaming=/*#__PURE__*/Object.freeze({__proto__:null,events:events$6});const first=(fn,rate)=>{let timer=null;const cancel=()=>{if(!isNull(timer)){clearTimeout(timer);timer=null;}};const throttle=(...args)=>{if(isNull(timer)){timer=setTimeout(()=>{timer=null;fn.apply(null,args);},rate);}};return{cancel,throttle};};const last=(fn,rate)=>{let timer=null;const cancel=()=>{if(!isNull(timer)){clearTimeout(timer);timer=null;}};const throttle=(...args)=>{cancel();timer=setTimeout(()=>{timer=null;fn.apply(null,args);},rate);};return{cancel,throttle};};const throttle=_config=>{const state=Cell(null);const readState=()=>({timer:state.get()!==null?'set':'unset'});const setTimer=t=>{state.set(t);};const cancel=()=>{const t=state.get();if(t!==null){t.cancel();}};return nu$8({readState,setTimer,cancel});};const init$9=spec=>spec.stream.streams.state(spec);var StreamingState=/*#__PURE__*/Object.freeze({__proto__:null,throttle:throttle,init:init$9});const setup$c=(streamInfo,streamState)=>{const sInfo=streamInfo.stream;const throttler=last(streamInfo.onStream,sInfo.delay);streamState.setTimer(throttler);return(component,simulatedEvent)=>{throttler.throttle(component,simulatedEvent);if(sInfo.stopEvent){simulatedEvent.stop();}};};var StreamingSchema=[requiredOf('stream',choose$1('mode',{throttle:[required$1('delay'),defaulted('stopEvent',true),output$1('streams',{setup:setup$c,state:throttle})]})),defaulted('event','input'),option$3('cancelEvent'),onStrictHandler('onStream')];const Streaming=create$3({fields:StreamingSchema,name:'streaming',active:ActiveStreaming,state:StreamingState});const setValueFromItem=(model,input,item)=>{const itemData=Representing.getValue(item);Representing.setValue(input,itemData);setCursorAtEnd(input);};const setSelectionOn=(input,f)=>{const el=input.element;const value=get$6(el);const node=el.dom;if(get$f(el,'type')!=='number'){f(node,value);}};const setCursorAtEnd=input=>{setSelectionOn(input,(node,value)=>node.setSelectionRange(value.length,value.length));};const setSelectionToEnd=(input,startOffset)=>{setSelectionOn(input,(node,value)=>node.setSelectionRange(startOffset,value.length));};const attemptSelectOver=(model,input,item)=>{if(!model.selectsOver){return Optional.none();}else{const currentValue=Representing.getValue(input);const inputDisplay=model.getDisplayText(currentValue);const itemValue=Representing.getValue(item);const itemDisplay=model.getDisplayText(itemValue);return itemDisplay.indexOf(inputDisplay)===0?Optional.some(()=>{setValueFromItem(model,input,item);setSelectionToEnd(input,inputDisplay.length);}):Optional.none();}};const itemExecute=constant$1('alloy.typeahead.itemexecute');const make$3=(detail,components,spec,externals)=>{const navigateList=(comp,simulatedEvent,highlighter)=>{detail.previewing.set(false);const sandbox=Coupling.getCoupled(comp,'sandbox');if(Sandboxing.isOpen(sandbox)){Composing.getCurrent(sandbox).each(menu=>{Highlighting.getHighlighted(menu).fold(()=>{highlighter(menu);},()=>{dispatchEvent(sandbox,menu.element,'keydown',simulatedEvent);});});}else{const onOpenSync=sandbox=>{Composing.getCurrent(sandbox).each(highlighter);};open(detail,mapFetch(comp),comp,sandbox,externals,onOpenSync,HighlightOnOpen.HighlightMenuAndItem).get(noop);}};const focusBehaviours$1=focusBehaviours(detail);const mapFetch=comp=>tdata=>tdata.map(data=>{const menus=values(data.menus);const items=bind$3(menus,menu=>filter$2(menu.items,item=>item.type==='item'));const repState=Representing.getState(comp);repState.update(map$2(items,item=>item.data));return data;});const getActiveMenu=sandboxComp=>Composing.getCurrent(sandboxComp);const typeaheadCustomEvents='typeaheadevents';const behaviours=[Focusing.config({}),Representing.config({onSetValue:detail.onSetValue,store:{mode:'dataset',getDataKey:comp=>get$6(comp.element),getFallbackEntry:itemString=>({value:itemString,meta:{}}),setValue:(comp,data)=>{set$5(comp.element,detail.model.getDisplayText(data));},...detail.initialData.map(d=>wrap$1('initialValue',d)).getOr({})}}),Streaming.config({stream:{mode:'throttle',delay:detail.responseTime,stopEvent:false},onStream:(component,_simulatedEvent)=>{const sandbox=Coupling.getCoupled(component,'sandbox');const focusInInput=Focusing.isFocused(component);if(focusInInput){if(get$6(component.element).length>=detail.minChars){const previousValue=getActiveMenu(sandbox).bind(activeMenu=>Highlighting.getHighlighted(activeMenu).map(Representing.getValue));detail.previewing.set(true);const onOpenSync=_sandbox=>{getActiveMenu(sandbox).each(activeMenu=>{previousValue.fold(()=>{if(detail.model.selectsOver){Highlighting.highlightFirst(activeMenu);}},pv=>{Highlighting.highlightBy(activeMenu,item=>{const itemData=Representing.getValue(item);return itemData.value===pv.value;});Highlighting.getHighlighted(activeMenu).orThunk(()=>{Highlighting.highlightFirst(activeMenu);return Optional.none();});});});};open(detail,mapFetch(component),component,sandbox,externals,onOpenSync,HighlightOnOpen.HighlightJustMenu).get(noop);}}},cancelEvent:typeaheadCancel()}),Keying.config({mode:'special',onDown:(comp,simulatedEvent)=>{navigateList(comp,simulatedEvent,Highlighting.highlightFirst);return Optional.some(true);},onEscape:comp=>{const sandbox=Coupling.getCoupled(comp,'sandbox');if(Sandboxing.isOpen(sandbox)){Sandboxing.close(sandbox);return Optional.some(true);}return Optional.none();},onUp:(comp,simulatedEvent)=>{navigateList(comp,simulatedEvent,Highlighting.highlightLast);return Optional.some(true);},onEnter:comp=>{const sandbox=Coupling.getCoupled(comp,'sandbox');const sandboxIsOpen=Sandboxing.isOpen(sandbox);if(sandboxIsOpen&&!detail.previewing.get()){return getActiveMenu(sandbox).bind(activeMenu=>Highlighting.getHighlighted(activeMenu)).map(item=>{emitWith(comp,itemExecute(),{item});return true;});}else{const currentValue=Representing.getValue(comp);emit(comp,typeaheadCancel());detail.onExecute(sandbox,comp,currentValue);if(sandboxIsOpen){Sandboxing.close(sandbox);}return Optional.some(true);}}}),Toggling.config({toggleClass:detail.markers.openClass,aria:{mode:'expanded'}}),Coupling.config({others:{sandbox:hotspot=>{return makeSandbox$1(detail,hotspot,{onOpen:()=>Toggling.on(hotspot),onClose:()=>Toggling.off(hotspot)});}}}),config(typeaheadCustomEvents,[runOnAttached(typeaheadComp=>{detail.lazyTypeaheadComp.set(Optional.some(typeaheadComp));}),runOnDetached(_typeaheadComp=>{detail.lazyTypeaheadComp.set(Optional.none());}),runOnExecute$1(comp=>{const onOpenSync=noop;togglePopup(detail,mapFetch(comp),comp,externals,onOpenSync,HighlightOnOpen.HighlightMenuAndItem).get(noop);}),run$1(itemExecute(),(comp,se)=>{const sandbox=Coupling.getCoupled(comp,'sandbox');setValueFromItem(detail.model,comp,se.event.item);emit(comp,typeaheadCancel());detail.onItemExecute(comp,sandbox,se.event.item,Representing.getValue(comp));Sandboxing.close(sandbox);setCursorAtEnd(comp);})].concat(detail.dismissOnBlur?[run$1(postBlur(),typeahead=>{const sandbox=Coupling.getCoupled(typeahead,'sandbox');if(search(sandbox.element).isNone()){Sandboxing.close(sandbox);}})]:[]))];const eventOrder={[detachedFromDom()]:[Representing.name(),Streaming.name(),typeaheadCustomEvents],...detail.eventOrder};return{uid:detail.uid,dom:dom(deepMerge(detail,{inputAttributes:{'role':'combobox','aria-autocomplete':'list','aria-haspopup':'true'}})),behaviours:{...focusBehaviours$1,...augment(detail.typeaheadBehaviours,behaviours)},eventOrder};};const schema$g=constant$1([option$3('lazySink'),required$1('fetch'),defaulted('minChars',5),defaulted('responseTime',1000),onHandler('onOpen'),defaulted('getHotspot',Optional.some),defaulted('getAnchorOverrides',constant$1({})),defaulted('layouts',Optional.none()),defaulted('eventOrder',{}),defaultedObjOf('model',{},[defaulted('getDisplayText',itemData=>itemData.meta!==undefined&&itemData.meta.text!==undefined?itemData.meta.text:itemData.value),defaulted('selectsOver',true),defaulted('populateFromBrowse',true)]),onHandler('onSetValue'),onKeyboardHandler('onExecute'),onHandler('onItemExecute'),defaulted('inputClasses',[]),defaulted('inputAttributes',{}),defaulted('inputStyles',{}),defaulted('matchWidth',true),defaulted('useMinWidth',false),defaulted('dismissOnBlur',true),markers$1(['openClass']),option$3('initialData'),field('typeaheadBehaviours',[Focusing,Representing,Streaming,Keying,Toggling,Coupling]),customField('lazyTypeaheadComp',()=>Cell(Optional.none)),customField('previewing',()=>Cell(true))].concat(schema$l()).concat(sandboxFields()));const parts$b=constant$1([external({schema:[tieredMenuMarkers()],name:'menu',overrides:detail=>{return{fakeFocus:true,onHighlightItem:(_tmenu,menu,item)=>{if(!detail.previewing.get()){detail.lazyTypeaheadComp.get().each(input=>{if(detail.model.populateFromBrowse){setValueFromItem(detail.model,input,item);}});}else{detail.lazyTypeaheadComp.get().each(input=>{attemptSelectOver(detail.model,input,item).fold(()=>{if(detail.model.selectsOver){Highlighting.dehighlight(menu,item);detail.previewing.set(true);}else{detail.previewing.set(false);}},selectOverTextInInput=>{selectOverTextInInput();detail.previewing.set(false);});});}},onExecute:(_menu,item)=>{return detail.lazyTypeaheadComp.get().map(typeahead=>{emitWith(typeahead,itemExecute(),{item});return true;});},onHover:(menu,item)=>{detail.previewing.set(false);detail.lazyTypeaheadComp.get().each(input=>{if(detail.model.populateFromBrowse){setValueFromItem(detail.model,input,item);}});}};}})]);const Typeahead=composite({name:'Typeahead',configFields:schema$g(),partFields:parts$b(),factory:make$3});const wrap=delegate=>{const toCached=()=>{return wrap(delegate.toCached());};const bindFuture=f=>{return wrap(delegate.bind(resA=>resA.fold(err=>Future.pure(Result.error(err)),a=>f(a))));};const bindResult=f=>{return wrap(delegate.map(resA=>resA.bind(f)));};const mapResult=f=>{return wrap(delegate.map(resA=>resA.map(f)));};const mapError=f=>{return wrap(delegate.map(resA=>resA.mapError(f)));};const foldResult=(whenError,whenValue)=>{return delegate.map(res=>res.fold(whenError,whenValue));};const withTimeout=(timeout,errorThunk)=>{return wrap(Future.nu(callback=>{let timedOut=false;const timer=setTimeout(()=>{timedOut=true;callback(Result.error(errorThunk()));},timeout);delegate.get(result=>{if(!timedOut){clearTimeout(timer);callback(result);}});}));};return{...delegate,toCached,bindFuture,bindResult,mapResult,mapError,foldResult,withTimeout};};const nu$1=worker=>{return wrap(Future.nu(worker));};const value=value=>{return wrap(Future.pure(Result.value(value)));};const error=error=>{return wrap(Future.pure(Result.error(error)));};const fromResult=result=>{return wrap(Future.pure(result));};const fromFuture=future=>{return wrap(future.map(Result.value));};const fromPromise=promise=>{return nu$1(completer=>{promise.then(value=>{completer(Result.value(value));},error=>{completer(Result.error(error));});});};const FutureResult={nu:nu$1,wrap,pure:value,value,error,fromResult,fromFuture,fromPromise};const getMenuButtonApi=component=>({isEnabled:()=>!Disabling.isDisabled(component),setEnabled:state=>Disabling.set(component,!state),setActive:state=>{const elm=component.element;if(state){add$2(elm,'tox-tbtn--enabled');set$9(elm,'aria-pressed',true);}else{remove$2(elm,'tox-tbtn--enabled');remove$7(elm,'aria-pressed');}},isActive:()=>has(component.element,'tox-tbtn--enabled')});const renderMenuButton=(spec,prefix,backstage,role)=>{return renderCommonDropdown({text:spec.text,icon:spec.icon,tooltip:spec.tooltip,searchable:spec.search.isSome(),role,fetch:(dropdownComp,callback)=>{const fetchContext={pattern:spec.search.isSome()?getSearchPattern(dropdownComp):''};spec.fetch(items=>{callback(build(items,ItemResponse$1.CLOSE_ON_EXECUTE,backstage,{isHorizontalMenu:false,search:spec.search}));},fetchContext);},onSetup:spec.onSetup,getApi:getMenuButtonApi,columns:1,presets:'normal',classes:[],dropdownBehaviours:[Tabstopping.config({})]},prefix,backstage.shared);};const getFetch=(items,getButton,backstage)=>{const getMenuItemAction=item=>api=>{const newValue=!api.isActive();api.setActive(newValue);item.storage.set(newValue);backstage.shared.getSink().each(sink=>{getButton().getOpt(sink).each(orig=>{focus$3(orig.element);emitWith(orig,formActionEvent,{name:item.name,value:item.storage.get()});});});};const getMenuItemSetup=item=>api=>{api.setActive(item.storage.get());};return success=>{success(map$2(items,item=>{const text=item.text.fold(()=>({}),text=>({text}));return{type:item.type,active:false,...text,onAction:getMenuItemAction(item),onSetup:getMenuItemSetup(item)};}));};};const renderCommonSpec=(spec,actionOpt,extraBehaviours=[],dom,components,providersBackstage)=>{const action=actionOpt.fold(()=>({}),action=>({action}));const common={buttonBehaviours:derive$1([DisablingConfigs.button(()=>!spec.enabled||providersBackstage.isDisabled()),receivingConfig(),Tabstopping.config({}),config('button press',[preventDefault('click'),preventDefault('mousedown')])].concat(extraBehaviours)),eventOrder:{click:['button press','alloy.base.behaviour'],mousedown:['button press','alloy.base.behaviour']},...action};const domFinal=deepMerge(common,{dom});return deepMerge(domFinal,{components});};const renderIconButtonSpec=(spec,action,providersBackstage,extraBehaviours=[])=>{const tooltipAttributes=spec.tooltip.map(tooltip=>({'aria-label':providersBackstage.translate(tooltip),'title':providersBackstage.translate(tooltip)})).getOr({});const dom={tag:'button',classes:['tox-tbtn'],attributes:tooltipAttributes};const icon=spec.icon.map(iconName=>renderIconFromPack(iconName,providersBackstage.icons));const components=componentRenderPipeline([icon]);return renderCommonSpec(spec,action,extraBehaviours,dom,components,providersBackstage);};const calculateClassesFromButtonType=buttonType=>{switch(buttonType){case'primary':return['tox-button'];case'toolbar':return['tox-tbtn'];case'secondary':default:return['tox-button','tox-button--secondary'];}};const renderButtonSpec=(spec,action,providersBackstage,extraBehaviours=[],extraClasses=[])=>{const translatedText=providersBackstage.translate(spec.text);const icon=spec.icon.map(iconName=>renderIconFromPack(iconName,providersBackstage.icons));const components=[icon.getOrThunk(()=>text$1(translatedText))];const buttonType=spec.buttonType.getOr(!spec.primary&&!spec.borderless?'secondary':'primary');const baseClasses=calculateClassesFromButtonType(buttonType);const classes=[...baseClasses,...(icon.isSome()?['tox-button--icon']:[]),...(spec.borderless?['tox-button--naked']:[]),...extraClasses];const dom={tag:'button',classes,attributes:{title:translatedText}};return renderCommonSpec(spec,action,extraBehaviours,dom,components,providersBackstage);};const renderButton=(spec,action,providersBackstage,extraBehaviours=[],extraClasses=[])=>{const buttonSpec=renderButtonSpec(spec,Optional.some(action),providersBackstage,extraBehaviours,extraClasses);return Button.sketch(buttonSpec);};const getAction=(name,buttonType)=>comp=>{if(buttonType==='custom'){emitWith(comp,formActionEvent,{name,value:{}});}else if(buttonType==='submit'){emit(comp,formSubmitEvent);}else if(buttonType==='cancel'){emit(comp,formCancelEvent);}else{console.error('Unknown button type: ',buttonType);}};const isMenuFooterButtonSpec=(spec,buttonType)=>buttonType==='menu';const isNormalFooterButtonSpec=(spec,buttonType)=>buttonType==='custom'||buttonType==='cancel'||buttonType==='submit';const renderFooterButton=(spec,buttonType,backstage)=>{if(isMenuFooterButtonSpec(spec,buttonType)){const getButton=()=>memButton;const menuButtonSpec=spec;const fixedSpec={...spec,type:'menubutton',search:Optional.none(),onSetup:api=>{api.setEnabled(spec.enabled);return noop;},fetch:getFetch(menuButtonSpec.items,getButton,backstage)};const memButton=record(renderMenuButton(fixedSpec,'tox-tbtn',backstage,Optional.none()));return memButton.asSpec();}else if(isNormalFooterButtonSpec(spec,buttonType)){const action=getAction(spec.name,buttonType);const buttonSpec={...spec,borderless:false};return renderButton(buttonSpec,action,backstage.shared.providers,[]);}else{console.error('Unknown footer button type: ',buttonType);throw new Error('Unknown footer button type');}};const renderDialogButton=(spec,providersBackstage)=>{const action=getAction(spec.name,'custom');return renderFormField(Optional.none(),FormField.parts.field({factory:Button,...renderButtonSpec(spec,Optional.some(action),providersBackstage,[RepresentingConfigs.memory(''),ComposingConfigs.self()])}));};const separator$1={type:'separator'};const toMenuItem=target=>({type:'menuitem',value:target.url,text:target.title,meta:{attach:target.attach},onAction:noop});const staticMenuItem=(title,url)=>({type:'menuitem',value:url,text:title,meta:{attach:undefined},onAction:noop});const toMenuItems=targets=>map$2(targets,toMenuItem);const filterLinkTargets=(type,targets)=>filter$2(targets,target=>target.type===type);const filteredTargets=(type,targets)=>toMenuItems(filterLinkTargets(type,targets));const headerTargets=linkInfo=>filteredTargets('header',linkInfo.targets);const anchorTargets=linkInfo=>filteredTargets('anchor',linkInfo.targets);const anchorTargetTop=linkInfo=>Optional.from(linkInfo.anchorTop).map(url=>staticMenuItem('<top>',url)).toArray();const anchorTargetBottom=linkInfo=>Optional.from(linkInfo.anchorBottom).map(url=>staticMenuItem('<bottom>',url)).toArray();const historyTargets=history=>map$2(history,url=>staticMenuItem(url,url));const joinMenuLists=items=>{return foldl(items,(a,b)=>{const bothEmpty=a.length===0||b.length===0;return bothEmpty?a.concat(b):a.concat(separator$1,b);},[]);};const filterByQuery=(term,menuItems)=>{const lowerCaseTerm=term.toLowerCase();return filter$2(menuItems,item=>{var _a;const text=item.meta!==undefined&&item.meta.text!==undefined?item.meta.text:item.text;const value=(_a=item.value)!==null&&_a!==void 0?_a:'';return contains$1(text.toLowerCase(),lowerCaseTerm)||contains$1(value.toLowerCase(),lowerCaseTerm);});};const getItems=(fileType,input,urlBackstage)=>{const urlInputValue=Representing.getValue(input);const term=urlInputValue.meta.text!==undefined?urlInputValue.meta.text:urlInputValue.value;const info=urlBackstage.getLinkInformation();return info.fold(()=>[],linkInfo=>{const history=filterByQuery(term,historyTargets(urlBackstage.getHistory(fileType)));return fileType==='file'?joinMenuLists([history,filterByQuery(term,headerTargets(linkInfo)),filterByQuery(term,flatten([anchorTargetTop(linkInfo),anchorTargets(linkInfo),anchorTargetBottom(linkInfo)]))]):history;});};const errorId=generate$6('aria-invalid');const renderUrlInput=(spec,backstage,urlBackstage,initialData)=>{const providersBackstage=backstage.shared.providers;const updateHistory=component=>{const urlEntry=Representing.getValue(component);urlBackstage.addToHistory(urlEntry.value,spec.filetype);};const typeaheadSpec={...initialData.map(initialData=>({initialData})).getOr({}),dismissOnBlur:true,inputClasses:['tox-textfield'],sandboxClasses:['tox-dialog__popups'],inputAttributes:{'aria-errormessage':errorId,'type':'url'},minChars:0,responseTime:0,fetch:input=>{const items=getItems(spec.filetype,input,urlBackstage);const tdata=build(items,ItemResponse$1.BUBBLE_TO_SANDBOX,backstage,{isHorizontalMenu:false,search:Optional.none()});return Future.pure(tdata);},getHotspot:comp=>memUrlBox.getOpt(comp),onSetValue:(comp,_newValue)=>{if(comp.hasConfigured(Invalidating)){Invalidating.run(comp).get(noop);}},typeaheadBehaviours:derive$1([...urlBackstage.getValidationHandler().map(handler=>Invalidating.config({getRoot:comp=>parentElement(comp.element),invalidClass:'tox-control-wrap--status-invalid',notify:{onInvalid:(comp,err)=>{memInvalidIcon.getOpt(comp).each(invalidComp=>{set$9(invalidComp.element,'title',providersBackstage.translate(err));});}},validator:{validate:input=>{const urlEntry=Representing.getValue(input);return FutureResult.nu(completer=>{handler({type:spec.filetype,url:urlEntry.value},validation=>{if(validation.status==='invalid'){const err=Result.error(validation.message);completer(err);}else{const val=Result.value(validation.message);completer(val);}});});},validateOnLoad:false}})).toArray(),Disabling.config({disabled:()=>!spec.enabled||providersBackstage.isDisabled()}),Tabstopping.config({}),config('urlinput-events',[run$1(input(),comp=>{const currentValue=get$6(comp.element);const trimmedValue=currentValue.trim();if(trimmedValue!==currentValue){set$5(comp.element,trimmedValue);}if(spec.filetype==='file'){emitWith(comp,formChangeEvent,{name:spec.name});}}),run$1(change(),comp=>{emitWith(comp,formChangeEvent,{name:spec.name});updateHistory(comp);}),run$1(postPaste(),comp=>{emitWith(comp,formChangeEvent,{name:spec.name});updateHistory(comp);})])]),eventOrder:{[input()]:['streaming','urlinput-events','invalidating']},model:{getDisplayText:itemData=>itemData.value,selectsOver:false,populateFromBrowse:false},markers:{openClass:'tox-textfield--popup-open'},lazySink:backstage.shared.getSink,parts:{menu:part(false,1,'normal')},onExecute:(_menu,component,_entry)=>{emitWith(component,formSubmitEvent,{});},onItemExecute:(typeahead,_sandbox,_item,_value)=>{updateHistory(typeahead);emitWith(typeahead,formChangeEvent,{name:spec.name});}};const pField=FormField.parts.field({...typeaheadSpec,factory:Typeahead});const pLabel=spec.label.map(label=>renderLabel$2(label,providersBackstage));const makeIcon=(name,errId,icon=name,label=name)=>render$3(icon,{tag:'div',classes:['tox-icon','tox-control-wrap__status-icon-'+name],attributes:{'title':providersBackstage.translate(label),'aria-live':'polite',...errId.fold(()=>({}),id=>({id}))}},providersBackstage.icons);const memInvalidIcon=record(makeIcon('invalid',Optional.some(errorId),'warning'));const memStatus=record({dom:{tag:'div',classes:['tox-control-wrap__status-icon-wrap']},components:[memInvalidIcon.asSpec()]});const optUrlPicker=urlBackstage.getUrlPicker(spec.filetype);const browseUrlEvent=generate$6('browser.url.event');const memUrlBox=record({dom:{tag:'div',classes:['tox-control-wrap']},components:[pField,memStatus.asSpec()],behaviours:derive$1([Disabling.config({disabled:()=>!spec.enabled||providersBackstage.isDisabled()})])});const memUrlPickerButton=record(renderButton({name:spec.name,icon:Optional.some('browse'),text:spec.label.getOr(''),enabled:spec.enabled,primary:false,buttonType:Optional.none(),borderless:true},component=>emit(component,browseUrlEvent),providersBackstage,[],['tox-browse-url']));const controlHWrapper=()=>({dom:{tag:'div',classes:['tox-form__controls-h-stack']},components:flatten([[memUrlBox.asSpec()],optUrlPicker.map(()=>memUrlPickerButton.asSpec()).toArray()])});const openUrlPicker=comp=>{Composing.getCurrent(comp).each(field=>{const componentData=Representing.getValue(field);const urlData={fieldname:spec.name,...componentData};optUrlPicker.each(picker=>{picker(urlData).get(chosenData=>{Representing.setValue(field,chosenData);emitWith(comp,formChangeEvent,{name:spec.name});});});});};return FormField.sketch({dom:renderFormFieldDom(),components:pLabel.toArray().concat([controlHWrapper()]),fieldBehaviours:derive$1([Disabling.config({disabled:()=>!spec.enabled||providersBackstage.isDisabled(),onDisabled:comp=>{FormField.getField(comp).each(Disabling.disable);memUrlPickerButton.getOpt(comp).each(Disabling.disable);},onEnabled:comp=>{FormField.getField(comp).each(Disabling.enable);memUrlPickerButton.getOpt(comp).each(Disabling.enable);}}),receivingConfig(),config('url-input-events',[run$1(browseUrlEvent,openUrlPicker)])])});};const renderAlertBanner=(spec,providersBackstage)=>Container.sketch({dom:{tag:'div',attributes:{role:'alert'},classes:['tox-notification','tox-notification--in',`tox-notification--${spec.level}`]},components:[{dom:{tag:'div',classes:['tox-notification__icon']},components:[Button.sketch({dom:{tag:'button',classes:['tox-button','tox-button--naked','tox-button--icon'],innerHtml:get$2(spec.icon,providersBackstage.icons),attributes:{title:providersBackstage.translate(spec.iconTooltip)}},action:comp=>{emitWith(comp,formActionEvent,{name:'alert-banner',value:spec.url});},buttonBehaviours:derive$1([addFocusableBehaviour()])})]},{dom:{tag:'div',classes:['tox-notification__body'],innerHtml:providersBackstage.translate(spec.text)}}]});const set$1=(element,status)=>{element.dom.checked=status;};const get$1=element=>element.dom.checked;const renderCheckbox=(spec,providerBackstage,initialData)=>{const toggleCheckboxHandler=comp=>{comp.element.dom.click();return Optional.some(true);};const pField=FormField.parts.field({factory:{sketch:identity},dom:{tag:'input',classes:['tox-checkbox__input'],attributes:{type:'checkbox'}},behaviours:derive$1([ComposingConfigs.self(),Disabling.config({disabled:()=>!spec.enabled||providerBackstage.isDisabled()}),Tabstopping.config({}),Focusing.config({}),RepresentingConfigs.withElement(initialData,get$1,set$1),Keying.config({mode:'special',onEnter:toggleCheckboxHandler,onSpace:toggleCheckboxHandler,stopSpaceKeyup:true}),config('checkbox-events',[run$1(change(),(component,_)=>{emitWith(component,formChangeEvent,{name:spec.name});})])])});const pLabel=FormField.parts.label({dom:{tag:'span',classes:['tox-checkbox__label']},components:[text$1(providerBackstage.translate(spec.label))],behaviours:derive$1([Unselecting.config({})])});const makeIcon=className=>{const iconName=className==='checked'?'selected':'unselected';return render$3(iconName,{tag:'span',classes:['tox-icon','tox-checkbox-icon__'+className]},providerBackstage.icons);};const memIcons=record({dom:{tag:'div',classes:['tox-checkbox__icons']},components:[makeIcon('checked'),makeIcon('unchecked')]});return FormField.sketch({dom:{tag:'label',classes:['tox-checkbox']},components:[pField,memIcons.asSpec(),pLabel],fieldBehaviours:derive$1([Disabling.config({disabled:()=>!spec.enabled||providerBackstage.isDisabled(),disableClass:'tox-checkbox--disabled',onDisabled:comp=>{FormField.getField(comp).each(Disabling.disable);},onEnabled:comp=>{FormField.getField(comp).each(Disabling.enable);}}),receivingConfig()])});};const renderHtmlPanel=spec=>{if(spec.presets==='presentation'){return Container.sketch({dom:{tag:'div',classes:['tox-form__group'],innerHtml:spec.html}});}else{return Container.sketch({dom:{tag:'div',classes:['tox-form__group'],innerHtml:spec.html,attributes:{role:'document'}},containerBehaviours:derive$1([Tabstopping.config({}),Focusing.config({})])});}};const make$2=render=>{return(parts,spec,dialogData,backstage)=>get$g(spec,'name').fold(()=>render(spec,backstage,Optional.none()),fieldName=>parts.field(fieldName,render(spec,backstage,get$g(dialogData,fieldName))));};const makeIframe=render=>(parts,spec,dialogData,backstage)=>{const iframeSpec=deepMerge(spec,{source:'dynamic'});return make$2(render)(parts,iframeSpec,dialogData,backstage);};const factories={bar:make$2((spec,backstage)=>renderBar(spec,backstage.shared)),collection:make$2((spec,backstage,data)=>renderCollection(spec,backstage.shared.providers,data)),alertbanner:make$2((spec,backstage)=>renderAlertBanner(spec,backstage.shared.providers)),input:make$2((spec,backstage,data)=>renderInput(spec,backstage.shared.providers,data)),textarea:make$2((spec,backstage,data)=>renderTextarea(spec,backstage.shared.providers,data)),label:make$2((spec,backstage)=>renderLabel$1(spec,backstage.shared)),iframe:makeIframe((spec,backstage,data)=>renderIFrame(spec,backstage.shared.providers,data)),button:make$2((spec,backstage)=>renderDialogButton(spec,backstage.shared.providers)),checkbox:make$2((spec,backstage,data)=>renderCheckbox(spec,backstage.shared.providers,data)),colorinput:make$2((spec,backstage,data)=>renderColorInput(spec,backstage.shared,backstage.colorinput,data)),colorpicker:make$2((spec,backstage,data)=>renderColorPicker(spec,backstage.shared.providers,data)),dropzone:make$2((spec,backstage,data)=>renderDropZone(spec,backstage.shared.providers,data)),grid:make$2((spec,backstage)=>renderGrid(spec,backstage.shared)),listbox:make$2((spec,backstage,data)=>renderListBox(spec,backstage,data)),selectbox:make$2((spec,backstage,data)=>renderSelectBox(spec,backstage.shared.providers,data)),sizeinput:make$2((spec,backstage)=>renderSizeInput(spec,backstage.shared.providers)),slider:make$2((spec,backstage,data)=>renderSlider(spec,backstage.shared.providers,data)),urlinput:make$2((spec,backstage,data)=>renderUrlInput(spec,backstage,backstage.urlinput,data)),customeditor:make$2(renderCustomEditor),htmlpanel:make$2(renderHtmlPanel),imagepreview:make$2((spec,_,data)=>renderImagePreview(spec,data)),table:make$2((spec,backstage)=>renderTable(spec,backstage.shared.providers)),panel:make$2((spec,backstage)=>renderPanel(spec,backstage))};const noFormParts={field:(_name,spec)=>spec,record:constant$1([])};const interpretInForm=(parts,spec,dialogData,oldBackstage)=>{const newBackstage=deepMerge(oldBackstage,{shared:{interpreter:childSpec=>interpretParts(parts,childSpec,dialogData,newBackstage)}});return interpretParts(parts,spec,dialogData,newBackstage);};const interpretParts=(parts,spec,dialogData,backstage)=>get$g(factories,spec.type).fold(()=>{console.error(`Unknown factory type \"${spec.type}\", defaulting to container: `,spec);return spec;},factory=>factory(parts,spec,dialogData,backstage));const interpretWithoutForm=(spec,dialogData,backstage)=>interpretParts(noFormParts,spec,dialogData,backstage);const labelPrefix='layout-inset';const westEdgeX=anchor=>anchor.x;const middleX=(anchor,element)=>anchor.x+anchor.width/2-element.width/2;const eastEdgeX=(anchor,element)=>anchor.x+anchor.width-element.width;const northY=anchor=>anchor.y;const southY=(anchor,element)=>anchor.y+anchor.height-element.height;const centreY=(anchor,element)=>anchor.y+anchor.height/2-element.height/2;const southwest=(anchor,element,bubbles)=>nu$6(eastEdgeX(anchor,element),southY(anchor,element),bubbles.insetSouthwest(),northwest$3(),'southwest',boundsRestriction(anchor,{right:0,bottom:3}),labelPrefix);const southeast=(anchor,element,bubbles)=>nu$6(westEdgeX(anchor),southY(anchor,element),bubbles.insetSoutheast(),northeast$3(),'southeast',boundsRestriction(anchor,{left:1,bottom:3}),labelPrefix);const northwest=(anchor,element,bubbles)=>nu$6(eastEdgeX(anchor,element),northY(anchor),bubbles.insetNorthwest(),southwest$3(),'northwest',boundsRestriction(anchor,{right:0,top:2}),labelPrefix);const northeast=(anchor,element,bubbles)=>nu$6(westEdgeX(anchor),northY(anchor),bubbles.insetNortheast(),southeast$3(),'northeast',boundsRestriction(anchor,{left:1,top:2}),labelPrefix);const north=(anchor,element,bubbles)=>nu$6(middleX(anchor,element),northY(anchor),bubbles.insetNorth(),south$3(),'north',boundsRestriction(anchor,{top:2}),labelPrefix);const south=(anchor,element,bubbles)=>nu$6(middleX(anchor,element),southY(anchor,element),bubbles.insetSouth(),north$3(),'south',boundsRestriction(anchor,{bottom:3}),labelPrefix);const east=(anchor,element,bubbles)=>nu$6(eastEdgeX(anchor,element),centreY(anchor,element),bubbles.insetEast(),west$3(),'east',boundsRestriction(anchor,{right:0}),labelPrefix);const west=(anchor,element,bubbles)=>nu$6(westEdgeX(anchor),centreY(anchor,element),bubbles.insetWest(),east$3(),'west',boundsRestriction(anchor,{left:1}),labelPrefix);const lookupPreserveLayout=lastPlacement=>{switch(lastPlacement){case'north':return north;case'northeast':return northeast;case'northwest':return northwest;case'south':return south;case'southeast':return southeast;case'southwest':return southwest;case'east':return east;case'west':return west;}};const preserve=(anchor,element,bubbles,placee,bounds)=>{const layout=getPlacement(placee).map(lookupPreserveLayout).getOr(north);return layout(anchor,element,bubbles,placee,bounds);};const lookupFlippedLayout=lastPlacement=>{switch(lastPlacement){case'north':return south;case'northeast':return southeast;case'northwest':return southwest;case'south':return north;case'southeast':return northeast;case'southwest':return northwest;case'east':return west;case'west':return east;}};const flip=(anchor,element,bubbles,placee,bounds)=>{const layout=getPlacement(placee).map(lookupFlippedLayout).getOr(north);return layout(anchor,element,bubbles,placee,bounds);};const bubbleAlignments$2={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]};const getInlineDialogAnchor=(contentAreaElement,lazyAnchorbar,lazyUseEditableAreaAnchor)=>{const bubbleSize=12;const overrides={maxHeightFunction:expandable$1()};const editableAreaAnchor=()=>({type:'node',root:getContentContainer(getRootNode(contentAreaElement())),node:Optional.from(contentAreaElement()),bubble:nu$5(bubbleSize,bubbleSize,bubbleAlignments$2),layouts:{onRtl:()=>[northeast],onLtr:()=>[northwest]},overrides});const standardAnchor=()=>({type:'hotspot',hotspot:lazyAnchorbar(),bubble:nu$5(-bubbleSize,bubbleSize,bubbleAlignments$2),layouts:{onRtl:()=>[southeast$2],onLtr:()=>[southwest$2]},overrides});return()=>lazyUseEditableAreaAnchor()?editableAreaAnchor():standardAnchor();};const getBannerAnchor=(contentAreaElement,lazyAnchorbar,lazyUseEditableAreaAnchor)=>{const editableAreaAnchor=()=>({type:'node',root:getContentContainer(getRootNode(contentAreaElement())),node:Optional.from(contentAreaElement()),layouts:{onRtl:()=>[north],onLtr:()=>[north]}});const standardAnchor=()=>({type:'hotspot',hotspot:lazyAnchorbar(),layouts:{onRtl:()=>[south$2],onLtr:()=>[south$2]}});return()=>lazyUseEditableAreaAnchor()?editableAreaAnchor():standardAnchor();};const getCursorAnchor=(editor,bodyElement)=>()=>({type:'selection',root:bodyElement(),getSelection:()=>{const rng=editor.selection.getRng();return Optional.some(SimSelection.range(SugarElement.fromDom(rng.startContainer),rng.startOffset,SugarElement.fromDom(rng.endContainer),rng.endOffset));}});const getNodeAnchor$1=bodyElement=>element=>({type:'node',root:bodyElement(),node:element});const getAnchors=(editor,lazyAnchorbar,isToolbarTop)=>{const useFixedToolbarContainer=useFixedContainer(editor);const bodyElement=()=>SugarElement.fromDom(editor.getBody());const contentAreaElement=()=>SugarElement.fromDom(editor.getContentAreaContainer());const lazyUseEditableAreaAnchor=()=>useFixedToolbarContainer||!isToolbarTop();return{inlineDialog:getInlineDialogAnchor(contentAreaElement,lazyAnchorbar,lazyUseEditableAreaAnchor),banner:getBannerAnchor(contentAreaElement,lazyAnchorbar,lazyUseEditableAreaAnchor),cursor:getCursorAnchor(editor,bodyElement),node:getNodeAnchor$1(bodyElement)};};const colorPicker=editor=>(callback,value)=>{const dialog=colorPickerDialog(editor);dialog(callback,value);};const hasCustomColors=editor=>()=>hasCustomColors$1(editor);const getColors=editor=>()=>getColors$2(editor);const getColorCols=editor=>()=>getColorCols$1(editor);const ColorInputBackstage=editor=>({colorPicker:colorPicker(editor),hasCustomColors:hasCustomColors(editor),getColors:getColors(editor),getColorCols:getColorCols(editor)});const isDraggableModal=editor=>()=>isDraggableModal$1(editor);const DialogBackstage=editor=>({isDraggableModal:isDraggableModal(editor)});const HeaderBackstage=editor=>{const mode=Cell(isToolbarLocationBottom(editor)?'bottom':'top');return{isPositionedAtTop:()=>mode.get()==='top',getDockingMode:mode.get,setDockingMode:mode.set};};const isNestedFormat=format=>hasNonNullableKey(format,'items');const isFormatReference=format=>hasNonNullableKey(format,'format');const defaultStyleFormats=[{title:'Headings',items:[{title:'Heading 1',format:'h1'},{title:'Heading 2',format:'h2'},{title:'Heading 3',format:'h3'},{title:'Heading 4',format:'h4'},{title:'Heading 5',format:'h5'},{title:'Heading 6',format:'h6'}]},{title:'Inline',items:[{title:'Bold',format:'bold'},{title:'Italic',format:'italic'},{title:'Underline',format:'underline'},{title:'Strikethrough',format:'strikethrough'},{title:'Superscript',format:'superscript'},{title:'Subscript',format:'subscript'},{title:'Code',format:'code'}]},{title:'Blocks',items:[{title:'Paragraph',format:'p'},{title:'Blockquote',format:'blockquote'},{title:'Div',format:'div'},{title:'Pre',format:'pre'}]},{title:'Align',items:[{title:'Left',format:'alignleft'},{title:'Center',format:'aligncenter'},{title:'Right',format:'alignright'},{title:'Justify',format:'alignjustify'}]}];const isNestedFormats=format=>has$2(format,'items');const isBlockFormat=format=>has$2(format,'block');const isInlineFormat=format=>has$2(format,'inline');const isSelectorFormat=format=>has$2(format,'selector');const mapFormats=userFormats=>foldl(userFormats,(acc,fmt)=>{if(isNestedFormats(fmt)){const result=mapFormats(fmt.items);return{customFormats:acc.customFormats.concat(result.customFormats),formats:acc.formats.concat([{title:fmt.title,items:result.formats}])};}else if(isInlineFormat(fmt)||isBlockFormat(fmt)||isSelectorFormat(fmt)){const formatName=isString(fmt.name)?fmt.name:fmt.title.toLowerCase();const formatNameWithPrefix=`custom-${formatName}`;return{customFormats:acc.customFormats.concat([{name:formatNameWithPrefix,format:fmt}]),formats:acc.formats.concat([{title:fmt.title,format:formatNameWithPrefix,icon:fmt.icon}])};}else{return{...acc,formats:acc.formats.concat(fmt)};}},{customFormats:[],formats:[]});const registerCustomFormats=(editor,userFormats)=>{const result=mapFormats(userFormats);const registerFormats=customFormats=>{each$1(customFormats,fmt=>{if(!editor.formatter.has(fmt.name)){editor.formatter.register(fmt.name,fmt.format);}});};if(editor.formatter){registerFormats(result.customFormats);}else{editor.on('init',()=>{registerFormats(result.customFormats);});}return result.formats;};const getStyleFormats=editor=>getUserStyleFormats(editor).map(userFormats=>{const registeredUserFormats=registerCustomFormats(editor,userFormats);return shouldMergeStyleFormats(editor)?defaultStyleFormats.concat(registeredUserFormats):registeredUserFormats;}).getOr(defaultStyleFormats);const isSeparator$1=format=>{const keys$1=keys(format);return keys$1.length===1&&contains$2(keys$1,'title');};const processBasic=(item,isSelectedFor,getPreviewFor)=>({...item,type:'formatter',isSelected:isSelectedFor(item.format),getStylePreview:getPreviewFor(item.format)});const register$a=(editor,formats,isSelectedFor,getPreviewFor)=>{const enrichSupported=item=>processBasic(item,isSelectedFor,getPreviewFor);const enrichMenu=item=>{const newItems=doEnrich(item.items);return{...item,type:'submenu',getStyleItems:constant$1(newItems)};};const enrichCustom=item=>{const formatName=isString(item.name)?item.name:generate$6(item.title);const formatNameWithPrefix=`custom-${formatName}`;const newItem={...item,type:'formatter',format:formatNameWithPrefix,isSelected:isSelectedFor(formatNameWithPrefix),getStylePreview:getPreviewFor(formatNameWithPrefix)};editor.formatter.register(formatName,newItem);return newItem;};const doEnrich=items=>map$2(items,item=>{if(isNestedFormat(item)){return enrichMenu(item);}else if(isFormatReference(item)){return enrichSupported(item);}else if(isSeparator$1(item)){return{...item,type:'separator'};}else{return enrichCustom(item);}});return doEnrich(formats);};const init$8=editor=>{const isSelectedFor=format=>()=>editor.formatter.match(format);const getPreviewFor=format=>()=>{const fmt=editor.formatter.get(format);return fmt!==undefined?Optional.some({tag:fmt.length>0?fmt[0].inline||fmt[0].block||'div':'div',styles:editor.dom.parseStyle(editor.formatter.getCssText(format))}):Optional.none();};const settingsFormats=Cell([]);const eventsFormats=Cell([]);const replaceSettings=Cell(false);editor.on('PreInit',_e=>{const formats=getStyleFormats(editor);const enriched=register$a(editor,formats,isSelectedFor,getPreviewFor);settingsFormats.set(enriched);});editor.on('addStyleModifications',e=>{const modifications=register$a(editor,e.items,isSelectedFor,getPreviewFor);eventsFormats.set(modifications);replaceSettings.set(e.replace);});const getData=()=>{const fromSettings=replaceSettings.get()?[]:settingsFormats.get();const fromEvents=eventsFormats.get();return fromSettings.concat(fromEvents);};return{getData};};const isElement=node=>isNonNullable(node)&&node.nodeType===1;const trim=global$1.trim;const hasContentEditableState=value=>{return node=>{if(isElement(node)){if(node.contentEditable===value){return true;}if(node.getAttribute('data-mce-contenteditable')===value){return true;}}return false;};};const isContentEditableTrue=hasContentEditableState('true');const isContentEditableFalse=hasContentEditableState('false');const create=(type,title,url,level,attach)=>({type,title,url,level,attach});const isChildOfContentEditableTrue=node=>{let tempNode=node;while(tempNode=tempNode.parentNode){const value=tempNode.contentEditable;if(value&&value!=='inherit'){return isContentEditableTrue(tempNode);}}return false;};const select=(selector,root)=>{return map$2(descendants(SugarElement.fromDom(root),selector),element=>{return element.dom;});};const getElementText=elm=>{return elm.innerText||elm.textContent;};const getOrGenerateId=elm=>{return elm.id?elm.id:generate$6('h');};const isAnchor=elm=>{return elm&&elm.nodeName==='A'&&(elm.id||elm.name)!==undefined;};const isValidAnchor=elm=>{return isAnchor(elm)&&isEditable(elm);};const isHeader=elm=>{return elm&&/^(H[1-6])$/.test(elm.nodeName);};const isEditable=elm=>{return isChildOfContentEditableTrue(elm)&&!isContentEditableFalse(elm);};const isValidHeader=elm=>{return isHeader(elm)&&isEditable(elm);};const getLevel=elm=>{return isHeader(elm)?parseInt(elm.nodeName.substr(1),10):0;};const headerTarget=elm=>{var _a;const headerId=getOrGenerateId(elm);const attach=()=>{elm.id=headerId;};return create('header',(_a=getElementText(elm))!==null&&_a!==void 0?_a:'','#'+headerId,getLevel(elm),attach);};const anchorTarget=elm=>{const anchorId=elm.id||elm.name;const anchorText=getElementText(elm);return create('anchor',anchorText?anchorText:'#'+anchorId,'#'+anchorId,0,noop);};const getHeaderTargets=elms=>{return map$2(filter$2(elms,isValidHeader),headerTarget);};const getAnchorTargets=elms=>{return map$2(filter$2(elms,isValidAnchor),anchorTarget);};const getTargetElements=elm=>{const elms=select('h1,h2,h3,h4,h5,h6,a:not([href])',elm);return elms;};const hasTitle=target=>{return trim(target.title).length>0;};const find=elm=>{const elms=getTargetElements(elm);return filter$2(getHeaderTargets(elms).concat(getAnchorTargets(elms)),hasTitle);};const LinkTargets={find};const STORAGE_KEY='tinymce-url-history';const HISTORY_LENGTH=5;const isHttpUrl=url=>isString(url)&&/^https?/.test(url);const isArrayOfUrl=a=>isArray(a)&&a.length<=HISTORY_LENGTH&&forall(a,isHttpUrl);const isRecordOfUrlArray=r=>isObject(r)&&find$4(r,value=>!isArrayOfUrl(value)).isNone();const getAllHistory=()=>{const unparsedHistory=global$4.getItem(STORAGE_KEY);if(unparsedHistory===null){return{};}let history;try{history=JSON.parse(unparsedHistory);}catch(e){if(e instanceof SyntaxError){console.log('Local storage '+STORAGE_KEY+' was not valid JSON',e);return{};}throw e;}if(!isRecordOfUrlArray(history)){console.log('Local storage '+STORAGE_KEY+' was not valid format',history);return{};}return history;};const setAllHistory=history=>{if(!isRecordOfUrlArray(history)){throw new Error('Bad format for history:\\n'+JSON.stringify(history));}global$4.setItem(STORAGE_KEY,JSON.stringify(history));};const getHistory=fileType=>{const history=getAllHistory();return get$g(history,fileType).getOr([]);};const addToHistory=(url,fileType)=>{if(!isHttpUrl(url)){return;}const history=getAllHistory();const items=get$g(history,fileType).getOr([]);const itemsWithoutUrl=filter$2(items,item=>item!==url);history[fileType]=[url].concat(itemsWithoutUrl).slice(0,HISTORY_LENGTH);setAllHistory(history);};const isTruthy=value=>!!value;const makeMap=value=>map$1(global$1.makeMap(value,/[, ]/),isTruthy);const getPicker=editor=>Optional.from(getFilePickerCallback(editor));const getPickerTypes=editor=>{const optFileTypes=Optional.from(getFilePickerTypes(editor)).filter(isTruthy).map(makeMap);return getPicker(editor).fold(never,_picker=>optFileTypes.fold(always,types=>keys(types).length>0?types:false));};const getPickerSetting=(editor,filetype)=>{const pickerTypes=getPickerTypes(editor);if(isBoolean(pickerTypes)){return pickerTypes?getPicker(editor):Optional.none();}else{return pickerTypes[filetype]?getPicker(editor):Optional.none();}};const getUrlPicker=(editor,filetype)=>getPickerSetting(editor,filetype).map(picker=>entry=>Future.nu(completer=>{const handler=(value,meta)=>{if(!isString(value)){throw new Error('Expected value to be string');}if(meta!==undefined&&!isObject(meta)){throw new Error('Expected meta to be a object');}const r={value,meta};completer(r);};const meta={filetype,fieldname:entry.fieldname,...Optional.from(entry.meta).getOr({})};picker.call(editor,handler,entry.value,meta);}));const getTextSetting=value=>Optional.from(value).filter(isString).getOrUndefined();const getLinkInformation=editor=>{if(!useTypeaheadUrls(editor)){return Optional.none();}return Optional.some({targets:LinkTargets.find(editor.getBody()),anchorTop:getTextSetting(getAnchorTop(editor)),anchorBottom:getTextSetting(getAnchorBottom(editor))});};const getValidationHandler=editor=>Optional.from(getFilePickerValidatorHandler(editor));const UrlInputBackstage=editor=>({getHistory,addToHistory,getLinkInformation:()=>getLinkInformation(editor),getValidationHandler:()=>getValidationHandler(editor),getUrlPicker:filetype=>getUrlPicker(editor,filetype)});const init$7=(lazySink,editor,lazyAnchorbar)=>{const contextMenuState=Cell(false);const toolbar=HeaderBackstage(editor);const backstage={shared:{providers:{icons:()=>editor.ui.registry.getAll().icons,menuItems:()=>editor.ui.registry.getAll().menuItems,translate:global$8.translate,isDisabled:()=>editor.mode.isReadOnly()||!editor.ui.isEnabled(),getOption:editor.options.get},interpreter:s=>interpretWithoutForm(s,{},backstage),anchors:getAnchors(editor,lazyAnchorbar,toolbar.isPositionedAtTop),header:toolbar,getSink:lazySink},urlinput:UrlInputBackstage(editor),styles:init$8(editor),colorinput:ColorInputBackstage(editor),dialog:DialogBackstage(editor),isContextMenuOpen:()=>contextMenuState.get(),setContextMenuState:state=>contextMenuState.set(state)};return backstage;};const setup$b=(editor,mothership,uiMothership)=>{const broadcastEvent=(name,evt)=>{each$1([mothership,uiMothership],ship=>{ship.broadcastEvent(name,evt);});};const broadcastOn=(channel,message)=>{each$1([mothership,uiMothership],ship=>{ship.broadcastOn([channel],message);});};const fireDismissPopups=evt=>broadcastOn(dismissPopups(),{target:evt.target});const doc=getDocument();const onTouchstart=bind(doc,'touchstart',fireDismissPopups);const onTouchmove=bind(doc,'touchmove',evt=>broadcastEvent(documentTouchmove(),evt));const onTouchend=bind(doc,'touchend',evt=>broadcastEvent(documentTouchend(),evt));const onMousedown=bind(doc,'mousedown',fireDismissPopups);const onMouseup=bind(doc,'mouseup',evt=>{if(evt.raw.button===0){broadcastOn(mouseReleased(),{target:evt.target});}});const onContentClick=raw=>broadcastOn(dismissPopups(),{target:SugarElement.fromDom(raw.target)});const onContentMouseup=raw=>{if(raw.button===0){broadcastOn(mouseReleased(),{target:SugarElement.fromDom(raw.target)});}};const onContentMousedown=()=>{each$1(editor.editorManager.get(),loopEditor=>{if(editor!==loopEditor){loopEditor.dispatch('DismissPopups',{relatedTarget:editor});}});};const onWindowScroll=evt=>broadcastEvent(windowScroll(),fromRawEvent(evt));const onWindowResize=evt=>{broadcastOn(repositionPopups(),{});broadcastEvent(windowResize(),fromRawEvent(evt));};const onEditorResize=()=>broadcastOn(repositionPopups(),{});const onEditorProgress=evt=>{if(evt.state){broadcastOn(dismissPopups(),{target:SugarElement.fromDom(editor.getContainer())});}};const onDismissPopups=event=>{broadcastOn(dismissPopups(),{target:SugarElement.fromDom(event.relatedTarget.getContainer())});};editor.on('PostRender',()=>{editor.on('click',onContentClick);editor.on('tap',onContentClick);editor.on('mouseup',onContentMouseup);editor.on('mousedown',onContentMousedown);editor.on('ScrollWindow',onWindowScroll);editor.on('ResizeWindow',onWindowResize);editor.on('ResizeEditor',onEditorResize);editor.on('AfterProgressState',onEditorProgress);editor.on('DismissPopups',onDismissPopups);});editor.on('remove',()=>{editor.off('click',onContentClick);editor.off('tap',onContentClick);editor.off('mouseup',onContentMouseup);editor.off('mousedown',onContentMousedown);editor.off('ScrollWindow',onWindowScroll);editor.off('ResizeWindow',onWindowResize);editor.off('ResizeEditor',onEditorResize);editor.off('AfterProgressState',onEditorProgress);editor.off('DismissPopups',onDismissPopups);onMousedown.unbind();onTouchstart.unbind();onTouchmove.unbind();onTouchend.unbind();onMouseup.unbind();});editor.on('detach',()=>{detachSystem(mothership);detachSystem(uiMothership);mothership.destroy();uiMothership.destroy();});};const parts$a=AlloyParts;const partType=PartType;const schema$f=constant$1([defaulted('shell',false),required$1('makeItem'),defaulted('setupItem',noop),SketchBehaviours.field('listBehaviours',[Replacing])]);const customListDetail=()=>({behaviours:derive$1([Replacing.config({})])});const itemsPart=optional({name:'items',overrides:customListDetail});const parts$9=constant$1([itemsPart]);const name=constant$1('CustomList');const factory$d=(detail,components,_spec,_external)=>{const setItems=(list,items)=>{getListContainer(list).fold(()=>{console.error('Custom List was defined to not be a shell, but no item container was specified in components');throw new Error('Custom List was defined to not be a shell, but no item container was specified in components');},container=>{const itemComps=Replacing.contents(container);const numListsRequired=items.length;const numListsToAdd=numListsRequired-itemComps.length;const itemsToAdd=numListsToAdd>0?range$2(numListsToAdd,()=>detail.makeItem()):[];const itemsToRemove=itemComps.slice(numListsRequired);each$1(itemsToRemove,item=>Replacing.remove(container,item));each$1(itemsToAdd,item=>Replacing.append(container,item));const builtLists=Replacing.contents(container);each$1(builtLists,(item,i)=>{detail.setupItem(list,item,items[i],i);});});};const extra=detail.shell?{behaviours:[Replacing.config({})],components:[]}:{behaviours:[],components};const getListContainer=component=>detail.shell?Optional.some(component):getPart(component,detail,'items');return{uid:detail.uid,dom:detail.dom,components:extra.components,behaviours:augment(detail.listBehaviours,extra.behaviours),apis:{setItems}};};const CustomList=composite({name:name(),configFields:schema$f(),partFields:parts$9(),factory:factory$d,apis:{setItems:(apis,list,items)=>{apis.setItems(list,items);}}});const schema$e=constant$1([required$1('dom'),defaulted('shell',true),field('toolbarBehaviours',[Replacing])]);const enhanceGroups=()=>({behaviours:derive$1([Replacing.config({})])});const parts$8=constant$1([optional({name:'groups',overrides:enhanceGroups})]);const factory$c=(detail,components,_spec,_externals)=>{const setGroups=(toolbar,groups)=>{getGroupContainer(toolbar).fold(()=>{console.error('Toolbar was defined to not be a shell, but no groups container was specified in components');throw new Error('Toolbar was defined to not be a shell, but no groups container was specified in components');},container=>{Replacing.set(container,groups);});};const getGroupContainer=component=>detail.shell?Optional.some(component):getPart(component,detail,'groups');const extra=detail.shell?{behaviours:[Replacing.config({})],components:[]}:{behaviours:[],components};return{uid:detail.uid,dom:detail.dom,components:extra.components,behaviours:augment(detail.toolbarBehaviours,extra.behaviours),apis:{setGroups},domModification:{attributes:{role:'group'}}};};const Toolbar=composite({name:'Toolbar',configFields:schema$e(),partFields:parts$8(),factory:factory$c,apis:{setGroups:(apis,toolbar,groups)=>{apis.setGroups(toolbar,groups);}}});const setup$a=noop;const isDocked$2=never;const getBehaviours$1=constant$1([]);var StaticHeader=/*#__PURE__*/Object.freeze({__proto__:null,setup:setup$a,isDocked:isDocked$2,getBehaviours:getBehaviours$1});const getOffsetParent=element=>{const isFixed=is$1(getRaw(element,'position'),'fixed');const offsetParent$1=isFixed?Optional.none():offsetParent(element);return offsetParent$1.orThunk(()=>{const marker=SugarElement.fromTag('span');return parent(element).bind(parent=>{append$2(parent,marker);const offsetParent$1=offsetParent(marker);remove$5(marker);return offsetParent$1;});});};const getOrigin=element=>getOffsetParent(element).map(absolute$3).getOrThunk(()=>SugarPosition(0,0));const morphAdt=Adt.generate([{static:[]},{absolute:['positionCss']},{fixed:['positionCss']}]);const appear=(component,contextualInfo)=>{const elem=component.element;add$2(elem,contextualInfo.transitionClass);remove$2(elem,contextualInfo.fadeOutClass);add$2(elem,contextualInfo.fadeInClass);contextualInfo.onShow(component);};const disappear=(component,contextualInfo)=>{const elem=component.element;add$2(elem,contextualInfo.transitionClass);remove$2(elem,contextualInfo.fadeInClass);add$2(elem,contextualInfo.fadeOutClass);contextualInfo.onHide(component);};const isPartiallyVisible=(box,viewport)=>box.y<viewport.bottom&&box.bottom>viewport.y;const isTopCompletelyVisible=(box,viewport)=>box.y>=viewport.y;const isBottomCompletelyVisible=(box,viewport)=>box.bottom<=viewport.bottom;const isVisibleForModes=(modes,box,viewport)=>forall(modes,mode=>{switch(mode){case'bottom':return isBottomCompletelyVisible(box,viewport);case'top':return isTopCompletelyVisible(box,viewport);}});const getPrior=(elem,state)=>state.getInitialPos().map(pos=>bounds(pos.bounds.x,pos.bounds.y,get$c(elem),get$d(elem)));const storePrior=(elem,box,state)=>{state.setInitialPos({style:getAllRaw(elem),position:get$e(elem,'position')||'static',bounds:box});};const revertToOriginal=(elem,box,state)=>state.getInitialPos().bind(position=>{state.clearInitialPos();switch(position.position){case'static':return Optional.some(morphAdt.static());case'absolute':const offsetBox=getOffsetParent(elem).map(box$1).getOrThunk(()=>box$1(body()));return Optional.some(morphAdt.absolute(NuPositionCss('absolute',get$g(position.style,'left').map(_left=>box.x-offsetBox.x),get$g(position.style,'top').map(_top=>box.y-offsetBox.y),get$g(position.style,'right').map(_right=>offsetBox.right-box.right),get$g(position.style,'bottom').map(_bottom=>offsetBox.bottom-box.bottom))));default:return Optional.none();}});const morphToOriginal=(elem,viewport,state)=>getPrior(elem,state).filter(box=>isVisibleForModes(state.getModes(),box,viewport)).bind(box=>revertToOriginal(elem,box,state));const morphToFixed=(elem,viewport,state)=>{const box=box$1(elem);if(!isVisibleForModes(state.getModes(),box,viewport)){storePrior(elem,box,state);const winBox=win();const left=box.x-winBox.x;const top=viewport.y-winBox.y;const bottom=winBox.bottom-viewport.bottom;const isTop=box.y<=viewport.y;return Optional.some(morphAdt.fixed(NuPositionCss('fixed',Optional.some(left),isTop?Optional.some(top):Optional.none(),Optional.none(),!isTop?Optional.some(bottom):Optional.none())));}else{return Optional.none();}};const getMorph=(component,viewport,state)=>{const elem=component.element;const isDocked=is$1(getRaw(elem,'position'),'fixed');return isDocked?morphToOriginal(elem,viewport,state):morphToFixed(elem,viewport,state);};const getMorphToOriginal=(component,state)=>{const elem=component.element;return getPrior(elem,state).bind(box=>revertToOriginal(elem,box,state));};const morphToStatic=(component,config,state)=>{state.setDocked(false);each$1(['left','right','top','bottom','position'],prop=>remove$6(component.element,prop));config.onUndocked(component);};const morphToCoord=(component,config,state,position)=>{const isDocked=position.position==='fixed';state.setDocked(isDocked);applyPositionCss(component.element,position);const method=isDocked?config.onDocked:config.onUndocked;method(component);};const updateVisibility=(component,config,state,viewport,morphToDocked=false)=>{config.contextual.each(contextInfo=>{contextInfo.lazyContext(component).each(box=>{const isVisible=isPartiallyVisible(box,viewport);if(isVisible!==state.isVisible()){state.setVisible(isVisible);if(morphToDocked&&!isVisible){add$1(component.element,[contextInfo.fadeOutClass]);contextInfo.onHide(component);}else{const method=isVisible?appear:disappear;method(component,contextInfo);}}});});};const refreshInternal=(component,config,state)=>{const viewport=config.lazyViewport(component);const isDocked=state.isDocked();if(isDocked){updateVisibility(component,config,state,viewport);}getMorph(component,viewport,state).each(morph=>{morph.fold(()=>morphToStatic(component,config,state),position=>morphToCoord(component,config,state,position),position=>{updateVisibility(component,config,state,viewport,true);morphToCoord(component,config,state,position);});});};const resetInternal=(component,config,state)=>{const elem=component.element;state.setDocked(false);getMorphToOriginal(component,state).each(morph=>{morph.fold(()=>morphToStatic(component,config,state),position=>morphToCoord(component,config,state,position),noop);});state.setVisible(true);config.contextual.each(contextInfo=>{remove$1(elem,[contextInfo.fadeInClass,contextInfo.fadeOutClass,contextInfo.transitionClass]);contextInfo.onShow(component);});refresh$4(component,config,state);};const refresh$4=(component,config,state)=>{if(component.getSystem().isConnected()){refreshInternal(component,config,state);}};const reset=(component,config,state)=>{if(state.isDocked()){resetInternal(component,config,state);}};const isDocked$1=(component,config,state)=>state.isDocked();const setModes=(component,config,state,modes)=>state.setModes(modes);const getModes=(component,config,state)=>state.getModes();var DockingApis=/*#__PURE__*/Object.freeze({__proto__:null,refresh:refresh$4,reset:reset,isDocked:isDocked$1,getModes:getModes,setModes:setModes});const events$5=(dockInfo,dockState)=>derive$2([runOnSource(transitionend(),(component,simulatedEvent)=>{dockInfo.contextual.each(contextInfo=>{if(has(component.element,contextInfo.transitionClass)){remove$1(component.element,[contextInfo.transitionClass,contextInfo.fadeInClass]);const notify=dockState.isVisible()?contextInfo.onShown:contextInfo.onHidden;notify(component);}simulatedEvent.stop();});}),run$1(windowScroll(),(component,_)=>{refresh$4(component,dockInfo,dockState);}),run$1(windowResize(),(component,_)=>{reset(component,dockInfo,dockState);})]);var ActiveDocking=/*#__PURE__*/Object.freeze({__proto__:null,events:events$5});var DockingSchema=[optionObjOf('contextual',[requiredString('fadeInClass'),requiredString('fadeOutClass'),requiredString('transitionClass'),requiredFunction('lazyContext'),onHandler('onShow'),onHandler('onShown'),onHandler('onHide'),onHandler('onHidden')]),defaultedFunction('lazyViewport',win),defaultedArrayOf('modes',['top','bottom'],string),onHandler('onDocked'),onHandler('onUndocked')];const init$6=spec=>{const docked=Cell(false);const visible=Cell(true);const initialBounds=value$2();const modes=Cell(spec.modes);const readState=()=>`docked:  ${docked.get()}, visible: ${visible.get()}, modes: ${modes.get().join(',')}`;return nu$8({isDocked:docked.get,setDocked:docked.set,getInitialPos:initialBounds.get,setInitialPos:initialBounds.set,clearInitialPos:initialBounds.clear,isVisible:visible.get,setVisible:visible.set,getModes:modes.get,setModes:modes.set,readState});};var DockingState=/*#__PURE__*/Object.freeze({__proto__:null,init:init$6});const Docking=create$3({fields:DockingSchema,name:'docking',active:ActiveDocking,apis:DockingApis,state:DockingState});const toolbarHeightChange=constant$1(generate$6('toolbar-height-change'));const visibility={fadeInClass:'tox-editor-dock-fadein',fadeOutClass:'tox-editor-dock-fadeout',transitionClass:'tox-editor-dock-transition'};const editorStickyOnClass='tox-tinymce--toolbar-sticky-on';const editorStickyOffClass='tox-tinymce--toolbar-sticky-off';const scrollFromBehindHeader=(e,containerHeader)=>{const doc=owner$4(containerHeader);const win=defaultView(containerHeader);const viewHeight=win.dom.innerHeight;const scrollPos=get$b(doc);const markerElement=SugarElement.fromDom(e.elm);const markerPos=absolute$2(markerElement);const markerHeight=get$d(markerElement);const markerTop=markerPos.y;const markerBottom=markerTop+markerHeight;const editorHeaderPos=absolute$3(containerHeader);const editorHeaderHeight=get$d(containerHeader);const editorHeaderTop=editorHeaderPos.top;const editorHeaderBottom=editorHeaderTop+editorHeaderHeight;const editorHeaderDockedAtTop=Math.abs(editorHeaderTop-scrollPos.top)<2;const editorHeaderDockedAtBottom=Math.abs(editorHeaderBottom-(scrollPos.top+viewHeight))<2;if(editorHeaderDockedAtTop&&markerTop<editorHeaderBottom){to(scrollPos.left,markerTop-editorHeaderHeight,doc);}else if(editorHeaderDockedAtBottom&&markerBottom>editorHeaderTop){const y=markerTop-viewHeight+markerHeight+editorHeaderHeight;to(scrollPos.left,y,doc);}};const isDockedMode=(header,mode)=>contains$2(Docking.getModes(header),mode);const updateIframeContentFlow=header=>{const getOccupiedHeight=elm=>getOuter$2(elm)+(parseInt(get$e(elm,'margin-top'),10)||0)+(parseInt(get$e(elm,'margin-bottom'),10)||0);const elm=header.element;parentElement(elm).each(parentElem=>{const padding='padding-'+Docking.getModes(header)[0];if(Docking.isDocked(header)){const parentWidth=get$c(parentElem);set$8(elm,'width',parentWidth+'px');set$8(parentElem,padding,getOccupiedHeight(elm)+'px');}else{remove$6(elm,'width');remove$6(parentElem,padding);}});};const updateSinkVisibility=(sinkElem,visible)=>{if(visible){remove$2(sinkElem,visibility.fadeOutClass);add$1(sinkElem,[visibility.transitionClass,visibility.fadeInClass]);}else{remove$2(sinkElem,visibility.fadeInClass);add$1(sinkElem,[visibility.fadeOutClass,visibility.transitionClass]);}};const updateEditorClasses=(editor,docked)=>{const editorContainer=SugarElement.fromDom(editor.getContainer());if(docked){add$2(editorContainer,editorStickyOnClass);remove$2(editorContainer,editorStickyOffClass);}else{add$2(editorContainer,editorStickyOffClass);remove$2(editorContainer,editorStickyOnClass);}};const restoreFocus=(headerElem,focusedElem)=>{const ownerDoc=owner$4(focusedElem);active$1(ownerDoc).filter(activeElm=>!eq(focusedElem,activeElm)).filter(activeElm=>eq(activeElm,SugarElement.fromDom(ownerDoc.dom.body))||contains(headerElem,activeElm)).each(()=>focus$3(focusedElem));};const findFocusedElem=(rootElm,lazySink)=>search(rootElm).orThunk(()=>lazySink().toOptional().bind(sink=>search(sink.element)));const setup$9=(editor,sharedBackstage,lazyHeader)=>{if(!editor.inline){if(!sharedBackstage.header.isPositionedAtTop()){editor.on('ResizeEditor',()=>{lazyHeader().each(Docking.reset);});}editor.on('ResizeWindow ResizeEditor',()=>{lazyHeader().each(updateIframeContentFlow);});editor.on('SkinLoaded',()=>{lazyHeader().each(comp=>{Docking.isDocked(comp)?Docking.reset(comp):Docking.refresh(comp);});});editor.on('FullscreenStateChanged',()=>{lazyHeader().each(Docking.reset);});}editor.on('AfterScrollIntoView',e=>{lazyHeader().each(header=>{Docking.refresh(header);const headerElem=header.element;if(isVisible(headerElem)){scrollFromBehindHeader(e,headerElem);}});});editor.on('PostRender',()=>{updateEditorClasses(editor,false);});};const isDocked=lazyHeader=>lazyHeader().map(Docking.isDocked).getOr(false);const getIframeBehaviours=()=>[Receiving.config({channels:{[toolbarHeightChange()]:{onReceive:updateIframeContentFlow}}})];const getBehaviours=(editor,sharedBackstage)=>{const focusedElm=value$2();const lazySink=sharedBackstage.getSink;const runOnSinkElement=f=>{lazySink().each(sink=>f(sink.element));};const onDockingSwitch=comp=>{if(!editor.inline){updateIframeContentFlow(comp);}updateEditorClasses(editor,Docking.isDocked(comp));comp.getSystem().broadcastOn([repositionPopups()],{});lazySink().each(sink=>sink.getSystem().broadcastOn([repositionPopups()],{}));};const additionalBehaviours=editor.inline?[]:getIframeBehaviours();return[Focusing.config({}),Docking.config({contextual:{lazyContext:comp=>{const headerHeight=getOuter$2(comp.element);const container=editor.inline?editor.getContentAreaContainer():editor.getContainer();const box=box$1(SugarElement.fromDom(container));const boxHeight=box.height-headerHeight;const topBound=box.y+(isDockedMode(comp,'top')?0:headerHeight);return Optional.some(bounds(box.x,topBound,box.width,boxHeight));},onShow:()=>{runOnSinkElement(elem=>updateSinkVisibility(elem,true));},onShown:comp=>{runOnSinkElement(elem=>remove$1(elem,[visibility.transitionClass,visibility.fadeInClass]));focusedElm.get().each(elem=>{restoreFocus(comp.element,elem);focusedElm.clear();});},onHide:comp=>{findFocusedElem(comp.element,lazySink).fold(focusedElm.clear,focusedElm.set);runOnSinkElement(elem=>updateSinkVisibility(elem,false));},onHidden:()=>{runOnSinkElement(elem=>remove$1(elem,[visibility.transitionClass]));},...visibility},lazyViewport:comp=>{const win$1=win();const offset=getStickyToolbarOffset(editor);const top=win$1.y+(isDockedMode(comp,'top')?offset:0);const height=win$1.height-(isDockedMode(comp,'bottom')?offset:0);return bounds(win$1.x,top,win$1.width,height);},modes:[sharedBackstage.header.getDockingMode()],onDocked:onDockingSwitch,onUndocked:onDockingSwitch}),...additionalBehaviours];};var StickyHeader=/*#__PURE__*/Object.freeze({__proto__:null,setup:setup$9,isDocked:isDocked,getBehaviours:getBehaviours});const renderHeader=spec=>{const editor=spec.editor;const getBehaviours$2=spec.sticky?getBehaviours:getBehaviours$1;return{uid:spec.uid,dom:spec.dom,components:spec.components,behaviours:derive$1(getBehaviours$2(editor,spec.sharedBackstage))};};const groupToolbarButtonSchema=objOf([type,requiredOf('items',oneOf([arrOfObj([name$1,requiredArrayOf('items',string)]),string]))].concat(baseToolbarButtonFields));const createGroupToolbarButton=spec=>asRaw('GroupToolbarButton',groupToolbarButtonSchema,spec);const baseMenuButtonFields=[optionString('text'),optionString('tooltip'),optionString('icon'),defaultedOf('search',false,oneOf([boolean,objOf([optionString('placeholder')])],x=>{if(isBoolean(x)){return x?Optional.some({placeholder:Optional.none()}):Optional.none();}else{return Optional.some(x);}})),requiredFunction('fetch'),defaultedFunction('onSetup',()=>noop)];const MenuButtonSchema=objOf([type,...baseMenuButtonFields]);const createMenuButton=spec=>asRaw('menubutton',MenuButtonSchema,spec);const splitButtonSchema=objOf([type,optionalTooltip,optionalIcon,optionalText,optionalSelect,fetch$1,onSetup,defaultedStringEnum('presets','normal',['normal','color','listpreview']),defaultedColumns(1),onAction,onItemAction]);const createSplitButton=spec=>asRaw('SplitButton',splitButtonSchema,spec);const factory$b=(detail,spec)=>{const setMenus=(comp,menus)=>{const newMenus=map$2(menus,m=>{const buttonSpec={type:'menubutton',text:m.text,fetch:callback=>{callback(m.getItems());}};const internal=createMenuButton(buttonSpec).mapError(errInfo=>formatError(errInfo)).getOrDie();return renderMenuButton(internal,'tox-mbtn',spec.backstage,Optional.some('menuitem'));});Replacing.set(comp,newMenus);};const apis={focus:Keying.focusIn,setMenus};return{uid:detail.uid,dom:detail.dom,components:[],behaviours:derive$1([Replacing.config({}),config('menubar-events',[runOnAttached(component=>{detail.onSetup(component);}),run$1(mouseover(),(comp,se)=>{descendant(comp.element,'.'+'tox-mbtn--active').each(activeButton=>{closest$1(se.event.target,'.'+'tox-mbtn').each(hoveredButton=>{if(!eq(activeButton,hoveredButton)){comp.getSystem().getByDom(activeButton).each(activeComp=>{comp.getSystem().getByDom(hoveredButton).each(hoveredComp=>{Dropdown.expand(hoveredComp);Dropdown.close(activeComp);Focusing.focus(hoveredComp);});});}});});}),run$1(focusShifted(),(comp,se)=>{se.event.prevFocus.bind(prev=>comp.getSystem().getByDom(prev).toOptional()).each(prev=>{se.event.newFocus.bind(nu=>comp.getSystem().getByDom(nu).toOptional()).each(nu=>{if(Dropdown.isOpen(prev)){Dropdown.expand(nu);Dropdown.close(prev);}});});})]),Keying.config({mode:'flow',selector:'.'+'tox-mbtn',onEscape:comp=>{detail.onEscape(comp);return Optional.some(true);}}),Tabstopping.config({})]),apis,domModification:{attributes:{role:'menubar'}}};};var SilverMenubar=single({factory:factory$b,name:'silver.Menubar',configFields:[required$1('dom'),required$1('uid'),required$1('onEscape'),required$1('backstage'),defaulted('onSetup',noop)],apis:{focus:(apis,comp)=>{apis.focus(comp);},setMenus:(apis,comp,menus)=>{apis.setMenus(comp,menus);}}});const promotionMessage='\\u26A1\\ufe0fUpgrade';const promotionLink='https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral';const renderPromotion=spec=>{return{uid:spec.uid,dom:spec.dom,components:[{dom:{tag:'a',attributes:{'href':promotionLink,'rel':'noopener','target':'_blank','aria-hidden':'true'},classes:['tox-promotion-link'],innerHtml:promotionMessage}}]};};const getAnimationRoot=(component,slideConfig)=>slideConfig.getAnimationRoot.fold(()=>component.element,get=>get(component));const getDimensionProperty=slideConfig=>slideConfig.dimension.property;const getDimension=(slideConfig,elem)=>slideConfig.dimension.getDimension(elem);const disableTransitions=(component,slideConfig)=>{const root=getAnimationRoot(component,slideConfig);remove$1(root,[slideConfig.shrinkingClass,slideConfig.growingClass]);};const setShrunk=(component,slideConfig)=>{remove$2(component.element,slideConfig.openClass);add$2(component.element,slideConfig.closedClass);set$8(component.element,getDimensionProperty(slideConfig),'0px');reflow(component.element);};const setGrown=(component,slideConfig)=>{remove$2(component.element,slideConfig.closedClass);add$2(component.element,slideConfig.openClass);remove$6(component.element,getDimensionProperty(slideConfig));};const doImmediateShrink=(component,slideConfig,slideState,_calculatedSize)=>{slideState.setCollapsed();set$8(component.element,getDimensionProperty(slideConfig),getDimension(slideConfig,component.element));disableTransitions(component,slideConfig);setShrunk(component,slideConfig);slideConfig.onStartShrink(component);slideConfig.onShrunk(component);};const doStartShrink=(component,slideConfig,slideState,calculatedSize)=>{const size=calculatedSize.getOrThunk(()=>getDimension(slideConfig,component.element));slideState.setCollapsed();set$8(component.element,getDimensionProperty(slideConfig),size);reflow(component.element);const root=getAnimationRoot(component,slideConfig);remove$2(root,slideConfig.growingClass);add$2(root,slideConfig.shrinkingClass);setShrunk(component,slideConfig);slideConfig.onStartShrink(component);};const doStartSmartShrink=(component,slideConfig,slideState)=>{const size=getDimension(slideConfig,component.element);const shrinker=size==='0px'?doImmediateShrink:doStartShrink;shrinker(component,slideConfig,slideState,Optional.some(size));};const doStartGrow=(component,slideConfig,slideState)=>{const root=getAnimationRoot(component,slideConfig);const wasShrinking=has(root,slideConfig.shrinkingClass);const beforeSize=getDimension(slideConfig,component.element);setGrown(component,slideConfig);const fullSize=getDimension(slideConfig,component.element);const startPartialGrow=()=>{set$8(component.element,getDimensionProperty(slideConfig),beforeSize);reflow(component.element);};const startCompleteGrow=()=>{setShrunk(component,slideConfig);};const setStartSize=wasShrinking?startPartialGrow:startCompleteGrow;setStartSize();remove$2(root,slideConfig.shrinkingClass);add$2(root,slideConfig.growingClass);setGrown(component,slideConfig);set$8(component.element,getDimensionProperty(slideConfig),fullSize);slideState.setExpanded();slideConfig.onStartGrow(component);};const refresh$3=(component,slideConfig,slideState)=>{if(slideState.isExpanded()){remove$6(component.element,getDimensionProperty(slideConfig));const fullSize=getDimension(slideConfig,component.element);set$8(component.element,getDimensionProperty(slideConfig),fullSize);}};const grow=(component,slideConfig,slideState)=>{if(!slideState.isExpanded()){doStartGrow(component,slideConfig,slideState);}};const shrink=(component,slideConfig,slideState)=>{if(slideState.isExpanded()){doStartSmartShrink(component,slideConfig,slideState);}};const immediateShrink=(component,slideConfig,slideState)=>{if(slideState.isExpanded()){doImmediateShrink(component,slideConfig,slideState);}};const hasGrown=(component,slideConfig,slideState)=>slideState.isExpanded();const hasShrunk=(component,slideConfig,slideState)=>slideState.isCollapsed();const isGrowing=(component,slideConfig,_slideState)=>{const root=getAnimationRoot(component,slideConfig);return has(root,slideConfig.growingClass)===true;};const isShrinking=(component,slideConfig,_slideState)=>{const root=getAnimationRoot(component,slideConfig);return has(root,slideConfig.shrinkingClass)===true;};const isTransitioning=(component,slideConfig,slideState)=>isGrowing(component,slideConfig)||isShrinking(component,slideConfig);const toggleGrow=(component,slideConfig,slideState)=>{const f=slideState.isExpanded()?doStartSmartShrink:doStartGrow;f(component,slideConfig,slideState);};const immediateGrow=(component,slideConfig,slideState)=>{if(!slideState.isExpanded()){setGrown(component,slideConfig);set$8(component.element,getDimensionProperty(slideConfig),getDimension(slideConfig,component.element));disableTransitions(component,slideConfig);slideState.setExpanded();slideConfig.onStartGrow(component);slideConfig.onGrown(component);}};var SlidingApis=/*#__PURE__*/Object.freeze({__proto__:null,refresh:refresh$3,grow:grow,shrink:shrink,immediateShrink:immediateShrink,hasGrown:hasGrown,hasShrunk:hasShrunk,isGrowing:isGrowing,isShrinking:isShrinking,isTransitioning:isTransitioning,toggleGrow:toggleGrow,disableTransitions:disableTransitions,immediateGrow:immediateGrow});const exhibit=(base,slideConfig,_slideState)=>{const expanded=slideConfig.expanded;return expanded?nu$7({classes:[slideConfig.openClass],styles:{}}):nu$7({classes:[slideConfig.closedClass],styles:wrap$1(slideConfig.dimension.property,'0px')});};const events$4=(slideConfig,slideState)=>derive$2([runOnSource(transitionend(),(component,simulatedEvent)=>{const raw=simulatedEvent.event.raw;if(raw.propertyName===slideConfig.dimension.property){disableTransitions(component,slideConfig);if(slideState.isExpanded()){remove$6(component.element,slideConfig.dimension.property);}const notify=slideState.isExpanded()?slideConfig.onGrown:slideConfig.onShrunk;notify(component);}})]);var ActiveSliding=/*#__PURE__*/Object.freeze({__proto__:null,exhibit:exhibit,events:events$4});var SlidingSchema=[required$1('closedClass'),required$1('openClass'),required$1('shrinkingClass'),required$1('growingClass'),option$3('getAnimationRoot'),onHandler('onShrunk'),onHandler('onStartShrink'),onHandler('onGrown'),onHandler('onStartGrow'),defaulted('expanded',false),requiredOf('dimension',choose$1('property',{width:[output$1('property','width'),output$1('getDimension',elem=>get$c(elem)+'px')],height:[output$1('property','height'),output$1('getDimension',elem=>get$d(elem)+'px')]}))];const init$5=spec=>{const state=Cell(spec.expanded);const readState=()=>'expanded: '+state.get();return nu$8({isExpanded:()=>state.get()===true,isCollapsed:()=>state.get()===false,setCollapsed:curry(state.set,false),setExpanded:curry(state.set,true),readState});};var SlidingState=/*#__PURE__*/Object.freeze({__proto__:null,init:init$5});const Sliding=create$3({fields:SlidingSchema,name:'sliding',active:ActiveSliding,apis:SlidingApis,state:SlidingState});const owner='container';const schema$d=[field('slotBehaviours',[])];const getPartName=name=>'<alloy.field.'+name+'>';const sketch=sSpec=>{const parts=(()=>{const record=[];const slot=(name,config)=>{record.push(name);return generateOne$1(owner,getPartName(name),config);};return{slot,record:constant$1(record)};})();const spec=sSpec(parts);const partNames=parts.record();const fieldParts=map$2(partNames,n=>required({name:n,pname:getPartName(n)}));return composite$1(owner,schema$d,fieldParts,make$1,spec);};const make$1=(detail,components)=>{const getSlotNames=_=>getAllPartNames(detail);const getSlot=(container,key)=>getPart(container,detail,key);const onSlot=(f,def)=>(container,key)=>getPart(container,detail,key).map(slot=>f(slot,key)).getOr(def);const onSlots=f=>(container,keys)=>{each$1(keys,key=>f(container,key));};const doShowing=(comp,_key)=>get$f(comp.element,'aria-hidden')!=='true';const doShow=(comp,key)=>{if(!doShowing(comp)){const element=comp.element;remove$6(element,'display');remove$7(element,'aria-hidden');emitWith(comp,slotVisibility(),{name:key,visible:true});}};const doHide=(comp,key)=>{if(doShowing(comp)){const element=comp.element;set$8(element,'display','none');set$9(element,'aria-hidden','true');emitWith(comp,slotVisibility(),{name:key,visible:false});}};const isShowing=onSlot(doShowing,false);const hideSlot=onSlot(doHide);const hideSlots=onSlots(hideSlot);const hideAllSlots=container=>hideSlots(container,getSlotNames());const showSlot=onSlot(doShow);const apis={getSlotNames,getSlot,isShowing,hideSlot,hideAllSlots,showSlot};return{uid:detail.uid,dom:detail.dom,components,behaviours:get$3(detail.slotBehaviours),apis};};const slotApis=map$1({getSlotNames:(apis,c)=>apis.getSlotNames(c),getSlot:(apis,c,key)=>apis.getSlot(c,key),isShowing:(apis,c,key)=>apis.isShowing(c,key),hideSlot:(apis,c,key)=>apis.hideSlot(c,key),hideAllSlots:(apis,c)=>apis.hideAllSlots(c),showSlot:(apis,c,key)=>apis.showSlot(c,key)},value=>makeApi(value));const SlotContainer={...slotApis,...{sketch}};const sidebarSchema=objOf([optionalIcon,optionalTooltip,defaultedFunction('onShow',noop),defaultedFunction('onHide',noop),onSetup]);const createSidebar=spec=>asRaw('sidebar',sidebarSchema,spec);const setup$8=editor=>{const{sidebars}=editor.ui.registry.getAll();each$1(keys(sidebars),name=>{const spec=sidebars[name];const isActive=()=>is$1(Optional.from(editor.queryCommandValue('ToggleSidebar')),name);editor.ui.registry.addToggleButton(name,{icon:spec.icon,tooltip:spec.tooltip,onAction:buttonApi=>{editor.execCommand('ToggleSidebar',false,name);buttonApi.setActive(isActive());},onSetup:buttonApi=>{buttonApi.setActive(isActive());const handleToggle=()=>buttonApi.setActive(isActive());editor.on('ToggleSidebar',handleToggle);return()=>{editor.off('ToggleSidebar',handleToggle);};}});});};const getApi=comp=>({element:()=>comp.element.dom});const makePanels=(parts,panelConfigs)=>{const specs=map$2(keys(panelConfigs),name=>{const spec=panelConfigs[name];const bridged=getOrDie(createSidebar(spec));return{name,getApi,onSetup:bridged.onSetup,onShow:bridged.onShow,onHide:bridged.onHide};});return map$2(specs,spec=>{const editorOffCell=Cell(noop);return parts.slot(spec.name,{dom:{tag:'div',classes:['tox-sidebar__pane']},behaviours:SimpleBehaviours.unnamedEvents([onControlAttached(spec,editorOffCell),onControlDetached(spec,editorOffCell),run$1(slotVisibility(),(sidepanel,se)=>{const data=se.event;const optSidePanelSpec=find$5(specs,config=>config.name===data.name);optSidePanelSpec.each(sidePanelSpec=>{const handler=data.visible?sidePanelSpec.onShow:sidePanelSpec.onHide;handler(sidePanelSpec.getApi(sidepanel));});})])});});};const makeSidebar=panelConfigs=>SlotContainer.sketch(parts=>({dom:{tag:'div',classes:['tox-sidebar__pane-container']},components:makePanels(parts,panelConfigs),slotBehaviours:SimpleBehaviours.unnamedEvents([runOnAttached(slotContainer=>SlotContainer.hideAllSlots(slotContainer))])}));const setSidebar=(sidebar,panelConfigs,showSidebar)=>{const optSlider=Composing.getCurrent(sidebar);optSlider.each(slider=>{Replacing.set(slider,[makeSidebar(panelConfigs)]);const configKey=showSidebar===null||showSidebar===void 0?void 0:showSidebar.toLowerCase();if(isString(configKey)&&has$2(panelConfigs,configKey)){Composing.getCurrent(slider).each(slotContainer=>{SlotContainer.showSlot(slotContainer,configKey);Sliding.immediateGrow(slider);remove$6(slider.element,'width');});}});};const toggleSidebar=(sidebar,name)=>{const optSlider=Composing.getCurrent(sidebar);optSlider.each(slider=>{const optSlotContainer=Composing.getCurrent(slider);optSlotContainer.each(slotContainer=>{if(Sliding.hasGrown(slider)){if(SlotContainer.isShowing(slotContainer,name)){Sliding.shrink(slider);}else{SlotContainer.hideAllSlots(slotContainer);SlotContainer.showSlot(slotContainer,name);}}else{SlotContainer.hideAllSlots(slotContainer);SlotContainer.showSlot(slotContainer,name);Sliding.grow(slider);}});});};const whichSidebar=sidebar=>{const optSlider=Composing.getCurrent(sidebar);return optSlider.bind(slider=>{const sidebarOpen=Sliding.isGrowing(slider)||Sliding.hasGrown(slider);if(sidebarOpen){const optSlotContainer=Composing.getCurrent(slider);return optSlotContainer.bind(slotContainer=>find$5(SlotContainer.getSlotNames(slotContainer),name=>SlotContainer.isShowing(slotContainer,name)));}else{return Optional.none();}});};const fixSize=generate$6('FixSizeEvent');const autoSize=generate$6('AutoSizeEvent');const renderSidebar=spec=>({uid:spec.uid,dom:{tag:'div',classes:['tox-sidebar'],attributes:{role:'complementary'}},components:[{dom:{tag:'div',classes:['tox-sidebar__slider']},components:[],behaviours:derive$1([Tabstopping.config({}),Focusing.config({}),Sliding.config({dimension:{property:'width'},closedClass:'tox-sidebar--sliding-closed',openClass:'tox-sidebar--sliding-open',shrinkingClass:'tox-sidebar--sliding-shrinking',growingClass:'tox-sidebar--sliding-growing',onShrunk:slider=>{const optSlotContainer=Composing.getCurrent(slider);optSlotContainer.each(SlotContainer.hideAllSlots);emit(slider,autoSize);},onGrown:slider=>{emit(slider,autoSize);},onStartGrow:slider=>{emitWith(slider,fixSize,{width:getRaw(slider.element,'width').getOr('')});},onStartShrink:slider=>{emitWith(slider,fixSize,{width:get$c(slider.element)+'px'});}}),Replacing.config({}),Composing.config({find:comp=>{const children=Replacing.contents(comp);return head(children);}})])}],behaviours:derive$1([ComposingConfigs.childAt(0),config('sidebar-sliding-events',[run$1(fixSize,(comp,se)=>{set$8(comp.element,'width',se.event.width);}),run$1(autoSize,(comp,_se)=>{remove$6(comp.element,'width');})])])});const block=(component,config,state,getBusySpec)=>{set$9(component.element,'aria-busy',true);const root=config.getRoot(component).getOr(component);const blockerBehaviours=derive$1([Keying.config({mode:'special',onTab:()=>Optional.some(true),onShiftTab:()=>Optional.some(true)}),Focusing.config({})]);const blockSpec=getBusySpec(root,blockerBehaviours);const blocker=root.getSystem().build(blockSpec);Replacing.append(root,premade(blocker));if(blocker.hasConfigured(Keying)&&config.focus){Keying.focusIn(blocker);}if(!state.isBlocked()){config.onBlock(component);}state.blockWith(()=>Replacing.remove(root,blocker));};const unblock=(component,config,state)=>{remove$7(component.element,'aria-busy');if(state.isBlocked()){config.onUnblock(component);}state.clear();};var BlockingApis=/*#__PURE__*/Object.freeze({__proto__:null,block:block,unblock:unblock});var BlockingSchema=[defaultedFunction('getRoot',Optional.none),defaultedBoolean('focus',true),onHandler('onBlock'),onHandler('onUnblock')];const init$4=()=>{const blocker=destroyable();const blockWith=destroy=>{blocker.set({destroy});};return nu$8({readState:blocker.isSet,blockWith,clear:blocker.clear,isBlocked:blocker.isSet});};var BlockingState=/*#__PURE__*/Object.freeze({__proto__:null,init:init$4});const Blocking=create$3({fields:BlockingSchema,name:'blocking',apis:BlockingApis,state:BlockingState});const getAttrs=elem=>{const attributes=elem.dom.attributes!==undefined?elem.dom.attributes:[];return foldl(attributes,(b,attr)=>{if(attr.name==='class'){return b;}else{return{...b,[attr.name]:attr.value};}},{});};const getClasses=elem=>Array.prototype.slice.call(elem.dom.classList,0);const fromHtml=html=>{const elem=SugarElement.fromHtml(html);const children$1=children(elem);const attrs=getAttrs(elem);const classes=getClasses(elem);const contents=children$1.length===0?{}:{innerHtml:get$9(elem)};return{tag:name$3(elem),classes,attributes:attrs,...contents};};const getBusySpec$1=providerBackstage=>(_root,_behaviours)=>({dom:{tag:'div',attributes:{'aria-label':providerBackstage.translate('Loading...'),'tabindex':'0'},classes:['tox-throbber__busy-spinner']},components:[{dom:fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>')}]});const focusBusyComponent=throbber=>Composing.getCurrent(throbber).each(comp=>focus$3(comp.element));const toggleEditorTabIndex=(editor,state)=>{const tabIndexAttr='tabindex';const dataTabIndexAttr=`data-mce-${tabIndexAttr}`;Optional.from(editor.iframeElement).map(SugarElement.fromDom).each(iframe=>{if(state){getOpt(iframe,tabIndexAttr).each(tabIndex=>set$9(iframe,dataTabIndexAttr,tabIndex));set$9(iframe,tabIndexAttr,-1);}else{remove$7(iframe,tabIndexAttr);getOpt(iframe,dataTabIndexAttr).each(tabIndex=>{set$9(iframe,tabIndexAttr,tabIndex);remove$7(iframe,dataTabIndexAttr);});}});};const toggleThrobber=(editor,comp,state,providerBackstage)=>{const element=comp.element;toggleEditorTabIndex(editor,state);if(state){Blocking.block(comp,getBusySpec$1(providerBackstage));remove$6(element,'display');remove$7(element,'aria-hidden');if(editor.hasFocus()){focusBusyComponent(comp);}}else{const throbberFocus=Composing.getCurrent(comp).exists(busyComp=>hasFocus(busyComp.element));Blocking.unblock(comp);set$8(element,'display','none');set$9(element,'aria-hidden','true');if(throbberFocus){editor.focus();}}};const renderThrobber=spec=>({uid:spec.uid,dom:{tag:'div',attributes:{'aria-hidden':'true'},classes:['tox-throbber'],styles:{display:'none'}},behaviours:derive$1([Replacing.config({}),Blocking.config({focus:false}),Composing.config({find:comp=>head(comp.components())})]),components:[]});const isFocusEvent=event=>event.type==='focusin';const isPasteBinTarget=event=>{if(isFocusEvent(event)){const node=event.composed?head(event.composedPath()):Optional.from(event.target);return node.map(SugarElement.fromDom).filter(isElement$1).exists(targetElm=>has(targetElm,'mce-pastebin'));}else{return false;}};const setup$7=(editor,lazyThrobber,sharedBackstage)=>{const throbberState=Cell(false);const timer=value$2();const stealFocus=e=>{if(throbberState.get()&&!isPasteBinTarget(e)){e.preventDefault();focusBusyComponent(lazyThrobber());editor.editorManager.setActive(editor);}};if(!editor.inline){editor.on('PreInit',()=>{editor.dom.bind(editor.getWin(),'focusin',stealFocus);editor.on('BeforeExecCommand',e=>{if(e.command.toLowerCase()==='mcefocus'&&e.value!==true){stealFocus(e);}});});}const toggle=state=>{if(state!==throbberState.get()){throbberState.set(state);toggleThrobber(editor,lazyThrobber(),state,sharedBackstage.providers);fireAfterProgressState(editor,state);}};editor.on('ProgressState',e=>{timer.on(clearTimeout);if(isNumber(e.time)){const timerId=global$9.setEditorTimeout(editor,()=>toggle(e.state),e.time);timer.set(timerId);}else{toggle(e.state);timer.clear();}});};const generate$1=(xs,f)=>{const init={len:0,list:[]};const r=foldl(xs,(b,a)=>{const value=f(a,b.len);return value.fold(constant$1(b),v=>({len:v.finish,list:b.list.concat([v])}));},init);return r.list;};const output=(within,extra,withinWidth)=>({within,extra,withinWidth});const apportion=(units,total,len)=>{const parray=generate$1(units,(unit,current)=>{const width=len(unit);return Optional.some({element:unit,start:current,finish:current+width,width});});const within=filter$2(parray,unit=>unit.finish<=total);const withinWidth=foldr(within,(acc,el)=>acc+el.width,0);const extra=parray.slice(within.length);return{within,extra,withinWidth};};const toUnit=parray=>map$2(parray,unit=>unit.element);const fitLast=(within,extra,withinWidth)=>{const fits=toUnit(within.concat(extra));return output(fits,[],withinWidth);};const overflow=(within,extra,overflower,withinWidth)=>{const fits=toUnit(within).concat([overflower]);return output(fits,toUnit(extra),withinWidth);};const fitAll=(within,extra,withinWidth)=>output(toUnit(within),[],withinWidth);const tryFit=(total,units,len)=>{const divide=apportion(units,total,len);return divide.extra.length===0?Optional.some(divide):Optional.none();};const partition=(total,units,len,overflower)=>{const divide=tryFit(total,units,len).getOrThunk(()=>apportion(units,total-len(overflower),len));const within=divide.within;const extra=divide.extra;const withinWidth=divide.withinWidth;if(extra.length===1&&extra[0].width<=len(overflower)){return fitLast(within,extra,withinWidth);}else if(extra.length>=1){return overflow(within,extra,overflower,withinWidth);}else{return fitAll(within,extra,withinWidth);}};const setGroups$1=(toolbar,storedGroups)=>{const bGroups=map$2(storedGroups,g=>premade(g));Toolbar.setGroups(toolbar,bGroups);};const findFocusedComp=comps=>findMap(comps,comp=>search(comp.element).bind(focusedElm=>comp.getSystem().getByDom(focusedElm).toOptional()));const refresh$2=(toolbar,detail,setOverflow)=>{const builtGroups=detail.builtGroups.get();if(builtGroups.length===0){return;}const primary=getPartOrDie(toolbar,detail,'primary');const overflowGroup=Coupling.getCoupled(toolbar,'overflowGroup');set$8(primary.element,'visibility','hidden');const groups=builtGroups.concat([overflowGroup]);const focusedComp=findFocusedComp(groups);setOverflow([]);setGroups$1(primary,groups);const availableWidth=get$c(primary.element);const overflows=partition(availableWidth,detail.builtGroups.get(),comp=>get$c(comp.element),overflowGroup);if(overflows.extra.length===0){Replacing.remove(primary,overflowGroup);setOverflow([]);}else{setGroups$1(primary,overflows.within);setOverflow(overflows.extra);}remove$6(primary.element,'visibility');reflow(primary.element);focusedComp.each(Focusing.focus);};const schema$c=constant$1([field('splitToolbarBehaviours',[Coupling]),customField('builtGroups',()=>Cell([]))]);const schema$b=constant$1([markers$1(['overflowToggledClass']),optionFunction('getOverflowBounds'),required$1('lazySink'),customField('overflowGroups',()=>Cell([]))].concat(schema$c()));const parts$7=constant$1([required({factory:Toolbar,schema:schema$e(),name:'primary'}),external({schema:schema$e(),name:'overflow'}),external({name:'overflow-button'}),external({name:'overflow-group'})]);const expandable=constant$1((element,available)=>{setMax(element,Math.floor(available));});const schema$a=constant$1([markers$1(['toggledClass']),required$1('lazySink'),requiredFunction('fetch'),optionFunction('getBounds'),optionObjOf('fireDismissalEventInstead',[defaulted('event',dismissRequested())]),schema$y()]);const parts$6=constant$1([external({name:'button',overrides:detail=>({dom:{attributes:{'aria-haspopup':'true'}},buttonBehaviours:derive$1([Toggling.config({toggleClass:detail.markers.toggledClass,aria:{mode:'expanded'},toggleOnExecute:false})])})}),external({factory:Toolbar,schema:schema$e(),name:'toolbar',overrides:detail=>{return{toolbarBehaviours:derive$1([Keying.config({mode:'cyclic',onEscape:comp=>{getPart(comp,detail,'button').each(Focusing.focus);return Optional.none();}})])};}})]);const toggle=(button,externals)=>{const toolbarSandbox=Coupling.getCoupled(button,'toolbarSandbox');if(Sandboxing.isOpen(toolbarSandbox)){Sandboxing.close(toolbarSandbox);}else{Sandboxing.open(toolbarSandbox,externals.toolbar());}};const position=(button,toolbar,detail,layouts)=>{const bounds=detail.getBounds.map(bounder=>bounder());const sink=detail.lazySink(button).getOrDie();Positioning.positionWithinBounds(sink,toolbar,{anchor:{type:'hotspot',hotspot:button,layouts,overrides:{maxWidthFunction:expandable()}}},bounds);};const setGroups=(button,toolbar,detail,layouts,groups)=>{Toolbar.setGroups(toolbar,groups);position(button,toolbar,detail,layouts);Toggling.on(button);};const makeSandbox=(button,spec,detail)=>{const ariaControls=manager();const onOpen=(sandbox,toolbar)=>{detail.fetch().get(groups=>{setGroups(button,toolbar,detail,spec.layouts,groups);ariaControls.link(button.element);Keying.focusIn(toolbar);});};const onClose=()=>{Toggling.off(button);Focusing.focus(button);ariaControls.unlink(button.element);};return{dom:{tag:'div',attributes:{id:ariaControls.id}},behaviours:derive$1([Keying.config({mode:'special',onEscape:comp=>{Sandboxing.close(comp);return Optional.some(true);}}),Sandboxing.config({onOpen,onClose,isPartOf:(container,data,queryElem)=>{return isPartOf$1(data,queryElem)||isPartOf$1(button,queryElem);},getAttachPoint:()=>{return detail.lazySink(button).getOrDie();}}),Receiving.config({channels:{...receivingChannel$1({isExtraPart:never,...detail.fireDismissalEventInstead.map(fe=>({fireEventInstead:{event:fe.event}})).getOr({})}),...receivingChannel({doReposition:()=>{Sandboxing.getState(Coupling.getCoupled(button,'toolbarSandbox')).each(toolbar=>{position(button,toolbar,detail,spec.layouts);});}})}})])};};const factory$a=(detail,components,spec,externals)=>({...Button.sketch({...externals.button(),action:button=>{toggle(button,externals);},buttonBehaviours:SketchBehaviours.augment({dump:externals.button().buttonBehaviours},[Coupling.config({others:{toolbarSandbox:button=>{return makeSandbox(button,spec,detail);}}})])}),apis:{setGroups:(button,groups)=>{Sandboxing.getState(Coupling.getCoupled(button,'toolbarSandbox')).each(toolbar=>{setGroups(button,toolbar,detail,spec.layouts,groups);});},reposition:button=>{Sandboxing.getState(Coupling.getCoupled(button,'toolbarSandbox')).each(toolbar=>{position(button,toolbar,detail,spec.layouts);});},toggle:button=>{toggle(button,externals);},getToolbar:button=>{return Sandboxing.getState(Coupling.getCoupled(button,'toolbarSandbox'));},isOpen:button=>{return Sandboxing.isOpen(Coupling.getCoupled(button,'toolbarSandbox'));}}});const FloatingToolbarButton=composite({name:'FloatingToolbarButton',factory:factory$a,configFields:schema$a(),partFields:parts$6(),apis:{setGroups:(apis,button,groups)=>{apis.setGroups(button,groups);},reposition:(apis,button)=>{apis.reposition(button);},toggle:(apis,button)=>{apis.toggle(button);},getToolbar:(apis,button)=>apis.getToolbar(button),isOpen:(apis,button)=>apis.isOpen(button)}});const schema$9=constant$1([required$1('items'),markers$1(['itemSelector']),field('tgroupBehaviours',[Keying])]);const parts$5=constant$1([group({name:'items',unit:'item'})]);const factory$9=(detail,components,_spec,_externals)=>({uid:detail.uid,dom:detail.dom,components,behaviours:augment(detail.tgroupBehaviours,[Keying.config({mode:'flow',selector:detail.markers.itemSelector})]),domModification:{attributes:{role:'toolbar'}}});const ToolbarGroup=composite({name:'ToolbarGroup',configFields:schema$9(),partFields:parts$5(),factory:factory$9});const buildGroups=comps=>map$2(comps,g=>premade(g));const refresh$1=(toolbar,memFloatingToolbarButton,detail)=>{refresh$2(toolbar,detail,overflowGroups=>{detail.overflowGroups.set(overflowGroups);memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton=>{FloatingToolbarButton.setGroups(floatingToolbarButton,buildGroups(overflowGroups));});});};const factory$8=(detail,components,spec,externals)=>{const memFloatingToolbarButton=record(FloatingToolbarButton.sketch({fetch:()=>Future.nu(resolve=>{resolve(buildGroups(detail.overflowGroups.get()));}),layouts:{onLtr:()=>[southwest$2,southeast$2],onRtl:()=>[southeast$2,southwest$2],onBottomLtr:()=>[northwest$2,northeast$2],onBottomRtl:()=>[northeast$2,northwest$2]},getBounds:spec.getOverflowBounds,lazySink:detail.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:detail.markers.overflowToggledClass},parts:{button:externals['overflow-button'](),toolbar:externals.overflow()}}));return{uid:detail.uid,dom:detail.dom,components,behaviours:augment(detail.splitToolbarBehaviours,[Coupling.config({others:{overflowGroup:()=>{return ToolbarGroup.sketch({...externals['overflow-group'](),items:[memFloatingToolbarButton.asSpec()]});}}})]),apis:{setGroups:(toolbar,groups)=>{detail.builtGroups.set(map$2(groups,toolbar.getSystem().build));refresh$1(toolbar,memFloatingToolbarButton,detail);},refresh:toolbar=>refresh$1(toolbar,memFloatingToolbarButton,detail),toggle:toolbar=>{memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton=>{FloatingToolbarButton.toggle(floatingToolbarButton);});},isOpen:toolbar=>memFloatingToolbarButton.getOpt(toolbar).map(FloatingToolbarButton.isOpen).getOr(false),reposition:toolbar=>{memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton=>{FloatingToolbarButton.reposition(floatingToolbarButton);});},getOverflow:toolbar=>memFloatingToolbarButton.getOpt(toolbar).bind(FloatingToolbarButton.getToolbar)},domModification:{attributes:{role:'group'}}};};const SplitFloatingToolbar=composite({name:'SplitFloatingToolbar',configFields:schema$b(),partFields:parts$7(),factory:factory$8,apis:{setGroups:(apis,toolbar,groups)=>{apis.setGroups(toolbar,groups);},refresh:(apis,toolbar)=>{apis.refresh(toolbar);},reposition:(apis,toolbar)=>{apis.reposition(toolbar);},toggle:(apis,toolbar)=>{apis.toggle(toolbar);},isOpen:(apis,toolbar)=>apis.isOpen(toolbar),getOverflow:(apis,toolbar)=>apis.getOverflow(toolbar)}});const schema$8=constant$1([markers$1(['closedClass','openClass','shrinkingClass','growingClass','overflowToggledClass']),onHandler('onOpened'),onHandler('onClosed')].concat(schema$c()));const parts$4=constant$1([required({factory:Toolbar,schema:schema$e(),name:'primary'}),required({factory:Toolbar,schema:schema$e(),name:'overflow',overrides:detail=>{return{toolbarBehaviours:derive$1([Sliding.config({dimension:{property:'height'},closedClass:detail.markers.closedClass,openClass:detail.markers.openClass,shrinkingClass:detail.markers.shrinkingClass,growingClass:detail.markers.growingClass,onShrunk:comp=>{getPart(comp,detail,'overflow-button').each(button=>{Toggling.off(button);Focusing.focus(button);});detail.onClosed(comp);},onGrown:comp=>{Keying.focusIn(comp);detail.onOpened(comp);},onStartGrow:comp=>{getPart(comp,detail,'overflow-button').each(Toggling.on);}}),Keying.config({mode:'acyclic',onEscape:comp=>{getPart(comp,detail,'overflow-button').each(Focusing.focus);return Optional.some(true);}})])};}}),external({name:'overflow-button',overrides:detail=>({buttonBehaviours:derive$1([Toggling.config({toggleClass:detail.markers.overflowToggledClass,aria:{mode:'pressed'},toggleOnExecute:false})])})}),external({name:'overflow-group'})]);const isOpen=(toolbar,detail)=>getPart(toolbar,detail,'overflow').map(Sliding.hasGrown).getOr(false);const toggleToolbar=(toolbar,detail)=>{getPart(toolbar,detail,'overflow-button').bind(()=>getPart(toolbar,detail,'overflow')).each(overf=>{refresh(toolbar,detail);Sliding.toggleGrow(overf);});};const refresh=(toolbar,detail)=>{getPart(toolbar,detail,'overflow').each(overflow=>{refresh$2(toolbar,detail,groups=>{const builtGroups=map$2(groups,g=>premade(g));Toolbar.setGroups(overflow,builtGroups);});getPart(toolbar,detail,'overflow-button').each(button=>{if(Sliding.hasGrown(overflow)){Toggling.on(button);}});Sliding.refresh(overflow);});};const factory$7=(detail,components,spec,externals)=>{const toolbarToggleEvent='alloy.toolbar.toggle';const doSetGroups=(toolbar,groups)=>{const built=map$2(groups,toolbar.getSystem().build);detail.builtGroups.set(built);};return{uid:detail.uid,dom:detail.dom,components,behaviours:augment(detail.splitToolbarBehaviours,[Coupling.config({others:{overflowGroup:toolbar=>{return ToolbarGroup.sketch({...externals['overflow-group'](),items:[Button.sketch({...externals['overflow-button'](),action:_button=>{emit(toolbar,toolbarToggleEvent);}})]});}}}),config('toolbar-toggle-events',[run$1(toolbarToggleEvent,toolbar=>{toggleToolbar(toolbar,detail);})])]),apis:{setGroups:(toolbar,groups)=>{doSetGroups(toolbar,groups);refresh(toolbar,detail);},refresh:toolbar=>refresh(toolbar,detail),toggle:toolbar=>toggleToolbar(toolbar,detail),isOpen:toolbar=>isOpen(toolbar,detail)},domModification:{attributes:{role:'group'}}};};const SplitSlidingToolbar=composite({name:'SplitSlidingToolbar',configFields:schema$8(),partFields:parts$4(),factory:factory$7,apis:{setGroups:(apis,toolbar,groups)=>{apis.setGroups(toolbar,groups);},refresh:(apis,toolbar)=>{apis.refresh(toolbar);},toggle:(apis,toolbar)=>{apis.toggle(toolbar);},isOpen:(apis,toolbar)=>apis.isOpen(toolbar)}});const renderToolbarGroupCommon=toolbarGroup=>{const attributes=toolbarGroup.title.fold(()=>({}),title=>({attributes:{title}}));return{dom:{tag:'div',classes:['tox-toolbar__group'],...attributes},components:[ToolbarGroup.parts.items({})],items:toolbarGroup.items,markers:{itemSelector:'*:not(.tox-split-button) > .tox-tbtn:not([disabled]), '+'.tox-split-button:not([disabled]), '+'.tox-toolbar-nav-js:not([disabled])'},tgroupBehaviours:derive$1([Tabstopping.config({}),Focusing.config({})])};};const renderToolbarGroup=toolbarGroup=>ToolbarGroup.sketch(renderToolbarGroupCommon(toolbarGroup));const getToolbarBehaviours=(toolbarSpec,modeName)=>{const onAttached=runOnAttached(component=>{const groups=map$2(toolbarSpec.initGroups,renderToolbarGroup);Toolbar.setGroups(component,groups);});return derive$1([DisablingConfigs.toolbarButton(toolbarSpec.providers.isDisabled),receivingConfig(),Keying.config({mode:modeName,onEscape:toolbarSpec.onEscape,selector:'.tox-toolbar__group'}),config('toolbar-events',[onAttached])]);};const renderMoreToolbarCommon=toolbarSpec=>{const modeName=toolbarSpec.cyclicKeying?'cyclic':'acyclic';return{uid:toolbarSpec.uid,dom:{tag:'div',classes:['tox-toolbar-overlord']},parts:{'overflow-group':renderToolbarGroupCommon({title:Optional.none(),items:[]}),'overflow-button':renderIconButtonSpec({name:'more',icon:Optional.some('more-drawer'),enabled:true,tooltip:Optional.some('More...'),primary:false,buttonType:Optional.none(),borderless:false},Optional.none(),toolbarSpec.providers)},splitToolbarBehaviours:getToolbarBehaviours(toolbarSpec,modeName)};};const renderFloatingMoreToolbar=toolbarSpec=>{const baseSpec=renderMoreToolbarCommon(toolbarSpec);const overflowXOffset=4;const primary=SplitFloatingToolbar.parts.primary({dom:{tag:'div',classes:['tox-toolbar__primary']}});return SplitFloatingToolbar.sketch({...baseSpec,lazySink:toolbarSpec.getSink,getOverflowBounds:()=>{const headerElem=toolbarSpec.moreDrawerData.lazyHeader().element;const headerBounds=absolute$2(headerElem);const docElem=documentElement(headerElem);const docBounds=absolute$2(docElem);const height=Math.max(docElem.dom.scrollHeight,docBounds.height);return bounds(headerBounds.x+overflowXOffset,docBounds.y,headerBounds.width-overflowXOffset*2,height);},parts:{...baseSpec.parts,overflow:{dom:{tag:'div',classes:['tox-toolbar__overflow'],attributes:toolbarSpec.attributes}}},components:[primary],markers:{overflowToggledClass:'tox-tbtn--enabled'}});};const renderSlidingMoreToolbar=toolbarSpec=>{const primary=SplitSlidingToolbar.parts.primary({dom:{tag:'div',classes:['tox-toolbar__primary']}});const overflow=SplitSlidingToolbar.parts.overflow({dom:{tag:'div',classes:['tox-toolbar__overflow']}});const baseSpec=renderMoreToolbarCommon(toolbarSpec);return SplitSlidingToolbar.sketch({...baseSpec,components:[primary,overflow],markers:{openClass:'tox-toolbar__overflow--open',closedClass:'tox-toolbar__overflow--closed',growingClass:'tox-toolbar__overflow--growing',shrinkingClass:'tox-toolbar__overflow--shrinking',overflowToggledClass:'tox-tbtn--enabled'},onOpened:comp=>{comp.getSystem().broadcastOn([toolbarHeightChange()],{type:'opened'});},onClosed:comp=>{comp.getSystem().broadcastOn([toolbarHeightChange()],{type:'closed'});}});};const renderToolbar=toolbarSpec=>{const modeName=toolbarSpec.cyclicKeying?'cyclic':'acyclic';return Toolbar.sketch({uid:toolbarSpec.uid,dom:{tag:'div',classes:['tox-toolbar'].concat(toolbarSpec.type===ToolbarMode$1.scrolling?['tox-toolbar--scrolling']:[])},components:[Toolbar.parts.groups({})],toolbarBehaviours:getToolbarBehaviours(toolbarSpec,modeName)});};const factory$6=(detail,components,_spec)=>{const apis={getSocket:comp=>{return parts$a.getPart(comp,detail,'socket');},setSidebar:(comp,panelConfigs,showSidebar)=>{parts$a.getPart(comp,detail,'sidebar').each(sidebar=>setSidebar(sidebar,panelConfigs,showSidebar));},toggleSidebar:(comp,name)=>{parts$a.getPart(comp,detail,'sidebar').each(sidebar=>toggleSidebar(sidebar,name));},whichSidebar:comp=>{return parts$a.getPart(comp,detail,'sidebar').bind(whichSidebar).getOrNull();},getHeader:comp=>{return parts$a.getPart(comp,detail,'header');},getToolbar:comp=>{return parts$a.getPart(comp,detail,'toolbar');},setToolbar:(comp,groups)=>{parts$a.getPart(comp,detail,'toolbar').each(toolbar=>{const renderedGroups=map$2(groups,renderToolbarGroup);toolbar.getApis().setGroups(toolbar,renderedGroups);});},setToolbars:(comp,toolbars)=>{parts$a.getPart(comp,detail,'multiple-toolbar').each(mToolbar=>{const renderedToolbars=map$2(toolbars,g=>map$2(g,renderToolbarGroup));CustomList.setItems(mToolbar,renderedToolbars);});},refreshToolbar:comp=>{const toolbar=parts$a.getPart(comp,detail,'toolbar');toolbar.each(toolbar=>toolbar.getApis().refresh(toolbar));},toggleToolbarDrawer:comp=>{parts$a.getPart(comp,detail,'toolbar').each(toolbar=>{mapFrom(toolbar.getApis().toggle,toggle=>toggle(toolbar));});},isToolbarDrawerToggled:comp=>{return parts$a.getPart(comp,detail,'toolbar').bind(toolbar=>Optional.from(toolbar.getApis().isOpen).map(isOpen=>isOpen(toolbar))).getOr(false);},getThrobber:comp=>{return parts$a.getPart(comp,detail,'throbber');},focusToolbar:comp=>{const optToolbar=parts$a.getPart(comp,detail,'toolbar').orThunk(()=>parts$a.getPart(comp,detail,'multiple-toolbar'));optToolbar.each(toolbar=>{Keying.focusIn(toolbar);});},setMenubar:(comp,menus)=>{parts$a.getPart(comp,detail,'menubar').each(menubar=>{SilverMenubar.setMenus(menubar,menus);});},focusMenubar:comp=>{parts$a.getPart(comp,detail,'menubar').each(menubar=>{SilverMenubar.focus(menubar);});}};return{uid:detail.uid,dom:detail.dom,components,apis,behaviours:detail.behaviours};};const partMenubar=partType.optional({factory:SilverMenubar,name:'menubar',schema:[required$1('backstage')]});const toolbarFactory=spec=>{if(spec.type===ToolbarMode$1.sliding){return renderSlidingMoreToolbar;}else if(spec.type===ToolbarMode$1.floating){return renderFloatingMoreToolbar;}else{return renderToolbar;}};const partMultipleToolbar=partType.optional({factory:{sketch:spec=>CustomList.sketch({uid:spec.uid,dom:spec.dom,listBehaviours:derive$1([Keying.config({mode:'acyclic',selector:'.tox-toolbar'})]),makeItem:()=>renderToolbar({type:spec.type,uid:generate$6('multiple-toolbar-item'),cyclicKeying:false,initGroups:[],providers:spec.providers,onEscape:()=>{spec.onEscape();return Optional.some(true);}}),setupItem:(_mToolbar,tc,data,_index)=>{Toolbar.setGroups(tc,data);},shell:true})},name:'multiple-toolbar',schema:[required$1('dom'),required$1('onEscape')]});const partToolbar=partType.optional({factory:{sketch:spec=>{const renderer=toolbarFactory(spec);const toolbarSpec={type:spec.type,uid:spec.uid,onEscape:()=>{spec.onEscape();return Optional.some(true);},cyclicKeying:false,initGroups:[],getSink:spec.getSink,providers:spec.providers,moreDrawerData:{lazyToolbar:spec.lazyToolbar,lazyMoreButton:spec.lazyMoreButton,lazyHeader:spec.lazyHeader},attributes:spec.attributes};return renderer(toolbarSpec);}},name:'toolbar',schema:[required$1('dom'),required$1('onEscape'),required$1('getSink')]});const partHeader=partType.optional({factory:{sketch:renderHeader},name:'header',schema:[required$1('dom')]});const partPromotion=partType.optional({factory:{sketch:renderPromotion},name:'promotion',schema:[required$1('dom')]});const partSocket=partType.optional({name:'socket',schema:[required$1('dom')]});const partSidebar=partType.optional({factory:{sketch:renderSidebar},name:'sidebar',schema:[required$1('dom')]});const partThrobber=partType.optional({factory:{sketch:renderThrobber},name:'throbber',schema:[required$1('dom')]});var OuterContainer=composite({name:'OuterContainer',factory:factory$6,configFields:[required$1('dom'),required$1('behaviours')],partFields:[partHeader,partMenubar,partToolbar,partMultipleToolbar,partSocket,partSidebar,partPromotion,partThrobber],apis:{getSocket:(apis,comp)=>{return apis.getSocket(comp);},setSidebar:(apis,comp,panelConfigs,showSidebar)=>{apis.setSidebar(comp,panelConfigs,showSidebar);},toggleSidebar:(apis,comp,name)=>{apis.toggleSidebar(comp,name);},whichSidebar:(apis,comp)=>{return apis.whichSidebar(comp);},getHeader:(apis,comp)=>{return apis.getHeader(comp);},getToolbar:(apis,comp)=>{return apis.getToolbar(comp);},setToolbar:(apis,comp,groups)=>{apis.setToolbar(comp,groups);},setToolbars:(apis,comp,toolbars)=>{apis.setToolbars(comp,toolbars);},refreshToolbar:(apis,comp)=>{return apis.refreshToolbar(comp);},toggleToolbarDrawer:(apis,comp)=>{apis.toggleToolbarDrawer(comp);},isToolbarDrawerToggled:(apis,comp)=>{return apis.isToolbarDrawerToggled(comp);},getThrobber:(apis,comp)=>{return apis.getThrobber(comp);},setMenubar:(apis,comp,menus)=>{apis.setMenubar(comp,menus);},focusMenubar:(apis,comp)=>{apis.focusMenubar(comp);},focusToolbar:(apis,comp)=>{apis.focusToolbar(comp);}}});const defaultMenubar='file edit view insert format tools table help';const defaultMenus={file:{title:'File',items:'newdocument restoredraft | preview | export print | deleteallconversations'},edit:{title:'Edit',items:'undo redo | cut copy paste pastetext | selectall | searchreplace'},view:{title:'View',items:'code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments'},insert:{title:'Insert',items:'image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime'},format:{title:'Format',items:'bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat'},tools:{title:'Tools',items:'spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code wordcount'},table:{title:'Table',items:'inserttable | cell row column | advtablesort | tableprops deletetable'},help:{title:'Help',items:'help'}};const make=(menu,registry,editor)=>{const removedMenuItems=getRemovedMenuItems(editor).split(/[ ,]/);return{text:menu.title,getItems:()=>bind$3(menu.items,i=>{const itemName=i.toLowerCase();if(itemName.trim().length===0){return[];}else if(exists(removedMenuItems,removedMenuItem=>removedMenuItem===itemName)){return[];}else if(itemName==='separator'||itemName==='|'){return[{type:'separator'}];}else if(registry.menuItems[itemName]){return[registry.menuItems[itemName]];}else{return[];}})};};const parseItemsString=items=>{return items.split(' ');};const identifyMenus=(editor,registry)=>{const rawMenuData={...defaultMenus,...registry.menus};const userDefinedMenus=keys(registry.menus).length>0;const menubar=registry.menubar===undefined||registry.menubar===true?parseItemsString(defaultMenubar):parseItemsString(registry.menubar===false?'':registry.menubar);const validMenus=filter$2(menubar,menuName=>{const isDefaultMenu=has$2(defaultMenus,menuName);if(userDefinedMenus){return isDefaultMenu||get$g(registry.menus,menuName).exists(menu=>has$2(menu,'items'));}else{return isDefaultMenu;}});const menus=map$2(validMenus,menuName=>{const menuData=rawMenuData[menuName];return make({title:menuData.title,items:parseItemsString(menuData.items)},registry,editor);});return filter$2(menus,menu=>{const isNotSeparator=item=>isString(item)||item.type!=='separator';return menu.getItems().length>0&&exists(menu.getItems(),isNotSeparator);});};const fireSkinLoaded=editor=>{const done=()=>{editor._skinLoaded=true;fireSkinLoaded$1(editor);};return()=>{if(editor.initialized){done();}else{editor.on('init',done);}};};const fireSkinLoadError=(editor,err)=>()=>fireSkinLoadError$1(editor,{message:err});const loadStylesheet=(editor,stylesheetUrl,styleSheetLoader)=>{editor.on('remove',()=>styleSheetLoader.unload(stylesheetUrl));return styleSheetLoader.load(stylesheetUrl);};const loadUiSkins=(editor,skinUrl)=>{const skinUiCss=skinUrl+'/skin.min.css';return loadStylesheet(editor,skinUiCss,editor.ui.styleSheetLoader);};const loadShadowDomUiSkins=(editor,skinUrl)=>{const isInShadowRoot$1=isInShadowRoot(SugarElement.fromDom(editor.getElement()));if(isInShadowRoot$1){const shadowDomSkinCss=skinUrl+'/skin.shadowdom.min.css';return loadStylesheet(editor,shadowDomSkinCss,global$7.DOM.styleSheetLoader);}else{return Promise.resolve();}};const loadSkin=(isInline,editor)=>{const skinUrl=getSkinUrl(editor);if(skinUrl){editor.contentCSS.push(skinUrl+(isInline?'/content.inline':'/content')+'.min.css');}if(!isSkinDisabled(editor)&&isString(skinUrl)){Promise.all([loadUiSkins(editor,skinUrl),loadShadowDomUiSkins(editor,skinUrl)]).then(fireSkinLoaded(editor),fireSkinLoadError(editor,'Skin could not be loaded'));}else{fireSkinLoaded(editor)();}};const iframe=curry(loadSkin,false);const inline=curry(loadSkin,true);const onSetupFormatToggle=(editor,name)=>api=>{const boundCallback=unbindable();const init=()=>{api.setActive(editor.formatter.match(name));const binding=editor.formatter.formatChanged(name,api.setActive);boundCallback.set(binding);};editor.initialized?init():editor.once('init',init);return()=>{editor.off('init',init);boundCallback.clear();};};const onSetupEvent=(editor,event,f)=>api=>{const handleEvent=()=>f(api);const init=()=>{f(api);editor.on(event,handleEvent);};editor.initialized?init():editor.once('init',init);return()=>{editor.off('init',init);editor.off(event,handleEvent);};};const onActionToggleFormat$1=editor=>rawItem=>()=>{editor.undoManager.transact(()=>{editor.focus();editor.execCommand('mceToggleFormat',false,rawItem.format);});};const onActionExecCommand=(editor,command)=>()=>editor.execCommand(command);const generateSelectItems=(_editor,backstage,spec)=>{const generateItem=(rawItem,response,invalid,value)=>{const translatedText=backstage.shared.providers.translate(rawItem.title);if(rawItem.type==='separator'){return Optional.some({type:'separator',text:translatedText});}else if(rawItem.type==='submenu'){const items=bind$3(rawItem.getStyleItems(),si=>validate(si,response,value));if(response===0&&items.length<=0){return Optional.none();}else{return Optional.some({type:'nestedmenuitem',text:translatedText,enabled:items.length>0,getSubmenuItems:()=>bind$3(rawItem.getStyleItems(),si=>validate(si,response,value))});}}else{return Optional.some({type:'togglemenuitem',text:translatedText,icon:rawItem.icon,active:rawItem.isSelected(value),enabled:!invalid,onAction:spec.onAction(rawItem),...rawItem.getStylePreview().fold(()=>({}),preview=>({meta:{style:preview}}))});}};const validate=(item,response,value)=>{const invalid=item.type==='formatter'&&spec.isInvalid(item);if(response===0){return invalid?[]:generateItem(item,response,false,value).toArray();}else{return generateItem(item,response,invalid,value).toArray();}};const validateItems=preItems=>{const value=spec.getCurrentValue();const response=spec.shouldHide?0:1;return bind$3(preItems,item=>validate(item,response,value));};const getFetch=(backstage,getStyleItems)=>(comp,callback)=>{const preItems=getStyleItems();const items=validateItems(preItems);const menu=build(items,ItemResponse$1.CLOSE_ON_EXECUTE,backstage,{isHorizontalMenu:false,search:Optional.none()});callback(menu);};return{validateItems,getFetch};};const createMenuItems=(editor,backstage,spec)=>{const dataset=spec.dataset;const getStyleItems=dataset.type==='basic'?()=>map$2(dataset.data,d=>processBasic(d,spec.isSelectedFor,spec.getPreviewFor)):dataset.getData;return{items:generateSelectItems(editor,backstage,spec),getStyleItems};};const createSelectButton=(editor,backstage,spec)=>{const{items,getStyleItems}=createMenuItems(editor,backstage,spec);const getApi=comp=>({getComponent:constant$1(comp)});const onSetup=onSetupEvent(editor,'NodeChange',api=>{const comp=api.getComponent();spec.updateText(comp);});return renderCommonDropdown({text:spec.icon.isSome()?Optional.none():spec.text,icon:spec.icon,tooltip:Optional.from(spec.tooltip),role:Optional.none(),fetch:items.getFetch(backstage,getStyleItems),onSetup,getApi,columns:1,presets:'normal',classes:spec.icon.isSome()?[]:['bespoke'],dropdownBehaviours:[]},'tox-tbtn',backstage.shared);};const process=rawFormats=>map$2(rawFormats,item=>{let title=item,format=item;const values=item.split('=');if(values.length>1){title=values[0];format=values[1];}return{title,format};});const buildBasicStaticDataset=data=>({type:'basic',data});var Delimiter;(function(Delimiter){Delimiter[Delimiter['SemiColon']=0]='SemiColon';Delimiter[Delimiter['Space']=1]='Space';})(Delimiter||(Delimiter={}));const split=(rawFormats,delimiter)=>{if(delimiter===Delimiter.SemiColon){return rawFormats.replace(/;$/,'').split(';');}else{return rawFormats.split(' ');}};const buildBasicSettingsDataset=(editor,settingName,delimiter)=>{const rawFormats=editor.options.get(settingName);const data=process(split(rawFormats,delimiter));return{type:'basic',data};};const alignMenuItems=[{title:'Left',icon:'align-left',format:'alignleft',command:'JustifyLeft'},{title:'Center',icon:'align-center',format:'aligncenter',command:'JustifyCenter'},{title:'Right',icon:'align-right',format:'alignright',command:'JustifyRight'},{title:'Justify',icon:'align-justify',format:'alignjustify',command:'JustifyFull'}];const getSpec$4=editor=>{const getMatchingValue=()=>find$5(alignMenuItems,item=>editor.formatter.match(item.format));const isSelectedFor=format=>()=>editor.formatter.match(format);const getPreviewFor=_format=>Optional.none;const updateSelectMenuIcon=comp=>{const match=getMatchingValue();const alignment=match.fold(constant$1('left'),item=>item.title.toLowerCase());emitWith(comp,updateMenuIcon,{icon:`align-${alignment}`});};const dataset=buildBasicStaticDataset(alignMenuItems);const onAction=rawItem=>()=>find$5(alignMenuItems,item=>item.format===rawItem.format).each(item=>editor.execCommand(item.command));return{tooltip:'Align',text:Optional.none(),icon:Optional.some('align-left'),isSelectedFor,getCurrentValue:Optional.none,getPreviewFor,onAction,updateText:updateSelectMenuIcon,dataset,shouldHide:false,isInvalid:item=>!editor.formatter.canApply(item.format)};};const createAlignButton=(editor,backstage)=>createSelectButton(editor,backstage,getSpec$4(editor));const createAlignMenu=(editor,backstage)=>{const menuItems=createMenuItems(editor,backstage,getSpec$4(editor));editor.ui.registry.addNestedMenuItem('align',{text:backstage.shared.providers.translate('Align'),getSubmenuItems:()=>menuItems.items.validateItems(menuItems.getStyleItems())});};const findNearest=(editor,getStyles)=>{const styles=getStyles();const formats=map$2(styles,style=>style.format);return Optional.from(editor.formatter.closest(formats)).bind(fmt=>find$5(styles,data=>data.format===fmt)).orThunk(()=>someIf(editor.formatter.match('p'),{title:'Paragraph',format:'p'}));};const getSpec$3=editor=>{const fallbackFormat='Paragraph';const isSelectedFor=format=>()=>editor.formatter.match(format);const getPreviewFor=format=>()=>{const fmt=editor.formatter.get(format);if(fmt){return Optional.some({tag:fmt.length>0?fmt[0].inline||fmt[0].block||'div':'div',styles:editor.dom.parseStyle(editor.formatter.getCssText(format))});}else{return Optional.none();}};const updateSelectMenuText=comp=>{const detectedFormat=findNearest(editor,()=>dataset.data);const text=detectedFormat.fold(constant$1(fallbackFormat),fmt=>fmt.title);emitWith(comp,updateMenuText,{text});};const dataset=buildBasicSettingsDataset(editor,'block_formats',Delimiter.SemiColon);return{tooltip:'Blocks',text:Optional.some(fallbackFormat),icon:Optional.none(),isSelectedFor,getCurrentValue:Optional.none,getPreviewFor,onAction:onActionToggleFormat$1(editor),updateText:updateSelectMenuText,dataset,shouldHide:false,isInvalid:item=>!editor.formatter.canApply(item.format)};};const createBlocksButton=(editor,backstage)=>createSelectButton(editor,backstage,getSpec$3(editor));const createBlocksMenu=(editor,backstage)=>{const menuItems=createMenuItems(editor,backstage,getSpec$3(editor));editor.ui.registry.addNestedMenuItem('blocks',{text:'Blocks',getSubmenuItems:()=>menuItems.items.validateItems(menuItems.getStyleItems())});};const systemStackFonts=['-apple-system','Segoe UI','Roboto','Helvetica Neue','sans-serif'];const splitFonts=fontFamily=>{const fonts=fontFamily.split(/\\s*,\\s*/);return map$2(fonts,font=>font.replace(/^['\"]+|['\"]+$/g,''));};const isSystemFontStack=fontFamily=>{const matchesSystemStack=()=>{const fonts=splitFonts(fontFamily.toLowerCase());return forall(systemStackFonts,font=>fonts.indexOf(font.toLowerCase())>-1);};return fontFamily.indexOf('-apple-system')===0&&matchesSystemStack();};const getSpec$2=editor=>{const systemFont='System Font';const getMatchingValue=()=>{const getFirstFont=fontFamily=>fontFamily?splitFonts(fontFamily)[0]:'';const fontFamily=editor.queryCommandValue('FontName');const items=dataset.data;const font=fontFamily?fontFamily.toLowerCase():'';const matchOpt=find$5(items,item=>{const format=item.format;return format.toLowerCase()===font||getFirstFont(format).toLowerCase()===getFirstFont(font).toLowerCase();}).orThunk(()=>{return someIf(isSystemFontStack(font),{title:systemFont,format:font});});return{matchOpt,font:fontFamily};};const isSelectedFor=item=>valueOpt=>valueOpt.exists(value=>value.format===item);const getCurrentValue=()=>{const{matchOpt}=getMatchingValue();return matchOpt;};const getPreviewFor=item=>()=>Optional.some({tag:'div',styles:item.indexOf('dings')===-1?{'font-family':item}:{}});const onAction=rawItem=>()=>{editor.undoManager.transact(()=>{editor.focus();editor.execCommand('FontName',false,rawItem.format);});};const updateSelectMenuText=comp=>{const{matchOpt,font}=getMatchingValue();const text=matchOpt.fold(constant$1(font),item=>item.title);emitWith(comp,updateMenuText,{text});};const dataset=buildBasicSettingsDataset(editor,'font_family_formats',Delimiter.SemiColon);return{tooltip:'Fonts',text:Optional.some(systemFont),icon:Optional.none(),isSelectedFor,getCurrentValue,getPreviewFor,onAction,updateText:updateSelectMenuText,dataset,shouldHide:false,isInvalid:never};};const createFontFamilyButton=(editor,backstage)=>createSelectButton(editor,backstage,getSpec$2(editor));const createFontFamilyMenu=(editor,backstage)=>{const menuItems=createMenuItems(editor,backstage,getSpec$2(editor));editor.ui.registry.addNestedMenuItem('fontfamily',{text:backstage.shared.providers.translate('Fonts'),getSubmenuItems:()=>menuItems.items.validateItems(menuItems.getStyleItems())});};const legacyFontSizes={'8pt':'1','10pt':'2','12pt':'3','14pt':'4','18pt':'5','24pt':'6','36pt':'7'};const keywordFontSizes={'xx-small':'7pt','x-small':'8pt','small':'10pt','medium':'12pt','large':'14pt','x-large':'18pt','xx-large':'24pt'};const round=(number,precision)=>{const factor=Math.pow(10,precision);return Math.round(number*factor)/factor;};const toPt=(fontSize,precision)=>{if(/[0-9.]+px$/.test(fontSize)){return round(parseInt(fontSize,10)*72/96,precision||0)+'pt';}else{return get$g(keywordFontSizes,fontSize).getOr(fontSize);}};const toLegacy=fontSize=>get$g(legacyFontSizes,fontSize).getOr('');const getSpec$1=editor=>{const getMatchingValue=()=>{let matchOpt=Optional.none();const items=dataset.data;const fontSize=editor.queryCommandValue('FontSize');if(fontSize){for(let precision=3;matchOpt.isNone()&&precision>=0;precision--){const pt=toPt(fontSize,precision);const legacy=toLegacy(pt);matchOpt=find$5(items,item=>item.format===fontSize||item.format===pt||item.format===legacy);}}return{matchOpt,size:fontSize};};const isSelectedFor=item=>valueOpt=>valueOpt.exists(value=>value.format===item);const getCurrentValue=()=>{const{matchOpt}=getMatchingValue();return matchOpt;};const getPreviewFor=constant$1(Optional.none);const onAction=rawItem=>()=>{editor.undoManager.transact(()=>{editor.focus();editor.execCommand('FontSize',false,rawItem.format);});};const updateSelectMenuText=comp=>{const{matchOpt,size}=getMatchingValue();const text=matchOpt.fold(constant$1(size),match=>match.title);emitWith(comp,updateMenuText,{text});};const dataset=buildBasicSettingsDataset(editor,'font_size_formats',Delimiter.Space);return{tooltip:'Font sizes',text:Optional.some('12pt'),icon:Optional.none(),isSelectedFor,getPreviewFor,getCurrentValue,onAction,updateText:updateSelectMenuText,dataset,shouldHide:false,isInvalid:never};};const createFontSizeButton=(editor,backstage)=>createSelectButton(editor,backstage,getSpec$1(editor));const createFontSizeMenu=(editor,backstage)=>{const menuItems=createMenuItems(editor,backstage,getSpec$1(editor));editor.ui.registry.addNestedMenuItem('fontsize',{text:'Font sizes',getSubmenuItems:()=>menuItems.items.validateItems(menuItems.getStyleItems())});};const getSpec=(editor,dataset)=>{const fallbackFormat='Paragraph';const isSelectedFor=format=>()=>editor.formatter.match(format);const getPreviewFor=format=>()=>{const fmt=editor.formatter.get(format);return fmt!==undefined?Optional.some({tag:fmt.length>0?fmt[0].inline||fmt[0].block||'div':'div',styles:editor.dom.parseStyle(editor.formatter.getCssText(format))}):Optional.none();};const updateSelectMenuText=comp=>{const getFormatItems=fmt=>{if(isNestedFormat(fmt)){return bind$3(fmt.items,getFormatItems);}else if(isFormatReference(fmt)){return[{title:fmt.title,format:fmt.format}];}else{return[];}};const flattenedItems=bind$3(getStyleFormats(editor),getFormatItems);const detectedFormat=findNearest(editor,constant$1(flattenedItems));const text=detectedFormat.fold(constant$1(fallbackFormat),fmt=>fmt.title);emitWith(comp,updateMenuText,{text});};return{tooltip:'Formats',text:Optional.some(fallbackFormat),icon:Optional.none(),isSelectedFor,getCurrentValue:Optional.none,getPreviewFor,onAction:onActionToggleFormat$1(editor),updateText:updateSelectMenuText,shouldHide:shouldAutoHideStyleFormats(editor),isInvalid:item=>!editor.formatter.canApply(item.format),dataset};};const createStylesButton=(editor,backstage)=>{const dataset={type:'advanced',...backstage.styles};return createSelectButton(editor,backstage,getSpec(editor,dataset));};const createStylesMenu=(editor,backstage)=>{const dataset={type:'advanced',...backstage.styles};const menuItems=createMenuItems(editor,backstage,getSpec(editor,dataset));editor.ui.registry.addNestedMenuItem('styles',{text:'Formats',getSubmenuItems:()=>menuItems.items.validateItems(menuItems.getStyleItems())});};const events$3=(reflectingConfig,reflectingState)=>{const update=(component,data)=>{reflectingConfig.updateState.each(updateState=>{const newState=updateState(component,data);reflectingState.set(newState);});reflectingConfig.renderComponents.each(renderComponents=>{const newComponents=renderComponents(data,reflectingState.get());const replacer=reflectingConfig.reuseDom?withReuse:withoutReuse;replacer(component,newComponents);});};return derive$2([run$1(receive(),(component,message)=>{const receivingData=message;if(!receivingData.universal){const channel=reflectingConfig.channel;if(contains$2(receivingData.channels,channel)){update(component,receivingData.data);}}}),runOnAttached((comp,_se)=>{reflectingConfig.initialData.each(rawData=>{update(comp,rawData);});})]);};var ActiveReflecting=/*#__PURE__*/Object.freeze({__proto__:null,events:events$3});const getState=(component,replaceConfig,reflectState)=>reflectState;var ReflectingApis=/*#__PURE__*/Object.freeze({__proto__:null,getState:getState});var ReflectingSchema=[required$1('channel'),option$3('renderComponents'),option$3('updateState'),option$3('initialData'),defaultedBoolean('reuseDom',true)];const init$3=()=>{const cell=Cell(Optional.none());const clear=()=>cell.set(Optional.none());const readState=()=>cell.get().getOr('none');return{readState,get:cell.get,set:cell.set,clear};};var ReflectingState=/*#__PURE__*/Object.freeze({__proto__:null,init:init$3});const Reflecting=create$3({fields:ReflectingSchema,name:'reflecting',active:ActiveReflecting,apis:ReflectingApis,state:ReflectingState});const schema$7=constant$1([required$1('toggleClass'),required$1('fetch'),onStrictHandler('onExecute'),defaulted('getHotspot',Optional.some),defaulted('getAnchorOverrides',constant$1({})),schema$y(),onStrictHandler('onItemExecute'),option$3('lazySink'),required$1('dom'),onHandler('onOpen'),field('splitDropdownBehaviours',[Coupling,Keying,Focusing]),defaulted('matchWidth',false),defaulted('useMinWidth',false),defaulted('eventOrder',{}),option$3('role')].concat(sandboxFields()));const arrowPart=required({factory:Button,schema:[required$1('dom')],name:'arrow',defaults:()=>{return{buttonBehaviours:derive$1([Focusing.revoke()])};},overrides:detail=>{return{dom:{tag:'span',attributes:{role:'presentation'}},action:arrow=>{arrow.getSystem().getByUid(detail.uid).each(emitExecute);},buttonBehaviours:derive$1([Toggling.config({toggleOnExecute:false,toggleClass:detail.toggleClass})])};}});const buttonPart=required({factory:Button,schema:[required$1('dom')],name:'button',defaults:()=>{return{buttonBehaviours:derive$1([Focusing.revoke()])};},overrides:detail=>{return{dom:{tag:'span',attributes:{role:'presentation'}},action:btn=>{btn.getSystem().getByUid(detail.uid).each(splitDropdown=>{detail.onExecute(splitDropdown,btn);});}};}});const parts$3=constant$1([arrowPart,buttonPart,optional({factory:{sketch:spec=>{return{uid:spec.uid,dom:{tag:'span',styles:{display:'none'},attributes:{'aria-hidden':'true'},innerHtml:spec.text}};}},schema:[required$1('text')],name:'aria-descriptor'}),external({schema:[tieredMenuMarkers()],name:'menu',defaults:detail=>{return{onExecute:(tmenu,item)=>{tmenu.getSystem().getByUid(detail.uid).each(splitDropdown=>{detail.onItemExecute(splitDropdown,tmenu,item);});}};}}),partType$1()]);const factory$5=(detail,components,spec,externals)=>{const switchToMenu=sandbox=>{Composing.getCurrent(sandbox).each(current=>{Highlighting.highlightFirst(current);Keying.focusIn(current);});};const action=component=>{const onOpenSync=switchToMenu;togglePopup(detail,identity,component,externals,onOpenSync,HighlightOnOpen.HighlightMenuAndItem).get(noop);};const openMenu=comp=>{action(comp);return Optional.some(true);};const executeOnButton=comp=>{const button=getPartOrDie(comp,detail,'button');emitExecute(button);return Optional.some(true);};const buttonEvents={...derive$2([runOnAttached((component,_simulatedEvent)=>{const ariaDescriptor=getPart(component,detail,'aria-descriptor');ariaDescriptor.each(descriptor=>{const descriptorId=generate$6('aria');set$9(descriptor.element,'id',descriptorId);set$9(component.element,'aria-describedby',descriptorId);});})]),...events$a(Optional.some(action))};const apis={repositionMenus:comp=>{if(Toggling.isOn(comp)){repositionMenus(comp);}}};return{uid:detail.uid,dom:detail.dom,components,apis,eventOrder:{...detail.eventOrder,[execute$5()]:['disabling','toggling','alloy.base.behaviour']},events:buttonEvents,behaviours:augment(detail.splitDropdownBehaviours,[Coupling.config({others:{sandbox:hotspot=>{const arrow=getPartOrDie(hotspot,detail,'arrow');const extras={onOpen:()=>{Toggling.on(arrow);Toggling.on(hotspot);},onClose:()=>{Toggling.off(arrow);Toggling.off(hotspot);}};return makeSandbox$1(detail,hotspot,extras);}}}),Keying.config({mode:'special',onSpace:executeOnButton,onEnter:executeOnButton,onDown:openMenu}),Focusing.config({}),Toggling.config({toggleOnExecute:false,aria:{mode:'expanded'}})]),domModification:{attributes:{'role':detail.role.getOr('button'),'aria-haspopup':true}}};};const SplitDropdown=composite({name:'SplitDropdown',configFields:schema$7(),partFields:parts$3(),factory:factory$5,apis:{repositionMenus:(apis,comp)=>apis.repositionMenus(comp)}});const getButtonApi=component=>({isEnabled:()=>!Disabling.isDisabled(component),setEnabled:state=>Disabling.set(component,!state)});const getToggleApi=component=>({setActive:state=>{Toggling.set(component,state);},isActive:()=>Toggling.isOn(component),isEnabled:()=>!Disabling.isDisabled(component),setEnabled:state=>Disabling.set(component,!state)});const getTooltipAttributes=(tooltip,providersBackstage)=>tooltip.map(tooltip=>({'aria-label':providersBackstage.translate(tooltip),'title':providersBackstage.translate(tooltip)})).getOr({});const focusButtonEvent=generate$6('focus-button');const renderCommonStructure=(icon,text,tooltip,receiver,behaviours,providersBackstage)=>{return{dom:{tag:'button',classes:['tox-tbtn'].concat(text.isSome()?['tox-tbtn--select']:[]),attributes:getTooltipAttributes(tooltip,providersBackstage)},components:componentRenderPipeline([icon.map(iconName=>renderIconFromPack(iconName,providersBackstage.icons)),text.map(text=>renderLabel(text,'tox-tbtn',providersBackstage))]),eventOrder:{[mousedown()]:['focusing','alloy.base.behaviour','common-button-display-events']},buttonBehaviours:derive$1([DisablingConfigs.toolbarButton(providersBackstage.isDisabled),receivingConfig(),config('common-button-display-events',[run$1(mousedown(),(button,se)=>{se.event.prevent();emit(button,focusButtonEvent);})])].concat(receiver.map(r=>Reflecting.config({channel:r,initialData:{icon,text},renderComponents:(data,_state)=>componentRenderPipeline([data.icon.map(iconName=>renderIconFromPack(iconName,providersBackstage.icons)),data.text.map(text=>renderLabel(text,'tox-tbtn',providersBackstage))])})).toArray()).concat(behaviours.getOr([])))};};const renderFloatingToolbarButton=(spec,backstage,identifyButtons,attributes)=>{const sharedBackstage=backstage.shared;return FloatingToolbarButton.sketch({lazySink:sharedBackstage.getSink,fetch:()=>Future.nu(resolve=>{resolve(map$2(identifyButtons(spec.items),renderToolbarGroup));}),markers:{toggledClass:'tox-tbtn--enabled'},parts:{button:renderCommonStructure(spec.icon,spec.text,spec.tooltip,Optional.none(),Optional.none(),sharedBackstage.providers),toolbar:{dom:{tag:'div',classes:['tox-toolbar__overflow'],attributes}}}});};const renderCommonToolbarButton=(spec,specialisation,providersBackstage)=>{const editorOffCell=Cell(noop);const structure=renderCommonStructure(spec.icon,spec.text,spec.tooltip,Optional.none(),Optional.none(),providersBackstage);return Button.sketch({dom:structure.dom,components:structure.components,eventOrder:toolbarButtonEventOrder,buttonBehaviours:derive$1([config('toolbar-button-events',[onToolbarButtonExecute({onAction:spec.onAction,getApi:specialisation.getApi}),onControlAttached(specialisation,editorOffCell),onControlDetached(specialisation,editorOffCell)]),DisablingConfigs.toolbarButton(()=>!spec.enabled||providersBackstage.isDisabled()),receivingConfig()].concat(specialisation.toolbarButtonBehaviours))});};const renderToolbarButton=(spec,providersBackstage)=>renderToolbarButtonWith(spec,providersBackstage,[]);const renderToolbarButtonWith=(spec,providersBackstage,bonusEvents)=>renderCommonToolbarButton(spec,{toolbarButtonBehaviours:bonusEvents.length>0?[config('toolbarButtonWith',bonusEvents)]:[],getApi:getButtonApi,onSetup:spec.onSetup},providersBackstage);const renderToolbarToggleButton=(spec,providersBackstage)=>renderToolbarToggleButtonWith(spec,providersBackstage,[]);const renderToolbarToggleButtonWith=(spec,providersBackstage,bonusEvents)=>renderCommonToolbarButton(spec,{toolbarButtonBehaviours:[Replacing.config({}),Toggling.config({toggleClass:'tox-tbtn--enabled',aria:{mode:'pressed'},toggleOnExecute:false})].concat(bonusEvents.length>0?[config('toolbarToggleButtonWith',bonusEvents)]:[]),getApi:getToggleApi,onSetup:spec.onSetup},providersBackstage);const fetchChoices=(getApi,spec,providersBackstage)=>comp=>Future.nu(callback=>spec.fetch(callback)).map(items=>Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'),items,value=>{spec.onItemAction(getApi(comp),value);},spec.columns,spec.presets,ItemResponse$1.CLOSE_ON_EXECUTE,spec.select.getOr(never),providersBackstage),{movement:deriveMenuMovement(spec.columns,spec.presets),menuBehaviours:SimpleBehaviours.unnamedEvents(spec.columns!=='auto'?[]:[runOnAttached((comp,_se)=>{detectSize(comp,4,classForPreset(spec.presets)).each(({numRows,numColumns})=>{Keying.setGridSize(comp,numRows,numColumns);});})])}))));const renderSplitButton=(spec,sharedBackstage)=>{const displayChannel=generate$6('channel-update-split-dropdown-display');const getApi=comp=>({isEnabled:()=>!Disabling.isDisabled(comp),setEnabled:state=>Disabling.set(comp,!state),setIconFill:(id,value)=>{descendant(comp.element,'svg path[id=\"'+id+'\"], rect[id=\"'+id+'\"]').each(underlinePath=>{set$9(underlinePath,'fill',value);});},setActive:state=>{set$9(comp.element,'aria-pressed',state);descendant(comp.element,'span').each(button=>{comp.getSystem().getByDom(button).each(buttonComp=>Toggling.set(buttonComp,state));});},isActive:()=>descendant(comp.element,'span').exists(button=>comp.getSystem().getByDom(button).exists(Toggling.isOn))});const editorOffCell=Cell(noop);const specialisation={getApi,onSetup:spec.onSetup};return SplitDropdown.sketch({dom:{tag:'div',classes:['tox-split-button'],attributes:{'aria-pressed':false,...getTooltipAttributes(spec.tooltip,sharedBackstage.providers)}},onExecute:button=>{spec.onAction(getApi(button));},onItemExecute:(_a,_b,_c)=>{},splitDropdownBehaviours:derive$1([DisablingConfigs.splitButton(sharedBackstage.providers.isDisabled),receivingConfig(),config('split-dropdown-events',[run$1(focusButtonEvent,Focusing.focus),onControlAttached(specialisation,editorOffCell),onControlDetached(specialisation,editorOffCell)]),Unselecting.config({})]),eventOrder:{[attachedToDom()]:['alloy.base.behaviour','split-dropdown-events']},toggleClass:'tox-tbtn--enabled',lazySink:sharedBackstage.getSink,fetch:fetchChoices(getApi,spec,sharedBackstage.providers),parts:{menu:part(false,spec.columns,spec.presets)},components:[SplitDropdown.parts.button(renderCommonStructure(spec.icon,spec.text,Optional.none(),Optional.some(displayChannel),Optional.some([Toggling.config({toggleClass:'tox-tbtn--enabled',toggleOnExecute:false})]),sharedBackstage.providers)),SplitDropdown.parts.arrow({dom:{tag:'button',classes:['tox-tbtn','tox-split-button__chevron'],innerHtml:get$2('chevron-down',sharedBackstage.providers.icons)},buttonBehaviours:derive$1([DisablingConfigs.splitButton(sharedBackstage.providers.isDisabled),receivingConfig(),addFocusableBehaviour()])}),SplitDropdown.parts['aria-descriptor']({text:sharedBackstage.providers.translate('To open the popup, press Shift+Enter')})]});};const defaultToolbar=[{name:'history',items:['undo','redo']},{name:'styles',items:['styles']},{name:'formatting',items:['bold','italic']},{name:'alignment',items:['alignleft','aligncenter','alignright','alignjustify']},{name:'indentation',items:['outdent','indent']},{name:'permanent pen',items:['permanentpen']},{name:'comments',items:['addcomment']}];const renderFromBridge=(bridgeBuilder,render)=>(spec,backstage,editor)=>{const internal=bridgeBuilder(spec).mapError(errInfo=>formatError(errInfo)).getOrDie();return render(internal,backstage,editor);};const types={button:renderFromBridge(createToolbarButton,(s,backstage)=>renderToolbarButton(s,backstage.shared.providers)),togglebutton:renderFromBridge(createToggleButton,(s,backstage)=>renderToolbarToggleButton(s,backstage.shared.providers)),menubutton:renderFromBridge(createMenuButton,(s,backstage)=>renderMenuButton(s,'tox-tbtn',backstage,Optional.none())),splitbutton:renderFromBridge(createSplitButton,(s,backstage)=>renderSplitButton(s,backstage.shared)),grouptoolbarbutton:renderFromBridge(createGroupToolbarButton,(s,backstage,editor)=>{const buttons=editor.ui.registry.getAll().buttons;const identify=toolbar=>identifyButtons(editor,{buttons,toolbar,allowToolbarGroups:false},backstage,Optional.none());const attributes={[Attribute]:backstage.shared.header.isPositionedAtTop()?AttributeValue.TopToBottom:AttributeValue.BottomToTop};switch(getToolbarMode(editor)){case ToolbarMode$1.floating:return renderFloatingToolbarButton(s,backstage,identify,attributes);default:throw new Error('Toolbar groups are only supported when using floating toolbar mode');}})};const extractFrom=(spec,backstage,editor)=>get$g(types,spec.type).fold(()=>{console.error('skipping button defined by',spec);return Optional.none();},render=>Optional.some(render(spec,backstage,editor)));const bespokeButtons={styles:createStylesButton,fontsize:createFontSizeButton,fontfamily:createFontFamilyButton,blocks:createBlocksButton,align:createAlignButton};const removeUnusedDefaults=buttons=>{const filteredItemGroups=map$2(defaultToolbar,group=>{const items=filter$2(group.items,subItem=>has$2(buttons,subItem)||has$2(bespokeButtons,subItem));return{name:group.name,items};});return filter$2(filteredItemGroups,group=>group.items.length>0);};const convertStringToolbar=strToolbar=>{const groupsStrings=strToolbar.split('|');return map$2(groupsStrings,g=>({items:g.trim().split(' ')}));};const isToolbarGroupSettingArray=toolbar=>isArrayOf(toolbar,t=>has$2(t,'name')&&has$2(t,'items'));const createToolbar=toolbarConfig=>{const toolbar=toolbarConfig.toolbar;const buttons=toolbarConfig.buttons;if(toolbar===false){return[];}else if(toolbar===undefined||toolbar===true){return removeUnusedDefaults(buttons);}else if(isString(toolbar)){return convertStringToolbar(toolbar);}else if(isToolbarGroupSettingArray(toolbar)){return toolbar;}else{console.error('Toolbar type should be string, string[], boolean or ToolbarGroup[]');return[];}};const lookupButton=(editor,buttons,toolbarItem,allowToolbarGroups,backstage,prefixes)=>get$g(buttons,toolbarItem.toLowerCase()).orThunk(()=>prefixes.bind(ps=>findMap(ps,prefix=>get$g(buttons,prefix+toolbarItem.toLowerCase())))).fold(()=>get$g(bespokeButtons,toolbarItem.toLowerCase()).map(r=>r(editor,backstage)),spec=>{if(spec.type==='grouptoolbarbutton'&&!allowToolbarGroups){console.warn(`Ignoring the '${toolbarItem}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`);return Optional.none();}else{return extractFrom(spec,backstage,editor);}});const identifyButtons=(editor,toolbarConfig,backstage,prefixes)=>{const toolbarGroups=createToolbar(toolbarConfig);const groups=map$2(toolbarGroups,group=>{const items=bind$3(group.items,toolbarItem=>{return toolbarItem.trim().length===0?[]:lookupButton(editor,toolbarConfig.buttons,toolbarItem,toolbarConfig.allowToolbarGroups,backstage,prefixes).toArray();});return{title:Optional.from(editor.translate(group.name)),items};});return filter$2(groups,group=>group.items.length>0);};const setToolbar=(editor,uiComponents,rawUiConfig,backstage)=>{const comp=uiComponents.outerContainer;const toolbarConfig=rawUiConfig.toolbar;const toolbarButtonsConfig=rawUiConfig.buttons;if(isArrayOf(toolbarConfig,isString)){const toolbars=toolbarConfig.map(t=>{const config={toolbar:t,buttons:toolbarButtonsConfig,allowToolbarGroups:rawUiConfig.allowToolbarGroups};return identifyButtons(editor,config,backstage,Optional.none());});OuterContainer.setToolbars(comp,toolbars);}else{OuterContainer.setToolbar(comp,identifyButtons(editor,rawUiConfig,backstage,Optional.none()));}};const detection=detect$1();const isiOS12=detection.os.isiOS()&&detection.os.version.major<=12;const setupEvents$1=(editor,uiComponents)=>{const dom=editor.dom;let contentWindow=editor.getWin();const initialDocEle=editor.getDoc().documentElement;const lastWindowDimensions=Cell(SugarPosition(contentWindow.innerWidth,contentWindow.innerHeight));const lastDocumentDimensions=Cell(SugarPosition(initialDocEle.offsetWidth,initialDocEle.offsetHeight));const resizeWindow=()=>{const outer=lastWindowDimensions.get();if(outer.left!==contentWindow.innerWidth||outer.top!==contentWindow.innerHeight){lastWindowDimensions.set(SugarPosition(contentWindow.innerWidth,contentWindow.innerHeight));fireResizeContent(editor);}};const resizeDocument=()=>{const docEle=editor.getDoc().documentElement;const inner=lastDocumentDimensions.get();if(inner.left!==docEle.offsetWidth||inner.top!==docEle.offsetHeight){lastDocumentDimensions.set(SugarPosition(docEle.offsetWidth,docEle.offsetHeight));fireResizeContent(editor);}};const scroll=e=>{fireScrollContent(editor,e);};dom.bind(contentWindow,'resize',resizeWindow);dom.bind(contentWindow,'scroll',scroll);const elementLoad=capture(SugarElement.fromDom(editor.getBody()),'load',resizeDocument);const mothership=uiComponents.uiMothership.element;editor.on('hide',()=>{set$8(mothership,'display','none');});editor.on('show',()=>{remove$6(mothership,'display');});editor.on('NodeChange',resizeDocument);editor.on('remove',()=>{elementLoad.unbind();dom.unbind(contentWindow,'resize',resizeWindow);dom.unbind(contentWindow,'scroll',scroll);contentWindow=null;});};const render$1=(editor,uiComponents,rawUiConfig,backstage,args)=>{const lastToolbarWidth=Cell(0);const outerContainer=uiComponents.outerContainer;iframe(editor);const eTargetNode=SugarElement.fromDom(args.targetNode);const uiRoot=getContentContainer(getRootNode(eTargetNode));attachSystemAfter(eTargetNode,uiComponents.mothership);attachSystem(uiRoot,uiComponents.uiMothership);editor.on('PostRender',()=>{OuterContainer.setSidebar(outerContainer,rawUiConfig.sidebar,getSidebarShow(editor));setToolbar(editor,uiComponents,rawUiConfig,backstage);lastToolbarWidth.set(editor.getWin().innerWidth);OuterContainer.setMenubar(outerContainer,identifyMenus(editor,rawUiConfig));setupEvents$1(editor,uiComponents);});const socket=OuterContainer.getSocket(outerContainer).getOrDie('Could not find expected socket element');if(isiOS12){setAll(socket.element,{'overflow':'scroll','-webkit-overflow-scrolling':'touch'});const limit=first(()=>{editor.dispatch('ScrollContent');},20);const unbinder=bind(socket.element,'scroll',limit.throttle);editor.on('remove',unbinder.unbind);}setupReadonlyModeSwitch(editor,uiComponents);editor.addCommand('ToggleSidebar',(_ui,value)=>{OuterContainer.toggleSidebar(outerContainer,value);editor.dispatch('ToggleSidebar');});editor.addQueryValueHandler('ToggleSidebar',()=>{var _a;return(_a=OuterContainer.whichSidebar(outerContainer))!==null&&_a!==void 0?_a:'';});const toolbarMode=getToolbarMode(editor);const refreshDrawer=()=>{OuterContainer.refreshToolbar(uiComponents.outerContainer);};if(toolbarMode===ToolbarMode$1.sliding||toolbarMode===ToolbarMode$1.floating){editor.on('ResizeWindow ResizeEditor ResizeContent',()=>{const width=editor.getWin().innerWidth;if(width!==lastToolbarWidth.get()){refreshDrawer();lastToolbarWidth.set(width);}});}const api={setEnabled:state=>{broadcastReadonly(uiComponents,!state);},isEnabled:()=>!Disabling.isDisabled(outerContainer)};return{iframeContainer:socket.element.dom,editorContainer:outerContainer.element.dom,api};};var Iframe=/*#__PURE__*/Object.freeze({__proto__:null,render:render$1});const parseToInt=val=>{const re=/^[0-9\\.]+(|px)$/i;if(re.test(''+val)){return Optional.some(parseInt(''+val,10));}return Optional.none();};const numToPx=val=>isNumber(val)?val+'px':val;const calcCappedSize=(size,minSize,maxSize)=>{const minOverride=minSize.filter(min=>size<min);const maxOverride=maxSize.filter(max=>size>max);return minOverride.or(maxOverride).getOr(size);};const getHeight=editor=>{const baseHeight=getHeightOption(editor);const minHeight=getMinHeightOption(editor);const maxHeight=getMaxHeightOption(editor);return parseToInt(baseHeight).map(height=>calcCappedSize(height,minHeight,maxHeight));};const getHeightWithFallback=editor=>{const height=getHeight(editor);return height.getOr(getHeightOption(editor));};const getWidth=editor=>{const baseWidth=getWidthOption(editor);const minWidth=getMinWidthOption(editor);const maxWidth=getMaxWidthOption(editor);return parseToInt(baseWidth).map(width=>calcCappedSize(width,minWidth,maxWidth));};const getWidthWithFallback=editor=>{const width=getWidth(editor);return width.getOr(getWidthOption(editor));};const{ToolbarLocation,ToolbarMode}=Options;const InlineHeader=(editor,targetElm,uiComponents,backstage,floatContainer)=>{const{uiMothership,outerContainer}=uiComponents;const DOM=global$7.DOM;const useFixedToolbarContainer=useFixedContainer(editor);const isSticky=isStickyToolbar(editor);const editorMaxWidthOpt=getMaxWidthOption(editor).or(getWidth(editor));const headerBackstage=backstage.shared.header;const isPositionedAtTop=headerBackstage.isPositionedAtTop;const toolbarMode=getToolbarMode(editor);const isSplitToolbar=toolbarMode===ToolbarMode.sliding||toolbarMode===ToolbarMode.floating;const visible=Cell(false);const isVisible=()=>visible.get()&&!editor.removed;const calcToolbarOffset=toolbar=>isSplitToolbar?toolbar.fold(constant$1(0),tbar=>tbar.components().length>1?get$d(tbar.components()[1].element):0):0;const calcMode=container=>{switch(getToolbarLocation(editor)){case ToolbarLocation.auto:const toolbar=OuterContainer.getToolbar(outerContainer);const offset=calcToolbarOffset(toolbar);const toolbarHeight=get$d(container.element)-offset;const targetBounds=box$1(targetElm);const roomAtTop=targetBounds.y>toolbarHeight;if(roomAtTop){return'top';}else{const doc=documentElement(targetElm);const docHeight=Math.max(doc.dom.scrollHeight,get$d(doc));const roomAtBottom=targetBounds.bottom<docHeight-toolbarHeight;if(roomAtBottom){return'bottom';}else{const winBounds=win();const isRoomAtBottomViewport=winBounds.bottom<targetBounds.bottom-toolbarHeight;return isRoomAtBottomViewport?'bottom':'top';}}case ToolbarLocation.bottom:return'bottom';case ToolbarLocation.top:default:return'top';}};const setupMode=mode=>{floatContainer.on(container=>{Docking.setModes(container,[mode]);headerBackstage.setDockingMode(mode);const verticalDir=isPositionedAtTop()?AttributeValue.TopToBottom:AttributeValue.BottomToTop;set$9(container.element,Attribute,verticalDir);});};const updateChromeWidth=()=>{floatContainer.on(container=>{const maxWidth=editorMaxWidthOpt.getOrThunk(()=>{const bodyMargin=parseToInt(get$e(body(),'margin-left')).getOr(0);return get$c(body())-absolute$3(targetElm).left+bodyMargin;});set$8(container.element,'max-width',maxWidth+'px');});};const updateChromePosition=()=>{floatContainer.on(container=>{const toolbar=OuterContainer.getToolbar(outerContainer);const offset=calcToolbarOffset(toolbar);const targetBounds=box$1(targetElm);const top=isPositionedAtTop()?Math.max(targetBounds.y-get$d(container.element)+offset,0):targetBounds.bottom;setAll(outerContainer.element,{position:'absolute',top:Math.round(top)+'px',left:Math.round(targetBounds.x)+'px'});});};const repositionPopups$1=()=>{uiMothership.broadcastOn([repositionPopups()],{});};const updateChromeUi=(resetDocking=false)=>{if(!isVisible()){return;}if(!useFixedToolbarContainer){updateChromeWidth();}if(isSplitToolbar){OuterContainer.refreshToolbar(outerContainer);}if(!useFixedToolbarContainer){updateChromePosition();}if(isSticky){const action=resetDocking?Docking.reset:Docking.refresh;floatContainer.on(action);}repositionPopups$1();};const updateMode=(updateUi=true)=>{if(useFixedToolbarContainer||!isSticky||!isVisible()){return;}floatContainer.on(container=>{const currentMode=headerBackstage.getDockingMode();const newMode=calcMode(container);if(newMode!==currentMode){setupMode(newMode);if(updateUi){updateChromeUi(true);}}});};const show=()=>{visible.set(true);set$8(outerContainer.element,'display','flex');DOM.addClass(editor.getBody(),'mce-edit-focus');remove$6(uiMothership.element,'display');updateMode(false);updateChromeUi();};const hide=()=>{visible.set(false);if(uiComponents.outerContainer){set$8(outerContainer.element,'display','none');DOM.removeClass(editor.getBody(),'mce-edit-focus');}set$8(uiMothership.element,'display','none');};return{isVisible,isPositionedAtTop,show,hide,update:updateChromeUi,updateMode,repositionPopups:repositionPopups$1};};const getTargetPosAndBounds=(targetElm,isToolbarTop)=>{const bounds=box$1(targetElm);return{pos:isToolbarTop?bounds.y:bounds.bottom,bounds};};const setupEvents=(editor,targetElm,ui,toolbarPersist)=>{const prevPosAndBounds=Cell(getTargetPosAndBounds(targetElm,ui.isPositionedAtTop()));const resizeContent=e=>{const{pos,bounds}=getTargetPosAndBounds(targetElm,ui.isPositionedAtTop());const{pos:prevPos,bounds:prevBounds}=prevPosAndBounds.get();const hasResized=bounds.height!==prevBounds.height||bounds.width!==prevBounds.width;prevPosAndBounds.set({pos,bounds});if(hasResized){fireResizeContent(editor,e);}if(ui.isVisible()){if(prevPos!==pos){ui.update(true);}else if(hasResized){ui.updateMode();ui.repositionPopups();}}};if(!toolbarPersist){editor.on('activate',ui.show);editor.on('deactivate',ui.hide);}editor.on('SkinLoaded ResizeWindow',()=>ui.update(true));editor.on('NodeChange keydown',e=>{requestAnimationFrame(()=>resizeContent(e));});editor.on('ScrollWindow',()=>ui.updateMode());const elementLoad=unbindable();elementLoad.set(capture(SugarElement.fromDom(editor.getBody()),'load',e=>resizeContent(e.raw)));editor.on('remove',()=>{elementLoad.clear();});};const render=(editor,uiComponents,rawUiConfig,backstage,args)=>{const{mothership,uiMothership,outerContainer}=uiComponents;const floatContainer=value$2();const targetElm=SugarElement.fromDom(args.targetNode);const ui=InlineHeader(editor,targetElm,uiComponents,backstage,floatContainer);const toolbarPersist=isToolbarPersist(editor);inline(editor);const render=()=>{if(floatContainer.isSet()){ui.show();return;}floatContainer.set(OuterContainer.getHeader(outerContainer).getOrDie());const uiContainer=getUiContainer(editor);attachSystem(uiContainer,mothership);attachSystem(uiContainer,uiMothership);setToolbar(editor,uiComponents,rawUiConfig,backstage);OuterContainer.setMenubar(outerContainer,identifyMenus(editor,rawUiConfig));ui.show();setupEvents(editor,targetElm,ui,toolbarPersist);editor.nodeChanged();};editor.on('show',render);editor.on('hide',ui.hide);if(!toolbarPersist){editor.on('focus',render);editor.on('blur',ui.hide);}editor.on('init',()=>{if(editor.hasFocus()||toolbarPersist){render();}});setupReadonlyModeSwitch(editor,uiComponents);const api={show:render,hide:ui.hide,setEnabled:state=>{broadcastReadonly(uiComponents,!state);},isEnabled:()=>!Disabling.isDisabled(outerContainer)};return{editorContainer:outerContainer.element.dom,api};};var Inline=/*#__PURE__*/Object.freeze({__proto__:null,render:render});const showContextToolbarEvent='contexttoolbar-show';const hideContextToolbarEvent='contexttoolbar-hide';const getFormApi=input=>({hide:()=>emit(input,sandboxClose()),getValue:()=>Representing.getValue(input)});const runOnExecute=(memInput,original)=>run$1(internalToolbarButtonExecute,(comp,se)=>{const input=memInput.get(comp);const formApi=getFormApi(input);original.onAction(formApi,se.event.buttonApi);});const renderContextButton=(memInput,button,providers)=>{const{primary,...rest}=button.original;const bridged=getOrDie(createToolbarButton({...rest,type:'button',onAction:noop}));return renderToolbarButtonWith(bridged,providers,[runOnExecute(memInput,button)]);};const renderContextToggleButton=(memInput,button,providers)=>{const{primary,...rest}=button.original;const bridged=getOrDie(createToggleButton({...rest,type:'togglebutton',onAction:noop}));return renderToolbarToggleButtonWith(bridged,providers,[runOnExecute(memInput,button)]);};const isToggleButton=button=>button.type==='contextformtogglebutton';const generateOne=(memInput,button,providersBackstage)=>{if(isToggleButton(button)){return renderContextToggleButton(memInput,button,providersBackstage);}else{return renderContextButton(memInput,button,providersBackstage);}};const generate=(memInput,buttons,providersBackstage)=>{const mementos=map$2(buttons,button=>record(generateOne(memInput,button,providersBackstage)));const asSpecs=()=>map$2(mementos,mem=>mem.asSpec());const findPrimary=compInSystem=>findMap(buttons,(button,i)=>{if(button.primary){return Optional.from(mementos[i]).bind(mem=>mem.getOpt(compInSystem)).filter(not(Disabling.isDisabled));}else{return Optional.none();}});return{asSpecs,findPrimary};};const buildInitGroups=(ctx,providers)=>{const inputAttributes=ctx.label.fold(()=>({}),label=>({'aria-label':label}));const memInput=record(Input.sketch({inputClasses:['tox-toolbar-textfield','tox-toolbar-nav-js'],data:ctx.initValue(),inputAttributes,selectOnFocus:true,inputBehaviours:derive$1([Keying.config({mode:'special',onEnter:input=>commands.findPrimary(input).map(primary=>{emitExecute(primary);return true;}),onLeft:(comp,se)=>{se.cut();return Optional.none();},onRight:(comp,se)=>{se.cut();return Optional.none();}})])}));const commands=generate(memInput,ctx.commands,providers);return[{title:Optional.none(),items:[memInput.asSpec()]},{title:Optional.none(),items:commands.asSpecs()}];};const renderContextForm=(toolbarType,ctx,providers)=>renderToolbar({type:toolbarType,uid:generate$6('context-toolbar'),initGroups:buildInitGroups(ctx,providers),onEscape:Optional.none,cyclicKeying:true,providers});const ContextForm={renderContextForm,buildInitGroups};const isVerticalOverlap=(a,b,threshold=0.01)=>b.bottom-a.y>=threshold&&a.bottom-b.y>=threshold;const getRangeRect=rng=>{const rect=rng.getBoundingClientRect();if(rect.height<=0&&rect.width<=0){const leaf$1=leaf(SugarElement.fromDom(rng.startContainer),rng.startOffset).element;const elm=isText(leaf$1)?parent(leaf$1):Optional.some(leaf$1);return elm.filter(isElement$1).map(e=>e.dom.getBoundingClientRect()).getOr(rect);}else{return rect;}};const getSelectionBounds=editor=>{const rng=editor.selection.getRng();const rect=getRangeRect(rng);if(editor.inline){const scroll=get$b();return bounds(scroll.left+rect.left,scroll.top+rect.top,rect.width,rect.height);}else{const bodyPos=absolute$2(SugarElement.fromDom(editor.getBody()));return bounds(bodyPos.x+rect.left,bodyPos.y+rect.top,rect.width,rect.height);}};const getAnchorElementBounds=(editor,lastElement)=>lastElement.filter(elem=>inBody(elem)&&isHTMLElement(elem)).map(absolute$2).getOrThunk(()=>getSelectionBounds(editor));const getHorizontalBounds=(contentAreaBox,viewportBounds,margin)=>{const x=Math.max(contentAreaBox.x+margin,viewportBounds.x);const right=Math.min(contentAreaBox.right-margin,viewportBounds.right);return{x,width:right-x};};const getVerticalBounds=(editor,contentAreaBox,viewportBounds,isToolbarLocationTop,toolbarType,margin)=>{const container=SugarElement.fromDom(editor.getContainer());const header=descendant(container,'.tox-editor-header').getOr(container);const headerBox=box$1(header);const isToolbarBelowContentArea=headerBox.y>=contentAreaBox.bottom;const isToolbarAbove=isToolbarLocationTop&&!isToolbarBelowContentArea;if(editor.inline&&isToolbarAbove){return{y:Math.max(headerBox.bottom+margin,viewportBounds.y),bottom:viewportBounds.bottom};}if(editor.inline&&!isToolbarAbove){return{y:viewportBounds.y,bottom:Math.min(headerBox.y-margin,viewportBounds.bottom)};}const containerBounds=toolbarType==='line'?box$1(container):contentAreaBox;if(isToolbarAbove){return{y:Math.max(headerBox.bottom+margin,viewportBounds.y),bottom:Math.min(containerBounds.bottom-margin,viewportBounds.bottom)};}return{y:Math.max(containerBounds.y+margin,viewportBounds.y),bottom:Math.min(headerBox.y-margin,viewportBounds.bottom)};};const getContextToolbarBounds=(editor,sharedBackstage,toolbarType,margin=0)=>{const viewportBounds=getBounds$3(window);const contentAreaBox=box$1(SugarElement.fromDom(editor.getContentAreaContainer()));const toolbarOrMenubarEnabled=isMenubarEnabled(editor)||isToolbarEnabled(editor)||isMultipleToolbars(editor);const{x,width}=getHorizontalBounds(contentAreaBox,viewportBounds,margin);if(editor.inline&&!toolbarOrMenubarEnabled){return bounds(x,viewportBounds.y,width,viewportBounds.height);}else{const isToolbarTop=sharedBackstage.header.isPositionedAtTop();const{y,bottom}=getVerticalBounds(editor,contentAreaBox,viewportBounds,isToolbarTop,toolbarType,margin);return bounds(x,y,width,bottom-y);}};const bubbleSize$1=12;const bubbleAlignments$1={valignCentre:[],alignCentre:[],alignLeft:['tox-pop--align-left'],alignRight:['tox-pop--align-right'],right:['tox-pop--right'],left:['tox-pop--left'],bottom:['tox-pop--bottom'],top:['tox-pop--top'],inset:['tox-pop--inset']};const anchorOverrides={maxHeightFunction:expandable$1(),maxWidthFunction:expandable()};const isEntireElementSelected=(editor,elem)=>{const rng=editor.selection.getRng();const leaf$1=leaf(SugarElement.fromDom(rng.startContainer),rng.startOffset);return rng.startContainer===rng.endContainer&&rng.startOffset===rng.endOffset-1&&eq(leaf$1.element,elem);};const preservePosition=(elem,position,f)=>{const currentPosition=getRaw(elem,'position');set$8(elem,'position',position);const result=f(elem);currentPosition.each(pos=>set$8(elem,'position',pos));return result;};const shouldUseInsetLayouts=position=>position==='node';const determineInsetLayout=(editor,contextbar,elem,data,bounds)=>{const selectionBounds=getSelectionBounds(editor);const isSameAnchorElement=data.lastElement().exists(prev=>eq(elem,prev));if(isEntireElementSelected(editor,elem)){return isSameAnchorElement?preserve:north;}else if(isSameAnchorElement){return preservePosition(contextbar,data.getMode(),()=>{const isOverlapping=isVerticalOverlap(selectionBounds,box$1(contextbar));return isOverlapping&&!data.isReposition()?flip:preserve;});}else{const yBounds=data.getMode()==='fixed'?bounds.y+get$b().top:bounds.y;const contextbarHeight=get$d(contextbar)+bubbleSize$1;return yBounds+contextbarHeight<=selectionBounds.y?north:south;}};const getAnchorSpec$2=(editor,mobile,data,position)=>{const smartInsetLayout=elem=>(anchor,element,bubbles,placee,bounds)=>{const layout=determineInsetLayout(editor,placee,elem,data,bounds);const newAnchor={...anchor,y:bounds.y,height:bounds.height};return{...layout(newAnchor,element,bubbles,placee,bounds),alwaysFit:true};};const getInsetLayouts=elem=>shouldUseInsetLayouts(position)?[smartInsetLayout(elem)]:[];const desktopAnchorSpecLayouts={onLtr:elem=>[north$2,south$2,northeast$2,southeast$2,northwest$2,southwest$2].concat(getInsetLayouts(elem)),onRtl:elem=>[north$2,south$2,northwest$2,southwest$2,northeast$2,southeast$2].concat(getInsetLayouts(elem))};const mobileAnchorSpecLayouts={onLtr:elem=>[south$2,southeast$2,southwest$2,northeast$2,northwest$2,north$2].concat(getInsetLayouts(elem)),onRtl:elem=>[south$2,southwest$2,southeast$2,northwest$2,northeast$2,north$2].concat(getInsetLayouts(elem))};return mobile?mobileAnchorSpecLayouts:desktopAnchorSpecLayouts;};const getAnchorLayout=(editor,position,isTouch,data)=>{if(position==='line'){return{bubble:nu$5(bubbleSize$1,0,bubbleAlignments$1),layouts:{onLtr:()=>[east$2],onRtl:()=>[west$2]},overrides:anchorOverrides};}else{return{bubble:nu$5(0,bubbleSize$1,bubbleAlignments$1,1/bubbleSize$1),layouts:getAnchorSpec$2(editor,isTouch,data,position),overrides:anchorOverrides};}};const matchTargetWith=(elem,candidates)=>{const ctxs=filter$2(candidates,toolbarApi=>toolbarApi.predicate(elem.dom));const{pass,fail}=partition$3(ctxs,t=>t.type==='contexttoolbar');return{contextToolbars:pass,contextForms:fail};};const filterByPositionForStartNode=toolbars=>{if(toolbars.length<=1){return toolbars;}else{const doesPositionExist=value=>exists(toolbars,t=>t.position===value);const filterToolbarsByPosition=value=>filter$2(toolbars,t=>t.position===value);const hasSelectionToolbars=doesPositionExist('selection');const hasNodeToolbars=doesPositionExist('node');if(hasSelectionToolbars||hasNodeToolbars){if(hasNodeToolbars&&hasSelectionToolbars){const nodeToolbars=filterToolbarsByPosition('node');const selectionToolbars=map$2(filterToolbarsByPosition('selection'),t=>({...t,position:'node'}));return nodeToolbars.concat(selectionToolbars);}else{return hasSelectionToolbars?filterToolbarsByPosition('selection'):filterToolbarsByPosition('node');}}else{return filterToolbarsByPosition('line');}}};const filterByPositionForAncestorNode=toolbars=>{if(toolbars.length<=1){return toolbars;}else{const findPosition=value=>find$5(toolbars,t=>t.position===value);const basePosition=findPosition('selection').orThunk(()=>findPosition('node')).orThunk(()=>findPosition('line')).map(t=>t.position);return basePosition.fold(()=>[],pos=>filter$2(toolbars,t=>t.position===pos));}};const matchStartNode=(elem,nodeCandidates,editorCandidates)=>{const nodeMatches=matchTargetWith(elem,nodeCandidates);if(nodeMatches.contextForms.length>0){return Optional.some({elem,toolbars:[nodeMatches.contextForms[0]]});}else{const editorMatches=matchTargetWith(elem,editorCandidates);if(editorMatches.contextForms.length>0){return Optional.some({elem,toolbars:[editorMatches.contextForms[0]]});}else if(nodeMatches.contextToolbars.length>0||editorMatches.contextToolbars.length>0){const toolbars=filterByPositionForStartNode(nodeMatches.contextToolbars.concat(editorMatches.contextToolbars));return Optional.some({elem,toolbars});}else{return Optional.none();}}};const matchAncestor=(isRoot,startNode,scopes)=>{if(isRoot(startNode)){return Optional.none();}else{return ancestor$2(startNode,ancestorElem=>{if(isElement$1(ancestorElem)){const{contextToolbars,contextForms}=matchTargetWith(ancestorElem,scopes.inNodeScope);const toolbars=contextForms.length>0?contextForms:filterByPositionForAncestorNode(contextToolbars);return toolbars.length>0?Optional.some({elem:ancestorElem,toolbars}):Optional.none();}else{return Optional.none();}},isRoot);}};const lookup$1=(scopes,editor)=>{const rootElem=SugarElement.fromDom(editor.getBody());const isRoot=elem=>eq(elem,rootElem);const isOutsideRoot=startNode=>!isRoot(startNode)&&!contains(rootElem,startNode);const startNode=SugarElement.fromDom(editor.selection.getNode());if(isOutsideRoot(startNode)){return Optional.none();}return matchStartNode(startNode,scopes.inNodeScope,scopes.inEditorScope).orThunk(()=>matchAncestor(isRoot,startNode,scopes));};const categorise=(contextToolbars,navigate)=>{const forms={};const inNodeScope=[];const inEditorScope=[];const formNavigators={};const lookupTable={};const registerForm=(key,toolbarSpec)=>{const contextForm=getOrDie(createContextForm(toolbarSpec));forms[key]=contextForm;contextForm.launch.map(launch=>{formNavigators['form:'+key+'']={...toolbarSpec.launch,type:launch.type==='contextformtogglebutton'?'togglebutton':'button',onAction:()=>{navigate(contextForm);}};});if(contextForm.scope==='editor'){inEditorScope.push(contextForm);}else{inNodeScope.push(contextForm);}lookupTable[key]=contextForm;};const registerToolbar=(key,toolbarSpec)=>{createContextToolbar(toolbarSpec).each(contextToolbar=>{if(toolbarSpec.scope==='editor'){inEditorScope.push(contextToolbar);}else{inNodeScope.push(contextToolbar);}lookupTable[key]=contextToolbar;});};const keys$1=keys(contextToolbars);each$1(keys$1,key=>{const toolbarApi=contextToolbars[key];if(toolbarApi.type==='contextform'){registerForm(key,toolbarApi);}else if(toolbarApi.type==='contexttoolbar'){registerToolbar(key,toolbarApi);}});return{forms,inNodeScope,inEditorScope,lookupTable,formNavigators};};const forwardSlideEvent=generate$6('forward-slide');const backSlideEvent=generate$6('backward-slide');const changeSlideEvent=generate$6('change-slide-event');const resizingClass='tox-pop--resizing';const renderContextToolbar=spec=>{const stack=Cell([]);return InlineView.sketch({dom:{tag:'div',classes:['tox-pop']},fireDismissalEventInstead:{event:'doNotDismissYet'},onShow:comp=>{stack.set([]);InlineView.getContent(comp).each(c=>{remove$6(c.element,'visibility');});remove$2(comp.element,resizingClass);remove$6(comp.element,'width');},inlineBehaviours:derive$1([config('context-toolbar-events',[runOnSource(transitionend(),(comp,se)=>{if(se.event.raw.propertyName==='width'){remove$2(comp.element,resizingClass);remove$6(comp.element,'width');}}),run$1(changeSlideEvent,(comp,se)=>{const elem=comp.element;remove$6(elem,'width');const currentWidth=get$c(elem);InlineView.setContent(comp,se.event.contents);add$2(elem,resizingClass);const newWidth=get$c(elem);set$8(elem,'width',currentWidth+'px');InlineView.getContent(comp).each(newContents=>{se.event.focus.bind(f=>{focus$3(f);return search(elem);}).orThunk(()=>{Keying.focusIn(newContents);return active$1(getRootNode(elem));});});setTimeout(()=>{set$8(comp.element,'width',newWidth+'px');},0);}),run$1(forwardSlideEvent,(comp,se)=>{InlineView.getContent(comp).each(oldContents=>{stack.set(stack.get().concat([{bar:oldContents,focus:active$1(getRootNode(comp.element))}]));});emitWith(comp,changeSlideEvent,{contents:se.event.forwardContents,focus:Optional.none()});}),run$1(backSlideEvent,(comp,_se)=>{last$1(stack.get()).each(last=>{stack.set(stack.get().slice(0,stack.get().length-1));emitWith(comp,changeSlideEvent,{contents:premade(last.bar),focus:last.focus});});})]),Keying.config({mode:'special',onEscape:comp=>last$1(stack.get()).fold(()=>spec.onEscape(),_=>{emit(comp,backSlideEvent);return Optional.some(true);})})]),lazySink:()=>Result.value(spec.sink)});};const transitionClass='tox-pop--transition';const register$9=(editor,registryContextToolbars,sink,extras)=>{const backstage=extras.backstage;const sharedBackstage=backstage.shared;const isTouch=detect$1().deviceType.isTouch;const lastElement=value$2();const lastTrigger=value$2();const lastContextPosition=value$2();const contextbar=build$1(renderContextToolbar({sink,onEscape:()=>{editor.focus();return Optional.some(true);}}));const getBounds=()=>{const position=lastContextPosition.get().getOr('node');const margin=shouldUseInsetLayouts(position)?1:0;return getContextToolbarBounds(editor,sharedBackstage,position,margin);};const canLaunchToolbar=()=>{return!editor.removed&&!(isTouch()&&backstage.isContextMenuOpen());};const isSameLaunchElement=elem=>is$1(lift2(elem,lastElement.get(),eq),true);const shouldContextToolbarHide=()=>{if(!canLaunchToolbar()){return true;}else{const contextToolbarBounds=getBounds();const anchorBounds=is$1(lastContextPosition.get(),'node')?getAnchorElementBounds(editor,lastElement.get()):getSelectionBounds(editor);return contextToolbarBounds.height<=0||!isVerticalOverlap(anchorBounds,contextToolbarBounds);}};const close=()=>{lastElement.clear();lastTrigger.clear();lastContextPosition.clear();InlineView.hide(contextbar);};const hideOrRepositionIfNecessary=()=>{if(InlineView.isOpen(contextbar)){const contextBarEle=contextbar.element;remove$6(contextBarEle,'display');if(shouldContextToolbarHide()){set$8(contextBarEle,'display','none');}else{lastTrigger.set(0);InlineView.reposition(contextbar);}}};const wrapInPopDialog=toolbarSpec=>({dom:{tag:'div',classes:['tox-pop__dialog']},components:[toolbarSpec],behaviours:derive$1([Keying.config({mode:'acyclic'}),config('pop-dialog-wrap-events',[runOnAttached(comp=>{editor.shortcuts.add('ctrl+F9','focus statusbar',()=>Keying.focusIn(comp));}),runOnDetached(_comp=>{editor.shortcuts.remove('ctrl+F9');})])])});const getScopes=cached(()=>categorise(registryContextToolbars,toolbarApi=>{const alloySpec=buildToolbar([toolbarApi]);emitWith(contextbar,forwardSlideEvent,{forwardContents:wrapInPopDialog(alloySpec)});}));const buildContextToolbarGroups=(allButtons,ctx)=>identifyButtons(editor,{buttons:allButtons,toolbar:ctx.items,allowToolbarGroups:false},extras.backstage,Optional.some(['form:']));const buildContextFormGroups=(ctx,providers)=>ContextForm.buildInitGroups(ctx,providers);const buildToolbar=toolbars=>{const{buttons}=editor.ui.registry.getAll();const scopes=getScopes();const allButtons={...buttons,...scopes.formNavigators};const toolbarType=getToolbarMode(editor)===ToolbarMode$1.scrolling?ToolbarMode$1.scrolling:ToolbarMode$1.default;const initGroups=flatten(map$2(toolbars,ctx=>ctx.type==='contexttoolbar'?buildContextToolbarGroups(allButtons,ctx):buildContextFormGroups(ctx,sharedBackstage.providers)));return renderToolbar({type:toolbarType,uid:generate$6('context-toolbar'),initGroups,onEscape:Optional.none,cyclicKeying:true,providers:sharedBackstage.providers});};const getAnchor=(position,element)=>{const anchorage=position==='node'?sharedBackstage.anchors.node(element):sharedBackstage.anchors.cursor();const anchorLayout=getAnchorLayout(editor,position,isTouch(),{lastElement:lastElement.get,isReposition:()=>is$1(lastTrigger.get(),0),getMode:()=>Positioning.getMode(sink)});return deepMerge(anchorage,anchorLayout);};const launchContext=(toolbarApi,elem)=>{launchContextToolbar.cancel();if(!canLaunchToolbar()){return;}const toolbarSpec=buildToolbar(toolbarApi);const position=toolbarApi[0].position;const anchor=getAnchor(position,elem);lastContextPosition.set(position);lastTrigger.set(1);const contextBarEle=contextbar.element;remove$6(contextBarEle,'display');if(!isSameLaunchElement(elem)){remove$2(contextBarEle,transitionClass);Positioning.reset(sink,contextbar);}InlineView.showWithinBounds(contextbar,wrapInPopDialog(toolbarSpec),{anchor,transition:{classes:[transitionClass],mode:'placement'}},()=>Optional.some(getBounds()));elem.fold(lastElement.clear,lastElement.set);if(shouldContextToolbarHide()){set$8(contextBarEle,'display','none');}};const launchContextToolbar=last(()=>{if(!editor.hasFocus()||editor.removed){return;}if(has(contextbar.element,transitionClass)){launchContextToolbar.throttle();}else{const scopes=getScopes();lookup$1(scopes,editor).fold(close,info=>{launchContext(info.toolbars,Optional.some(info.elem));});}},17);editor.on('init',()=>{editor.on('remove',close);editor.on('ScrollContent ScrollWindow ObjectResized ResizeEditor longpress',hideOrRepositionIfNecessary);editor.on('click keyup focus SetContent',launchContextToolbar.throttle);editor.on(hideContextToolbarEvent,close);editor.on(showContextToolbarEvent,e=>{const scopes=getScopes();get$g(scopes.lookupTable,e.toolbarKey).each(ctx=>{launchContext([ctx],someIf(e.target!==editor,e.target));InlineView.getContent(contextbar).each(Keying.focusIn);});});editor.on('focusout',_e=>{global$9.setEditorTimeout(editor,()=>{if(search(sink.element).isNone()&&search(contextbar.element).isNone()){close();}},0);});editor.on('SwitchMode',()=>{if(editor.mode.isReadOnly()){close();}});editor.on('AfterProgressState',event=>{if(event.state){close();}else if(editor.hasFocus()){launchContextToolbar.throttle();}});editor.on('NodeChange',_e=>{search(contextbar.element).fold(launchContextToolbar.throttle,noop);});});};const register$8=editor=>{const alignToolbarButtons=[{name:'alignleft',text:'Align left',cmd:'JustifyLeft',icon:'align-left'},{name:'aligncenter',text:'Align center',cmd:'JustifyCenter',icon:'align-center'},{name:'alignright',text:'Align right',cmd:'JustifyRight',icon:'align-right'},{name:'alignjustify',text:'Justify',cmd:'JustifyFull',icon:'align-justify'}];each$1(alignToolbarButtons,item=>{editor.ui.registry.addToggleButton(item.name,{tooltip:item.text,icon:item.icon,onAction:onActionExecCommand(editor,item.cmd),onSetup:onSetupFormatToggle(editor,item.name)});});editor.ui.registry.addButton('alignnone',{tooltip:'No alignment',icon:'align-none',onAction:onActionExecCommand(editor,'JustifyNone')});};const units={unsupportedLength:['em','ex','cap','ch','ic','rem','lh','rlh','vw','vh','vi','vb','vmin','vmax','cm','mm','Q','in','pc','pt','px'],fixed:['px','pt'],relative:['%'],empty:['']};const pattern=(()=>{const decimalDigits='[0-9]+';const signedInteger='[+-]?'+decimalDigits;const exponentPart='[eE]'+signedInteger;const dot='\\\\.';const opt=input=>`(?:${input})?`;const unsignedDecimalLiteral=['Infinity',decimalDigits+dot+opt(decimalDigits)+opt(exponentPart),dot+decimalDigits+opt(exponentPart),decimalDigits+opt(exponentPart)].join('|');const float=`[+-]?(?:${unsignedDecimalLiteral})`;return new RegExp(`^(${float})(.*)$`);})();const isUnit=(unit,accepted)=>exists(accepted,acc=>exists(units[acc],check=>unit===check));const parse=(input,accepted)=>{const match=Optional.from(pattern.exec(input));return match.bind(array=>{const value=Number(array[1]);const unitRaw=array[2];if(isUnit(unitRaw,accepted)){return Optional.some({value,unit:unitRaw});}else{return Optional.none();}});};const normalise=(input,accepted)=>parse(input,accepted).map(({value,unit})=>value+unit);const registerController=(editor,spec)=>{const getMenuItems=()=>{const options=spec.getOptions(editor);const initial=spec.getCurrent(editor).map(spec.hash);const current=value$2();return map$2(options,value=>({type:'togglemenuitem',text:spec.display(value),onSetup:api=>{const setActive=active=>{if(active){current.on(oldApi=>oldApi.setActive(false));current.set(api);}api.setActive(active);};setActive(is$1(initial,spec.hash(value)));const unbindWatcher=spec.watcher(editor,value,setActive);return()=>{current.clear();unbindWatcher();};},onAction:()=>spec.setCurrent(editor,value)}));};editor.ui.registry.addMenuButton(spec.name,{tooltip:spec.text,icon:spec.icon,fetch:callback=>callback(getMenuItems()),onSetup:spec.onToolbarSetup});editor.ui.registry.addNestedMenuItem(spec.name,{type:'nestedmenuitem',text:spec.text,getSubmenuItems:getMenuItems,onSetup:spec.onMenuSetup});};const lineHeightSpec={name:'lineheight',text:'Line height',icon:'line-height',getOptions:getLineHeightFormats,hash:input=>normalise(input,['fixed','relative','empty']).getOr(input),display:identity,watcher:(editor,value,callback)=>editor.formatter.formatChanged('lineheight',callback,false,{value}).unbind,getCurrent:editor=>Optional.from(editor.queryCommandValue('LineHeight')),setCurrent:(editor,value)=>editor.execCommand('LineHeight',false,value)};const languageSpec=editor=>{const settingsOpt=Optional.from(getContentLanguages(editor));return settingsOpt.map(settings=>({name:'language',text:'Language',icon:'language',getOptions:constant$1(settings),hash:input=>isUndefined(input.customCode)?input.code:`${input.code}/${input.customCode}`,display:input=>input.title,watcher:(editor,value,callback)=>{var _a;return editor.formatter.formatChanged('lang',callback,false,{value:value.code,customValue:(_a=value.customCode)!==null&&_a!==void 0?_a:null}).unbind;},getCurrent:editor=>{const node=SugarElement.fromDom(editor.selection.getNode());return closest$4(node,n=>Optional.some(n).filter(isElement$1).bind(ele=>{const codeOpt=getOpt(ele,'lang');return codeOpt.map(code=>{const customCode=getOpt(ele,'data-mce-lang').getOrUndefined();return{code,customCode,title:''};});}));},setCurrent:(editor,lang)=>editor.execCommand('Lang',false,lang),onToolbarSetup:api=>{const unbinder=unbindable();api.setActive(editor.formatter.match('lang',{},undefined,true));unbinder.set(editor.formatter.formatChanged('lang',api.setActive,true));return unbinder.clear;}}));};const register$7=editor=>{registerController(editor,lineHeightSpec);languageSpec(editor).each(spec=>registerController(editor,spec));};const register$6=(editor,backstage)=>{createAlignMenu(editor,backstage);createFontFamilyMenu(editor,backstage);createStylesMenu(editor,backstage);createBlocksMenu(editor,backstage);createFontSizeMenu(editor,backstage);};const onSetupOutdentState=editor=>onSetupEvent(editor,'NodeChange',api=>{api.setEnabled(editor.queryCommandState('outdent'));});const registerButtons$2=editor=>{editor.ui.registry.addButton('outdent',{tooltip:'Decrease indent',icon:'outdent',onSetup:onSetupOutdentState(editor),onAction:onActionExecCommand(editor,'outdent')});editor.ui.registry.addButton('indent',{tooltip:'Increase indent',icon:'indent',onAction:onActionExecCommand(editor,'indent')});};const register$5=editor=>{registerButtons$2(editor);};const makeSetupHandler=(editor,pasteAsText)=>api=>{api.setActive(pasteAsText.get());const pastePlainTextToggleHandler=e=>{pasteAsText.set(e.state);api.setActive(e.state);};editor.on('PastePlainTextToggle',pastePlainTextToggleHandler);return()=>editor.off('PastePlainTextToggle',pastePlainTextToggleHandler);};const register$4=editor=>{const pasteAsText=Cell(getPasteAsText(editor));const onAction=()=>editor.execCommand('mceTogglePlainTextPaste');editor.ui.registry.addToggleButton('pastetext',{active:false,icon:'paste-text',tooltip:'Paste as text',onAction,onSetup:makeSetupHandler(editor,pasteAsText)});editor.ui.registry.addToggleMenuItem('pastetext',{text:'Paste as text',icon:'paste-text',onAction,onSetup:makeSetupHandler(editor,pasteAsText)});};const onActionToggleFormat=(editor,fmt)=>()=>{editor.execCommand('mceToggleFormat',false,fmt);};const registerFormatButtons=editor=>{global$1.each([{name:'bold',text:'Bold',icon:'bold'},{name:'italic',text:'Italic',icon:'italic'},{name:'underline',text:'Underline',icon:'underline'},{name:'strikethrough',text:'Strikethrough',icon:'strike-through'},{name:'subscript',text:'Subscript',icon:'subscript'},{name:'superscript',text:'Superscript',icon:'superscript'}],(btn,_idx)=>{editor.ui.registry.addToggleButton(btn.name,{tooltip:btn.text,icon:btn.icon,onSetup:onSetupFormatToggle(editor,btn.name),onAction:onActionToggleFormat(editor,btn.name)});});for(let i=1;i<=6;i++){const name='h'+i;editor.ui.registry.addToggleButton(name,{text:name.toUpperCase(),tooltip:'Heading '+i,onSetup:onSetupFormatToggle(editor,name),onAction:onActionToggleFormat(editor,name)});}};const registerCommandButtons=editor=>{global$1.each([{name:'cut',text:'Cut',action:'Cut',icon:'cut'},{name:'copy',text:'Copy',action:'Copy',icon:'copy'},{name:'paste',text:'Paste',action:'Paste',icon:'paste'},{name:'help',text:'Help',action:'mceHelp',icon:'help'},{name:'selectall',text:'Select all',action:'SelectAll',icon:'select-all'},{name:'newdocument',text:'New document',action:'mceNewDocument',icon:'new-document'},{name:'removeformat',text:'Clear formatting',action:'RemoveFormat',icon:'remove-formatting'},{name:'remove',text:'Remove',action:'Delete',icon:'remove'},{name:'print',text:'Print',action:'mcePrint',icon:'print'},{name:'hr',text:'Horizontal line',action:'InsertHorizontalRule',icon:'horizontal-rule'}],btn=>{editor.ui.registry.addButton(btn.name,{tooltip:btn.text,icon:btn.icon,onAction:onActionExecCommand(editor,btn.action)});});};const registerCommandToggleButtons=editor=>{global$1.each([{name:'blockquote',text:'Blockquote',action:'mceBlockQuote',icon:'quote'}],btn=>{editor.ui.registry.addToggleButton(btn.name,{tooltip:btn.text,icon:btn.icon,onAction:onActionExecCommand(editor,btn.action),onSetup:onSetupFormatToggle(editor,btn.name)});});};const registerButtons$1=editor=>{registerFormatButtons(editor);registerCommandButtons(editor);registerCommandToggleButtons(editor);};const registerMenuItems$2=editor=>{global$1.each([{name:'bold',text:'Bold',action:'Bold',icon:'bold',shortcut:'Meta+B'},{name:'italic',text:'Italic',action:'Italic',icon:'italic',shortcut:'Meta+I'},{name:'underline',text:'Underline',action:'Underline',icon:'underline',shortcut:'Meta+U'},{name:'strikethrough',text:'Strikethrough',action:'Strikethrough',icon:'strike-through'},{name:'subscript',text:'Subscript',action:'Subscript',icon:'subscript'},{name:'superscript',text:'Superscript',action:'Superscript',icon:'superscript'},{name:'removeformat',text:'Clear formatting',action:'RemoveFormat',icon:'remove-formatting'},{name:'newdocument',text:'New document',action:'mceNewDocument',icon:'new-document'},{name:'cut',text:'Cut',action:'Cut',icon:'cut',shortcut:'Meta+X'},{name:'copy',text:'Copy',action:'Copy',icon:'copy',shortcut:'Meta+C'},{name:'paste',text:'Paste',action:'Paste',icon:'paste',shortcut:'Meta+V'},{name:'selectall',text:'Select all',action:'SelectAll',icon:'select-all',shortcut:'Meta+A'},{name:'print',text:'Print...',action:'mcePrint',icon:'print',shortcut:'Meta+P'},{name:'hr',text:'Horizontal line',action:'InsertHorizontalRule',icon:'horizontal-rule'}],menuitem=>{editor.ui.registry.addMenuItem(menuitem.name,{text:menuitem.text,icon:menuitem.icon,shortcut:menuitem.shortcut,onAction:onActionExecCommand(editor,menuitem.action)});});editor.ui.registry.addMenuItem('codeformat',{text:'Code',icon:'sourcecode',onAction:onActionToggleFormat(editor,'code')});};const register$3=editor=>{registerButtons$1(editor);registerMenuItems$2(editor);};const onSetupUndoRedoState=(editor,type)=>onSetupEvent(editor,'Undo Redo AddUndo TypingUndo ClearUndos SwitchMode',api=>{api.setEnabled(!editor.mode.isReadOnly()&&editor.undoManager[type]());});const registerMenuItems$1=editor=>{editor.ui.registry.addMenuItem('undo',{text:'Undo',icon:'undo',shortcut:'Meta+Z',onSetup:onSetupUndoRedoState(editor,'hasUndo'),onAction:onActionExecCommand(editor,'undo')});editor.ui.registry.addMenuItem('redo',{text:'Redo',icon:'redo',shortcut:'Meta+Y',onSetup:onSetupUndoRedoState(editor,'hasRedo'),onAction:onActionExecCommand(editor,'redo')});};const registerButtons=editor=>{editor.ui.registry.addButton('undo',{tooltip:'Undo',icon:'undo',enabled:false,onSetup:onSetupUndoRedoState(editor,'hasUndo'),onAction:onActionExecCommand(editor,'undo')});editor.ui.registry.addButton('redo',{tooltip:'Redo',icon:'redo',enabled:false,onSetup:onSetupUndoRedoState(editor,'hasRedo'),onAction:onActionExecCommand(editor,'redo')});};const register$2=editor=>{registerMenuItems$1(editor);registerButtons(editor);};const onSetupVisualAidState=editor=>onSetupEvent(editor,'VisualAid',api=>{api.setActive(editor.hasVisual);});const registerMenuItems=editor=>{editor.ui.registry.addToggleMenuItem('visualaid',{text:'Visual aids',onSetup:onSetupVisualAidState(editor),onAction:onActionExecCommand(editor,'mceToggleVisualAid')});};const registerToolbarButton=editor=>{editor.ui.registry.addButton('visualaid',{tooltip:'Visual aids',text:'Visual aids',onAction:onActionExecCommand(editor,'mceToggleVisualAid')});};const register$1=editor=>{registerToolbarButton(editor);registerMenuItems(editor);};const setup$6=(editor,backstage)=>{register$8(editor);register$3(editor);register$6(editor,backstage);register$2(editor);register$c(editor);register$1(editor);register$5(editor);register$7(editor);register$4(editor);};const patchPipeConfig=config=>isString(config)?config.split(/[ ,]/):config;const option=name=>editor=>editor.options.get(name);const register=editor=>{const registerOption=editor.options.register;registerOption('contextmenu_avoid_overlap',{processor:'string',default:''});registerOption('contextmenu_never_use_native',{processor:'boolean',default:false});registerOption('contextmenu',{processor:value=>{if(value===false){return{value:[],valid:true};}else if(isString(value)||isArrayOf(value,isString)){return{value:patchPipeConfig(value),valid:true};}else{return{valid:false,message:'Must be false or a string.'};}},default:'link linkchecker image editimage table spellchecker configurepermanentpen'});};const shouldNeverUseNative=option('contextmenu_never_use_native');const getAvoidOverlapSelector=option('contextmenu_avoid_overlap');const isContextMenuDisabled=editor=>getContextMenu(editor).length===0;const getContextMenu=editor=>{const contextMenus=editor.ui.registry.getAll().contextMenus;const contextMenu=editor.options.get('contextmenu');if(editor.options.isSet('contextmenu')){return contextMenu;}else{return filter$2(contextMenu,item=>has$2(contextMenus,item));}};const nu=(x,y)=>({type:'makeshift',x,y});const transpose=(pos,dx,dy)=>{return nu(pos.x+dx,pos.y+dy);};const isTouchEvent$1=e=>e.type==='longpress'||e.type.indexOf('touch')===0;const fromPageXY=e=>{if(isTouchEvent$1(e)){const touch=e.touches[0];return nu(touch.pageX,touch.pageY);}else{return nu(e.pageX,e.pageY);}};const fromClientXY=e=>{if(isTouchEvent$1(e)){const touch=e.touches[0];return nu(touch.clientX,touch.clientY);}else{return nu(e.clientX,e.clientY);}};const transposeContentAreaContainer=(element,pos)=>{const containerPos=global$7.DOM.getPos(element);return transpose(pos,containerPos.x,containerPos.y);};const getPointAnchor=(editor,e)=>{if(e.type==='contextmenu'||e.type==='longpress'){if(editor.inline){return fromPageXY(e);}else{return transposeContentAreaContainer(editor.getContentAreaContainer(),fromClientXY(e));}}else{return getSelectionAnchor(editor);}};const getSelectionAnchor=editor=>{return{type:'selection',root:SugarElement.fromDom(editor.selection.getNode())};};const getNodeAnchor=editor=>({type:'node',node:Optional.some(SugarElement.fromDom(editor.selection.getNode())),root:SugarElement.fromDom(editor.getBody())});const getAnchorSpec$1=(editor,e,anchorType)=>{switch(anchorType){case'node':return getNodeAnchor(editor);case'point':return getPointAnchor(editor,e);case'selection':return getSelectionAnchor(editor);}};const initAndShow$1=(editor,e,buildMenu,backstage,contextmenu,anchorType)=>{const items=buildMenu();const anchorSpec=getAnchorSpec$1(editor,e,anchorType);build(items,ItemResponse$1.CLOSE_ON_EXECUTE,backstage,{isHorizontalMenu:false,search:Optional.none()}).map(menuData=>{e.preventDefault();InlineView.showMenuAt(contextmenu,{anchor:anchorSpec},{menu:{markers:markers('normal')},data:menuData});});};const layouts={onLtr:()=>[south$2,southeast$2,southwest$2,northeast$2,northwest$2,north$2,north,south,northeast,southeast,northwest,southwest],onRtl:()=>[south$2,southwest$2,southeast$2,northwest$2,northeast$2,north$2,north,south,northwest,southwest,northeast,southeast]};const bubbleSize=12;const bubbleAlignments={valignCentre:[],alignCentre:[],alignLeft:['tox-pop--align-left'],alignRight:['tox-pop--align-right'],right:['tox-pop--right'],left:['tox-pop--left'],bottom:['tox-pop--bottom'],top:['tox-pop--top']};const isTouchWithinSelection=(editor,e)=>{const selection=editor.selection;if(selection.isCollapsed()||e.touches.length<1){return false;}else{const touch=e.touches[0];const rng=selection.getRng();const rngRectOpt=getFirstRect(editor.getWin(),SimSelection.domRange(rng));return rngRectOpt.exists(rngRect=>rngRect.left<=touch.clientX&&rngRect.right>=touch.clientX&&rngRect.top<=touch.clientY&&rngRect.bottom>=touch.clientY);}};const setupiOSOverrides=editor=>{const originalSelection=editor.selection.getRng();const selectionReset=()=>{global$9.setEditorTimeout(editor,()=>{editor.selection.setRng(originalSelection);},10);unbindEventListeners();};editor.once('touchend',selectionReset);const preventMousedown=e=>{e.preventDefault();e.stopImmediatePropagation();};editor.on('mousedown',preventMousedown,true);const clearSelectionReset=()=>unbindEventListeners();editor.once('longpresscancel',clearSelectionReset);const unbindEventListeners=()=>{editor.off('touchend',selectionReset);editor.off('longpresscancel',clearSelectionReset);editor.off('mousedown',preventMousedown);};};const getAnchorSpec=(editor,e,anchorType)=>{const anchorSpec=getAnchorSpec$1(editor,e,anchorType);const bubbleYOffset=anchorType==='point'?bubbleSize:0;return{bubble:nu$5(0,bubbleYOffset,bubbleAlignments),layouts,overrides:{maxWidthFunction:expandable(),maxHeightFunction:expandable$1()},...anchorSpec};};const show=(editor,e,items,backstage,contextmenu,anchorType,highlightImmediately)=>{const anchorSpec=getAnchorSpec(editor,e,anchorType);build(items,ItemResponse$1.CLOSE_ON_EXECUTE,backstage,{isHorizontalMenu:true,search:Optional.none()}).map(menuData=>{e.preventDefault();const highlightOnOpen=highlightImmediately?HighlightOnOpen.HighlightMenuAndItem:HighlightOnOpen.HighlightNone;InlineView.showMenuWithinBounds(contextmenu,{anchor:anchorSpec},{menu:{markers:markers('normal'),highlightOnOpen},data:menuData,type:'horizontal'},()=>Optional.some(getContextToolbarBounds(editor,backstage.shared,anchorType==='node'?'node':'selection')));editor.dispatch(hideContextToolbarEvent);});};const initAndShow=(editor,e,buildMenu,backstage,contextmenu,anchorType)=>{const detection=detect$1();const isiOS=detection.os.isiOS();const isMacOS=detection.os.isMacOS();const isAndroid=detection.os.isAndroid();const isTouch=detection.deviceType.isTouch();const shouldHighlightImmediately=()=>!(isAndroid||isiOS||isMacOS&&isTouch);const open=()=>{const items=buildMenu();show(editor,e,items,backstage,contextmenu,anchorType,shouldHighlightImmediately());};if((isMacOS||isiOS)&&anchorType!=='node'){const openiOS=()=>{setupiOSOverrides(editor);open();};if(isTouchWithinSelection(editor,e)){openiOS();}else{editor.once('selectionchange',openiOS);editor.once('touchend',()=>editor.off('selectionchange',openiOS));}}else{open();}};const isSeparator=item=>isString(item)?item==='|':item.type==='separator';const separator={type:'separator'};const makeContextItem=item=>{const commonMenuItem=item=>({text:item.text,icon:item.icon,enabled:item.enabled,shortcut:item.shortcut});if(isString(item)){return item;}else{switch(item.type){case'separator':return separator;case'submenu':return{type:'nestedmenuitem',...commonMenuItem(item),getSubmenuItems:()=>{const items=item.getSubmenuItems();if(isString(items)){return items;}else{return map$2(items,makeContextItem);}}};default:const commonItem=item;return{type:'menuitem',...commonMenuItem(commonItem),onAction:noarg(commonItem.onAction)};}}};const addContextMenuGroup=(xs,groupItems)=>{if(groupItems.length===0){return xs;}const lastMenuItem=last$1(xs).filter(item=>!isSeparator(item));const before=lastMenuItem.fold(()=>[],_=>[separator]);return xs.concat(before).concat(groupItems).concat([separator]);};const generateContextMenu=(contextMenus,menuConfig,selectedElement)=>{const sections=foldl(menuConfig,(acc,name)=>{return get$g(contextMenus,name.toLowerCase()).map(menu=>{const items=menu.update(selectedElement);if(isString(items)){return addContextMenuGroup(acc,items.split(' '));}else if(items.length>0){const allItems=map$2(items,makeContextItem);return addContextMenuGroup(acc,allItems);}else{return acc;}}).getOrThunk(()=>acc.concat([name]));},[]);if(sections.length>0&&isSeparator(sections[sections.length-1])){sections.pop();}return sections;};const isNativeOverrideKeyEvent=(editor,e)=>e.ctrlKey&&!shouldNeverUseNative(editor);const isTouchEvent=e=>e.type==='longpress'||has$2(e,'touches');const isTriggeredByKeyboard=(editor,e)=>!isTouchEvent(e)&&(e.button!==2||e.target===editor.getBody()&&e.pointerType==='');const getSelectedElement=(editor,e)=>isTriggeredByKeyboard(editor,e)?editor.selection.getStart(true):e.target;const getAnchorType=(editor,e)=>{const selector=getAvoidOverlapSelector(editor);const anchorType=isTriggeredByKeyboard(editor,e)?'selection':'point';if(isNotEmpty(selector)){const target=getSelectedElement(editor,e);const selectorExists=closest(SugarElement.fromDom(target),selector);return selectorExists?'node':anchorType;}else{return anchorType;}};const setup$5=(editor,lazySink,backstage)=>{const detection=detect$1();const isTouch=detection.deviceType.isTouch;const contextmenu=build$1(InlineView.sketch({dom:{tag:'div'},lazySink,onEscape:()=>editor.focus(),onShow:()=>backstage.setContextMenuState(true),onHide:()=>backstage.setContextMenuState(false),fireDismissalEventInstead:{},inlineBehaviours:derive$1([config('dismissContextMenu',[run$1(dismissRequested(),(comp,_se)=>{Sandboxing.close(comp);editor.focus();})])])}));const hideContextMenu=()=>InlineView.hide(contextmenu);const showContextMenu=e=>{if(shouldNeverUseNative(editor)){e.preventDefault();}if(isNativeOverrideKeyEvent(editor,e)||isContextMenuDisabled(editor)){return;}const anchorType=getAnchorType(editor,e);const buildMenu=()=>{const selectedElement=getSelectedElement(editor,e);const registry=editor.ui.registry.getAll();const menuConfig=getContextMenu(editor);return generateContextMenu(registry.contextMenus,menuConfig,selectedElement);};const initAndShow$2=isTouch()?initAndShow:initAndShow$1;initAndShow$2(editor,e,buildMenu,backstage,contextmenu,anchorType);};editor.on('init',()=>{const hideEvents='ResizeEditor ScrollContent ScrollWindow longpresscancel'+(isTouch()?'':' ResizeWindow');editor.on(hideEvents,hideContextMenu);editor.on('longpress contextmenu',showContextMenu);});};const adt=Adt.generate([{offset:['x','y']},{absolute:['x','y']},{fixed:['x','y']}]);const subtract=change=>point=>point.translate(-change.left,-change.top);const add=change=>point=>point.translate(change.left,change.top);const transform=changes=>(x,y)=>foldl(changes,(rest,f)=>f(rest),SugarPosition(x,y));const asFixed=(coord,scroll,origin)=>coord.fold(transform([add(origin),subtract(scroll)]),transform([subtract(scroll)]),transform([]));const asAbsolute=(coord,scroll,origin)=>coord.fold(transform([add(origin)]),transform([]),transform([add(scroll)]));const asOffset=(coord,scroll,origin)=>coord.fold(transform([]),transform([subtract(origin)]),transform([add(scroll),subtract(origin)]));const withinRange=(coord1,coord2,xRange,yRange,scroll,origin)=>{const a1=asAbsolute(coord1,scroll,origin);const a2=asAbsolute(coord2,scroll,origin);return Math.abs(a1.left-a2.left)<=xRange&&Math.abs(a1.top-a2.top)<=yRange;};const getDeltas=(coord1,coord2,xRange,yRange,scroll,origin)=>{const a1=asAbsolute(coord1,scroll,origin);const a2=asAbsolute(coord2,scroll,origin);const left=Math.abs(a1.left-a2.left);const top=Math.abs(a1.top-a2.top);return SugarPosition(left,top);};const toStyles=(coord,scroll,origin)=>{const stylesOpt=coord.fold((x,y)=>({position:Optional.some('absolute'),left:Optional.some(x+'px'),top:Optional.some(y+'px')}),(x,y)=>({position:Optional.some('absolute'),left:Optional.some(x-origin.left+'px'),top:Optional.some(y-origin.top+'px')}),(x,y)=>({position:Optional.some('fixed'),left:Optional.some(x+'px'),top:Optional.some(y+'px')}));return{right:Optional.none(),bottom:Optional.none(),...stylesOpt};};const translate=(coord,deltaX,deltaY)=>coord.fold((x,y)=>offset(x+deltaX,y+deltaY),(x,y)=>absolute(x+deltaX,y+deltaY),(x,y)=>fixed(x+deltaX,y+deltaY));const absorb=(partialCoord,originalCoord,scroll,origin)=>{const absorbOne=(stencil,nu)=>(optX,optY)=>{const original=stencil(originalCoord,scroll,origin);return nu(optX.getOr(original.left),optY.getOr(original.top));};return partialCoord.fold(absorbOne(asOffset,offset),absorbOne(asAbsolute,absolute),absorbOne(asFixed,fixed));};const offset=adt.offset;const absolute=adt.absolute;const fixed=adt.fixed;const parseAttrToInt=(element,name)=>{const value=get$f(element,name);return isUndefined(value)?NaN:parseInt(value,10);};const get=(component,snapsInfo)=>{const element=component.element;const x=parseAttrToInt(element,snapsInfo.leftAttr);const y=parseAttrToInt(element,snapsInfo.topAttr);return isNaN(x)||isNaN(y)?Optional.none():Optional.some(SugarPosition(x,y));};const set=(component,snapsInfo,pt)=>{const element=component.element;set$9(element,snapsInfo.leftAttr,pt.left+'px');set$9(element,snapsInfo.topAttr,pt.top+'px');};const clear=(component,snapsInfo)=>{const element=component.element;remove$7(element,snapsInfo.leftAttr);remove$7(element,snapsInfo.topAttr);};const getCoords=(component,snapInfo,coord,delta)=>get(component,snapInfo).fold(()=>coord,fixed$1=>fixed(fixed$1.left+delta.left,fixed$1.top+delta.top));const moveOrSnap=(component,snapInfo,coord,delta,scroll,origin)=>{const newCoord=getCoords(component,snapInfo,coord,delta);const snap=snapInfo.mustSnap?findClosestSnap(component,snapInfo,newCoord,scroll,origin):findSnap(component,snapInfo,newCoord,scroll,origin);const fixedCoord=asFixed(newCoord,scroll,origin);set(component,snapInfo,fixedCoord);return snap.fold(()=>({coord:fixed(fixedCoord.left,fixedCoord.top),extra:Optional.none()}),spanned=>({coord:spanned.output,extra:spanned.extra}));};const stopDrag=(component,snapInfo)=>{clear(component,snapInfo);};const findMatchingSnap=(snaps,newCoord,scroll,origin)=>findMap(snaps,snap=>{const sensor=snap.sensor;const inRange=withinRange(newCoord,sensor,snap.range.left,snap.range.top,scroll,origin);return inRange?Optional.some({output:absorb(snap.output,newCoord,scroll,origin),extra:snap.extra}):Optional.none();});const findClosestSnap=(component,snapInfo,newCoord,scroll,origin)=>{const snaps=snapInfo.getSnapPoints(component);const matchSnap=findMatchingSnap(snaps,newCoord,scroll,origin);return matchSnap.orThunk(()=>{const bestSnap=foldl(snaps,(acc,snap)=>{const sensor=snap.sensor;const deltas=getDeltas(newCoord,sensor,snap.range.left,snap.range.top,scroll,origin);return acc.deltas.fold(()=>({deltas:Optional.some(deltas),snap:Optional.some(snap)}),bestDeltas=>{const currAvg=(deltas.left+deltas.top)/2;const bestAvg=(bestDeltas.left+bestDeltas.top)/2;if(currAvg<=bestAvg){return{deltas:Optional.some(deltas),snap:Optional.some(snap)};}else{return acc;}});},{deltas:Optional.none(),snap:Optional.none()});return bestSnap.snap.map(snap=>({output:absorb(snap.output,newCoord,scroll,origin),extra:snap.extra}));});};const findSnap=(component,snapInfo,newCoord,scroll,origin)=>{const snaps=snapInfo.getSnapPoints(component);return findMatchingSnap(snaps,newCoord,scroll,origin);};const snapTo$1=(snap,scroll,origin)=>({coord:absorb(snap.output,snap.output,scroll,origin),extra:snap.extra});const snapTo=(component,dragConfig,_state,snap)=>{const target=dragConfig.getTarget(component.element);if(dragConfig.repositionTarget){const doc=owner$4(component.element);const scroll=get$b(doc);const origin=getOrigin(target);const snapPin=snapTo$1(snap,scroll,origin);const styles=toStyles(snapPin.coord,scroll,origin);setOptions(target,styles);}};var DraggingApis=/*#__PURE__*/Object.freeze({__proto__:null,snapTo:snapTo});const initialAttribute='data-initial-z-index';const resetZIndex=blocker=>{parent(blocker.element).filter(isElement$1).each(root=>{getOpt(root,initialAttribute).fold(()=>remove$6(root,'z-index'),zIndex=>set$8(root,'z-index',zIndex));remove$7(root,initialAttribute);});};const changeZIndex=blocker=>{parent(blocker.element).filter(isElement$1).each(root=>{getRaw(root,'z-index').each(zindex=>{set$9(root,initialAttribute,zindex);});set$8(root,'z-index',get$e(blocker.element,'z-index'));});};const instigate=(anyComponent,blocker)=>{anyComponent.getSystem().addToGui(blocker);changeZIndex(blocker);};const discard=blocker=>{resetZIndex(blocker);blocker.getSystem().removeFromGui(blocker);};const createComponent=(component,blockerClass,blockerEvents)=>component.getSystem().build(Container.sketch({dom:{styles:{'left':'0px','top':'0px','width':'100%','height':'100%','position':'fixed','z-index':'1000000000000000'},classes:[blockerClass]},events:blockerEvents}));var SnapSchema=optionObjOf('snaps',[required$1('getSnapPoints'),onHandler('onSensor'),required$1('leftAttr'),required$1('topAttr'),defaulted('lazyViewport',win),defaulted('mustSnap',false)]);const schema$6=[defaulted('useFixed',never),required$1('blockerClass'),defaulted('getTarget',identity),defaulted('onDrag',noop),defaulted('repositionTarget',true),defaulted('onDrop',noop),defaultedFunction('getBounds',win),SnapSchema];const getCurrentCoord=target=>lift3(getRaw(target,'left'),getRaw(target,'top'),getRaw(target,'position'),(left,top,position)=>{const nu=position==='fixed'?fixed:offset;return nu(parseInt(left,10),parseInt(top,10));}).getOrThunk(()=>{const location=absolute$3(target);return absolute(location.left,location.top);});const clampCoords=(component,coords,scroll,origin,startData)=>{const bounds=startData.bounds;const absoluteCoord=asAbsolute(coords,scroll,origin);const newX=clamp(absoluteCoord.left,bounds.x,bounds.x+bounds.width-startData.width);const newY=clamp(absoluteCoord.top,bounds.y,bounds.y+bounds.height-startData.height);const newCoords=absolute(newX,newY);return coords.fold(()=>{const offset$1=asOffset(newCoords,scroll,origin);return offset(offset$1.left,offset$1.top);},constant$1(newCoords),()=>{const fixed$1=asFixed(newCoords,scroll,origin);return fixed(fixed$1.left,fixed$1.top);});};const calcNewCoord=(component,optSnaps,currentCoord,scroll,origin,delta,startData)=>{const newCoord=optSnaps.fold(()=>{const translated=translate(currentCoord,delta.left,delta.top);const fixedCoord=asFixed(translated,scroll,origin);return fixed(fixedCoord.left,fixedCoord.top);},snapInfo=>{const snapping=moveOrSnap(component,snapInfo,currentCoord,delta,scroll,origin);snapping.extra.each(extra=>{snapInfo.onSensor(component,extra);});return snapping.coord;});return clampCoords(component,newCoord,scroll,origin,startData);};const dragBy=(component,dragConfig,startData,delta)=>{const target=dragConfig.getTarget(component.element);if(dragConfig.repositionTarget){const doc=owner$4(component.element);const scroll=get$b(doc);const origin=getOrigin(target);const currentCoord=getCurrentCoord(target);const newCoord=calcNewCoord(component,dragConfig.snaps,currentCoord,scroll,origin,delta,startData);const styles=toStyles(newCoord,scroll,origin);setOptions(target,styles);}dragConfig.onDrag(component,target,delta);};const calcStartData=(dragConfig,comp)=>({bounds:dragConfig.getBounds(),height:getOuter$2(comp.element),width:getOuter$1(comp.element)});const move=(component,dragConfig,dragState,dragMode,event)=>{const delta=dragState.update(dragMode,event);const dragStartData=dragState.getStartData().getOrThunk(()=>calcStartData(dragConfig,component));delta.each(dlt=>{dragBy(component,dragConfig,dragStartData,dlt);});};const stop=(component,blocker,dragConfig,dragState)=>{blocker.each(discard);dragConfig.snaps.each(snapInfo=>{stopDrag(component,snapInfo);});const target=dragConfig.getTarget(component.element);dragState.reset();dragConfig.onDrop(component,target);};const handlers=events=>(dragConfig,dragState)=>{const updateStartState=comp=>{dragState.setStartData(calcStartData(dragConfig,comp));};return derive$2([run$1(windowScroll(),comp=>{dragState.getStartData().each(()=>updateStartState(comp));}),...events(dragConfig,dragState,updateStartState)]);};const init$2=dragApi=>derive$2([run$1(mousedown(),dragApi.forceDrop),run$1(mouseup(),dragApi.drop),run$1(mousemove(),(comp,simulatedEvent)=>{dragApi.move(simulatedEvent.event);}),run$1(mouseout(),dragApi.delayDrop)]);const getData$1=event=>Optional.from(SugarPosition(event.x,event.y));const getDelta$1=(old,nu)=>SugarPosition(nu.left-old.left,nu.top-old.top);var MouseData=/*#__PURE__*/Object.freeze({__proto__:null,getData:getData$1,getDelta:getDelta$1});const events$2=(dragConfig,dragState,updateStartState)=>[run$1(mousedown(),(component,simulatedEvent)=>{const raw=simulatedEvent.event.raw;if(raw.button!==0){return;}simulatedEvent.stop();const stop$1=()=>stop(component,Optional.some(blocker),dragConfig,dragState);const delayDrop=DelayedFunction(stop$1,200);const dragApi={drop:stop$1,delayDrop:delayDrop.schedule,forceDrop:stop$1,move:event=>{delayDrop.cancel();move(component,dragConfig,dragState,MouseData,event);}};const blocker=createComponent(component,dragConfig.blockerClass,init$2(dragApi));const start=()=>{updateStartState(component);instigate(component,blocker);};start();})];const schema$5=[...schema$6,output$1('dragger',{handlers:handlers(events$2)})];const init$1=dragApi=>derive$2([run$1(touchstart(),dragApi.forceDrop),run$1(touchend(),dragApi.drop),run$1(touchcancel(),dragApi.drop),run$1(touchmove(),(comp,simulatedEvent)=>{dragApi.move(simulatedEvent.event);})]);const getDataFrom=touches=>{const touch=touches[0];return Optional.some(SugarPosition(touch.clientX,touch.clientY));};const getData=event=>{const raw=event.raw;const touches=raw.touches;return touches.length===1?getDataFrom(touches):Optional.none();};const getDelta=(old,nu)=>SugarPosition(nu.left-old.left,nu.top-old.top);var TouchData=/*#__PURE__*/Object.freeze({__proto__:null,getData:getData,getDelta:getDelta});const events$1=(dragConfig,dragState,updateStartState)=>{const blockerSingleton=value$2();const stopBlocking=component=>{stop(component,blockerSingleton.get(),dragConfig,dragState);blockerSingleton.clear();};return[run$1(touchstart(),(component,simulatedEvent)=>{simulatedEvent.stop();const stop=()=>stopBlocking(component);const dragApi={drop:stop,delayDrop:noop,forceDrop:stop,move:event=>{move(component,dragConfig,dragState,TouchData,event);}};const blocker=createComponent(component,dragConfig.blockerClass,init$1(dragApi));blockerSingleton.set(blocker);const start=()=>{updateStartState(component);instigate(component,blocker);};start();}),run$1(touchmove(),(component,simulatedEvent)=>{simulatedEvent.stop();move(component,dragConfig,dragState,TouchData,simulatedEvent.event);}),run$1(touchend(),(component,simulatedEvent)=>{simulatedEvent.stop();stopBlocking(component);}),run$1(touchcancel(),stopBlocking)];};const schema$4=[...schema$6,output$1('dragger',{handlers:handlers(events$1)})];const events=(dragConfig,dragState,updateStartState)=>[...events$2(dragConfig,dragState,updateStartState),...events$1(dragConfig,dragState,updateStartState)];const schema$3=[...schema$6,output$1('dragger',{handlers:handlers(events)})];const mouse=schema$5;const touch=schema$4;const mouseOrTouch=schema$3;var DraggingBranches=/*#__PURE__*/Object.freeze({__proto__:null,mouse:mouse,touch:touch,mouseOrTouch:mouseOrTouch});const init=()=>{let previous=Optional.none();let startData=Optional.none();const reset=()=>{previous=Optional.none();startData=Optional.none();};const calculateDelta=(mode,nu)=>{const result=previous.map(old=>mode.getDelta(old,nu));previous=Optional.some(nu);return result;};const update=(mode,dragEvent)=>mode.getData(dragEvent).bind(nuData=>calculateDelta(mode,nuData));const setStartData=data=>{startData=Optional.some(data);};const getStartData=()=>startData;const readState=constant$1({});return nu$8({readState,reset,update,getStartData,setStartData});};var DragState=/*#__PURE__*/Object.freeze({__proto__:null,init:init});const Dragging=createModes({branchKey:'mode',branches:DraggingBranches,name:'dragging',active:{events:(dragConfig,dragState)=>{const dragger=dragConfig.dragger;return dragger.handlers(dragConfig,dragState);}},extra:{snap:sConfig=>({sensor:sConfig.sensor,range:sConfig.range,output:sConfig.output,extra:Optional.from(sConfig.extra)})},state:DragState,apis:DraggingApis});const snapWidth=40;const snapOffset=snapWidth/2;const calcSnap=(selectorOpt,td,x,y,width,height)=>selectorOpt.fold(()=>Dragging.snap({sensor:absolute(x-snapOffset,y-snapOffset),range:SugarPosition(width,height),output:absolute(Optional.some(x),Optional.some(y)),extra:{td}}),selectorHandle=>{const sensorLeft=x-snapOffset;const sensorTop=y-snapOffset;const sensorWidth=snapWidth;const sensorHeight=snapWidth;const rect=selectorHandle.element.dom.getBoundingClientRect();return Dragging.snap({sensor:absolute(sensorLeft,sensorTop),range:SugarPosition(sensorWidth,sensorHeight),output:absolute(Optional.some(x-rect.width/2),Optional.some(y-rect.height/2)),extra:{td}});});const getSnapsConfig=(getSnapPoints,cell,onChange)=>{const isSameCell=(cellOpt,td)=>cellOpt.exists(currentTd=>eq(currentTd,td));return{getSnapPoints,leftAttr:'data-drag-left',topAttr:'data-drag-top',onSensor:(component,extra)=>{const td=extra.td;if(!isSameCell(cell.get(),td)){cell.set(td);onChange(td);}},mustSnap:true};};const createSelector=snaps=>record(Button.sketch({dom:{tag:'div',classes:['tox-selector']},buttonBehaviours:derive$1([Dragging.config({mode:'mouseOrTouch',blockerClass:'blocker',snaps}),Unselecting.config({})]),eventOrder:{mousedown:['dragging','alloy.base.behaviour'],touchstart:['dragging','alloy.base.behaviour']}}));const setup$4=(editor,sink)=>{const tlTds=Cell([]);const brTds=Cell([]);const isVisible=Cell(false);const startCell=value$2();const finishCell=value$2();const getTopLeftSnap=td=>{const box=absolute$2(td);return calcSnap(memTopLeft.getOpt(sink),td,box.x,box.y,box.width,box.height);};const getTopLeftSnaps=()=>map$2(tlTds.get(),td=>getTopLeftSnap(td));const getBottomRightSnap=td=>{const box=absolute$2(td);return calcSnap(memBottomRight.getOpt(sink),td,box.right,box.bottom,box.width,box.height);};const getBottomRightSnaps=()=>map$2(brTds.get(),td=>getBottomRightSnap(td));const topLeftSnaps=getSnapsConfig(getTopLeftSnaps,startCell,start=>{finishCell.get().each(finish=>{editor.dispatch('TableSelectorChange',{start,finish});});});const bottomRightSnaps=getSnapsConfig(getBottomRightSnaps,finishCell,finish=>{startCell.get().each(start=>{editor.dispatch('TableSelectorChange',{start,finish});});});const memTopLeft=createSelector(topLeftSnaps);const memBottomRight=createSelector(bottomRightSnaps);const topLeft=build$1(memTopLeft.asSpec());const bottomRight=build$1(memBottomRight.asSpec());const showOrHideHandle=(selector,cell,isAbove,isBelow)=>{const cellRect=cell.dom.getBoundingClientRect();remove$6(selector.element,'display');const viewportHeight=defaultView(SugarElement.fromDom(editor.getBody())).dom.innerHeight;const aboveViewport=isAbove(cellRect);const belowViewport=isBelow(cellRect,viewportHeight);if(aboveViewport||belowViewport){set$8(selector.element,'display','none');}};const snapTo=(selector,cell,getSnapConfig,pos)=>{const snap=getSnapConfig(cell);Dragging.snapTo(selector,snap);const isAbove=rect=>rect[pos]<0;const isBelow=(rect,viewportHeight)=>rect[pos]>viewportHeight;showOrHideHandle(selector,cell,isAbove,isBelow);};const snapTopLeft=cell=>snapTo(topLeft,cell,getTopLeftSnap,'top');const snapLastTopLeft=()=>startCell.get().each(snapTopLeft);const snapBottomRight=cell=>snapTo(bottomRight,cell,getBottomRightSnap,'bottom');const snapLastBottomRight=()=>finishCell.get().each(snapBottomRight);if(detect$1().deviceType.isTouch()){editor.on('TableSelectionChange',e=>{if(!isVisible.get()){attach(sink,topLeft);attach(sink,bottomRight);isVisible.set(true);}startCell.set(e.start);finishCell.set(e.finish);e.otherCells.each(otherCells=>{tlTds.set(otherCells.upOrLeftCells);brTds.set(otherCells.downOrRightCells);snapTopLeft(e.start);snapBottomRight(e.finish);});});editor.on('ResizeEditor ResizeWindow ScrollContent',()=>{snapLastTopLeft();snapLastBottomRight();});editor.on('TableSelectionClear',()=>{if(isVisible.get()){detach(topLeft);detach(bottomRight);isVisible.set(false);}startCell.clear();finishCell.clear();});}};var Logo=\"<svg width=\\\"50px\\\" height=\\\"16px\\\" viewBox=\\\"0 0 50 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n  <path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z\\\"/>\\n</svg>\\n\";const isHidden=elm=>elm.nodeName==='BR'||!!elm.getAttribute('data-mce-bogus')||elm.getAttribute('data-mce-type')==='bookmark';const renderElementPath=(editor,settings,providersBackstage)=>{var _a;const delimiter=(_a=settings.delimiter)!==null&&_a!==void 0?_a:'\\u203A';const renderElement=(name,element,index)=>Button.sketch({dom:{tag:'div',classes:['tox-statusbar__path-item'],attributes:{'data-index':index,'aria-level':index+1}},components:[text$1(name)],action:_btn=>{editor.focus();editor.selection.select(element);editor.nodeChanged();},buttonBehaviours:derive$1([DisablingConfigs.button(providersBackstage.isDisabled),receivingConfig()])});const renderDivider=()=>({dom:{tag:'div',classes:['tox-statusbar__path-divider'],attributes:{'aria-hidden':true}},components:[text$1(` ${delimiter} `)]});const renderPathData=data=>foldl(data,(acc,path,index)=>{const element=renderElement(path.name,path.element,index);if(index===0){return acc.concat([element]);}else{return acc.concat([renderDivider(),element]);}},[]);const updatePath=parents=>{const newPath=[];let i=parents.length;while(i-->0){const parent=parents[i];if(parent.nodeType===1&&!isHidden(parent)){const args=fireResolveName(editor,parent);if(!args.isDefaultPrevented()){newPath.push({name:args.name,element:parent});}if(args.isPropagationStopped()){break;}}}return newPath;};return{dom:{tag:'div',classes:['tox-statusbar__path'],attributes:{role:'navigation'}},behaviours:derive$1([Keying.config({mode:'flow',selector:'div[role=button]'}),Disabling.config({disabled:providersBackstage.isDisabled}),receivingConfig(),Tabstopping.config({}),Replacing.config({}),config('elementPathEvents',[runOnAttached((comp,_e)=>{editor.shortcuts.add('alt+F11','focus statusbar elementpath',()=>Keying.focusIn(comp));editor.on('NodeChange',e=>{const newPath=updatePath(e.parents);const newChildren=newPath.length>0?renderPathData(newPath):[];Replacing.set(comp,newChildren);});})])]),components:[]};};var ResizeTypes;(function(ResizeTypes){ResizeTypes[ResizeTypes['None']=0]='None';ResizeTypes[ResizeTypes['Both']=1]='Both';ResizeTypes[ResizeTypes['Vertical']=2]='Vertical';})(ResizeTypes||(ResizeTypes={}));const getDimensions=(editor,deltas,resizeType,originalHeight,originalWidth)=>{const dimensions={height:calcCappedSize(originalHeight+deltas.top,getMinHeightOption(editor),getMaxHeightOption(editor))};if(resizeType===ResizeTypes.Both){dimensions.width=calcCappedSize(originalWidth+deltas.left,getMinWidthOption(editor),getMaxWidthOption(editor));}return dimensions;};const resize=(editor,deltas,resizeType)=>{const container=SugarElement.fromDom(editor.getContainer());const dimensions=getDimensions(editor,deltas,resizeType,get$d(container),get$c(container));each(dimensions,(val,dim)=>{if(isNumber(val)){set$8(container,dim,numToPx(val));}});fireResizeEditor(editor);};const getResizeType=editor=>{const resize=getResize(editor);if(resize===false){return ResizeTypes.None;}else if(resize==='both'){return ResizeTypes.Both;}else{return ResizeTypes.Vertical;}};const keyboardHandler=(editor,resizeType,x,y)=>{const scale=20;const delta=SugarPosition(x*scale,y*scale);resize(editor,delta,resizeType);return Optional.some(true);};const renderResizeHandler=(editor,providersBackstage)=>{const resizeType=getResizeType(editor);if(resizeType===ResizeTypes.None){return Optional.none();}return Optional.some(render$3('resize-handle',{tag:'div',classes:['tox-statusbar__resize-handle'],attributes:{title:providersBackstage.translate('Resize')},behaviours:[Dragging.config({mode:'mouse',repositionTarget:false,onDrag:(_comp,_target,delta)=>resize(editor,delta,resizeType),blockerClass:'tox-blocker'}),Keying.config({mode:'special',onLeft:()=>keyboardHandler(editor,resizeType,-1,0),onRight:()=>keyboardHandler(editor,resizeType,1,0),onUp:()=>keyboardHandler(editor,resizeType,0,-1),onDown:()=>keyboardHandler(editor,resizeType,0,1)}),Tabstopping.config({}),Focusing.config({})]},providersBackstage.icons));};const renderWordCount=(editor,providersBackstage)=>{const replaceCountText=(comp,count,mode)=>Replacing.set(comp,[text$1(providersBackstage.translate(['{0} '+mode,count[mode]]))]);return Button.sketch({dom:{tag:'button',classes:['tox-statusbar__wordcount']},components:[],buttonBehaviours:derive$1([DisablingConfigs.button(providersBackstage.isDisabled),receivingConfig(),Tabstopping.config({}),Replacing.config({}),Representing.config({store:{mode:'memory',initialValue:{mode:'words',count:{words:0,characters:0}}}}),config('wordcount-events',[runOnExecute$1(comp=>{const currentVal=Representing.getValue(comp);const newMode=currentVal.mode==='words'?'characters':'words';Representing.setValue(comp,{mode:newMode,count:currentVal.count});replaceCountText(comp,currentVal.count,newMode);}),runOnAttached(comp=>{editor.on('wordCountUpdate',e=>{const{mode}=Representing.getValue(comp);Representing.setValue(comp,{mode,count:e.wordCount});replaceCountText(comp,e.wordCount,mode);});})])]),eventOrder:{[execute$5()]:['disabling','alloy.base.behaviour','wordcount-events']}});};const renderStatusbar=(editor,providersBackstage)=>{const renderBranding=()=>{return{dom:{tag:'span',classes:['tox-statusbar__branding']},components:[{dom:{tag:'a',attributes:{'href':'https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6','rel':'noopener','target':'_blank','aria-label':global$8.translate(['Powered by {0}','Tiny'])},innerHtml:Logo.trim()},behaviours:derive$1([Focusing.config({})])}]};};const getTextComponents=()=>{const components=[];if(useElementPath(editor)){components.push(renderElementPath(editor,{},providersBackstage));}if(editor.hasPlugin('wordcount')){components.push(renderWordCount(editor,providersBackstage));}if(useBranding(editor)){components.push(renderBranding());}if(components.length>0){return[{dom:{tag:'div',classes:['tox-statusbar__text-container']},components}];}return[];};const getComponents=()=>{const components=getTextComponents();const resizeHandler=renderResizeHandler(editor,providersBackstage);return components.concat(resizeHandler.toArray());};return{dom:{tag:'div',classes:['tox-statusbar']},components:getComponents()};};const getLazyMothership=singleton=>singleton.get().getOrDie('UI has not been rendered');const setup$3=editor=>{const isInline=editor.inline;const mode=isInline?Inline:Iframe;const header=isStickyToolbar(editor)?StickyHeader:StaticHeader;const lazySink=value$2();const lazyOuterContainer=value$2();const lazyMothership=value$2();const lazyUiMothership=value$2();const platform=detect$1();const isTouch=platform.deviceType.isTouch();const touchPlatformClass='tox-platform-touch';const deviceClasses=isTouch?[touchPlatformClass]:[];const isToolbarBottom=isToolbarLocationBottom(editor);const toolbarMode=getToolbarMode(editor);const memAnchorBar=record({dom:{tag:'div',classes:['tox-anchorbar']}});const lazyHeader=()=>lazyOuterContainer.get().bind(OuterContainer.getHeader);const lazySinkResult=()=>Result.fromOption(lazySink.get(),'UI has not been rendered');const lazyAnchorBar=()=>lazyOuterContainer.get().bind(container=>memAnchorBar.getOpt(container)).getOrDie('Could not find a anchor bar element');const lazyToolbar=()=>lazyOuterContainer.get().bind(container=>OuterContainer.getToolbar(container)).getOrDie('Could not find more toolbar element');const lazyThrobber=()=>lazyOuterContainer.get().bind(container=>OuterContainer.getThrobber(container)).getOrDie('Could not find throbber element');const backstage=init$7(lazySinkResult,editor,lazyAnchorBar);const makeHeaderPart=()=>{const verticalDirAttributes={attributes:{[Attribute]:isToolbarBottom?AttributeValue.BottomToTop:AttributeValue.TopToBottom}};const partMenubar=OuterContainer.parts.menubar({dom:{tag:'div',classes:['tox-menubar']},backstage,onEscape:()=>{editor.focus();}});const partToolbar=OuterContainer.parts.toolbar({dom:{tag:'div',classes:['tox-toolbar']},getSink:lazySinkResult,providers:backstage.shared.providers,onEscape:()=>{editor.focus();},type:toolbarMode,lazyToolbar,lazyHeader:()=>lazyHeader().getOrDie('Could not find header element'),...verticalDirAttributes});const partMultipleToolbar=OuterContainer.parts['multiple-toolbar']({dom:{tag:'div',classes:['tox-toolbar-overlord']},providers:backstage.shared.providers,onEscape:()=>{editor.focus();},type:toolbarMode});const hasMultipleToolbar=isMultipleToolbars(editor);const hasToolbar=isToolbarEnabled(editor);const hasMenubar=isMenubarEnabled(editor);const shouldHavePromotion=promotionEnabled(editor);const partPromotion=makePromotion();const getPartToolbar=()=>{if(hasMultipleToolbar){return[partMultipleToolbar];}else if(hasToolbar){return[partToolbar];}else{return[];}};const menubarCollection=shouldHavePromotion?[partPromotion,partMenubar]:[partMenubar];return OuterContainer.parts.header({dom:{tag:'div',classes:['tox-editor-header'],...verticalDirAttributes},components:flatten([hasMenubar?menubarCollection:[],getPartToolbar(),useFixedContainer(editor)?[]:[memAnchorBar.asSpec()]]),sticky:isStickyToolbar(editor),editor,sharedBackstage:backstage.shared});};const makePromotion=()=>{return OuterContainer.parts.promotion({dom:{tag:'div',classes:['tox-promotion']}});};const makeSidebarDefinition=()=>{const partSocket=OuterContainer.parts.socket({dom:{tag:'div',classes:['tox-edit-area']}});const partSidebar=OuterContainer.parts.sidebar({dom:{tag:'div',classes:['tox-sidebar']}});return{dom:{tag:'div',classes:['tox-sidebar-wrap']},components:[partSocket,partSidebar]};};const renderSink=()=>{const uiContainer=getUiContainer(editor);const isGridUiContainer=eq(body(),uiContainer)&&get$e(uiContainer,'display')==='grid';const sinkSpec={dom:{tag:'div',classes:['tox','tox-silver-sink','tox-tinymce-aux'].concat(deviceClasses),attributes:{...(global$8.isRtl()?{dir:'rtl'}:{})}},behaviours:derive$1([Positioning.config({useFixed:()=>header.isDocked(lazyHeader)})])};const reactiveWidthSpec={dom:{styles:{width:document.body.clientWidth+'px'}},events:derive$2([run$1(windowResize(),comp=>{set$8(comp.element,'width',document.body.clientWidth+'px');})])};const sink=build$1(deepMerge(sinkSpec,isGridUiContainer?reactiveWidthSpec:{}));const uiMothership=takeover(sink);lazySink.set(sink);lazyUiMothership.set(uiMothership);return{sink,uiMothership};};const renderContainer=()=>{const partHeader=makeHeaderPart();const sidebarContainer=makeSidebarDefinition();const partThrobber=OuterContainer.parts.throbber({dom:{tag:'div',classes:['tox-throbber']},backstage});const statusbar=useStatusBar(editor)&&!isInline?Optional.some(renderStatusbar(editor,backstage.shared.providers)):Optional.none();const editorComponents=flatten([isToolbarBottom?[]:[partHeader],isInline?[]:[sidebarContainer],isToolbarBottom?[partHeader]:[]]);const editorContainer={dom:{tag:'div',classes:['tox-editor-container']},components:editorComponents};const containerComponents=flatten([[editorContainer],isInline?[]:statusbar.toArray(),[partThrobber]]);const isHidden=isDistractionFree(editor);const attributes={role:'application',...(global$8.isRtl()?{dir:'rtl'}:{}),...(isHidden?{'aria-hidden':'true'}:{})};const outerContainer=build$1(OuterContainer.sketch({dom:{tag:'div',classes:['tox','tox-tinymce'].concat(isInline?['tox-tinymce-inline']:[]).concat(isToolbarBottom?['tox-tinymce--toolbar-bottom']:[]).concat(deviceClasses),styles:{visibility:'hidden',...(isHidden?{opacity:'0',border:'0'}:{})},attributes},components:containerComponents,behaviours:derive$1([receivingConfig(),Disabling.config({disableClass:'tox-tinymce--disabled'}),Keying.config({mode:'cyclic',selector:'.tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle'})])}));const mothership=takeover(outerContainer);lazyOuterContainer.set(outerContainer);lazyMothership.set(mothership);return{mothership,outerContainer};};const setEditorSize=outerContainer=>{const parsedHeight=numToPx(getHeightWithFallback(editor));const parsedWidth=numToPx(getWidthWithFallback(editor));if(!editor.inline){if(isValidValue('div','width',parsedWidth)){set$8(outerContainer.element,'width',parsedWidth);}if(isValidValue('div','height',parsedHeight)){set$8(outerContainer.element,'height',parsedHeight);}else{set$8(outerContainer.element,'height','400px');}}return parsedHeight;};const setupShortcutsAndCommands=outerContainer=>{editor.addShortcut('alt+F9','focus menubar',()=>{OuterContainer.focusMenubar(outerContainer);});editor.addShortcut('alt+F10','focus toolbar',()=>{OuterContainer.focusToolbar(outerContainer);});editor.addCommand('ToggleToolbarDrawer',()=>{OuterContainer.toggleToolbarDrawer(outerContainer);});editor.addQueryStateHandler('ToggleToolbarDrawer',()=>OuterContainer.isToolbarDrawerToggled(outerContainer));};const renderUI=()=>{const{mothership,outerContainer}=renderContainer();const{uiMothership,sink}=renderSink();map$1(getToolbarGroups(editor),(toolbarGroupButtonConfig,name)=>{editor.ui.registry.addGroupToolbarButton(name,toolbarGroupButtonConfig);});const{buttons,menuItems,contextToolbars,sidebars}=editor.ui.registry.getAll();const toolbarOpt=getMultipleToolbarsOption(editor);const rawUiConfig={menuItems,menus:getMenus(editor),menubar:getMenubar(editor),toolbar:toolbarOpt.getOrThunk(()=>getToolbar(editor)),allowToolbarGroups:toolbarMode===ToolbarMode$1.floating,buttons,sidebar:sidebars};setupShortcutsAndCommands(outerContainer);setup$b(editor,mothership,uiMothership);header.setup(editor,backstage.shared,lazyHeader);setup$6(editor,backstage);setup$5(editor,lazySinkResult,backstage);setup$8(editor);setup$7(editor,lazyThrobber,backstage.shared);register$9(editor,contextToolbars,sink,{backstage});setup$4(editor,sink);const elm=editor.getElement();const height=setEditorSize(outerContainer);const uiComponents={mothership,uiMothership,outerContainer,sink};const args={targetNode:elm,height};return mode.render(editor,uiComponents,rawUiConfig,backstage,args);};const getMothership=()=>getLazyMothership(lazyMothership);const getUiMothership=()=>getLazyMothership(lazyUiMothership);return{getMothership,getUiMothership,backstage,renderUI};};const describedBy=(describedElement,describeElement)=>{const describeId=Optional.from(get$f(describedElement,'id')).fold(()=>{const id=generate$6('dialog-describe');set$9(describeElement,'id',id);return id;},identity);set$9(describedElement,'aria-describedby',describeId);};const labelledBy=(labelledElement,labelElement)=>{const labelId=getOpt(labelledElement,'id').fold(()=>{const id=generate$6('dialog-label');set$9(labelElement,'id',id);return id;},identity);set$9(labelledElement,'aria-labelledby',labelId);};const schema$2=constant$1([required$1('lazySink'),option$3('dragBlockClass'),defaultedFunction('getBounds',win),defaulted('useTabstopAt',always),defaulted('eventOrder',{}),field('modalBehaviours',[Keying]),onKeyboardHandler('onExecute'),onStrictKeyboardHandler('onEscape')]);const basic={sketch:identity};const parts$2=constant$1([optional({name:'draghandle',overrides:(detail,spec)=>{return{behaviours:derive$1([Dragging.config({mode:'mouse',getTarget:handle=>{return ancestor(handle,'[role=\"dialog\"]').getOr(handle);},blockerClass:detail.dragBlockClass.getOrDie(new Error('The drag blocker class was not specified for a dialog with a drag handle: \\n'+JSON.stringify(spec,null,2)).message),getBounds:detail.getDragBounds})])};}}),required({schema:[required$1('dom')],name:'title'}),required({factory:basic,schema:[required$1('dom')],name:'close'}),required({factory:basic,schema:[required$1('dom')],name:'body'}),optional({factory:basic,schema:[required$1('dom')],name:'footer'}),external({factory:{sketch:(spec,detail)=>({...spec,dom:detail.dom,components:detail.components})},schema:[defaulted('dom',{tag:'div',styles:{position:'fixed',left:'0px',top:'0px',right:'0px',bottom:'0px'}}),defaulted('components',[])],name:'blocker'})]);const factory$4=(detail,components,spec,externals)=>{const dialogComp=value$2();const showDialog=dialog=>{dialogComp.set(dialog);const sink=detail.lazySink(dialog).getOrDie();const externalBlocker=externals.blocker();const blocker=sink.getSystem().build({...externalBlocker,components:externalBlocker.components.concat([premade(dialog)]),behaviours:derive$1([Focusing.config({}),config('dialog-blocker-events',[runOnSource(focusin(),()=>{Keying.focusIn(dialog);})])])});attach(sink,blocker);Keying.focusIn(dialog);};const hideDialog=dialog=>{dialogComp.clear();parent(dialog.element).each(blockerDom=>{dialog.getSystem().getByDom(blockerDom).each(blocker=>{detach(blocker);});});};const getDialogBody=dialog=>getPartOrDie(dialog,detail,'body');const getDialogFooter=dialog=>getPartOrDie(dialog,detail,'footer');const setBusy=(dialog,getBusySpec)=>{Blocking.block(dialog,getBusySpec);};const setIdle=dialog=>{Blocking.unblock(dialog);};const modalEventsId=generate$6('modal-events');const eventOrder={...detail.eventOrder,[attachedToDom()]:[modalEventsId].concat(detail.eventOrder['alloy.system.attached']||[])};return{uid:detail.uid,dom:detail.dom,components,apis:{show:showDialog,hide:hideDialog,getBody:getDialogBody,getFooter:getDialogFooter,setIdle,setBusy},eventOrder,domModification:{attributes:{'role':'dialog','aria-modal':'true'}},behaviours:augment(detail.modalBehaviours,[Replacing.config({}),Keying.config({mode:'cyclic',onEnter:detail.onExecute,onEscape:detail.onEscape,useTabstopAt:detail.useTabstopAt}),Blocking.config({getRoot:dialogComp.get}),config(modalEventsId,[runOnAttached(c=>{labelledBy(c.element,getPartOrDie(c,detail,'title').element);describedBy(c.element,getPartOrDie(c,detail,'body').element);})])])};};const ModalDialog=composite({name:'ModalDialog',configFields:schema$2(),partFields:parts$2(),factory:factory$4,apis:{show:(apis,dialog)=>{apis.show(dialog);},hide:(apis,dialog)=>{apis.hide(dialog);},getBody:(apis,dialog)=>apis.getBody(dialog),getFooter:(apis,dialog)=>apis.getFooter(dialog),setBusy:(apis,dialog,getBusySpec)=>{apis.setBusy(dialog,getBusySpec);},setIdle:(apis,dialog)=>{apis.setIdle(dialog);}}});const dialogToggleMenuItemSchema=objOf([type,name$1].concat(commonMenuItemFields));const dialogToggleMenuItemDataProcessor=boolean;const baseFooterButtonFields=[generatedName('button'),optionalIcon,defaultedStringEnum('align','end',['start','end']),primary,enabled,optionStringEnum('buttonType',['primary','secondary'])];const dialogFooterButtonFields=[...baseFooterButtonFields,text];const normalFooterButtonFields=[requiredStringEnum('type',['submit','cancel','custom']),...dialogFooterButtonFields];const menuFooterButtonFields=[requiredStringEnum('type',['menu']),optionalText,optionalTooltip,optionalIcon,requiredArrayOf('items',dialogToggleMenuItemSchema),...baseFooterButtonFields];const dialogFooterButtonSchema=choose$1('type',{submit:normalFooterButtonFields,cancel:normalFooterButtonFields,custom:normalFooterButtonFields,menu:menuFooterButtonFields});const alertBannerFields=[type,text,requiredStringEnum('level',['info','warn','error','success']),icon,defaulted('url','')];const alertBannerSchema=objOf(alertBannerFields);const createBarFields=itemsField=>[type,itemsField];const buttonFields=[type,text,enabled,generatedName('button'),optionalIcon,borderless,optionStringEnum('buttonType',['primary','secondary','toolbar']),primary];const buttonSchema=objOf(buttonFields);const formComponentFields=[type,name$1];const formComponentWithLabelFields=formComponentFields.concat([optionalLabel]);const checkboxFields=formComponentFields.concat([label,enabled]);const checkboxSchema=objOf(checkboxFields);const checkboxDataProcessor=boolean;const collectionFields=formComponentWithLabelFields.concat([defaultedColumns('auto')]);const collectionSchema=objOf(collectionFields);const collectionDataProcessor=arrOfObj([value$1,text,icon]);const colorInputFields=formComponentWithLabelFields;const colorInputSchema=objOf(colorInputFields);const colorInputDataProcessor=string;const colorPickerFields=formComponentWithLabelFields;const colorPickerSchema=objOf(colorPickerFields);const colorPickerDataProcessor=string;const customEditorFields=formComponentFields.concat([defaultedString('tag','textarea'),requiredString('scriptId'),requiredString('scriptUrl'),defaultedPostMsg('settings',undefined)]);const customEditorFieldsOld=formComponentFields.concat([defaultedString('tag','textarea'),requiredFunction('init')]);const customEditorSchema=valueOf(v=>asRaw('customeditor.old',objOfOnly(customEditorFieldsOld),v).orThunk(()=>asRaw('customeditor.new',objOfOnly(customEditorFields),v)));const customEditorDataProcessor=string;const dropZoneFields=formComponentWithLabelFields;const dropZoneSchema=objOf(dropZoneFields);const dropZoneDataProcessor=arrOfVal();const createGridFields=itemsField=>[type,requiredNumber('columns'),itemsField];const htmlPanelFields=[type,requiredString('html'),defaultedStringEnum('presets','presentation',['presentation','document'])];const htmlPanelSchema=objOf(htmlPanelFields);const iframeFields=formComponentWithLabelFields.concat([defaultedBoolean('sandboxed',true),defaultedBoolean('transparent',true)]);const iframeSchema=objOf(iframeFields);const iframeDataProcessor=string;const imagePreviewSchema=objOf(formComponentFields.concat([optionString('height')]));const imagePreviewDataProcessor=objOf([requiredString('url'),optionNumber('zoom'),optionNumber('cachedWidth'),optionNumber('cachedHeight')]);const inputFields=formComponentWithLabelFields.concat([optionString('inputMode'),optionString('placeholder'),defaultedBoolean('maximized',false),enabled]);const inputSchema=objOf(inputFields);const inputDataProcessor=string;const createLabelFields=itemsField=>[type,label,itemsField];const listBoxSingleItemFields=[text,value$1];const listBoxNestedItemFields=[text,requiredArrayOf('items',thunkOf('items',()=>listBoxItemSchema))];const listBoxItemSchema=oneOf([objOf(listBoxSingleItemFields),objOf(listBoxNestedItemFields)]);const listBoxFields=formComponentWithLabelFields.concat([requiredArrayOf('items',listBoxItemSchema),enabled]);const listBoxSchema=objOf(listBoxFields);const listBoxDataProcessor=string;const selectBoxFields=formComponentWithLabelFields.concat([requiredArrayOfObj('items',[text,value$1]),defaultedNumber('size',1),enabled]);const selectBoxSchema=objOf(selectBoxFields);const selectBoxDataProcessor=string;const sizeInputFields=formComponentWithLabelFields.concat([defaultedBoolean('constrain',true),enabled]);const sizeInputSchema=objOf(sizeInputFields);const sizeInputDataProcessor=objOf([requiredString('width'),requiredString('height')]);const sliderFields=formComponentFields.concat([label,defaultedNumber('min',0),defaultedNumber('max',0)]);const sliderSchema=objOf(sliderFields);const sliderInputDataProcessor=number;const tableFields=[type,requiredArrayOf('header',string),requiredArrayOf('cells',arrOf(string))];const tableSchema=objOf(tableFields);const textAreaFields=formComponentWithLabelFields.concat([optionString('placeholder'),defaultedBoolean('maximized',false),enabled]);const textAreaSchema=objOf(textAreaFields);const textAreaDataProcessor=string;const urlInputFields=formComponentWithLabelFields.concat([defaultedStringEnum('filetype','file',['image','media','file']),enabled]);const urlInputSchema=objOf(urlInputFields);const urlInputDataProcessor=objOf([value$1,defaultedMeta]);const createItemsField=name=>field$1('items','items',required$2(),arrOf(valueOf(v=>asRaw(`Checking item of ${name}`,itemSchema,v).fold(sErr=>Result.error(formatError(sErr)),passValue=>Result.value(passValue)))));const itemSchema=valueThunk(()=>choose$2('type',{alertbanner:alertBannerSchema,bar:objOf(createBarFields(createItemsField('bar'))),button:buttonSchema,checkbox:checkboxSchema,colorinput:colorInputSchema,colorpicker:colorPickerSchema,dropzone:dropZoneSchema,grid:objOf(createGridFields(createItemsField('grid'))),iframe:iframeSchema,input:inputSchema,listbox:listBoxSchema,selectbox:selectBoxSchema,sizeinput:sizeInputSchema,slider:sliderSchema,textarea:textAreaSchema,urlinput:urlInputSchema,customeditor:customEditorSchema,htmlpanel:htmlPanelSchema,imagepreview:imagePreviewSchema,collection:collectionSchema,label:objOf(createLabelFields(createItemsField('label'))),table:tableSchema,panel:panelSchema}));const panelFields=[type,defaulted('classes',[]),requiredArrayOf('items',itemSchema)];const panelSchema=objOf(panelFields);const tabFields=[generatedName('tab'),title,requiredArrayOf('items',itemSchema)];const tabPanelFields=[type,requiredArrayOfObj('tabs',tabFields)];const tabPanelSchema=objOf(tabPanelFields);const dialogButtonFields=dialogFooterButtonFields;const dialogButtonSchema=dialogFooterButtonSchema;const dialogSchema=objOf([requiredString('title'),requiredOf('body',choose$2('type',{panel:panelSchema,tabpanel:tabPanelSchema})),defaultedString('size','normal'),requiredArrayOf('buttons',dialogButtonSchema),defaulted('initialData',{}),defaultedFunction('onAction',noop),defaultedFunction('onChange',noop),defaultedFunction('onSubmit',noop),defaultedFunction('onClose',noop),defaultedFunction('onCancel',noop),defaultedFunction('onTabChange',noop)]);const createDialog=spec=>asRaw('dialog',dialogSchema,spec);const urlDialogButtonSchema=objOf([requiredStringEnum('type',['cancel','custom']),...dialogButtonFields]);const urlDialogSchema=objOf([requiredString('title'),requiredString('url'),optionNumber('height'),optionNumber('width'),optionArrayOf('buttons',urlDialogButtonSchema),defaultedFunction('onAction',noop),defaultedFunction('onCancel',noop),defaultedFunction('onClose',noop),defaultedFunction('onMessage',noop)]);const createUrlDialog=spec=>asRaw('dialog',urlDialogSchema,spec);const getAllObjects=obj=>{if(isObject(obj)){return[obj].concat(bind$3(values(obj),getAllObjects));}else if(isArray(obj)){return bind$3(obj,getAllObjects);}else{return[];}};const isNamedItem=obj=>isString(obj.type)&&isString(obj.name);const dataProcessors={checkbox:checkboxDataProcessor,colorinput:colorInputDataProcessor,colorpicker:colorPickerDataProcessor,dropzone:dropZoneDataProcessor,input:inputDataProcessor,iframe:iframeDataProcessor,imagepreview:imagePreviewDataProcessor,selectbox:selectBoxDataProcessor,sizeinput:sizeInputDataProcessor,slider:sliderInputDataProcessor,listbox:listBoxDataProcessor,size:sizeInputDataProcessor,textarea:textAreaDataProcessor,urlinput:urlInputDataProcessor,customeditor:customEditorDataProcessor,collection:collectionDataProcessor,togglemenuitem:dialogToggleMenuItemDataProcessor};const getDataProcessor=item=>Optional.from(dataProcessors[item.type]);const getNamedItems=structure=>filter$2(getAllObjects(structure),isNamedItem);const createDataValidator=structure=>{const namedItems=getNamedItems(structure);const fields=bind$3(namedItems,item=>getDataProcessor(item).fold(()=>[],schema=>[requiredOf(item.name,schema)]));return objOf(fields);};const extract=structure=>{var _a;const internalDialog=getOrDie(createDialog(structure));const dataValidator=createDataValidator(structure);const initialData=(_a=structure.initialData)!==null&&_a!==void 0?_a:{};return{internalDialog,dataValidator,initialData};};const DialogManager={open:(factory,structure)=>{const extraction=extract(structure);return factory(extraction.internalDialog,extraction.initialData,extraction.dataValidator);},openUrl:(factory,structure)=>{const internalDialog=getOrDie(createUrlDialog(structure));return factory(internalDialog);},redial:structure=>extract(structure)};const toValidValues=values=>{const errors=[];const result={};each(values,(value,name)=>{value.fold(()=>{errors.push(name);},v=>{result[name]=v;});});return errors.length>0?Result.error(errors):Result.value(result);};const renderBodyPanel=(spec,dialogData,backstage)=>{const memForm=record(Form.sketch(parts=>({dom:{tag:'div',classes:['tox-form'].concat(spec.classes)},components:map$2(spec.items,item=>interpretInForm(parts,item,dialogData,backstage))})));return{dom:{tag:'div',classes:['tox-dialog__body']},components:[{dom:{tag:'div',classes:['tox-dialog__body-content']},components:[memForm.asSpec()]}],behaviours:derive$1([Keying.config({mode:'acyclic',useTabstopAt:not(isPseudoStop)}),ComposingConfigs.memento(memForm),RepresentingConfigs.memento(memForm,{postprocess:formValue=>toValidValues(formValue).fold(err=>{console.error(err);return{};},identity)})])};};const factory$3=(detail,_spec)=>({uid:detail.uid,dom:detail.dom,components:detail.components,events:events$a(detail.action),behaviours:augment(detail.tabButtonBehaviours,[Focusing.config({}),Keying.config({mode:'execution',useSpace:true,useEnter:true}),Representing.config({store:{mode:'memory',initialValue:detail.value}})]),domModification:detail.domModification});const TabButton=single({name:'TabButton',configFields:[defaulted('uid',undefined),required$1('value'),field$1('dom','dom',mergeWithThunk(()=>({attributes:{'role':'tab','id':generate$6('aria'),'aria-selected':'false'}})),anyValue()),option$3('action'),defaulted('domModification',{}),field('tabButtonBehaviours',[Focusing,Keying,Representing]),required$1('view')],factory:factory$3});const schema$1=constant$1([required$1('tabs'),required$1('dom'),defaulted('clickToDismiss',false),field('tabbarBehaviours',[Highlighting,Keying]),markers$1(['tabClass','selectedClass'])]);const tabsPart=group({factory:TabButton,name:'tabs',unit:'tab',overrides:barDetail=>{const dismissTab$1=(tabbar,button)=>{Highlighting.dehighlight(tabbar,button);emitWith(tabbar,dismissTab(),{tabbar,button});};const changeTab$1=(tabbar,button)=>{Highlighting.highlight(tabbar,button);emitWith(tabbar,changeTab(),{tabbar,button});};return{action:button=>{const tabbar=button.getSystem().getByUid(barDetail.uid).getOrDie();const activeButton=Highlighting.isHighlighted(tabbar,button);const response=(()=>{if(activeButton&&barDetail.clickToDismiss){return dismissTab$1;}else if(!activeButton){return changeTab$1;}else{return noop;}})();response(tabbar,button);},domModification:{classes:[barDetail.markers.tabClass]}};}});const parts$1=constant$1([tabsPart]);const factory$2=(detail,components,_spec,_externals)=>({'uid':detail.uid,'dom':detail.dom,components,'debug.sketcher':'Tabbar','domModification':{attributes:{role:'tablist'}},'behaviours':augment(detail.tabbarBehaviours,[Highlighting.config({highlightClass:detail.markers.selectedClass,itemClass:detail.markers.tabClass,onHighlight:(tabbar,tab)=>{set$9(tab.element,'aria-selected','true');},onDehighlight:(tabbar,tab)=>{set$9(tab.element,'aria-selected','false');}}),Keying.config({mode:'flow',getInitial:tabbar=>{return Highlighting.getHighlighted(tabbar).map(tab=>tab.element);},selector:'.'+detail.markers.tabClass,executeOnMove:true})])});const Tabbar=composite({name:'Tabbar',configFields:schema$1(),partFields:parts$1(),factory:factory$2});const factory$1=(detail,_spec)=>({uid:detail.uid,dom:detail.dom,behaviours:augment(detail.tabviewBehaviours,[Replacing.config({})]),domModification:{attributes:{role:'tabpanel'}}});const Tabview=single({name:'Tabview',configFields:[field('tabviewBehaviours',[Replacing])],factory:factory$1});const schema=constant$1([defaulted('selectFirst',true),onHandler('onChangeTab'),onHandler('onDismissTab'),defaulted('tabs',[]),field('tabSectionBehaviours',[])]);const barPart=required({factory:Tabbar,schema:[required$1('dom'),requiredObjOf('markers',[required$1('tabClass'),required$1('selectedClass')])],name:'tabbar',defaults:detail=>{return{tabs:detail.tabs};}});const viewPart=required({factory:Tabview,name:'tabview'});const parts=constant$1([barPart,viewPart]);const factory=(detail,components,_spec,_externals)=>{const changeTab$1=button=>{const tabValue=Representing.getValue(button);getPart(button,detail,'tabview').each(tabview=>{const tabWithValue=find$5(detail.tabs,t=>t.value===tabValue);tabWithValue.each(tabData=>{const panel=tabData.view();getOpt(button.element,'id').each(id=>{set$9(tabview.element,'aria-labelledby',id);});Replacing.set(tabview,panel);detail.onChangeTab(tabview,button,panel);});});};const changeTabBy=(section,byPred)=>{getPart(section,detail,'tabbar').each(tabbar=>{byPred(tabbar).each(emitExecute);});};return{uid:detail.uid,dom:detail.dom,components,behaviours:get$3(detail.tabSectionBehaviours),events:derive$2(flatten([detail.selectFirst?[runOnAttached((section,_simulatedEvent)=>{changeTabBy(section,Highlighting.getFirst);})]:[],[run$1(changeTab(),(section,simulatedEvent)=>{const button=simulatedEvent.event.button;changeTab$1(button);}),run$1(dismissTab(),(section,simulatedEvent)=>{const button=simulatedEvent.event.button;detail.onDismissTab(section,button);})]])),apis:{getViewItems:section=>{return getPart(section,detail,'tabview').map(tabview=>Replacing.contents(tabview)).getOr([]);},showTab:(section,tabKey)=>{const getTabIfNotActive=tabbar=>{const candidates=Highlighting.getCandidates(tabbar);const optTab=find$5(candidates,c=>Representing.getValue(c)===tabKey);return optTab.filter(tab=>!Highlighting.isHighlighted(tabbar,tab));};changeTabBy(section,getTabIfNotActive);}}};};const TabSection=composite({name:'TabSection',configFields:schema(),partFields:parts(),factory,apis:{getViewItems:(apis,component)=>apis.getViewItems(component),showTab:(apis,component,tabKey)=>{apis.showTab(component,tabKey);}}});const measureHeights=(allTabs,tabview,tabviewComp)=>map$2(allTabs,(_tab,i)=>{Replacing.set(tabviewComp,allTabs[i].view());const rect=tabview.dom.getBoundingClientRect();Replacing.set(tabviewComp,[]);return rect.height;});const getMaxHeight=heights=>head(sort(heights,(a,b)=>{if(a>b){return-1;}else if(a<b){return+1;}else{return 0;}}));const getMaxTabviewHeight=(dialog,tabview,tablist)=>{const documentElement$1=documentElement(dialog).dom;const rootElm=ancestor(dialog,'.tox-dialog-wrap').getOr(dialog);const isFixed=get$e(rootElm,'position')==='fixed';let maxHeight;if(isFixed){maxHeight=Math.max(documentElement$1.clientHeight,window.innerHeight);}else{maxHeight=Math.max(documentElement$1.offsetHeight,documentElement$1.scrollHeight);}const tabviewHeight=get$d(tabview);const isTabListBeside=tabview.dom.offsetLeft>=tablist.dom.offsetLeft+get$c(tablist);const currentTabHeight=isTabListBeside?Math.max(get$d(tablist),tabviewHeight):tabviewHeight;const dialogTopMargin=parseInt(get$e(dialog,'margin-top'),10)||0;const dialogBottomMargin=parseInt(get$e(dialog,'margin-bottom'),10)||0;const dialogHeight=get$d(dialog)+dialogTopMargin+dialogBottomMargin;const chromeHeight=dialogHeight-currentTabHeight;return maxHeight-chromeHeight;};const showTab=(allTabs,comp)=>{head(allTabs).each(tab=>TabSection.showTab(comp,tab.value));};const setTabviewHeight=(tabview,height)=>{set$8(tabview,'height',height+'px');set$8(tabview,'flex-basis',height+'px');};const updateTabviewHeight=(dialogBody,tabview,maxTabHeight)=>{ancestor(dialogBody,'[role=\"dialog\"]').each(dialog=>{descendant(dialog,'[role=\"tablist\"]').each(tablist=>{maxTabHeight.get().map(height=>{set$8(tabview,'height','0');set$8(tabview,'flex-basis','0');return Math.min(height,getMaxTabviewHeight(dialog,tabview,tablist));}).each(height=>{setTabviewHeight(tabview,height);});});});};const getTabview=dialog=>descendant(dialog,'[role=\"tabpanel\"]');const smartMode=allTabs=>{const maxTabHeight=value$2();const extraEvents=[runOnAttached(comp=>{const dialog=comp.element;getTabview(dialog).each(tabview=>{set$8(tabview,'visibility','hidden');comp.getSystem().getByDom(tabview).toOptional().each(tabviewComp=>{const heights=measureHeights(allTabs,tabview,tabviewComp);const maxTabHeightOpt=getMaxHeight(heights);maxTabHeightOpt.fold(maxTabHeight.clear,maxTabHeight.set);});updateTabviewHeight(dialog,tabview,maxTabHeight);remove$6(tabview,'visibility');showTab(allTabs,comp);requestAnimationFrame(()=>{updateTabviewHeight(dialog,tabview,maxTabHeight);});});}),run$1(windowResize(),comp=>{const dialog=comp.element;getTabview(dialog).each(tabview=>{updateTabviewHeight(dialog,tabview,maxTabHeight);});}),run$1(formResizeEvent,(comp,_se)=>{const dialog=comp.element;getTabview(dialog).each(tabview=>{const oldFocus=active$1(getRootNode(tabview));set$8(tabview,'visibility','hidden');const oldHeight=getRaw(tabview,'height').map(h=>parseInt(h,10));remove$6(tabview,'height');remove$6(tabview,'flex-basis');const newHeight=tabview.dom.getBoundingClientRect().height;const hasGrown=oldHeight.forall(h=>newHeight>h);if(hasGrown){maxTabHeight.set(newHeight);updateTabviewHeight(dialog,tabview,maxTabHeight);}else{oldHeight.each(h=>{setTabviewHeight(tabview,h);});}remove$6(tabview,'visibility');oldFocus.each(focus$3);});})];const selectFirst=false;return{extraEvents,selectFirst};};const SendDataToSectionChannel='send-data-to-section';const SendDataToViewChannel='send-data-to-view';const renderTabPanel=(spec,dialogData,backstage)=>{const storedValue=Cell({});const updateDataWithForm=form=>{const formData=Representing.getValue(form);const validData=toValidValues(formData).getOr({});const currentData=storedValue.get();const newData=deepMerge(currentData,validData);storedValue.set(newData);};const setDataOnForm=form=>{const tabData=storedValue.get();Representing.setValue(form,tabData);};const oldTab=Cell(null);const allTabs=map$2(spec.tabs,tab=>{return{value:tab.name,dom:{tag:'div',classes:['tox-dialog__body-nav-item']},components:[text$1(backstage.shared.providers.translate(tab.title))],view:()=>{return[Form.sketch(parts=>({dom:{tag:'div',classes:['tox-form']},components:map$2(tab.items,item=>interpretInForm(parts,item,dialogData,backstage)),formBehaviours:derive$1([Keying.config({mode:'acyclic',useTabstopAt:not(isPseudoStop)}),config('TabView.form.events',[runOnAttached(setDataOnForm),runOnDetached(updateDataWithForm)]),Receiving.config({channels:wrapAll([{key:SendDataToSectionChannel,value:{onReceive:updateDataWithForm}},{key:SendDataToViewChannel,value:{onReceive:setDataOnForm}}])})])}))];}};});const tabMode=smartMode(allTabs);return TabSection.sketch({dom:{tag:'div',classes:['tox-dialog__body']},onChangeTab:(section,button,_viewItems)=>{const name=Representing.getValue(button);emitWith(section,formTabChangeEvent,{name,oldName:oldTab.get()});oldTab.set(name);},tabs:allTabs,components:[TabSection.parts.tabbar({dom:{tag:'div',classes:['tox-dialog__body-nav']},components:[Tabbar.parts.tabs({})],markers:{tabClass:'tox-tab',selectedClass:'tox-dialog__body-nav-item--active'},tabbarBehaviours:derive$1([Tabstopping.config({})])}),TabSection.parts.tabview({dom:{tag:'div',classes:['tox-dialog__body-content']}})],selectFirst:tabMode.selectFirst,tabSectionBehaviours:derive$1([config('tabpanel',tabMode.extraEvents),Keying.config({mode:'acyclic'}),Composing.config({find:comp=>head(TabSection.getViewItems(comp))}),RepresentingConfigs.withComp(Optional.none(),tsection=>{tsection.getSystem().broadcastOn([SendDataToSectionChannel],{});return storedValue.get();},(tsection,value)=>{storedValue.set(value);tsection.getSystem().broadcastOn([SendDataToViewChannel],{});})])});};const dialogChannel=generate$6('update-dialog');const titleChannel=generate$6('update-title');const bodyChannel=generate$6('update-body');const footerChannel=generate$6('update-footer');const bodySendMessageChannel=generate$6('body-send-message');const renderBody=(spec,dialogId,contentId,backstage,ariaAttrs)=>{const renderComponents=incoming=>{const body=incoming.body;switch(body.type){case'tabpanel':{return[renderTabPanel(body,incoming.initialData,backstage)];}default:{return[renderBodyPanel(body,incoming.initialData,backstage)];}}};const updateState=(_comp,incoming)=>Optional.some({isTabPanel:()=>incoming.body.type==='tabpanel'});const ariaAttributes={'aria-live':'polite'};return{dom:{tag:'div',classes:['tox-dialog__content-js'],attributes:{...contentId.map(x=>({id:x})).getOr({}),...(ariaAttrs?ariaAttributes:{})}},components:[],behaviours:derive$1([ComposingConfigs.childAt(0),Reflecting.config({channel:`${bodyChannel}-${dialogId}`,updateState,renderComponents,initialData:spec})])};};const renderInlineBody=(spec,dialogId,contentId,backstage,ariaAttrs)=>renderBody(spec,dialogId,Optional.some(contentId),backstage,ariaAttrs);const renderModalBody=(spec,dialogId,backstage)=>{const bodySpec=renderBody(spec,dialogId,Optional.none(),backstage,false);return ModalDialog.parts.body(bodySpec);};const renderIframeBody=spec=>{const bodySpec={dom:{tag:'div',classes:['tox-dialog__content-js']},components:[{dom:{tag:'div',classes:['tox-dialog__body-iframe']},components:[craft({dom:{tag:'iframe',attributes:{src:spec.url}},behaviours:derive$1([Tabstopping.config({}),Focusing.config({})])})]}],behaviours:derive$1([Keying.config({mode:'acyclic',useTabstopAt:not(isPseudoStop)})])};return ModalDialog.parts.body(bodySpec);};const isTouch=global$5.deviceType.isTouch();const hiddenHeader=(title,close)=>({dom:{tag:'div',styles:{display:'none'},classes:['tox-dialog__header']},components:[title,close]});const pClose=(onClose,providersBackstage)=>ModalDialog.parts.close(Button.sketch({dom:{tag:'button',classes:['tox-button','tox-button--icon','tox-button--naked'],attributes:{'type':'button','aria-label':providersBackstage.translate('Close')}},action:onClose,buttonBehaviours:derive$1([Tabstopping.config({})])}));const pUntitled=()=>ModalDialog.parts.title({dom:{tag:'div',classes:['tox-dialog__title'],innerHtml:'',styles:{display:'none'}}});const pBodyMessage=(message,providersBackstage)=>ModalDialog.parts.body({dom:{tag:'div',classes:['tox-dialog__body']},components:[{dom:{tag:'div',classes:['tox-dialog__body-content']},components:[{dom:fromHtml(`<p>${providersBackstage.translate(message)}</p>`)}]}]});const pFooter=buttons=>ModalDialog.parts.footer({dom:{tag:'div',classes:['tox-dialog__footer']},components:buttons});const pFooterGroup=(startButtons,endButtons)=>[Container.sketch({dom:{tag:'div',classes:['tox-dialog__footer-start']},components:startButtons}),Container.sketch({dom:{tag:'div',classes:['tox-dialog__footer-end']},components:endButtons})];const renderDialog$1=spec=>{const dialogClass='tox-dialog';const blockerClass=dialogClass+'-wrap';const blockerBackdropClass=blockerClass+'__backdrop';const scrollLockClass=dialogClass+'__disable-scroll';return ModalDialog.sketch({lazySink:spec.lazySink,onEscape:comp=>{spec.onEscape(comp);return Optional.some(true);},useTabstopAt:elem=>!isPseudoStop(elem),dom:{tag:'div',classes:[dialogClass].concat(spec.extraClasses),styles:{position:'relative',...spec.extraStyles}},components:[spec.header,spec.body,...spec.footer.toArray()],parts:{blocker:{dom:fromHtml(`<div class=\"${blockerClass}\"></div>`),components:[{dom:{tag:'div',classes:isTouch?[blockerBackdropClass,blockerBackdropClass+'--opaque']:[blockerBackdropClass]}}]}},dragBlockClass:blockerClass,modalBehaviours:derive$1([Focusing.config({}),config('dialog-events',spec.dialogEvents.concat([runOnSource(focusin(),(comp,_se)=>{Keying.focusIn(comp);})])),config('scroll-lock',[runOnAttached(()=>{add$2(body(),scrollLockClass);}),runOnDetached(()=>{remove$2(body(),scrollLockClass);})]),...spec.extraBehaviours]),eventOrder:{[execute$5()]:['dialog-events'],[attachedToDom()]:['scroll-lock','dialog-events','alloy.base.behaviour'],[detachedFromDom()]:['alloy.base.behaviour','dialog-events','scroll-lock'],...spec.eventOrder}});};const renderClose=providersBackstage=>Button.sketch({dom:{tag:'button',classes:['tox-button','tox-button--icon','tox-button--naked'],attributes:{'type':'button','aria-label':providersBackstage.translate('Close'),'title':providersBackstage.translate('Close')}},components:[render$3('close',{tag:'div',classes:['tox-icon']},providersBackstage.icons)],action:comp=>{emit(comp,formCancelEvent);}});const renderTitle=(spec,dialogId,titleId,providersBackstage)=>{const renderComponents=data=>[text$1(providersBackstage.translate(data.title))];return{dom:{tag:'div',classes:['tox-dialog__title'],attributes:{...titleId.map(x=>({id:x})).getOr({})}},components:[],behaviours:derive$1([Reflecting.config({channel:`${titleChannel}-${dialogId}`,initialData:spec,renderComponents})])};};const renderDragHandle=()=>({dom:fromHtml('<div class=\"tox-dialog__draghandle\"></div>')});const renderInlineHeader=(spec,dialogId,titleId,providersBackstage)=>Container.sketch({dom:fromHtml('<div class=\"tox-dialog__header\"></div>'),components:[renderTitle(spec,dialogId,Optional.some(titleId),providersBackstage),renderDragHandle(),renderClose(providersBackstage)],containerBehaviours:derive$1([Dragging.config({mode:'mouse',blockerClass:'blocker',getTarget:handle=>{return closest$1(handle,'[role=\"dialog\"]').getOrDie();},snaps:{getSnapPoints:()=>[],leftAttr:'data-drag-left',topAttr:'data-drag-top'}})])});const renderModalHeader=(spec,dialogId,providersBackstage)=>{const pTitle=ModalDialog.parts.title(renderTitle(spec,dialogId,Optional.none(),providersBackstage));const pHandle=ModalDialog.parts.draghandle(renderDragHandle());const pClose=ModalDialog.parts.close(renderClose(providersBackstage));const components=[pTitle].concat(spec.draggable?[pHandle]:[]).concat([pClose]);return Container.sketch({dom:fromHtml('<div class=\"tox-dialog__header\"></div>'),components});};const getHeader=(title,dialogId,backstage)=>renderModalHeader({title:backstage.shared.providers.translate(title),draggable:backstage.dialog.isDraggableModal()},dialogId,backstage.shared.providers);const getBusySpec=(message,bs,providers)=>({dom:{tag:'div',classes:['tox-dialog__busy-spinner'],attributes:{'aria-label':providers.translate(message)},styles:{left:'0px',right:'0px',bottom:'0px',top:'0px',position:'absolute'}},behaviours:bs,components:[{dom:fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>')}]});const getEventExtras=(lazyDialog,providers,extra)=>({onClose:()=>extra.closeWindow(),onBlock:blockEvent=>{ModalDialog.setBusy(lazyDialog(),(_comp,bs)=>getBusySpec(blockEvent.message,bs,providers));},onUnblock:()=>{ModalDialog.setIdle(lazyDialog());}});const renderModalDialog=(spec,initialData,dialogEvents,backstage)=>{const updateState=(_comp,incoming)=>Optional.some(incoming);return build$1(renderDialog$1({...spec,lazySink:backstage.shared.getSink,extraBehaviours:[Reflecting.config({channel:`${dialogChannel}-${spec.id}`,updateState,initialData}),RepresentingConfigs.memory({}),...spec.extraBehaviours],onEscape:comp=>{emit(comp,formCancelEvent);},dialogEvents,eventOrder:{[receive()]:[Reflecting.name(),Receiving.name()],[attachedToDom()]:['scroll-lock',Reflecting.name(),'messages','dialog-events','alloy.base.behaviour'],[detachedFromDom()]:['alloy.base.behaviour','dialog-events','messages',Reflecting.name(),'scroll-lock']}}));};const mapMenuButtons=buttons=>{const mapItems=button=>{const items=map$2(button.items,item=>{const cell=Cell(false);return{...item,storage:cell};});return{...button,items};};return map$2(buttons,button=>{return button.type==='menu'?mapItems(button):button;});};const extractCellsToObject=buttons=>foldl(buttons,(acc,button)=>{if(button.type==='menu'){const menuButton=button;return foldl(menuButton.items,(innerAcc,item)=>{innerAcc[item.name]=item.storage;return innerAcc;},acc);}return acc;},{});const initCommonEvents=(fireApiEvent,extras)=>[runWithTarget(focusin(),onFocus),fireApiEvent(formCloseEvent,(_api,spec)=>{extras.onClose();spec.onClose();}),fireApiEvent(formCancelEvent,(api,spec,_event,self)=>{spec.onCancel(api);emit(self,formCloseEvent);}),run$1(formUnblockEvent,(_c,_se)=>extras.onUnblock()),run$1(formBlockEvent,(_c,se)=>extras.onBlock(se.event))];const initUrlDialog=(getInstanceApi,extras)=>{const fireApiEvent=(eventName,f)=>run$1(eventName,(c,se)=>{withSpec(c,(spec,_c)=>{f(getInstanceApi(),spec,se.event,c);});});const withSpec=(c,f)=>{Reflecting.getState(c).get().each(currentDialog=>{f(currentDialog,c);});};return[...initCommonEvents(fireApiEvent,extras),fireApiEvent(formActionEvent,(api,spec,event)=>{spec.onAction(api,{name:event.name});})];};const initDialog=(getInstanceApi,extras,getSink)=>{const fireApiEvent=(eventName,f)=>run$1(eventName,(c,se)=>{withSpec(c,(spec,_c)=>{f(getInstanceApi(),spec,se.event,c);});});const withSpec=(c,f)=>{Reflecting.getState(c).get().each(currentDialogInit=>{f(currentDialogInit.internalDialog,c);});};return[...initCommonEvents(fireApiEvent,extras),fireApiEvent(formSubmitEvent,(api,spec)=>spec.onSubmit(api)),fireApiEvent(formChangeEvent,(api,spec,event)=>{spec.onChange(api,{name:event.name});}),fireApiEvent(formActionEvent,(api,spec,event,component)=>{const focusIn=()=>Keying.focusIn(component);const isDisabled=focused=>has$1(focused,'disabled')||getOpt(focused,'aria-disabled').exists(val=>val==='true');const rootNode=getRootNode(component.element);const current=active$1(rootNode);spec.onAction(api,{name:event.name,value:event.value});active$1(rootNode).fold(focusIn,focused=>{if(isDisabled(focused)){focusIn();}else if(current.exists(cur=>contains(focused,cur)&&isDisabled(cur))){focusIn();}else{getSink().toOptional().filter(sink=>!contains(sink.element,focused)).each(focusIn);}});}),fireApiEvent(formTabChangeEvent,(api,spec,event)=>{spec.onTabChange(api,{newTabName:event.name,oldTabName:event.oldName});}),runOnDetached(component=>{const api=getInstanceApi();Representing.setValue(component,api.getData());})];};const SilverDialogEvents={initUrlDialog,initDialog};const makeButton=(button,backstage)=>renderFooterButton(button,button.type,backstage);const lookup=(compInSystem,footerButtons,buttonName)=>find$5(footerButtons,button=>button.name===buttonName).bind(memButton=>memButton.memento.getOpt(compInSystem));const renderComponents=(_data,state)=>{const footerButtons=state.map(s=>s.footerButtons).getOr([]);const buttonGroups=partition$3(footerButtons,button=>button.align==='start');const makeGroup=(edge,buttons)=>Container.sketch({dom:{tag:'div',classes:[`tox-dialog__footer-${edge}`]},components:map$2(buttons,button=>button.memento.asSpec())});const startButtons=makeGroup('start',buttonGroups.pass);const endButtons=makeGroup('end',buttonGroups.fail);return[startButtons,endButtons];};const renderFooter=(initSpec,dialogId,backstage)=>{const updateState=(comp,data)=>{const footerButtons=map$2(data.buttons,button=>{const memButton=record(makeButton(button,backstage));return{name:button.name,align:button.align,memento:memButton};});const lookupByName=buttonName=>lookup(comp,footerButtons,buttonName);return Optional.some({lookupByName,footerButtons});};return{dom:fromHtml('<div class=\"tox-dialog__footer\"></div>'),components:[],behaviours:derive$1([Reflecting.config({channel:`${footerChannel}-${dialogId}`,initialData:initSpec,updateState,renderComponents})])};};const renderInlineFooter=(initSpec,dialogId,backstage)=>renderFooter(initSpec,dialogId,backstage);const renderModalFooter=(initSpec,dialogId,backstage)=>ModalDialog.parts.footer(renderFooter(initSpec,dialogId,backstage));const getCompByName=(access,name)=>{const root=access.getRoot();if(root.getSystem().isConnected()){const form=Composing.getCurrent(access.getFormWrapper()).getOr(access.getFormWrapper());return Form.getField(form,name).orThunk(()=>{const footer=access.getFooter();const footerState=Reflecting.getState(footer).get();return footerState.bind(f=>f.lookupByName(name));});}else{return Optional.none();}};const validateData$1=(access,data)=>{const root=access.getRoot();return Reflecting.getState(root).get().map(dialogState=>getOrDie(asRaw('data',dialogState.dataValidator,data))).getOr(data);};const getDialogApi=(access,doRedial,menuItemStates)=>{const withRoot=f=>{const root=access.getRoot();if(root.getSystem().isConnected()){f(root);}};const getData=()=>{const root=access.getRoot();const valueComp=root.getSystem().isConnected()?access.getFormWrapper():root;const representedValues=Representing.getValue(valueComp);const menuItemCurrentState=map$1(menuItemStates,cell=>cell.get());return{...representedValues,...menuItemCurrentState};};const setData=newData=>{withRoot(_=>{const prevData=instanceApi.getData();const mergedData=deepMerge(prevData,newData);const newInternalData=validateData$1(access,mergedData);const form=access.getFormWrapper();Representing.setValue(form,newInternalData);each(menuItemStates,(v,k)=>{if(has$2(mergedData,k)){v.set(mergedData[k]);}});});};const setEnabled=(name,state)=>{getCompByName(access,name).each(state?Disabling.enable:Disabling.disable);};const focus=name=>{getCompByName(access,name).each(Focusing.focus);};const block=message=>{if(!isString(message)){throw new Error('The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument');}withRoot(root=>{emitWith(root,formBlockEvent,{message});});};const unblock=()=>{withRoot(root=>{emit(root,formUnblockEvent);});};const showTab=name=>{withRoot(_=>{const body=access.getBody();const bodyState=Reflecting.getState(body);if(bodyState.get().exists(b=>b.isTabPanel())){Composing.getCurrent(body).each(tabSection=>{TabSection.showTab(tabSection,name);});}});};const redial=d=>{withRoot(root=>{const id=access.getId();const dialogInit=doRedial(d);root.getSystem().broadcastOn([`${dialogChannel}-${id}`],dialogInit);root.getSystem().broadcastOn([`${titleChannel}-${id}`],dialogInit.internalDialog);root.getSystem().broadcastOn([`${bodyChannel}-${id}`],dialogInit.internalDialog);root.getSystem().broadcastOn([`${footerChannel}-${id}`],dialogInit.internalDialog);instanceApi.setData(dialogInit.initialData);});};const close=()=>{withRoot(root=>{emit(root,formCloseEvent);});};const instanceApi={getData,setData,setEnabled,focus,block,unblock,showTab,redial,close};return instanceApi;};const getDialogSizeClasses=size=>{switch(size){case'large':return['tox-dialog--width-lg'];case'medium':return['tox-dialog--width-md'];default:return[];}};const renderDialog=(dialogInit,extra,backstage)=>{const dialogId=generate$6('dialog');const internalDialog=dialogInit.internalDialog;const header=getHeader(internalDialog.title,dialogId,backstage);const body=renderModalBody({body:internalDialog.body,initialData:internalDialog.initialData},dialogId,backstage);const storedMenuButtons=mapMenuButtons(internalDialog.buttons);const objOfCells=extractCellsToObject(storedMenuButtons);const footer=renderModalFooter({buttons:storedMenuButtons},dialogId,backstage);const dialogEvents=SilverDialogEvents.initDialog(()=>instanceApi,getEventExtras(()=>dialog,backstage.shared.providers,extra),backstage.shared.getSink);const dialogSize=getDialogSizeClasses(internalDialog.size);const spec={id:dialogId,header,body,footer:Optional.some(footer),extraClasses:dialogSize,extraBehaviours:[],extraStyles:{}};const dialog=renderModalDialog(spec,dialogInit,dialogEvents,backstage);const modalAccess=(()=>{const getForm=()=>{const outerForm=ModalDialog.getBody(dialog);return Composing.getCurrent(outerForm).getOr(outerForm);};return{getId:constant$1(dialogId),getRoot:constant$1(dialog),getBody:()=>ModalDialog.getBody(dialog),getFooter:()=>ModalDialog.getFooter(dialog),getFormWrapper:getForm};})();const instanceApi=getDialogApi(modalAccess,extra.redial,objOfCells);return{dialog,instanceApi};};const renderInlineDialog=(dialogInit,extra,backstage,ariaAttrs)=>{const dialogId=generate$6('dialog');const dialogLabelId=generate$6('dialog-label');const dialogContentId=generate$6('dialog-content');const internalDialog=dialogInit.internalDialog;const updateState=(_comp,incoming)=>Optional.some(incoming);const memHeader=record(renderInlineHeader({title:internalDialog.title,draggable:true},dialogId,dialogLabelId,backstage.shared.providers));const memBody=record(renderInlineBody({body:internalDialog.body,initialData:internalDialog.initialData},dialogId,dialogContentId,backstage,ariaAttrs));const storagedMenuButtons=mapMenuButtons(internalDialog.buttons);const objOfCells=extractCellsToObject(storagedMenuButtons);const memFooter=record(renderInlineFooter({buttons:storagedMenuButtons},dialogId,backstage));const dialogEvents=SilverDialogEvents.initDialog(()=>instanceApi,{onBlock:event=>{Blocking.block(dialog,(_comp,bs)=>getBusySpec(event.message,bs,backstage.shared.providers));},onUnblock:()=>{Blocking.unblock(dialog);},onClose:()=>extra.closeWindow()},backstage.shared.getSink);const dialog=build$1({dom:{tag:'div',classes:['tox-dialog','tox-dialog-inline'],attributes:{role:'dialog',['aria-labelledby']:dialogLabelId,['aria-describedby']:dialogContentId}},eventOrder:{[receive()]:[Reflecting.name(),Receiving.name()],[execute$5()]:['execute-on-form'],[attachedToDom()]:['reflecting','execute-on-form']},behaviours:derive$1([Keying.config({mode:'cyclic',onEscape:c=>{emit(c,formCloseEvent);return Optional.some(true);},useTabstopAt:elem=>!isPseudoStop(elem)&&(name$3(elem)!=='button'||get$f(elem,'disabled')!=='disabled')}),Reflecting.config({channel:`${dialogChannel}-${dialogId}`,updateState,initialData:dialogInit}),Focusing.config({}),config('execute-on-form',dialogEvents.concat([runOnSource(focusin(),(comp,_se)=>{Keying.focusIn(comp);})])),Blocking.config({getRoot:()=>Optional.some(dialog)}),Replacing.config({}),RepresentingConfigs.memory({})]),components:[memHeader.asSpec(),memBody.asSpec(),memFooter.asSpec()]});const instanceApi=getDialogApi({getId:constant$1(dialogId),getRoot:constant$1(dialog),getFooter:()=>memFooter.get(dialog),getBody:()=>memBody.get(dialog),getFormWrapper:()=>{const body=memBody.get(dialog);return Composing.getCurrent(body).getOr(body);}},extra.redial,objOfCells);return{dialog,instanceApi};};var global=tinymce.util.Tools.resolve('tinymce.util.URI');const getUrlDialogApi=root=>{const withRoot=f=>{if(root.getSystem().isConnected()){f(root);}};const block=message=>{if(!isString(message)){throw new Error('The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument');}withRoot(root=>{emitWith(root,formBlockEvent,{message});});};const unblock=()=>{withRoot(root=>{emit(root,formUnblockEvent);});};const close=()=>{withRoot(root=>{emit(root,formCloseEvent);});};const sendMessage=data=>{withRoot(root=>{root.getSystem().broadcastOn([bodySendMessageChannel],data);});};return{block,unblock,close,sendMessage};};const SUPPORTED_MESSAGE_ACTIONS=['insertContent','setContent','execCommand','close','block','unblock'];const isSupportedMessage=data=>isObject(data)&&SUPPORTED_MESSAGE_ACTIONS.indexOf(data.mceAction)!==-1;const isCustomMessage=data=>!isSupportedMessage(data)&&isObject(data)&&has$2(data,'mceAction');const handleMessage=(editor,api,data)=>{switch(data.mceAction){case'insertContent':editor.insertContent(data.content);break;case'setContent':editor.setContent(data.content);break;case'execCommand':const ui=isBoolean(data.ui)?data.ui:false;editor.execCommand(data.cmd,ui,data.value);break;case'close':api.close();break;case'block':api.block(data.message);break;case'unblock':api.unblock();break;}};const renderUrlDialog=(internalDialog,extra,editor,backstage)=>{const dialogId=generate$6('dialog');const header=getHeader(internalDialog.title,dialogId,backstage);const body=renderIframeBody(internalDialog);const footer=internalDialog.buttons.bind(buttons=>{if(buttons.length===0){return Optional.none();}else{return Optional.some(renderModalFooter({buttons},dialogId,backstage));}});const dialogEvents=SilverDialogEvents.initUrlDialog(()=>instanceApi,getEventExtras(()=>dialog,backstage.shared.providers,extra));const styles={...internalDialog.height.fold(()=>({}),height=>({'height':height+'px','max-height':height+'px'})),...internalDialog.width.fold(()=>({}),width=>({'width':width+'px','max-width':width+'px'}))};const classes=internalDialog.width.isNone()&&internalDialog.height.isNone()?['tox-dialog--width-lg']:[];const iframeUri=new global(internalDialog.url,{base_uri:new global(window.location.href)});const iframeDomain=`${iframeUri.protocol}://${iframeUri.host}${iframeUri.port?':'+iframeUri.port:''}`;const messageHandlerUnbinder=unbindable();const extraBehaviours=[config('messages',[runOnAttached(()=>{const unbind=bind(SugarElement.fromDom(window),'message',e=>{if(iframeUri.isSameOrigin(new global(e.raw.origin))){const data=e.raw.data;if(isSupportedMessage(data)){handleMessage(editor,instanceApi,data);}else if(isCustomMessage(data)){internalDialog.onMessage(instanceApi,data);}}});messageHandlerUnbinder.set(unbind);}),runOnDetached(messageHandlerUnbinder.clear)]),Receiving.config({channels:{[bodySendMessageChannel]:{onReceive:(comp,data)=>{descendant(comp.element,'iframe').each(iframeEle=>{const iframeWin=iframeEle.dom.contentWindow;if(isNonNullable(iframeWin)){iframeWin.postMessage(data,iframeDomain);}});}}}})];const spec={id:dialogId,header,body,footer,extraClasses:classes,extraBehaviours,extraStyles:styles};const dialog=renderModalDialog(spec,internalDialog,dialogEvents,backstage);const instanceApi=getUrlDialogApi(dialog);return{dialog,instanceApi};};const setup$2=backstage=>{const sharedBackstage=backstage.shared;const open=(message,callback)=>{const closeDialog=()=>{ModalDialog.hide(alertDialog);callback();};const memFooterClose=record(renderFooterButton({name:'close-alert',text:'OK',primary:true,buttonType:Optional.some('primary'),align:'end',enabled:true,icon:Optional.none()},'cancel',backstage));const titleSpec=pUntitled();const closeSpec=pClose(closeDialog,sharedBackstage.providers);const alertDialog=build$1(renderDialog$1({lazySink:()=>sharedBackstage.getSink(),header:hiddenHeader(titleSpec,closeSpec),body:pBodyMessage(message,sharedBackstage.providers),footer:Optional.some(pFooter(pFooterGroup([],[memFooterClose.asSpec()]))),onEscape:closeDialog,extraClasses:['tox-alert-dialog'],extraBehaviours:[],extraStyles:{},dialogEvents:[run$1(formCancelEvent,closeDialog)],eventOrder:{}}));ModalDialog.show(alertDialog);const footerCloseButton=memFooterClose.get(alertDialog);Focusing.focus(footerCloseButton);};return{open};};const setup$1=backstage=>{const sharedBackstage=backstage.shared;const open=(message,callback)=>{const closeDialog=state=>{ModalDialog.hide(confirmDialog);callback(state);};const memFooterYes=record(renderFooterButton({name:'yes',text:'Yes',primary:true,buttonType:Optional.some('primary'),align:'end',enabled:true,icon:Optional.none()},'submit',backstage));const footerNo=renderFooterButton({name:'no',text:'No',primary:false,buttonType:Optional.some('secondary'),align:'end',enabled:true,icon:Optional.none()},'cancel',backstage);const titleSpec=pUntitled();const closeSpec=pClose(()=>closeDialog(false),sharedBackstage.providers);const confirmDialog=build$1(renderDialog$1({lazySink:()=>sharedBackstage.getSink(),header:hiddenHeader(titleSpec,closeSpec),body:pBodyMessage(message,sharedBackstage.providers),footer:Optional.some(pFooter(pFooterGroup([],[footerNo,memFooterYes.asSpec()]))),onEscape:()=>closeDialog(false),extraClasses:['tox-confirm-dialog'],extraBehaviours:[],extraStyles:{},dialogEvents:[run$1(formCancelEvent,()=>closeDialog(false)),run$1(formSubmitEvent,()=>closeDialog(true))],eventOrder:{}}));ModalDialog.show(confirmDialog);const footerYesButton=memFooterYes.get(confirmDialog);Focusing.focus(footerYesButton);};return{open};};const validateData=(data,validator)=>getOrDie(asRaw('data',validator,data));const isAlertOrConfirmDialog=target=>closest(target,'.tox-alert-dialog')||closest(target,'.tox-confirm-dialog');const inlineAdditionalBehaviours=(editor,isStickyToolbar,isToolbarLocationTop)=>{if(isStickyToolbar&&isToolbarLocationTop){return[];}else{return[Docking.config({contextual:{lazyContext:()=>Optional.some(box$1(SugarElement.fromDom(editor.getContentAreaContainer()))),fadeInClass:'tox-dialog-dock-fadein',fadeOutClass:'tox-dialog-dock-fadeout',transitionClass:'tox-dialog-dock-transition'},modes:['top']})];}};const setup=extras=>{const backstage=extras.backstage;const editor=extras.editor;const isStickyToolbar$1=isStickyToolbar(editor);const alertDialog=setup$2(backstage);const confirmDialog=setup$1(backstage);const open=(config,params,closeWindow)=>{if(params!==undefined&&params.inline==='toolbar'){return openInlineDialog(config,backstage.shared.anchors.inlineDialog(),closeWindow,params.ariaAttrs);}else if(params!==undefined&&params.inline==='cursor'){return openInlineDialog(config,backstage.shared.anchors.cursor(),closeWindow,params.ariaAttrs);}else{return openModalDialog(config,closeWindow);}};const openUrl=(config,closeWindow)=>openModalUrlDialog(config,closeWindow);const openModalUrlDialog=(config,closeWindow)=>{const factory=contents=>{const dialog=renderUrlDialog(contents,{closeWindow:()=>{ModalDialog.hide(dialog.dialog);closeWindow(dialog.instanceApi);}},editor,backstage);ModalDialog.show(dialog.dialog);return dialog.instanceApi;};return DialogManager.openUrl(factory,config);};const openModalDialog=(config,closeWindow)=>{const factory=(contents,internalInitialData,dataValidator)=>{const initialData=internalInitialData;const dialogInit={dataValidator,initialData,internalDialog:contents};const dialog=renderDialog(dialogInit,{redial:DialogManager.redial,closeWindow:()=>{ModalDialog.hide(dialog.dialog);closeWindow(dialog.instanceApi);}},backstage);ModalDialog.show(dialog.dialog);dialog.instanceApi.setData(initialData);return dialog.instanceApi;};return DialogManager.open(factory,config);};const openInlineDialog=(config$1,anchor,closeWindow,ariaAttrs=false)=>{const factory=(contents,internalInitialData,dataValidator)=>{const initialData=validateData(internalInitialData,dataValidator);const inlineDialog=value$2();const isToolbarLocationTop=backstage.shared.header.isPositionedAtTop();const dialogInit={dataValidator,initialData,internalDialog:contents};const refreshDocking=()=>inlineDialog.on(dialog=>{InlineView.reposition(dialog);Docking.refresh(dialog);});const dialogUi=renderInlineDialog(dialogInit,{redial:DialogManager.redial,closeWindow:()=>{inlineDialog.on(InlineView.hide);editor.off('ResizeEditor',refreshDocking);inlineDialog.clear();closeWindow(dialogUi.instanceApi);}},backstage,ariaAttrs);const inlineDialogComp=build$1(InlineView.sketch({lazySink:backstage.shared.getSink,dom:{tag:'div',classes:[]},fireDismissalEventInstead:{},...(isToolbarLocationTop?{}:{fireRepositionEventInstead:{}}),inlineBehaviours:derive$1([config('window-manager-inline-events',[run$1(dismissRequested(),(_comp,_se)=>{emit(dialogUi.dialog,formCancelEvent);})]),...inlineAdditionalBehaviours(editor,isStickyToolbar$1,isToolbarLocationTop)]),isExtraPart:(_comp,target)=>isAlertOrConfirmDialog(target)}));inlineDialog.set(inlineDialogComp);InlineView.showWithin(inlineDialogComp,premade(dialogUi.dialog),{anchor},Optional.some(body()));if(!isStickyToolbar$1||!isToolbarLocationTop){Docking.refresh(inlineDialogComp);editor.on('ResizeEditor',refreshDocking);}dialogUi.instanceApi.setData(initialData);Keying.focusIn(dialogUi.dialog);return dialogUi.instanceApi;};return DialogManager.open(factory,config$1);};const confirm=(message,callback)=>{confirmDialog.open(message,callback);};const alert=(message,callback)=>{alertDialog.open(message,callback);};const close=instanceApi=>{instanceApi.close();};return{open,openUrl,alert,close,confirm};};const registerOptions=editor=>{register$e(editor);register$d(editor);register(editor);};var Theme=()=>{global$a.add('silver',editor=>{registerOptions(editor);const{getUiMothership,backstage,renderUI}=setup$3(editor);Autocompleter.register(editor,backstage.shared);const windowMgr=setup({editor,backstage});return{renderUI,getWindowManagerImpl:constant$1(windowMgr),getNotificationManagerImpl:()=>NotificationManagerImpl(editor,{backstage},getUiMothership())};});};Theme();})();","map":{"version":3,"names":["getPrototypeOf$1","Object","getPrototypeOf","hasProto","v","constructor","predicate","_a","prototype","name","typeOf","x","t","Array","isArray","String","o","proto","isPrototypeOf","isType$1","type","value","isSimpleType","eq$1","a","is$2","isObject","isString","isPlainObject","isNull","isBoolean","isUndefined","undefined","isNullable","isNonNullable","isFunction","isNumber","isArrayOf","pred","i","len","length","noop","noarg","f","compose","fa","fb","args","apply","compose1","fbc","fab","constant$1","identity","tripleEquals","b","curry","fn","initialArgs","restArgs","all","concat","not","die","msg","Error","never","always","global$a","tinymce","util","Tools","resolve","Optional","tag","some","none","singletonNone","fold","onNone","onSome","isSome","isNone","map","mapper","bind","binder","exists","forall","filter","getOr","replacement","or","getOrThunk","thunk","orThunk","getOrDie","message","from","getOrNull","getOrUndefined","each","worker","toArray","toString","nativeSlice","slice","nativeIndexOf","indexOf","nativePush","push","rawIndexOf","ts","call","xs","r","contains$2","range$2","num","chunk$1","array","size","s","map$2","each$1","eachr","partition$3","pass","fail","arr","filter$2","foldr","acc","foldl","findUntil","until","find$5","findIndex$1","flatten","bind$3","reverse","difference","a1","a2","mapToObject","pure$2","sort","comparator","copy","get$h","head","last$1","findMap","keys","hasOwnProperty","obj","props","k","map$1","tupleMap","tuple","objAcc","internalFilter","onTrue","onFalse","bifilter","filter$1","mapToArray","find$4","values","get$g","key","has$2","hasNonNullableKey","is$1","lhs","rhs","left","equals","lift2","cat","sequence","oa","ob","lift3","oc","mapFrom","someIf","addToEnd","str","suffix","removeFromStart","numChars","substring","checkRange","substr","start","removeLeading","prefix","startsWith","ensureTrailing","endsWith","contains$1","end","idx","blank","replace","trim$1","isNotEmpty","isEmpty","isSupported$1","dom","style","getPropertyValue","fromHtml$2","html","scope","doc","document","div","createElement","innerHTML","hasChildNodes","childNodes","console","error","fromDom","fromTag","node","fromText","text","createTextNode","fromPoint","docElm","y","elementFromPoint","SugarElement","fromHtml","Global","window","Function","path$1","parts","p","split","unsafe","getOrDie$1","actual","sandHTMLElement","test","DOCUMENT","DOCUMENT_FRAGMENT","ELEMENT","TEXT","name$3","element","nodeName","toLowerCase","type$1","nodeType","isType","isHTMLElement","isElement$1","isText","isDocument","isDocumentFragment","isTag","e","is","selector","elem","matches","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","bypassSelector","childElementCount","all$3","base","querySelectorAll","one","querySelector","eq","e1","e2","contains","d1","d2","owner$4","ownerDocument","documentOrOwner","dos","documentElement","defaultView","parent","parentNode","parentElement","offsetParent","nextSibling","children","child$2","index","cs","firstChild","spot","offset","leaf","isShadowRoot","host","supported","Element","attachShadow","Node","getRootNode","isSupported","getContentContainer","body","isInShadowRoot","getShadowRoot","getShadowHost","getOriginalEventTarget","event","target","el","isOpenShadowHost","composed","composedPath","shadowRoot","inBody","getBody","rawSet","setAttribute","set$9","setAll$1","attrs","get$f","getAttribute","getOpt","has$1","hasAttribute","remove$7","removeAttribute","clone$1","attributes","attr","internalSet","property","setProperty","internalRemove","removeProperty","set$8","setAll","css","setOptions","get$e","styles","getComputedStyle","getUnsafeProperty","getRaw","raw","getAllRaw","ruleName","item","isValidValue","remove$6","reflow","offsetWidth","Dimension","getOffset","set","h","match","get","parseFloat","getOuter","aggregate","properties","val","parseInt","isNaN","max","cumulativeInclusions","absoluteMax","api$2","getBoundingClientRect","height","offsetHeight","get$d","getOuter$2","setMax$1","inclusions","absMax","r$1","top","translate","SugarPosition","boxPosition","box","firstDefinedOrZero","absolute$3","win","offsetLeft","offsetTop","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","viewport$1","api$1","set$7","get$c","getOuter$1","setMax","cached","called","DeviceType","os","browser","userAgent","mediaMatch","isiPad","isiOS","isiPhone","isMobile","isAndroid","isTouch","isTablet","isPhone","iOSwebview","isSafari","isDesktop","isWebView","firstMatch","regexes","find$3","agent","major","minor","group","Number","nu$d","detect$4","versionRegexes","cleanedAgent","unknown$3","Version","nu","detect","unknown","detectBrowser$1","browsers","userAgentData","brands","uaBrand","lcBrand","brand","info","current","version","detect$3","candidates","candidate","search","detectBrowser","detectOs","oses","normalVersionRegex","checkContains","uastring","PlatformInfo","edge","chromium","ie","opera","firefox","safari","unknown$2","nu$c","isBrowser","isEdge","isChromium","isIE","isOpera","isFirefox","Browser","windows","ios","android","linux","macos","solaris","freebsd","chromeos","unknown$1","nu$b","isOS","isWindows","isMacOS","isLinux","isSolaris","isFreeBSD","isChromeOS","OperatingSystem","detect$2","userAgentDataOpt","deviceType","PlatformDetection","query","matchMedia","platform","navigator","detect$1","mkEvent","stop","prevent","kill","fromRawEvent$1","rawEvent","stopPropagation","preventDefault","clientX","clientY","handle","handler","useCapture","wrapped","addEventListener","unbind","bind$2","capture$1","removeEventListener","before$1","marker","parent$1","insertBefore","after$2","sibling","append$2","prepend$1","firstChild$1","appendChild","appendAt","append$1","elements","empty","textContent","rogue","remove$5","removeChild","get$b","_DOC","to","scrollTo","get$a","_win","visualViewport","bounds$1","width","right","bottom","getBounds$3","scroll","clientWidth","clientHeight","Math","pageLeft","pageTop","getDocument","walkUp","navigation","frame","view","owner","rest","pathTo","d","paths","frameElement","owner$3","Navigation","freeze","__proto__","find$2","path","frames","loc","pointed","point","rect","bounds","box$1","xy","w","absolute$2","position","value$4","applyHelper","constHelper","outputHelper","output","inner","_onError","onValue","isValue","isError","Result","mapError","toOptional","error$1","onError","_onValue","fromOption","optional","err","SimpleResultType","fold$1","res","stype","serror","svalue","partition$2","results","errors","Value","bind$1","bindError","toResult$1","fromResult$1","SimpleResult","fromResult","toResult","partition","field$2","newKey","presence","prop","customField$1","instantiator","ifField","ifCustom","shallow$1","old","deep","bothObjects","deepMerge","baseMerge","merger","objects","ret","j","curObject","merge$1","required$2","process","defaultedThunk","fallbackThunk","defaulted$1","fallback","asOption","mergeWithThunk","baseThunk","mergeWith","mergeValues$1","mergeErrors$1","consolidateObj","consolidateArr","partitions","ResultCombine","formatObj","input","JSON","stringify","formatErrors","es","getErrorInfo","join","nu$a","missingRequired","missingKey","missingBranch","branches","branch","unsupportedFields","unsupported","custom","value$3","validator","extract","anyValue$1","requiredAccess","bundle","fallbackAccess","optionAccess","optionDefaultedAccess","opt","extractField","field","av","bundleAsOption","optValue","ov","result","extractFields","fields","success","valueThunk","getDelegate","getSetKeys","objOfOnly","delegate","objOf","fieldNames","extra","fieldStrings","_okey","_presence","_instantiator","arrOf","oneOf","rawF","setOf$1","validateKeys","keys$1","validatedKeys","validKeys","schema","vk","_desc","processor","getP","arrOfObj","anyValue","typedValue","expectedType","actualType","number","string","boolean","functionProcessor","isPostMessageable","every","postMessageable","chooseFrom","ch","vp","choose$2","choice","chosen","arrOfVal","valueOf","setOf","extractValue","label","errs","asRaw","extraction","errInfo","formatError","asRawOrDie$1","choose$1","thunkOf","desc","field$1","customField","validateEnum","required$1","requiredOf","requiredNumber","requiredString","requiredStringEnum","requiredBoolean","requiredFunction","forbid","_v","requiredObjOf","objSchema","requiredArrayOfObj","objFields","requiredArrayOf","option$3","optionOf","optionNumber","optionString","optionStringEnum","optionFunction","optionArrayOf","optionObjOf","optionObjOfOnly","defaulted","defaultedOf","defaultedNumber","defaultedString","defaultedStringEnum","defaultedBoolean","defaultedFunction","defaultedPostMsg","defaultedArrayOf","defaultedObjOf","Cell","initial","generate$7","cases","constructors","adt","acase","count","argLength","branchKeys","allReqd","reqKey","foldArgs","log","params","Adt","generate","bothErrors","firstError","secondError","bothValues","partition$1","exclude$1","wrap$2","wrapAll$1","keyvalues","kv","exclude","wrap$1","wrapAll","mergeValues","mergeErrors","consolidate","objs","ensureIsRoot","isRoot","ancestor$2","transform","transformed","closest$4","isSource","component","simulatedEvent","defaultEventHandler","can","abort","run","nu$9","all$2","handlers","any","read$2","fuse$1","constant","touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseout","mouseup","mouseover","focusin","focusout","keydown","keyup","change","click","transitioncancel","transitionend","transitionstart","selectstart","prefixName","alloy","tap","focus$4","postBlur","postPaste","receive","execute$5","focusItem","longpress","sandboxClose","typeaheadCancel","systemInit","documentTouchmove","documentTouchend","windowScroll","windowResize","attachedToDom","detachedFromDom","dismissRequested","repositionRequested","focusShifted","slotVisibility","changeTab","dismissTab","highlight$1","dehighlight$1","emit","dispatchWith","emitWith","emitExecute","dispatch","data","getSystem","triggerEvent","retargetAndDispatchWith","eventName","dispatchEvent","derive$2","configs","run$1","runActionExtra","action","runOnName","runOnSourceName","redirectToUid","uid","getByUid","redirectee","redirectToPart","detail","partName","partUids","runWithTarget","ev","getByDom","closest","cutter","cut","stopper","runOnSource","runOnAttached","runOnDetached","runOnInit","runOnExecute$1","fromHtml$1","get$9","set$6","content","docDom","fragment","createDocumentFragment","contentElements","container","clone","cloneNode","original","isDeep","shallow","getHtml","isRecursive","originator","events$i","warn","DefaultEvents","events","unique","generate$6","date","Date","time","getTime","random","floor","prefix$1","idAttr$1","idAttr","write","id","writeOnly","defineProperty","writable","read$1","generate$5","make$8","NoContextApi","getComp","getMessage","debugInfo","triggerFocus","triggerEscape","broadcast","broadcastOn","broadcastEvent","build","buildOrPatch","addToWorld","removeFromWorld","addToGui","removeFromGui","isConnected","singleton$1","markAsBehaviourApi","apiName","apiFunction","endIndex","openBracketIndex","parameters","toFunctionAnnotation","cleanParameters","markAsExtraApi","extraName","markAsSketchApi","premadeTag","premade$1","comp","isPremade","getPremade","spec","makeApi","getApis","NoState","init","nu$8","readState","generateFrom$1","validated","behaviours","list","optBlobThunk","blob","config","state","getBehaviours$3","bData","getData$2","byInnerKey","indexKey","chain","nu$7","classes","merge","defnA","mod","combine$2","baseMod","modsByBehaviour","behaviour","exhibit","byAspect","modification","combineObjects","combinedClasses","combinedAttributes","combinedStyles","sortKeys","keyName","order","sorted","aKey","bKey","aIndex","bIndex","uncurried","purpose","curried","cHandler","curryArgs","descHandler","extraArgs","getCurried","behaviourTuple","nameToHandlers","groupByEvents","behaviourEvents","combine$1","eventOrder","byEventName","combineGroups","assemble","rawHandler","missingOrderError","tuples","c","fuse","sortedTuples","combined","assembled","baseBehaviour","schema$z","toInfo","toDefinition","domChildren","components","toModification","domModification","toEvents","read","add$4","remove$4","supports","classList","get$8","add$3","clazz","remove$3","add$2","add","cleanClass","remove$2","remove","has","add$1","remove$1","hasAll","getNative","get$7","get$6","set$5","determineObsoleted","oldObsoleted","newObsoleted","newObs","elemChanged","oldTag","ensureInDom","child","obsoleted","obs","patchChildrenWith","builtChildren","currentChildren","patchSpecChild","childComp","patchSpecChildren","specs","patchDomChildren","nodes","optObsoleted","diffKeyValueSet","newObj","oldObj","newKeys","oldKeys","toRemove","toSet","reconcileToDom","definition","class","existingAttributes","attrsToSet","attrsToRemove","updateAttrs","existingStyles","stylesToSet","stylesToRemove","updateStyles","existingClasses","classesToRemove","classesToAdd","updateClasses","updateHtml","updateChildren","updateValue","valueElement","innerHtml","introduceToDom","subject","attemptPatch","hasMixedChildren","renderToDom","canBePatched","getBehaviours$2","me","generateFrom","generate$4","getDomDefinition","bList","infoModification","baseModification","getEvents","baseEvents","build$2","getMe","systemApi","bBlob","modDefinition","subcomponents","connect","newApi","disconnect","syncComponents","children$1","subs","hasConfigured","apis","behaviourName","buildSubcomponents","build$1","buildFromSpec","userSpec","specEvents","completeSpec","text$1","external$1","extSpec","uids","isSketchSpec$1","userSpecWithUid","premade","ClosestOrAncestor","ancestor","ancestor$1","closest$3","child$1","descendant$1","descend","closest$2","descendant","closest$1","attribute","find$1","queryElem","dependent","dep","manager","ariaId","link","unlink","isAriaPartOf","isPartOf$1","EventConfiguration","eventConfig","makeEventLogger","initialTarget","startTime","logEventCut","_name","outcome","logEventStopped","logNoParent","logEventNoHandlers","logEventResponse","finishTime","processEvent","status","patterns","NORMAL","noLogger","LOGGING","logger","STOP","getTrace","stack","lines","line","ignoreEvent","monitorEvent","menuFields","itemFields","itemSchema$3","_initSize","itemMarkers","tieredMenuMarkers","markers$1","required","onPresenceHandler","fieldName","onHandler","onKeyboardHandler","onStrictHandler","onStrictKeyboardHandler","output$1","snapshot","initSize","nu$6","bubble","direction","placement","boundsRestriction","labelPrefix","alwaysFit","restriction","adt$a","southeast","southwest","northeast","northwest","south","north","east","west","cata$2","cataVertical","middle","cataHorizontal","southeast$3","southwest$3","northeast$3","northwest$3","south$3","north$3","east$3","west$3","cycleBy","delta","min","clamp","getRestriction","anchor","restrictions","dir","adjustBounds","bubbleOffset","applyRestriction","pos","isVerticalAxis","newPos","adjustedLeft","adjustedTop","adjustedRight","adjustedBottom","labelPrefix$2","eastX$1","middleX$1","westX$1","northY$2","southY$2","centreY$1","eastEdgeX$1","westEdgeX$1","southeast$2","bubbles","southwest$2","northeast$2","northwest$2","north$2","south$2","east$2","west$2","all$1","allRtl$1","aboveOrBelow","aboveOrBelowRtl","belowOrAbove","belowOrAboveRtl","chooseChannels","channels","universal","events$h","receiveConfig","channelMap","receivingData","targetChannels","channelInfo","channelSchema","onReceive","ActiveReceiving","ReceivingSchema","executeEvent","bConfig","bState","executor","loadEvent","_simulatedEvent","create$4","active","configSchema","schemaSchema","doCreate","createModes$1","modes","wrapApi","bName","revokeBehaviour","getConfig","wrappedApis","apiF","wrappedExtra","extraF","revoke","prepared","configAsRaw","initialConfig","behaviourInfo","exhibitor","derive$1","capabilities","simpleSchema","create$3","modeSchema","createModes","branchKey","Receiving","exhibit$6","posConfig","useFixed","ActivePosition","focus$3","focus","blur$1","blur","hasFocus","root","activeElement","active$1","preserve$1","refocus","focused","oldFocus","newFocus","NuPositionCss","toPx","toOptions","applyPositionCss","adt$9","relative","fixed","positionWithDirection","posName","decision","decisionRect","decisionX","decisionY","decisionWidth","decisionHeight","decisionRight","decisionBottom","reposition","origin","toBox","rel","viewport","getBounds","translate$2","removeScroll","outerScroll","cata$1","onRelative","onFixed","relative$1","fixed$1","anchorBox","placementAttribute","setPlacement$1","getPlacement","reset$2","adt$8","fit","nofit","determinePosition","boundsX","boundsY","boundsRight","boundsBottom","xInBounds","yInBounds","originInBounds","rightInBounds","bottomInBounds","sizeInBounds","visibleW","visibleH","calcReposition","maxX","maxY","restrictedX","restrictedY","restrictedWidth","restrictedHeight","calcMaxSizes","upAvailable","downAvailable","maxHeight","westAvailable","eastAvailable","maxWidth","attempt","adjustedBounds","newX","newY","fits","fittedBox","isPartlyVisible","on","classesOn","off","classesOff","layout","testY","attempts","elementBox","panelWidth","panelHeight","attemptBestFit","isVisible","next","attemptLayout","newReposition","newVisibleW","newVisibleH","newIsVisible","improved","abc","bestNext","singleton","doRevoke","clear","isSet","destroyable","destroy","unbindable","value$2","capture","fromRawEvent","timerAttr","isTransitioning$1","transition","shouldApplyTransitionCss","lastPlacement","placer","mode","hasChanges","intermediate","round","toFixed","newValue","getTransitionDuration","times","parse","delay","duration","dur","setupTransitionListeners","transitionEnd","transitionCancel","timer","isSourceTransition","pseudoElement","propertyName","transitionDone","clearTimeout","transitionStart","requestAnimationFrame","setTimeout","startTransitioning","timerId","applyTransitionCss","shouldTransition","intermediatePosition","intermediateCssOptions","elementSize","options","preference","setClasses","classInfo","setHeight","maxHeightFunction","setWidth","maxWidthFunction","position$2","positionCss","setPlacement","setMaxHeight","anchored","available","expandable$1","defaultOr","dephault","simple","layouts","overrideOptions","go","allAlignments","nu$5","xOffset","yOffset","insetModifier","insetXOffset","insetYOffset","getClasses","make","xDelta","yDelta","alignmentsOn","alignmentsOff","insetNortheast","insetNorthwest","insetNorth","insetSoutheast","insetSouthwest","insetSouth","insetEast","insetWest","nu$4","onDirection","isLtr","isRtl","getDirection","AttributeValue","Attribute","isBottomToTopDir","BottomToTop","schema$y","get$5","defaultLtr","defaultRtl","defaultBottomLtr","defaultBottomRtl","dirElement","isBottomToTop","customLtr","ls","onLtr","customRtl","onRtl","ltr","onBottomLtr","rtl","onBottomRtl","placement$4","anchorInfo","hotspot","overrides","HotspotAnchor","placement$3","MakeshiftAnchor","adt$7","screen","absolute","toAbsolute","sum","points","sumAsFixed","positions","sumAsAbsolute","absolute$1","hasSameOwner","frameOwner","compOwner","getRootPoint","getBox","calcNewAnchor","optBox","rootPoint","topLeft","layoutsLtr","showAbove","layoutsRtl","placement$2","nodeBox","NodeAnchor","zeroWidth","nbsp","create$2","soffset","finish","foffset","SimRange","create","adt$6","before","after","cata","onBefore","onOn","onAfter","getStart$1","situ","on$1","after$1","Situ","getStart","adt$5","domRange","exact","exactFromRange","simRange","selection","rng","startContainer","startSitu","_finishSitu","_soffset","_finish","_foffset","getWin","range$1","SimSelection","range","setStart","setStartBefore","setStartAfter","setFinish","setEndBefore","setEnd","setEndAfter","relativeToNative","finishSitu","createRange","exactToNative","toRect","getFirstRect$1","rects","getClientRects","getBounds$2","adt$4","fromRange","startOffset","endContainer","endOffset","getRanges","doDiagnose","ranges","collapsed","reversed","rev","diagnose","asLtrRange","diagnosis","descendants","makeRange","same","getNativeSelection","getSelection","readRange","rangeCount","firstRng","getRangeAt","lastRng","doGetExact","anchorNode","focusNode","anchorOffset","focusOffset","getExact","sel","getFirstRect","getBounds$1","NodeValue","getOption","nodeValue","api","get$4","descendOnce$1","last","descendOnce","getAnchorSelection","modStart","modFinish","placement$1","selectionBox","optRect","rawRect","targetElement","SelectionAnchor","labelPrefix$1","eastX","westX","northY$1","southY$1","southeast$1","southwest$1","northeast$1","northwest$1","allRtl","submenuInfo","SubmenuAnchor","AnchorSchema","submenu","makeshift","TransitionSchema","PositionSchema","PlacementSchema","getFixedOrigin","getRelativeOrigin","place","anchoring","placee","lastPlace","position$1","posState","placementSpec","positionWithin","boxElement","boundsBox","positionWithinBounds","placeeDetail","anchorage","placeeState","oldVisibility","doPlace","newState","vis","getMode","pConfig","_pState","reset$1","PositionApis","reset","init$g","PositioningState","Positioning","fireDetaching","fireAttaching","virtualAttach","virtualDetach","attach$1","detachChildren$1","replaceChildren","newSpecs","buildNewChildren","newChildren","deleted","virtualReplaceChildren","existingComps","deletedComp","attach","attachWith","insertion","doDetach","detach","detachChildren","attachSystem","guiSystem","attachSystemWith","attachSystemAfter","inserter","detachSystem","rebuild","sandbox","sConfig","sState","_data","getAttachPoint","built","open$1","onOpen","setContent","openWhileCloaked","transaction","cloak","decloak","close$1","onClose","isOpen$1","_sandbox","_sConfig","isOpen","isPartOf","getState$2","store","cssKey","restore","oldValue","_sState","sink","cloakVisibilityAttr","hasPosition","SandboxApis","open","close","getState","events$g","sandboxConfig","sandboxState","ActiveSandbox","SandboxSchema","init$f","contents","SandboxState","Sandboxing","dismissPopups","repositionPopups","mouseReleased","schema$x","receivingChannel$1","rawSpec","isPart","isExtraPart","fireEventInstead","fe","schema$w","receivingChannel","doReposition","onLoad$5","repConfig","repState","onLoad","onUnload$2","onUnload","setValue$3","setValue","getValue$3","getValue","getState$1","RepresentApis","events$f","resetOnDom","_se","ActiveRepresenting","memory$1","isNotSet","manual","dataset","dataByValue","dataByText","lookup","itemString","update","items","currentDataByValue","currentDataByText","newDataByValue","newDataByText","meta","init$e","RepresentState","memory","setValue$2","onSetValue","getValue$2","getDataKey","getFallbackEntry","onLoad$4","initialValue","onUnload$1","DatasetStore","getValue$1","_repState","setValue$1","onLoad$3","ManualStore","onLoad$2","initVal","MemoryStore","RepresentSchema","Representing","setValueFrom","source","forbidden","get$3","dump","augment","SketchBehaviours","_placeholder","adt$3","single","multiple","isSubstituted","subPlaceholder","compSpec","placeholders","newSpec","scan","uiType","substitute","req","childSpecs","substituted","valuesThunk","preprocessor","preprocess","substituteAll","oneReplace","replacements","used","_","substitutePlaces","ps","ph","single$2","placeholder","adt$2","external","fFactory","sketch","fSchema","fName","fPname","typeSpec","fGroupSchema","fDefaults","fOverrides","requiredSpec","externalSpec","optionalSpec","groupSpec","asNamedPart","part","name$2","asCommon","convert","adtConstructor","partSchema","PartType","combine","partSpec","partValidated","defaults","internals","externals","pname","factory","_partSpec","_partValidated","units","u","generate$3","np","g","doGenerateOne","generateOne$1","schemas","names","substitutes","components$1","getPart","partKey","getPartOrDie","getParts","partKeys","system","pk","getAllParts","pUid","_k","getAllPartNames","getPartsOrDie","defaultUids","baseUid","partTypes","partNames","pn","defaultUidsSchema","AlloyParts","generateOne","partSchemas","partUidsSchemas","asRawOrDie","baseS","single$1","specWithUid","supplyUid","composite$1","partUidsSchema","hasUid","isSketchSpec","singleSchema","compositeSchema","rawConfig","configFields","extraApis","composite","partFields","inside","getCurrent","composeConfig","_composeState","find","ComposeApis","ComposeSchema","Composing","nativeDisabled","onLoad$1","disableConfig","disableState","disabled","disable","enable","hasNative","useNative","nativeIsDisabled","nativeDisable","nativeEnable","ariaIsDisabled","ariaDisable","ariaEnable","_disableState","disableClass","onDisabled","onEnabled","isDisabled","set$4","DisableApis","exhibit$5","events$e","ActiveDisable","DisableSchema","Disabling","dehighlightAllExcept","hConfig","hState","skip","highlighted","highlightClass","shouldSkip","skipComp","onDehighlight","dehighlightAll","dehighlight","isHighlighted","highlight","onHighlight","highlightFirst","getFirst","firstComp","highlightLast","getLast","lastComp","highlightAt","getByIndex","highlightBy","getCandidates","targetComp","queryTarget","getHighlighted","_hState","itemClass","getDelta$2","selected","dest","getPrevious","getNext","HighlightApis","HighlightSchema","Highlighting","BACKSPACE","TAB","ENTER","ESCAPE","SPACE","LEFT","UP","RIGHT","DOWN","cyclePrev","tryPrev","cycleNext","tryNext","inSet","which","and","preds","isShift","shiftKey","isControl","ctrlKey","isNotShift","rule","classification","choose","transitions","reportFocusShifting","prevFocus","noChange","n","dom$2","focusee","highlights","FocusInsideModes","typical","infoSchema","stateInit","getKeydownRules","getKeyupRules","optFocusIn","processKey","getRules","keyingConfig","keyingState","rules","onFocusHandler","focusInside","OnFocusMode","focusIn","tryGoInsideComponent","isEnterOrSpace","OnEnterOrSpaceMode","keyboardEvents","create$1","cyclicField","tabbingConfig","visibilitySelector","findInitial","tabstops","visibles","firstTabstop","findCurrent","focusManager","isTabstop","useTabstopAt","_tabbingState","goFromTabstop","stopIndex","cycle","cyclic","tabstop","optStopIndex","goBackwards","navigate","goForwards","execute","onEnter","exit","onEscape","AcyclicType","CyclicType","doDefaultExecute","defaultExecute","isComplex","stopEventForFirefox","_component","schema$v","execute$4","executeConfig","getKeydownRules$5","_executeState","spaceExec","useSpace","enterExec","useEnter","downExec","useDown","execKeys","useControlEnter","getKeyupRules$5","ExecutionType","flatgrid$1","dimensions","setGridSize","numRows","numColumns","getNumRows","getNumColumns","init$d","KeyingState","flatgrid","useH","movement","move","use","west$1","moveLeft","moveRight","east$1","useV","north$1","south$1","move$1","isHidden$1","locate","locateVisible","visible","findIndex","withGrid","numCols","oldRow","oldColumn","address","newIndex","row","column","cycleHorizontal$1","onLastRow","colsInRow","newColumn","cycleVertical$1","newRow","newCol","cycleRight$1","cycleLeft$1","cycleUp$1","cycleDown$1","schema$u","focusIn$3","gridConfig","_gridState","first","findCurrent$1","execute$3","doMove$2","gridState","identified","handleTab","captureTab","doEscape$1","moveLeft$3","moveRight$3","moveNorth$1","moveSouth$1","getKeydownRules$4","getKeyupRules$4","FlatgridType","horizontal","isDisabledButton","tryCycle","schema$t","flowConfig","execute$2","focusIn$2","_state","getInitial","moveLeft$2","moveRight$2","doMove$1","flowState","executeOnMove","doEscape","getKeydownRules$3","_flowState","westMovers","allowVertical","eastMovers","getKeyupRules$3","FlowType","toCell","matrix","rowIndex","columnIndex","cell","cycleHorizontal","startCol","deltaCol","newColIndex","cycleVertical","colIndex","startRow","deltaRow","nextRowIndex","colsInNextRow","nextColIndex","moveHorizontal","moveVertical","cycleRight","cycleLeft","cycleUp","cycleDown","moveLeft$1","moveRight$1","moveUp$1","moveDown$1","schema$s","focusIn$1","matrixConfig","previousSelector","selectors","execute$1","toMatrix","rows","doMove","ifCycle","ifMove","cycles","inRow","cellsInRow","allRows","moveNorth","moveSouth","getKeydownRules$2","getKeyupRules$2","MatrixType","schema$r","menuConfig","moveUp","moveDown","fireShiftTab","menuState","moveOnTab","fireTab","getKeydownRules$1","getKeyupRules$1","MenuType","schema$q","specialInfo","onSpace","onShiftEnter","onShiftTab","onTab","onUp","onDown","onLeft","onRight","stopSpaceKeyup","SpecialType","acyclic","flow","execution","menu","special","KeyboardBranches","isFlatgridState","keyState","Keying","keyConfig","sendFocusIn","withoutReuse","withReuse","virtualReplace","replacee","replaceeIndex","childSpec","insert","set$3","replaceConfig","replaceState","replacer","reuseDom","append","appendee","prepend","prependee","removee","foundChild","_replaceConfig","replaceAt","replaceBy","replaceePred","ReplaceApis","Replacing","events$d","eventHandlers","focus$2","focusConfig","ignore","onFocus","isFocused","FocusApis","exhibit$4","tabindex","events$c","stopMousedown","ActiveFocus","FocusSchema","Focusing","SetupBehaviourCellState","initialState","updateAriaState","toggleConfig","toggleState","ariaInfo","aria","updateClass","toggleClass","set$2","onToggled","toggle$2","isOn","ToggleApis","toggle","exhibit$3","events$b","load","toggleOnExecute","ActiveToggle","updatePressed","syncWithExpanded","updateExpanded","updateSelected","updateChecked","ToggleSchema","pressed","checked","expanded","Toggling","pointerEvents","onClick","events$a","optAction","executeHandler","hoverEvent","focusEvent","toggledEvent","onHover","onFocus$1","hover","focus$1","toggled","getItemRole","toggling","exclusive","getTogglingSpec","tConfig","_value","builder$2","hasSubmenu","itemBehaviours","ignoreFocus","schema$p","builder$1","schema$o","owner$2","parts$h","builder","focusWidget","widget","onHorizontalArrow","autofocus","setSource","_widget","widgetBehaviours","schema$n","itemSchema$2","separator","configureGrid","movementInfo","markers","configureMatrix","rowSelector","configureMenu","parts$g","itemInfo","unit","fakeFocus","schema$m","grid","deselectOtherRadioItems","checkedRadioItems","ele","make$7","_spec","_externals","menuBehaviours","selectedItem","role","Menu","transpose$1","trace","byItem","byMenu","triggerItem","triggerMenu","generate$2","menus","expansions","menuItems","menuPaths","_triggerItem","init$c","primary","directory","isClear","setMenuBuilt","menuName","setContents","sPrimary","sMenus","sExpansions","sPaths","getTriggeringItem","menuValue","getTriggerData","getItemByValue","getPreparedMenu","triggeringItemValue","triggeredItem","triggeredMenu","triggeringItem","triggeringPath","getTriggeringPath","itemValue","extraPath","lookupItem","revPath","triggers","menuIndex","expand","collapse","refresh","lookupMenu","extractPreparedMenu","otherMenus","menuValues","getPrimary","getMenus","prep","LayeredState","onMenuItemHighlightedEvent","onMenuItemDehighlightedEvent","HighlightOnOpen","make$6","_rawUiSpec","submenuParentItems","buildMenus","primaryName","makeSketch","menuComp","itemComp","highlightData","dehighlightData","nbMenu","layeredState","setup","componentMap","toDirectory","getItemValue","_container","_menuName","setActiveMenu","setActiveMenuAndItem","mv","closeOthers","others","backgroundMenu","stayInDom","getSubmenuParents","parentItems","updateAriaExpansions","updateMenuPath","latestMenuName","menuPrep","activeMenu","ExpandHighlightDecision","buildIfRequired","expandRight","HighlightSubmenu","activeMenuPrep","onOpenSubmenu","collapseLeft","onCollapseMenu","updateView","keyOnItem","getSource","tmenu","onExecute","onOpenMenu","highlightOnOpen","HighlightMenuAndItem","HighlightJustMenu","tmenuComp","se","onHighlightItem","onDehighlightItem","navigateOnHover","HighlightParent","getActiveItem","collapseMenuApi","currentItem","highlightPrimary","extractMenuFromContainer","repositionMenus","maybeActivePrimary","allMenus","preparedMenus","primaryMenu","onRepositionMenu","collapseMenu","tmenuBehaviours","_keyInfo","selectedMenu","collapseItem$1","tieredData","singleData","collapseItem","tieredMenu","makeMenu","menuSandbox","menuSpec","lazySink","isFirstTierSubmenu","triggeringPaths","getSubmenuLayouts","submenuTriggers","st","submenuLayouts","factory$m","isPartOfRelated","related","getRelated","thing","showAt","showWithin","showWithinBounds","showMenuAt","showMenuWithinBounds","hide","getContent","inlineBehaviours","onShow","onHide","fireDismissalEventInstead","fireRepositionEventInstead","InlineView","global$9","factory$l","lookupAttr","getModAttributes","roleAttrs","buttonBehaviours","Button","record","anyInSystem","asSpec","global$8","rtlTransform","defaultIconName","defaultIcon","icons","getIconName","lcName","rtlName","lookupIcon","get$2","iconProvider","fallbackIcon","needsRtlTransform","iconName","addFocusableBehaviour","svg","renderIcon$2","_b","rtlIconClasses","iconHtml","render$3","renderFirst","iconNames","notificationIconMap","warning","factory$k","memBannerText","translationProvider","renderPercentBar","percent","renderPercentText","memBannerProgress","progress","updateProgress","updateText","banner","iconChoices","icon","level","memButton","onAction","notificationIconSpec","notificationBodySpec","closeButton","Notification","NotificationManagerImpl","editor","extras","uiMothership","sharedBackstage","backstage","shared","contentArea","getContentAreaContainer","win$1","settings","closeCallback","notificationWrapper","notification","progressBar","providers","getSink","header","isPositionedAtTop","timeout","setEditorTimeout","notificationSpec","anchorOverrides","allNotifications","notificationManager","getNotifications","thisNotification","anchors","previousNotification","getEl","nodeAnchor","nuText","getArgs","global$7","global$6","global$5","ToolbarMode$1","ToolbarMode","ToolbarLocation$1","ToolbarLocation","option$2","wrapOptional","register$e","registerOption","register","stringOrFalseProcessor","stringOrNumberProcessor","default","getElement","DOM","getStyle","valid","auto","inline","isReadOnly","getHeightOption","getWidthOption","getMinWidthOption","getMinHeightOption","getMaxWidthOption","getMaxHeightOption","getUserStyleFormats","shouldMergeStyleFormats","shouldAutoHideStyleFormats","getContentLanguages","getRemovedMenuItems","getToolbarMode","getToolbarGroups","getToolbarLocation","fixedContainerSelector","fixedToolbarContainerTarget","isToolbarPersist","getStickyToolbarOffset","getMenubar","getToolbar","getFilePickerCallback","getFilePickerValidatorHandler","getFilePickerTypes","useTypeaheadUrls","getAnchorTop","getAnchorBottom","isDraggableModal$1","useStatusBar","useElementPath","useBranding","getResize","getPasteAsText","getSidebarShow","promotionEnabled","isSkinDisabled","isMenubarEnabled","getSkinUrl","skinUrl","documentBaseURI","skin","baseURL","getLineHeightFormats","isToolbarEnabled","toolbar","isToolbarString","isToolbarObjectArray","isMultipleToolbars","getMultipleToolbarsOption","toolbars","toolbarArray","isToolbarLocationBottom","fixedContainerTarget","useFixedContainer","getUiContainer","fixedContainer","isDistractionFree","isStickyToolbar","Options","isDraggableModal","autocompleteSelector","elm","findIn","setup$e","redirectKeyToItem","getItem","getMenu","keyCode","isActive","isMenuOpen","stopImmediatePropagation","cancelIfNecessary","isProcessingAction","AutocompleterEditorEvents","ItemResponse","ItemResponse$1","navClass","selectableClass","colorClass","presetClasses","normal","color","tickedClass","groupHeadingClass","iconClass","textClass","accessoryClass","caretClass","checkmarkClass","activeClass","containerClass","containerColumnClass","containerRowClass","containerAlignRightClass","containerAlignLeftClass","containerValignTopClass","containerValignMiddleClass","containerValignBottomClass","classForPreset","presets","forMenu","hasIcons","menuClasses","dom$1","columns","schema$l","focusBehaviours","selectOnFocus","setSelectionRange","inputBehaviours","inputAttributes","inputStyles","inputClasses","factory$j","Input","refetchTriggerEvent","redirectMenuItemInteractionEvent","menuSearcherClass","findWithinSandbox","sandboxComp","inputElem","findWithinMenu","restoreState","inputComp","searcherState","fetchPattern","selectionStart","selectionEnd","saveState","setActiveDescendant","renderMenuSearcher","handleByBrowser","handleByHighlightedItem","eventData","interactionEvent","eventType","customSearcherEventsName","i18n","searchResultsClass","augmentWithAria","chunk","rowDom","chunks","forSwatch","forToolbar","preprocessCollection","isSeparator","allSplits","currentSplit","insertItemsPlaceholder","initItems","onItem","rawItems","enrichedItems","_item","forCollection","_hasIcons","forCollectionWithSearchResults","ariaControlsSearchResults","forCollectionWithSearchField","searchField","forHorizontalCollection","menuHasIcons","handleError","createHorizontalPartialMenuWithAlloyItems","_columns","_menuLayout","structure","createPartialMenuWithAlloyItems","menuLayout","getNormalStructure","menuType","searchMode","name$1","title","value$1","fetch$1","getSubmenuItems","onItemAction","onSetup","optionalName","optionalText","optionalIcon","optionalTooltip","optionalLabel","optionalShortcut","optionalSelect","borderless","enabled","defaultedColumns","defaultedMeta","defaultedOnAction","defaultedType","generatedName","namePrefix","generatedValue","valuePrefix","separatorMenuItemSchema","createSeparatorMenuItem","autocompleterItemSchema","createSeparatorItem","createAutocompleterItem","baseToolbarButtonFields","toolbarButtonSchema","createToolbarButton","baseToolbarToggleButtonFields","toggleButtonSchema","createToggleButton","contextBarFields","contextButtonFields","contextToggleButtonFields","launchButtonFields","launchToggleButtonFields","toggleOrNormal","contextformbutton","contextformtogglebutton","contextFormSchema","createContextForm","contextToolbarSchema","createContextToolbar","cardImageFields","cardImageSchema","cardTextFields","cardTextSchema","itemSchema$1","cardimage","cardtext","cardcontainer","cardContainerSchema","commonMenuItemFields","cardMenuItemSchema","createCardMenuItem","choiceMenuItemSchema","createChoiceMenuItem","baseFields","insertTableFields","colorSwatchFields","fancyMenuItemSchema","inserttable","colorswatch","createFancyMenuItem","menuItemSchema","createMenuItem","nestedMenuItemSchema","createNestedMenuItem","toggleMenuItemSchema","createToggleMenuItem","detectSize","margin","selectorClass","descendants$1","columnLength","thisTop","cTop","abs","ceil","namedEvents","unnamedEvents","SimpleBehaviours","ExclusivityChannel","ShowTooltipEvent","HideTooltipEvent","hideAllExclusive","_tConfig","_tState","setComponents","tState","getTooltip","tooltip","TooltippingApis","events$9","tooltipConfig","clearTooltip","clearTimer","show","isShowing","popup","tooltipDom","tooltipComponents","setTooltip","resetTimer","ActiveTooltipping","TooltippingSchema","init$b","TooltippingState","Tooltipping","escape","ReadOnlyChannel","ReadOnlyDataSchema","broadcastReadonly","uiComponents","readonly","outerContainer","mothership","setupReadonlyModeSwitch","receivingConfig","button","splitButton","toolbarButton","DisablingConfigs","runWithApi","getApi","onControlAttached","editorOffCell","onDestroy","onControlDetached","onMenuItemExecute","itemResponse","triggersSubmenu","CLOSE_ON_EXECUTE","menuItemEventOrder","componentRenderPipeline","renderCommonItem","providersBackstage","optComponents","buildData","convertText","isMac","mac","alt","ctrl","shift","access","other","shortcut","updated","segment","trim","renderIcon$1","renderText","renderHtml","renderStyledText","renderShortcut","renderCheckmark","renderSubmenuCaret","renderDownwardsCaret","renderContainer","directionClass","alignClass","align","getValignClass","valign","renderImage","src","renderColorStructure","providerBackstage","colorPickerCommand","removeColorCommand","itemText","ariaLabel","iconSvg","iconContent","getDom","common","baseDom","renderItemDomStructure","domTitle","renderNormalItemStructure","renderIcons","iconSpec","renderIcon","renderEmptyIcon","leftIcon","checkmark","checkMark","textRender","htmlContent","menuItem","shortcutContent","caret","renderItemStructure","tooltipBehaviour","tooltipWorker","_tooltip","encodeText","encode","replaceText","matchText","translated","encoded","escapedMatchRegex","RegExp","renderAutocompleteItem","useText","onItemValueHandler","_api","render$2","shouldHighlight","cardText","highlightOn","renderCardMenuItem","isEnabled","setEnabled","renderChoiceItem","isSelected","setActive","parts$f","hexColour","shorthandRegex","longformRegex","isHexString","hex","normalizeHex","toUpperCase","fromString$1","getLongForm","hexString","m","extractValues","longForm","splitForm","exec","toHex","fromRgba","rgbaColour","red","green","blue","round$1","rgbRegex","rgbaRegex","alpha","isRgbaComponent","fromHsv","hsv","hue","saturation","brightness","side","chroma","fromHex","fromStringValues","fromString","rgbaString","rgbMatch","rgbaMatch","rgba","fireSkinLoaded$1","fireSkinLoadError$1","fireResizeEditor","fireResizeContent","fireScrollContent","fireTextColorChange","fireAfterProgressState","fireResolveName","hsvColour","fromRgb","minRGB","maxRGB","hexToHsv","hsvToHex","anyToHex","canvas","canvasContext","getContext","clearRect","fillStyle","fillRect","getImageData","global$4","storageName","ColorCache","storageString","localstorage","prune","diff","cache","unshift","pop","setItem","splice","colorCache","calcCols","colors","sqrt","mapColors","colorMap","option$1","register$d","getColors$2","getColorCols$1","hasCustomColors$1","getCurrentColors","addColor","fallbackColor","hasStyleApi","getCurrentColor","format","getParents","applyFormat","undoManager","transact","formatter","nodeChanged","removeFormat","registerCommands","addCommand","getAdditionalColors","hasCustom","applyColor","onChoice","dialog","colorPickerDialog","colorOpt","execCommand","getColors$1","getFetch$1","callback","setIconColor","splitButtonApi","newColor","setIconFill","registerTextColorButton","lastColor","ui","registry","addSplitButton","select","optCurrentRgb","currentRgb","currentHex","fetch","_splitButtonApi","registerTextColorMenuItem","addNestedMenuItem","fancytype","isValid","onSubmit","getData","colorpicker","windowManager","alert","details","initialData","buttons","onCancel","register$c","lastForeColor","lastBackColor","createPartialChoiceMenu","presetItemTypes","alloyItems","createChoiceItems","itemPresets","deriveMenuMovement","menuMarkers","rowClass","deriveCollectionMovement","renderColorSwatchItem","getColorItems","colorinput","getColorCols","widgetSpec","useCustomColors","initData","allowCustomColors","hasCustomColors","getColors","cellOverEvent","cellExecuteEvent","makeCell","col","labelId","emitCellOver","makeCells","cells","selectCells","selectedRow","selectedColumn","makeComponents","cellRow","makeLabelText","renderInsertTableMenuItem","sizeLabelId","emptyLabelText","memLabel","fancyMenuItems","renderFancyMenuItem","render","renderNestedItem","downwardsCaret","renderNormalItem","renderSeparatorItem","renderToggleMenuItem","autocomplete","separator$3","nested","toggle$1","fancy","card","getCoupled","coupleConfig","coupleState","getOrCreate","getExistingCoupled","getExisting","CouplingApis","CouplingSchema","init$a","coupled","lookupCoupled","coupledName","CouplingState","Coupling","nu$3","baseFn","callbacks","nCallback","isReady","cbs","cb","pure$1","LazyValue","pure","errorReporter","make$5","then","aFutureB","toPromise","anonBind","futureB","toLazy","toCached","nu$2","Promise","Future","partType$1","getAnchor","getHotspot","getAnchorOverrides","mapFetch","fetcher","openF","futureData","getLazySink","tdata","onOpenSync","processed","_onOpenSync","_highlightOnOpen","togglePopup","showing","matchWidth","useMinWidth","buttonWidth","sinkDetail","internalSink","lazySinkFn","doRepositionMenus","makeSandbox$1","ariaControls","sandboxClasses","sandboxBehaviours","sandboxFields","schema$k","parts$e","factory$i","switchToMenu","togglePopup$1","dropdownComp","HighlightNone","refetch","optSandbox","triggerExecute","dropdownBehaviours","Dropdown","identifyMenuLayout","handleRefetchTrigger","originalSandboxComp","dropdown","optSearcherState","newSandboxComp","handleRedirectToMenuItem","getActiveMenuItemFrom","activeItem","getSearchResults","activeMenuComp","updateAriaOnHighlight","optActiveResults","resultsElem","controlledId","updateAriaOnDehighlight","focusSearchField","searcherComp","getSearchPattern","optSandboxComp","FocusMode","createMenuItemFromBridge","isHorizontalMenu","parseForHorizontalMenu","menuitem","createAutocompleteItems","createPartialMenu","itemHasIcon","createItem","createPartial","createTieredDataFrom","partialMenu","createInlineMenuFrom","focusMode","ContentFocus","getAutocompleterRange","initRange","createRng","selectNode","register$b","processingAction","activeState","autocompleter","hideIfNecessary","getCombinedItems","choices","itemMeta","nr","getRng","autocompleterApi","reload","fetchOptions","BUBBLE_TO_SANDBOX","display","lookupData","ld","updateDisplay","combinedItems","autocompleterUiApi","Autocompleter","DelayedFunction","fun","ref","schedule","cancel","SIGNIFICANT_MOVE","LONGPRESS_DELAY","getTouch","touches","isFarEnough","touch","distX","distY","monitor","startData","longpressFired","longpress$1","handleTouchstart","handleTouchmove","handleTouchend","isSame","fireIfReady","isDangerous","keyEv","setup$d","rawSettings","stopBackspace","tapEvent","simpleEvents","tapStopped","stopped","pasteTimeout","onPaste","onKeydown","onFocusIn","focusoutTimeout","onFocusOut","derive","rawTarget","fromSource","isStopped","isCut","fromExternal","adt$1","resume","complete","doTriggerHandler","handlerInfo","eventHandler","doTriggerOnUntilStopped","triggerHandler","listeners","_logger","listener","triggerUntilStopped","triggerOnUntilStopped","broadcastHandler","EventRegistry","registerId","findHandler","filterByType","isAboveRoot","unregisterId","handlersById","_eventName","Registry","readOrTag","failOnDuplicate","tagId","conflict","unregister","getById","factory$h","domWithoutAttributes","containerBehaviours","Container","takeover","domEvents","_alloyId","broadcast$1","broadcastData","receivers","receiver","renderBar","interpreter","schema$j","parts$d","excludeFactory","factory$g","fieldBehaviours","descriptor","descriptorId","getField","getLabel","FormField","exhibit$2","tabConfig","tabAttr","ActiveTabstopping","TabstopSchema","Tabstopping","global$3","renderFormFieldWith","pLabel","pField","extraClasses","extraBehaviours","renderFormFieldSpecWith","renderFormField","renderFormFieldDomWith","renderFormFieldDom","renderLabel$2","formChangeEvent","formCloseEvent","formCancelEvent","formActionEvent","formSubmitEvent","formBlockEvent","formUnblockEvent","formTabChangeEvent","formResizeEvent","renderCollection","runOnItem","htmlLines","mapItemName","disabledClass","encodeAllRaw","tgt","collectionEvents","currentActive","iterCollectionItems","applyAttributes","childElm","ariaElements","isAriaElement","markValid","invalidConfig","getRoot","invalidClass","notify","notifyInfo","getContainer","validHtml","onValid","markInvalid","invalidState","onInvalid","_invalidState","validatorInfo","validate","onValidate","isInvalid","InvalidateApis","events$8","onEvent","validateOnLoad","ActiveInvalidate","InvalidateSchema","Invalidating","validation","exhibit$1","unselectable","events$7","ActiveUnselecting","Unselecting","renderPanelButton","colorInputChangeEvent","colorSwatchChangeEvent","colorPickerCancelEvent","renderColorInput","colorInputBackstage","inputValue","span","emitSwatchChange","colorBit","memColorButton","colorPicker","valueOpt","colorButton","_field","labelPart","edgePart","model","edgeActions","det","mouseIsDown","tlEdgePart","tedgePart","trEdgePart","redgePart","brEdgePart","bedgePart","blEdgePart","ledgePart","thumbPart","spectrumPart","modelDetail","getValueFromEvent","spectrum","SliderParts","_sliderChangeEvent","sliderChangeEvent","isTouchEvent$2","evt","getEventSource","touchEvent","mouseEvent","l","minX","minY","min1X","min1Y","max1X","max1Y","xRange","yRange","halfX","halfY","step","stepSize","snap","snapToGrid","snapStart","rounded","hasEdge","edgeName","hasLEdge","hasREdge","hasTEdge","hasBEdge","currentValue","xyValue","fireSliderChange$3","setToTLEdgeXY","setToTEdge","setToTEdgeXY","setToTREdgeXY","setToREdge","setToREdgeXY","setToBREdgeXY","setToBEdge","setToBEdgeXY","setToBLEdgeXY","setToLEdge","setToLEdgeXY","reduceBy","increaseBy","capValue","snapValueOf","initValue","extraValue","remainder","adjustment","rawSteps","maxSteps","numSteps","findOffsetOf","findValueOf","hasMinEdge","hasMaxEdge","minBound","maxBound","screenRange","capMin","capMax","findOffsetOfValue$2","maxOffset","centerMinEdge","centerMaxEdge","getBoundsProperty","getMinXBounds","getMaxXBounds","getMinYBounds","getMaxYBounds","getXScreenRange","getYScreenRange","getCenterOffsetOf","componentMinEdge","componentMaxEdge","spectrumMinEdge","getXCenterOffSetOf","componentBounds","spectrumBounds","getYCenterOffSetOf","fireSliderChange$2","findValueOfOffset$1","setValueFrom$2","xValue","sliderVal","setToMin$2","setToMax$2","moveBy$2","handleMovement$2","getValueFromEvent$2","findOffsetOfValue$1","minEdge","maxEdge","minOffset","findPositionOfValue$1","slider","setPositionFromValue$2","thumb","edges","getSpectrum","getLeftEdge","getRightEdge","thumbRadius","onLeft$2","onRight$2","onUp$2","onDown$2","edgeActions$2","HorizontalModel","setToMin","setToMax","findValueOfOffset","findPositionOfValue","setPositionFromValue","fireSliderChange$1","setValueFrom$1","yValue","setToMin$1","setToMax$1","moveBy$1","handleMovement$1","getValueFromEvent$1","findOffsetOfValue","setPositionFromValue$1","getTopEdge","getBottomEdge","onLeft$1","onRight$1","onUp$1","onDown$1","edgeActions$1","VerticalModel","fireSliderChange","sliderValue","moveBy","isVerticalMovement","handleMovement","mX","mY","xPos","yPos","thumbXRadius","thumbYRadius","TwoDModel","SliderSchema","sketch$2","getThumb","changeValue","onChange","resetToMin","resetToMax","fireOnChoose","onChoose","wasDown","onDragStart","onDragEnd","sliderBehaviours","getInitialValue","onInit","Slider","fieldsUpdate","sliderUpdate","paletteUpdate","sliderFactory","getClass","_thumb","owner$1","schema$i","getPartName$1","sketch$1","fSpec","fieldParts","make$4","formBehaviours","form","resPs","resPThunk","pName","wrapper","Form","validInput","invalidInput","validatingInput","translatePrefix","rgbFormFactory","onValidHexx","onInvalidHexx","invalidation","renderTextField","description","helptext","comps","concats","copyRgbToHex","hexField","copyRgbToForm","rgb","memPreview","updatePreview","preview","copyHexToRgb","setValueRgb","getValueRgb","onInvalidInput","onValidHex","onValidRgb","isHexInputEvent","onValidInput","formPartStrings","redStrings","greenStrings","blueStrings","hexStrings","updateHex","rgbFormSketcher","paletteFactory","_translate","setColour","ctx","grdWhite","createLinearGradient","addColorStop","grdBlack","setPaletteHue","setPaletteThumb","_detail","_slider","saturationBrightnessPaletteSketcher","setHue","_apis","setThumb","makeFactory","rgbForm","onInvalidHex","sbPalette","hueSliderToDegrees","hueDegreesToSlider","paletteRgba","paletteHue","memSlider","memPalette","memRgb","updatePalette","_hex","palette","updateFields","updateSlider","updatePaletteThumb","updateState","runUpdates","updates","onPaletteUpdate","oldHue","newHsv","newHex","onSliderUpdate","oldRgb","oldHsv","onFieldsUpdate","colourPickerSketcher","self","memento$1","mem","childAt","ComposingConfigs","memento","processors","rawProcessors","rawValue","postprocess","withComp","optInitialValue","getter","setter","withElement","domValue","domHtml","RepresentingConfigs","english","translate$1","renderColorPicker","colourPickerFactory","memPicker","picker","optRgbForm","optHex","formValues","pattern","valOpt","global$2","isOldCustomEditor","renderCustomEditor","editorApi","memReplaced","ta","scriptId","scriptUrl","ea","cvalue","ed","global$1","filterByExtension","files","allowedImageFileTypes","explode","isFileInAllowedTypes","file","renderDropZone","actions","onDrop","transferEvent","handleFiles","dataTransfer","onSelect","memInput","accept","renderField","renderGrid","beforeObject","afterObject","craftWithClasses","outline","craft","triggerTab","isPseudoStop","getDynamicSource","cachedValue","_frameComponent","frameComponent","renderIFrame","isSandbox","sandboxed","isTransparent","transparent","baseClass","srcdoc","sourcing","image","reject","loaded","calculateImagePosition","imageWidth","imageHeight","zoom","zoomToFit","panel","panelW","panelH","renderImagePreview","cachedData","url","memImage","memContainer","translatedData","z","cachedWidth","cachedHeight","applyFramePositioning","imageComponent","img","naturalWidth","naturalHeight","fakeValidatedData","renderLabel$1","backstageShared","internalToolbarButtonExecute","onToolbarButtonExecute","itemApi","buttonApi","toolbarButtonEventOrder","iconsProvider","renderIconFromPack","renderReplaceableIconFromPack","renderLabel","updateMenuText","updateMenuIcon","renderCommonDropdown","optMemDisplayText","optMemDisplayIcon","onLeftOrRightInMenu","tooltipAttributes","translatedTooltip","memDropdown","searchable","displayText","displayIcon","itemCompCausingCollapse","nowActiveMenuComp","isMenuItemReference","isSeparator$2","isExpandingMenuItem","separator$2","unwrapReferences","realItems","getFromExpandingItem","submenuItems","newMenus","newExpansions","generateValueIfRequired","itemWithValue","newData","getSearchModeForField","searchSettings","getSearchModeForResults","mainMenuSearchMode","mainMenu","submenuSearchMode","submenus","isSingleListItem","dataAttribute","fetchItems","selectedValue","findItemByValue","renderListBox","initialItem","sketchSpec","listBoxWrap","renderPanel","factory$f","option","initialValues","selectClasses","selectAttributes","selectBehaviours","found","HtmlSelect","renderSelectBox","translatedOptions","chevron","selectWrap","schema$h","coupledPart","selfName","otherName","lock","onLockedChange","parts$c","locked","lockClass","factory$e","coupledFieldBehaviours","field1Name","field1","field2Name","field2","getField1","getField2","getLock","FormCoupledInputs","formatSize","unitDec","maxDecimal","numText","parseSize","sizeText","numPattern","convertUnit","inInch","noSizeConversion","_input","ratioSizeConversion","scale","makeRatioConverter","currentFieldText","otherFieldText","cValue","oValue","cSize","oSize","renderSizeInput","converter","ratioEvent","makeIcon","pLock","formGroup","getFieldPart","isField1","widthField","heightField","_lock","newSize","optCurrent","optOther","value1","value2","renderSlider","renderTable","renderTh","renderHeader","renderTd","renderTr","renderRows","baseInputBehaviours","multiline","validatingBehaviours","vl","inputMode","inputmode","classname","flex","extraClasses2","maximized","renderInput","renderTextarea","events$6","streamConfig","streamState","streams","stream","cancelEvent","ActiveStreaming","rate","throttle","_config","setTimer","init$9","StreamingState","setup$c","streamInfo","sInfo","throttler","onStream","stopEvent","StreamingSchema","Streaming","setValueFromItem","itemData","setCursorAtEnd","setSelectionOn","setSelectionToEnd","attemptSelectOver","selectsOver","inputDisplay","getDisplayText","itemDisplay","itemExecute","make$3","navigateList","highlighter","previewing","focusBehaviours$1","getActiveMenu","typeaheadCustomEvents","responseTime","focusInInput","minChars","previousValue","pv","sandboxIsOpen","openClass","typeaheadComp","lazyTypeaheadComp","_typeaheadComp","onItemExecute","dismissOnBlur","typeahead","typeaheadBehaviours","schema$g","parts$b","_tmenu","populateFromBrowse","selectOverTextInInput","_menu","Typeahead","wrap","bindFuture","resA","bindResult","mapResult","foldResult","whenError","whenValue","withTimeout","errorThunk","timedOut","nu$1","fromFuture","future","fromPromise","promise","completer","FutureResult","getMenuButtonApi","renderMenuButton","fetchContext","getFetch","getButton","getMenuItemAction","storage","orig","getMenuItemSetup","renderCommonSpec","actionOpt","domFinal","renderIconButtonSpec","calculateClassesFromButtonType","buttonType","renderButtonSpec","translatedText","baseClasses","renderButton","buttonSpec","getAction","isMenuFooterButtonSpec","isNormalFooterButtonSpec","renderFooterButton","menuButtonSpec","fixedSpec","renderDialogButton","separator$1","toMenuItem","staticMenuItem","toMenuItems","targets","filterLinkTargets","filteredTargets","headerTargets","linkInfo","anchorTargets","anchorTargetTop","anchorTop","anchorTargetBottom","anchorBottom","historyTargets","history","joinMenuLists","bothEmpty","filterByQuery","term","lowerCaseTerm","getItems","fileType","urlBackstage","urlInputValue","getLinkInformation","getHistory","errorId","renderUrlInput","updateHistory","urlEntry","addToHistory","filetype","typeaheadSpec","memUrlBox","_newValue","getValidationHandler","memInvalidIcon","invalidComp","trimmedValue","_entry","errId","memStatus","optUrlPicker","getUrlPicker","browseUrlEvent","memUrlPickerButton","controlHWrapper","openUrlPicker","componentData","urlData","fieldname","chosenData","renderAlertBanner","iconTooltip","set$1","get$1","renderCheckbox","toggleCheckboxHandler","className","memIcons","renderHtmlPanel","make$2","dialogData","makeIframe","iframeSpec","factories","bar","collection","alertbanner","textarea","iframe","checkbox","dropzone","listbox","selectbox","sizeinput","urlinput","customeditor","htmlpanel","imagepreview","table","noFormParts","interpretInForm","oldBackstage","newBackstage","interpretParts","interpretWithoutForm","westEdgeX","middleX","eastEdgeX","northY","southY","centreY","lookupPreserveLayout","preserve","lookupFlippedLayout","flip","bubbleAlignments$2","valignCentre","alignCentre","alignLeft","alignRight","getInlineDialogAnchor","contentAreaElement","lazyAnchorbar","lazyUseEditableAreaAnchor","bubbleSize","editableAreaAnchor","standardAnchor","getBannerAnchor","getCursorAnchor","bodyElement","getNodeAnchor$1","getAnchors","isToolbarTop","useFixedToolbarContainer","inlineDialog","cursor","ColorInputBackstage","DialogBackstage","HeaderBackstage","getDockingMode","setDockingMode","isNestedFormat","isFormatReference","defaultStyleFormats","isNestedFormats","isBlockFormat","isInlineFormat","isSelectorFormat","mapFormats","userFormats","fmt","customFormats","formats","formatName","formatNameWithPrefix","registerCustomFormats","registerFormats","getStyleFormats","registeredUserFormats","isSeparator$1","processBasic","isSelectedFor","getPreviewFor","getStylePreview","register$a","enrichSupported","enrichMenu","newItems","doEnrich","getStyleItems","enrichCustom","newItem","init$8","block","parseStyle","getCssText","settingsFormats","eventsFormats","replaceSettings","_e","enriched","modifications","fromSettings","fromEvents","isElement","hasContentEditableState","contentEditable","isContentEditableTrue","isContentEditableFalse","isChildOfContentEditableTrue","tempNode","getElementText","innerText","getOrGenerateId","isAnchor","isValidAnchor","isEditable","isHeader","isValidHeader","getLevel","headerTarget","headerId","anchorTarget","anchorId","anchorText","getHeaderTargets","elms","getAnchorTargets","getTargetElements","hasTitle","LinkTargets","STORAGE_KEY","HISTORY_LENGTH","isHttpUrl","isArrayOfUrl","isRecordOfUrlArray","getAllHistory","unparsedHistory","SyntaxError","setAllHistory","itemsWithoutUrl","isTruthy","makeMap","getPicker","getPickerTypes","optFileTypes","_picker","types","getPickerSetting","pickerTypes","entry","getTextSetting","UrlInputBackstage","init$7","contextMenuState","getAll","isContextMenuOpen","setContextMenuState","setup$b","ship","channel","fireDismissPopups","onTouchstart","onTouchmove","onTouchend","onMousedown","onMouseup","onContentClick","onContentMouseup","onContentMousedown","editorManager","loopEditor","relatedTarget","onWindowScroll","onWindowResize","onEditorResize","onEditorProgress","onDismissPopups","parts$a","partType","schema$f","customListDetail","itemsPart","parts$9","factory$d","_external","setItems","getListContainer","itemComps","numListsRequired","numListsToAdd","itemsToAdd","makeItem","itemsToRemove","builtLists","setupItem","shell","listBehaviours","CustomList","schema$e","enhanceGroups","parts$8","factory$c","setGroups","groups","getGroupContainer","toolbarBehaviours","Toolbar","setup$a","isDocked$2","getBehaviours$1","StaticHeader","isDocked","getBehaviours","getOffsetParent","isFixed","offsetParent$1","getOrigin","morphAdt","static","appear","contextualInfo","transitionClass","fadeOutClass","fadeInClass","disappear","isPartiallyVisible","isTopCompletelyVisible","isBottomCompletelyVisible","isVisibleForModes","getPrior","getInitialPos","storePrior","setInitialPos","revertToOriginal","clearInitialPos","offsetBox","_left","_top","_right","_bottom","morphToOriginal","getModes","morphToFixed","winBox","isTop","getMorph","getMorphToOriginal","morphToStatic","setDocked","onUndocked","morphToCoord","method","onDocked","updateVisibility","morphToDocked","contextual","contextInfo","lazyContext","setVisible","refreshInternal","lazyViewport","morph","resetInternal","refresh$4","isDocked$1","setModes","DockingApis","events$5","dockInfo","dockState","onShown","onHidden","ActiveDocking","DockingSchema","init$6","docked","initialBounds","DockingState","Docking","toolbarHeightChange","visibility","editorStickyOnClass","editorStickyOffClass","scrollFromBehindHeader","containerHeader","viewHeight","innerHeight","scrollPos","markerElement","markerPos","markerHeight","markerTop","markerBottom","editorHeaderPos","editorHeaderHeight","editorHeaderTop","editorHeaderBottom","editorHeaderDockedAtTop","editorHeaderDockedAtBottom","isDockedMode","updateIframeContentFlow","getOccupiedHeight","parentElem","padding","parentWidth","updateSinkVisibility","sinkElem","updateEditorClasses","editorContainer","restoreFocus","headerElem","focusedElem","ownerDoc","activeElm","findFocusedElem","rootElm","setup$9","lazyHeader","getIframeBehaviours","focusedElm","runOnSinkElement","onDockingSwitch","additionalBehaviours","headerHeight","boxHeight","topBound","StickyHeader","sticky","groupToolbarButtonSchema","createGroupToolbarButton","baseMenuButtonFields","MenuButtonSchema","createMenuButton","splitButtonSchema","createSplitButton","factory$b","setMenus","internal","activeButton","hoveredButton","activeComp","hoveredComp","prev","SilverMenubar","promotionMessage","promotionLink","renderPromotion","getAnimationRoot","slideConfig","getDimensionProperty","dimension","getDimension","disableTransitions","shrinkingClass","growingClass","setShrunk","closedClass","setGrown","doImmediateShrink","slideState","_calculatedSize","setCollapsed","onStartShrink","onShrunk","doStartShrink","calculatedSize","doStartSmartShrink","shrinker","doStartGrow","wasShrinking","beforeSize","fullSize","startPartialGrow","startCompleteGrow","setStartSize","setExpanded","onStartGrow","refresh$3","isExpanded","grow","shrink","immediateShrink","hasGrown","hasShrunk","isCollapsed","isGrowing","_slideState","isShrinking","isTransitioning","toggleGrow","immediateGrow","onGrown","SlidingApis","events$4","ActiveSliding","SlidingSchema","init$5","SlidingState","Sliding","schema$d","getPartName","sSpec","slot","make$1","getSlotNames","getSlot","onSlot","def","onSlots","doShowing","_key","doShow","doHide","hideSlot","hideSlots","hideAllSlots","showSlot","slotBehaviours","slotApis","SlotContainer","sidebarSchema","createSidebar","setup$8","sidebars","queryCommandValue","addToggleButton","handleToggle","makePanels","panelConfigs","bridged","sidepanel","optSidePanelSpec","sidePanelSpec","makeSidebar","slotContainer","setSidebar","sidebar","showSidebar","optSlider","configKey","toggleSidebar","optSlotContainer","whichSidebar","sidebarOpen","fixSize","autoSize","renderSidebar","getBusySpec","blockerBehaviours","blockSpec","blocker","isBlocked","onBlock","blockWith","unblock","onUnblock","BlockingApis","BlockingSchema","init$4","BlockingState","Blocking","getAttrs","getBusySpec$1","_root","_behaviours","focusBusyComponent","throbber","toggleEditorTabIndex","tabIndexAttr","dataTabIndexAttr","iframeElement","tabIndex","toggleThrobber","throbberFocus","busyComp","renderThrobber","isFocusEvent","isPasteBinTarget","targetElm","setup$7","lazyThrobber","throbberState","stealFocus","command","generate$1","within","withinWidth","apportion","total","parray","toUnit","fitLast","overflow","overflower","fitAll","tryFit","divide","setGroups$1","storedGroups","bGroups","findFocusedComp","refresh$2","setOverflow","builtGroups","overflowGroup","focusedComp","availableWidth","overflows","schema$c","schema$b","parts$7","expandable","schema$a","parts$6","toggledClass","toolbarSandbox","bounder","makeSandbox","factory$a","FloatingToolbarButton","schema$9","parts$5","factory$9","tgroupBehaviours","itemSelector","ToolbarGroup","buildGroups","refresh$1","memFloatingToolbarButton","overflowGroups","floatingToolbarButton","factory$8","getOverflowBounds","overflowToggledClass","splitToolbarBehaviours","getOverflow","SplitFloatingToolbar","schema$8","parts$4","onClosed","onOpened","toggleToolbar","overf","factory$7","toolbarToggleEvent","doSetGroups","_button","SplitSlidingToolbar","renderToolbarGroupCommon","toolbarGroup","renderToolbarGroup","getToolbarBehaviours","toolbarSpec","modeName","onAttached","initGroups","renderMoreToolbarCommon","cyclicKeying","renderFloatingMoreToolbar","baseSpec","overflowXOffset","moreDrawerData","headerBounds","docElem","docBounds","scrollHeight","renderSlidingMoreToolbar","renderToolbar","scrolling","factory$6","getSocket","getHeader","setToolbar","renderedGroups","setToolbars","mToolbar","renderedToolbars","refreshToolbar","toggleToolbarDrawer","isToolbarDrawerToggled","getThrobber","focusToolbar","optToolbar","setMenubar","menubar","focusMenubar","partMenubar","toolbarFactory","sliding","floating","partMultipleToolbar","_mToolbar","tc","_index","partToolbar","renderer","lazyToolbar","lazyMoreButton","partHeader","partPromotion","partSocket","partSidebar","partThrobber","OuterContainer","defaultMenubar","defaultMenus","edit","tools","help","removedMenuItems","itemName","removedMenuItem","parseItemsString","identifyMenus","rawMenuData","userDefinedMenus","validMenus","isDefaultMenu","menuData","isNotSeparator","fireSkinLoaded","done","_skinLoaded","initialized","fireSkinLoadError","loadStylesheet","stylesheetUrl","styleSheetLoader","unload","loadUiSkins","skinUiCss","loadShadowDomUiSkins","isInShadowRoot$1","shadowDomSkinCss","loadSkin","isInline","contentCSS","onSetupFormatToggle","boundCallback","binding","formatChanged","once","onSetupEvent","handleEvent","onActionToggleFormat$1","rawItem","onActionExecCommand","generateSelectItems","_editor","generateItem","response","invalid","si","validateItems","preItems","getCurrentValue","shouldHide","createMenuItems","createSelectButton","getComponent","rawFormats","buildBasicStaticDataset","Delimiter","delimiter","SemiColon","buildBasicSettingsDataset","settingName","alignMenuItems","getSpec$4","getMatchingValue","_format","updateSelectMenuIcon","alignment","canApply","createAlignButton","createAlignMenu","findNearest","getStyles","getSpec$3","fallbackFormat","updateSelectMenuText","detectedFormat","createBlocksButton","createBlocksMenu","systemStackFonts","splitFonts","fontFamily","fonts","font","isSystemFontStack","matchesSystemStack","getSpec$2","systemFont","getFirstFont","matchOpt","createFontFamilyButton","createFontFamilyMenu","legacyFontSizes","keywordFontSizes","precision","factor","pow","toPt","fontSize","toLegacy","getSpec$1","pt","legacy","Space","createFontSizeButton","createFontSizeMenu","getSpec","getFormatItems","flattenedItems","createStylesButton","createStylesMenu","events$3","reflectingConfig","reflectingState","renderComponents","newComponents","rawData","ActiveReflecting","reflectState","ReflectingApis","ReflectingSchema","init$3","ReflectingState","Reflecting","schema$7","arrowPart","arrow","buttonPart","btn","splitDropdown","parts$3","factory$5","openMenu","executeOnButton","buttonEvents","ariaDescriptor","splitDropdownBehaviours","SplitDropdown","getButtonApi","getToggleApi","getTooltipAttributes","focusButtonEvent","renderCommonStructure","renderFloatingToolbarButton","identifyButtons","renderCommonToolbarButton","specialisation","toolbarButtonBehaviours","renderToolbarButton","renderToolbarButtonWith","bonusEvents","renderToolbarToggleButton","renderToolbarToggleButtonWith","fetchChoices","renderSplitButton","displayChannel","underlinePath","buttonComp","_c","defaultToolbar","renderFromBridge","bridgeBuilder","togglebutton","menubutton","splitbutton","grouptoolbarbutton","identify","allowToolbarGroups","TopToBottom","extractFrom","bespokeButtons","fontsize","fontfamily","blocks","removeUnusedDefaults","filteredItemGroups","subItem","convertStringToolbar","strToolbar","groupsStrings","isToolbarGroupSettingArray","createToolbar","toolbarConfig","lookupButton","toolbarItem","prefixes","toolbarGroups","rawUiConfig","toolbarButtonsConfig","detection","isiOS12","setupEvents$1","contentWindow","initialDocEle","getDoc","lastWindowDimensions","innerWidth","lastDocumentDimensions","resizeWindow","outer","resizeDocument","docEle","elementLoad","render$1","lastToolbarWidth","eTargetNode","targetNode","uiRoot","socket","limit","unbinder","_ui","addQueryValueHandler","toolbarMode","refreshDrawer","iframeContainer","Iframe","parseToInt","re","numToPx","calcCappedSize","minSize","maxSize","minOverride","maxOverride","getHeight","baseHeight","minHeight","getHeightWithFallback","getWidth","baseWidth","minWidth","getWidthWithFallback","InlineHeader","floatContainer","isSticky","editorMaxWidthOpt","headerBackstage","isSplitToolbar","removed","calcToolbarOffset","tbar","calcMode","toolbarHeight","targetBounds","roomAtTop","docHeight","roomAtBottom","winBounds","isRoomAtBottomViewport","setupMode","verticalDir","updateChromeWidth","bodyMargin","updateChromePosition","repositionPopups$1","updateChromeUi","resetDocking","updateMode","updateUi","currentMode","newMode","addClass","removeClass","getTargetPosAndBounds","setupEvents","toolbarPersist","prevPosAndBounds","resizeContent","prevPos","prevBounds","hasResized","uiContainer","Inline","showContextToolbarEvent","hideContextToolbarEvent","getFormApi","runOnExecute","formApi","renderContextButton","renderContextToggleButton","isToggleButton","mementos","asSpecs","findPrimary","compInSystem","buildInitGroups","commands","renderContextForm","toolbarType","ContextForm","isVerticalOverlap","threshold","getRangeRect","leaf$1","getSelectionBounds","bodyPos","getAnchorElementBounds","lastElement","getHorizontalBounds","contentAreaBox","viewportBounds","getVerticalBounds","isToolbarLocationTop","headerBox","isToolbarBelowContentArea","isToolbarAbove","containerBounds","getContextToolbarBounds","toolbarOrMenubarEnabled","bubbleSize$1","bubbleAlignments$1","inset","isEntireElementSelected","preservePosition","currentPosition","shouldUseInsetLayouts","determineInsetLayout","contextbar","selectionBounds","isSameAnchorElement","isOverlapping","isReposition","yBounds","contextbarHeight","getAnchorSpec$2","mobile","smartInsetLayout","newAnchor","getInsetLayouts","desktopAnchorSpecLayouts","mobileAnchorSpecLayouts","getAnchorLayout","matchTargetWith","ctxs","toolbarApi","contextToolbars","contextForms","filterByPositionForStartNode","doesPositionExist","filterToolbarsByPosition","hasSelectionToolbars","hasNodeToolbars","nodeToolbars","selectionToolbars","filterByPositionForAncestorNode","findPosition","basePosition","matchStartNode","nodeCandidates","editorCandidates","nodeMatches","editorMatches","matchAncestor","startNode","scopes","ancestorElem","inNodeScope","lookup$1","rootElem","isOutsideRoot","getNode","inEditorScope","categorise","forms","formNavigators","lookupTable","registerForm","contextForm","launch","registerToolbar","contextToolbar","forwardSlideEvent","backSlideEvent","changeSlideEvent","resizingClass","renderContextToolbar","currentWidth","newWidth","newContents","oldContents","forwardContents","register$9","registryContextToolbars","lastTrigger","lastContextPosition","canLaunchToolbar","isSameLaunchElement","shouldContextToolbarHide","contextToolbarBounds","anchorBounds","hideOrRepositionIfNecessary","contextBarEle","wrapInPopDialog","shortcuts","_comp","getScopes","alloySpec","buildToolbar","buildContextToolbarGroups","allButtons","buildContextFormGroups","anchorLayout","launchContext","launchContextToolbar","toolbarKey","register$8","alignToolbarButtons","cmd","addButton","unsupportedLength","decimalDigits","signedInteger","exponentPart","dot","unsignedDecimalLiteral","float","isUnit","accepted","check","unitRaw","normalise","registerController","getMenuItems","getOptions","hash","oldApi","unbindWatcher","watcher","setCurrent","addMenuButton","onToolbarSetup","onMenuSetup","lineHeightSpec","languageSpec","settingsOpt","customCode","code","customValue","codeOpt","lang","register$7","register$6","onSetupOutdentState","queryCommandState","registerButtons$2","register$5","makeSetupHandler","pasteAsText","pastePlainTextToggleHandler","register$4","addToggleMenuItem","onActionToggleFormat","registerFormatButtons","_idx","registerCommandButtons","registerCommandToggleButtons","registerButtons$1","registerMenuItems$2","addMenuItem","register$3","onSetupUndoRedoState","registerMenuItems$1","registerButtons","register$2","onSetupVisualAidState","hasVisual","registerMenuItems","registerToolbarButton","register$1","setup$6","patchPipeConfig","shouldNeverUseNative","getAvoidOverlapSelector","isContextMenuDisabled","getContextMenu","contextMenus","contextMenu","transpose","dx","dy","isTouchEvent$1","fromPageXY","pageX","pageY","fromClientXY","transposeContentAreaContainer","containerPos","getPos","getPointAnchor","getSelectionAnchor","getNodeAnchor","getAnchorSpec$1","anchorType","initAndShow$1","buildMenu","contextmenu","anchorSpec","bubbleAlignments","isTouchWithinSelection","rngRectOpt","rngRect","setupiOSOverrides","originalSelection","selectionReset","setRng","unbindEventListeners","preventMousedown","clearSelectionReset","getAnchorSpec","bubbleYOffset","highlightImmediately","initAndShow","shouldHighlightImmediately","openiOS","makeContextItem","commonMenuItem","commonItem","addContextMenuGroup","groupItems","lastMenuItem","generateContextMenu","selectedElement","sections","allItems","isNativeOverrideKeyEvent","isTouchEvent","isTriggeredByKeyboard","pointerType","getSelectedElement","getAnchorType","selectorExists","setup$5","hideContextMenu","showContextMenu","initAndShow$2","hideEvents","subtract","changes","asFixed","coord","asAbsolute","asOffset","withinRange","coord1","coord2","getDeltas","toStyles","stylesOpt","deltaX","deltaY","absorb","partialCoord","originalCoord","absorbOne","stencil","optX","optY","parseAttrToInt","NaN","snapsInfo","leftAttr","topAttr","getCoords","snapInfo","moveOrSnap","newCoord","mustSnap","findClosestSnap","findSnap","fixedCoord","spanned","stopDrag","findMatchingSnap","snaps","sensor","inRange","getSnapPoints","matchSnap","bestSnap","deltas","bestDeltas","currAvg","bestAvg","snapTo$1","snapTo","dragConfig","getTarget","repositionTarget","snapPin","DraggingApis","initialAttribute","resetZIndex","zIndex","changeZIndex","zindex","instigate","anyComponent","discard","createComponent","blockerClass","blockerEvents","SnapSchema","schema$6","getCurrentCoord","location","clampCoords","coords","absoluteCoord","newCoords","offset$1","calcNewCoord","optSnaps","currentCoord","snapping","onSensor","dragBy","onDrag","calcStartData","dragState","dragMode","dragStartData","getStartData","dlt","updateStartState","setStartData","init$2","dragApi","forceDrop","drop","delayDrop","getData$1","getDelta$1","MouseData","getDelta","events$2","stop$1","schema$5","init$1","getDataFrom","TouchData","events$1","blockerSingleton","stopBlocking","schema$4","schema$3","mouse","mouseOrTouch","DraggingBranches","previous","calculateDelta","dragEvent","nuData","DragState","Dragging","dragger","snapWidth","snapOffset","calcSnap","selectorOpt","td","selectorHandle","sensorLeft","sensorTop","sensorWidth","sensorHeight","getSnapsConfig","isSameCell","cellOpt","currentTd","createSelector","setup$4","tlTds","brTds","startCell","finishCell","getTopLeftSnap","memTopLeft","getTopLeftSnaps","getBottomRightSnap","memBottomRight","getBottomRightSnaps","topLeftSnaps","bottomRightSnaps","bottomRight","showOrHideHandle","isAbove","isBelow","cellRect","viewportHeight","aboveViewport","belowViewport","getSnapConfig","snapTopLeft","snapLastTopLeft","snapBottomRight","snapLastBottomRight","otherCells","upOrLeftCells","downOrRightCells","Logo","isHidden","renderElementPath","renderElement","_btn","renderDivider","renderPathData","updatePath","parents","newPath","isDefaultPrevented","isPropagationStopped","ResizeTypes","getDimensions","resizeType","originalHeight","originalWidth","Both","resize","dim","getResizeType","None","Vertical","keyboardHandler","renderResizeHandler","_target","renderWordCount","replaceCountText","words","characters","currentVal","wordCount","renderStatusbar","renderBranding","getTextComponents","hasPlugin","getComponents","resizeHandler","getLazyMothership","setup$3","lazyOuterContainer","lazyMothership","lazyUiMothership","touchPlatformClass","deviceClasses","isToolbarBottom","memAnchorBar","lazySinkResult","lazyAnchorBar","makeHeaderPart","verticalDirAttributes","hasMultipleToolbar","hasToolbar","hasMenubar","shouldHavePromotion","makePromotion","getPartToolbar","menubarCollection","promotion","makeSidebarDefinition","renderSink","isGridUiContainer","sinkSpec","reactiveWidthSpec","sidebarContainer","statusbar","editorComponents","containerComponents","opacity","border","setEditorSize","parsedHeight","parsedWidth","setupShortcutsAndCommands","addShortcut","addQueryStateHandler","renderUI","toolbarGroupButtonConfig","addGroupToolbarButton","toolbarOpt","getMothership","getUiMothership","describedBy","describedElement","describeElement","describeId","labelledBy","labelledElement","labelElement","schema$2","basic","parts$2","dragBlockClass","getDragBounds","factory$4","dialogComp","showDialog","externalBlocker","hideDialog","blockerDom","getDialogBody","getDialogFooter","setBusy","setIdle","modalEventsId","getFooter","modalBehaviours","ModalDialog","dialogToggleMenuItemSchema","dialogToggleMenuItemDataProcessor","baseFooterButtonFields","dialogFooterButtonFields","normalFooterButtonFields","menuFooterButtonFields","dialogFooterButtonSchema","submit","alertBannerFields","alertBannerSchema","createBarFields","itemsField","buttonFields","buttonSchema","formComponentFields","formComponentWithLabelFields","checkboxFields","checkboxSchema","checkboxDataProcessor","collectionFields","collectionSchema","collectionDataProcessor","colorInputFields","colorInputSchema","colorInputDataProcessor","colorPickerFields","colorPickerSchema","colorPickerDataProcessor","customEditorFields","customEditorFieldsOld","customEditorSchema","customEditorDataProcessor","dropZoneFields","dropZoneSchema","dropZoneDataProcessor","createGridFields","htmlPanelFields","htmlPanelSchema","iframeFields","iframeSchema","iframeDataProcessor","imagePreviewSchema","imagePreviewDataProcessor","inputFields","inputSchema","inputDataProcessor","createLabelFields","listBoxSingleItemFields","listBoxNestedItemFields","listBoxItemSchema","listBoxFields","listBoxSchema","listBoxDataProcessor","selectBoxFields","selectBoxSchema","selectBoxDataProcessor","sizeInputFields","sizeInputSchema","sizeInputDataProcessor","sliderFields","sliderSchema","sliderInputDataProcessor","tableFields","tableSchema","textAreaFields","textAreaSchema","textAreaDataProcessor","urlInputFields","urlInputSchema","urlInputDataProcessor","createItemsField","itemSchema","sErr","passValue","panelSchema","panelFields","tabFields","tabPanelFields","tabPanelSchema","dialogButtonFields","dialogButtonSchema","dialogSchema","tabpanel","createDialog","urlDialogButtonSchema","urlDialogSchema","createUrlDialog","getAllObjects","isNamedItem","dataProcessors","togglemenuitem","getDataProcessor","getNamedItems","createDataValidator","namedItems","internalDialog","dataValidator","DialogManager","openUrl","redial","toValidValues","renderBodyPanel","memForm","formValue","factory$3","tabButtonBehaviours","TabButton","schema$1","tabsPart","barDetail","dismissTab$1","tabbar","changeTab$1","clickToDismiss","tabClass","parts$1","factory$2","tabbarBehaviours","selectedClass","tab","Tabbar","factory$1","tabviewBehaviours","Tabview","barPart","tabs","viewPart","tabValue","tabview","tabWithValue","tabData","onChangeTab","changeTabBy","section","byPred","tabSectionBehaviours","selectFirst","onDismissTab","getViewItems","showTab","tabKey","getTabIfNotActive","optTab","TabSection","measureHeights","allTabs","tabviewComp","_tab","getMaxHeight","heights","getMaxTabviewHeight","tablist","documentElement$1","tabviewHeight","isTabListBeside","currentTabHeight","dialogTopMargin","dialogBottomMargin","dialogHeight","chromeHeight","setTabviewHeight","updateTabviewHeight","dialogBody","maxTabHeight","getTabview","smartMode","extraEvents","maxTabHeightOpt","oldHeight","newHeight","SendDataToSectionChannel","SendDataToViewChannel","renderTabPanel","storedValue","updateDataWithForm","formData","validData","currentData","setDataOnForm","oldTab","tabMode","_viewItems","oldName","tsection","dialogChannel","titleChannel","bodyChannel","footerChannel","bodySendMessageChannel","renderBody","dialogId","contentId","ariaAttrs","incoming","isTabPanel","ariaAttributes","renderInlineBody","renderModalBody","bodySpec","renderIframeBody","hiddenHeader","pClose","pUntitled","pBodyMessage","pFooter","footer","pFooterGroup","startButtons","endButtons","renderDialog$1","dialogClass","blockerBackdropClass","scrollLockClass","extraStyles","dialogEvents","renderClose","renderTitle","titleId","renderDragHandle","renderInlineHeader","renderModalHeader","pTitle","pHandle","draghandle","draggable","bs","getEventExtras","lazyDialog","closeWindow","blockEvent","renderModalDialog","mapMenuButtons","mapItems","extractCellsToObject","menuButton","innerAcc","initCommonEvents","fireApiEvent","_event","initUrlDialog","getInstanceApi","withSpec","currentDialog","initDialog","currentDialogInit","rootNode","cur","onTabChange","newTabName","oldTabName","SilverDialogEvents","makeButton","footerButtons","buttonName","buttonGroups","makeGroup","renderFooter","initSpec","lookupByName","renderInlineFooter","renderModalFooter","getCompByName","getFormWrapper","footerState","validateData$1","dialogState","getDialogApi","doRedial","menuItemStates","withRoot","valueComp","representedValues","menuItemCurrentState","setData","prevData","instanceApi","mergedData","newInternalData","bodyState","tabSection","getId","dialogInit","getDialogSizeClasses","renderDialog","storedMenuButtons","objOfCells","dialogSize","modalAccess","getForm","outerForm","renderInlineDialog","dialogLabelId","dialogContentId","memHeader","memBody","storagedMenuButtons","memFooter","global","getUrlDialogApi","sendMessage","SUPPORTED_MESSAGE_ACTIONS","isSupportedMessage","mceAction","isCustomMessage","handleMessage","insertContent","renderUrlDialog","iframeUri","base_uri","href","iframeDomain","protocol","port","messageHandlerUnbinder","isSameOrigin","onMessage","iframeEle","iframeWin","postMessage","setup$2","closeDialog","alertDialog","memFooterClose","titleSpec","closeSpec","footerCloseButton","setup$1","confirmDialog","memFooterYes","footerNo","footerYesButton","validateData","isAlertOrConfirmDialog","inlineAdditionalBehaviours","isStickyToolbar$1","openInlineDialog","openModalDialog","openModalUrlDialog","internalInitialData","config$1","refreshDocking","dialogUi","inlineDialogComp","confirm","registerOptions","Theme","windowMgr","getWindowManagerImpl","getNotificationManagerImpl"],"sources":["/home/hyq/GoHome/src/ginblog/web/admin/node_modules/tinymce/themes/silver/theme.js"],"sourcesContent":["/**\n * TinyMCE version 6.2.0 (2022-09-08)\n */\n\n(function () {\n    'use strict';\n\n    const getPrototypeOf$1 = Object.getPrototypeOf;\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType$1 = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq$1 = t => a => t === a;\n    const is$2 = (value, constructor) => isObject(value) && hasProto(value, constructor, (o, proto) => getPrototypeOf$1(o) === proto);\n    const isString = isType$1('string');\n    const isObject = isType$1('object');\n    const isPlainObject = value => is$2(value, Object);\n    const isArray = isType$1('array');\n    const isNull = eq$1(null);\n    const isBoolean = isSimpleType('boolean');\n    const isUndefined = eq$1(undefined);\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n    const isArrayOf = (value, pred) => {\n      if (isArray(value)) {\n        for (let i = 0, len = value.length; i < len; ++i) {\n          if (!pred(value[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    const noop = () => {\n    };\n    const noarg = f => () => f();\n    const compose = (fa, fb) => {\n      return (...args) => {\n        return fa(fb.apply(null, args));\n      };\n    };\n    const compose1 = (fbc, fab) => a => fbc(fab(a));\n    const constant$1 = value => {\n      return () => {\n        return value;\n      };\n    };\n    const identity = x => {\n      return x;\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n    function curry(fn, ...initialArgs) {\n      return (...restArgs) => {\n        const all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    const not = f => t => !f(t);\n    const die = msg => {\n      return () => {\n        throw new Error(msg);\n      };\n    };\n    const apply = f => {\n      return f();\n    };\n    const never = constant$1(false);\n    const always = constant$1(true);\n\n    var global$a = tinymce.util.Tools.resolve('tinymce.ThemeManager');\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeSlice = Array.prototype.slice;\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const indexOf = (xs, x) => {\n      const r = rawIndexOf(xs, x);\n      return r === -1 ? Optional.none() : Optional.some(r);\n    };\n    const contains$2 = (xs, x) => rawIndexOf(xs, x) > -1;\n    const exists = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const range$2 = (num, f) => {\n      const r = [];\n      for (let i = 0; i < num; i++) {\n        r.push(f(i));\n      }\n      return r;\n    };\n    const chunk$1 = (array, size) => {\n      const r = [];\n      for (let i = 0; i < array.length; i += size) {\n        const s = nativeSlice.call(array, i, i + size);\n        r.push(s);\n      }\n      return r;\n    };\n    const map$2 = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$1 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const eachr = (xs, f) => {\n      for (let i = xs.length - 1; i >= 0; i--) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const partition$3 = (xs, pred) => {\n      const pass = [];\n      const fail = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        const arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass,\n        fail\n      };\n    };\n    const filter$2 = (xs, pred) => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    const foldr = (xs, f, acc) => {\n      eachr(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const foldl = (xs, f, acc) => {\n      each$1(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const findUntil = (xs, pred, until) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const find$5 = (xs, pred) => {\n      return findUntil(xs, pred, never);\n    };\n    const findIndex$1 = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(i);\n        }\n      }\n      return Optional.none();\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind$3 = (xs, f) => flatten(map$2(xs, f));\n    const forall = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        const x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    const reverse = xs => {\n      const r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    const difference = (a1, a2) => filter$2(a1, x => !contains$2(a2, x));\n    const mapToObject = (xs, f) => {\n      const r = {};\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    const pure$2 = x => [x];\n    const sort = (xs, comparator) => {\n      const copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    const get$h = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get$h(xs, 0);\n    const last$1 = xs => get$h(xs, xs.length - 1);\n    const from = isFunction(Array.from) ? Array.from : x => nativeSlice.call(x);\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const map$1 = (obj, f) => {\n      return tupleMap(obj, (x, i) => ({\n        k: i,\n        v: f(x, i)\n      }));\n    };\n    const tupleMap = (obj, f) => {\n      const r = {};\n      each(obj, (x, i) => {\n        const tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      each(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n    };\n    const bifilter = (obj, pred) => {\n      const t = {};\n      const f = {};\n      internalFilter(obj, pred, objAcc(t), objAcc(f));\n      return {\n        t,\n        f\n      };\n    };\n    const filter$1 = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const mapToArray = (obj, f) => {\n      const r = [];\n      each(obj, (value, name) => {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    const find$4 = (obj, pred) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        if (pred(x, i, obj)) {\n          return Optional.some(x);\n        }\n      }\n      return Optional.none();\n    };\n    const values = obj => {\n      return mapToArray(obj, identity);\n    };\n    const get$g = (obj, key) => {\n      return has$2(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    const has$2 = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has$2(obj, key) && obj[key] !== undefined && obj[key] !== null;\n\n    const is$1 = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const equals = (lhs, rhs, comparator = tripleEquals) => lift2(lhs, rhs, comparator).getOr(lhs.isNone() && rhs.isNone());\n    const cat = arr => {\n      const r = [];\n      const push = x => {\n        r.push(x);\n      };\n      for (let i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    const sequence = arr => {\n      const r = [];\n      for (let i = 0; i < arr.length; i++) {\n        const x = arr[i];\n        if (x.isSome()) {\n          r.push(x.getOrDie());\n        } else {\n          return Optional.none();\n        }\n      }\n      return Optional.some(r);\n    };\n    const lift2 = (oa, ob, f) => oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n    const lift3 = (oa, ob, oc, f) => oa.isSome() && ob.isSome() && oc.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie(), oc.getOrDie())) : Optional.none();\n    const mapFrom = (a, f) => a !== undefined && a !== null ? Optional.some(f(a)) : Optional.none();\n    const someIf = (b, a) => b ? Optional.some(a) : Optional.none();\n\n    const addToEnd = (str, suffix) => {\n      return str + suffix;\n    };\n    const removeFromStart = (str, numChars) => {\n      return str.substring(numChars);\n    };\n\n    const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    const removeLeading = (str, prefix) => {\n      return startsWith(str, prefix) ? removeFromStart(str, prefix.length) : str;\n    };\n    const ensureTrailing = (str, suffix) => {\n      return endsWith(str, suffix) ? str : addToEnd(str, suffix);\n    };\n    const contains$1 = (str, substr, start = 0, end) => {\n      const idx = str.indexOf(substr, start);\n      if (idx !== -1) {\n        return isUndefined(end) ? true : idx + substr.length <= end;\n      } else {\n        return false;\n      }\n    };\n    const startsWith = (str, prefix) => {\n      return checkRange(str, prefix, 0);\n    };\n    const endsWith = (str, suffix) => {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n    const blank = r => s => s.replace(r, '');\n    const trim$1 = blank(/^\\s+|\\s+$/g);\n    const isNotEmpty = s => s.length > 0;\n    const isEmpty = s => !isNotEmpty(s);\n\n    const isSupported$1 = dom => dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n\n    const fromHtml$2 = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    const fromDom = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    const SugarElement = {\n      fromHtml: fromHtml$2,\n      fromTag,\n      fromText,\n      fromDom,\n      fromPoint\n    };\n\n    const Global = typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const path$1 = (parts, scope) => {\n      let o = scope !== undefined && scope !== null ? scope : Global;\n      for (let i = 0; i < parts.length && o !== undefined && o !== null; ++i) {\n        o = o[parts[i]];\n      }\n      return o;\n    };\n    const resolve = (p, scope) => {\n      const parts = p.split('.');\n      return path$1(parts, scope);\n    };\n\n    const unsafe = (name, scope) => {\n      return resolve(name, scope);\n    };\n    const getOrDie$1 = (name, scope) => {\n      const actual = unsafe(name, scope);\n      if (actual === undefined || actual === null) {\n        throw new Error(name + ' not available on this browser');\n      }\n      return actual;\n    };\n\n    const getPrototypeOf = Object.getPrototypeOf;\n    const sandHTMLElement = scope => {\n      return getOrDie$1('HTMLElement', scope);\n    };\n    const isPrototypeOf = x => {\n      const scope = resolve('ownerDocument.defaultView', x);\n      return isObject(x) && (sandHTMLElement(scope).prototype.isPrototypeOf(x) || /^HTML\\w*Element$/.test(getPrototypeOf(x).constructor.name));\n    };\n\n    const DOCUMENT = 9;\n    const DOCUMENT_FRAGMENT = 11;\n    const ELEMENT = 1;\n    const TEXT = 3;\n\n    const name$3 = element => {\n      const r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    const type$1 = element => element.dom.nodeType;\n    const isType = t => element => type$1(element) === t;\n    const isHTMLElement = element => isElement$1(element) && isPrototypeOf(element.dom);\n    const isElement$1 = isType(ELEMENT);\n    const isText = isType(TEXT);\n    const isDocument = isType(DOCUMENT);\n    const isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n    const isTag = tag => e => isElement$1(e) && name$3(e) === tag;\n\n    const is = (element, selector) => {\n      const dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        const elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    const bypassSelector = dom => dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    const all$3 = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map$2(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    const one = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    const eq = (e1, e2) => e1.dom === e2.dom;\n    const contains = (e1, e2) => {\n      const d1 = e1.dom;\n      const d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n\n    const owner$4 = element => SugarElement.fromDom(element.dom.ownerDocument);\n    const documentOrOwner = dos => isDocument(dos) ? dos : owner$4(dos);\n    const documentElement = element => SugarElement.fromDom(documentOrOwner(element).dom.documentElement);\n    const defaultView = element => SugarElement.fromDom(documentOrOwner(element).dom.defaultView);\n    const parent = element => Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    const parentElement = element => Optional.from(element.dom.parentElement).map(SugarElement.fromDom);\n    const offsetParent = element => Optional.from(element.dom.offsetParent).map(SugarElement.fromDom);\n    const nextSibling = element => Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    const children = element => map$2(element.dom.childNodes, SugarElement.fromDom);\n    const child$2 = (element, index) => {\n      const cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    const firstChild = element => child$2(element, 0);\n    const spot = (element, offset) => ({\n      element,\n      offset\n    });\n    const leaf = (element, offset) => {\n      const cs = children(element);\n      return cs.length > 0 && offset < cs.length ? spot(cs[offset], 0) : spot(element, offset);\n    };\n\n    const isShadowRoot = dos => isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    const supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    const isSupported = constant$1(supported);\n    const getRootNode = supported ? e => SugarElement.fromDom(e.dom.getRootNode()) : documentOrOwner;\n    const getContentContainer = dos => isShadowRoot(dos) ? dos : SugarElement.fromDom(documentOrOwner(dos).dom.body);\n    const isInShadowRoot = e => getShadowRoot(e).isSome();\n    const getShadowRoot = e => {\n      const r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    const getShadowHost = e => SugarElement.fromDom(e.dom.host);\n    const getOriginalEventTarget = event => {\n      if (isSupported() && isNonNullable(event.target)) {\n        const el = SugarElement.fromDom(event.target);\n        if (isElement$1(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            const composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    const isOpenShadowHost = element => isNonNullable(element.dom.shadowRoot);\n\n    const inBody = element => {\n      const dom = isText(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      const doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(() => doc.body.contains(dom), compose1(inBody, getShadowHost));\n    };\n    const body = () => getBody(SugarElement.fromDom(document));\n    const getBody = doc => {\n      const b = doc.dom.body;\n      if (b === null || b === undefined) {\n        throw new Error('Body is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const set$9 = (element, key, value) => {\n      rawSet(element.dom, key, value);\n    };\n    const setAll$1 = (element, attrs) => {\n      const dom = element.dom;\n      each(attrs, (v, k) => {\n        rawSet(dom, k, v);\n      });\n    };\n    const get$f = (element, key) => {\n      const v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    const getOpt = (element, key) => Optional.from(get$f(element, key));\n    const has$1 = (element, key) => {\n      const dom = element.dom;\n      return dom && dom.hasAttribute ? dom.hasAttribute(key) : false;\n    };\n    const remove$7 = (element, key) => {\n      element.dom.removeAttribute(key);\n    };\n    const clone$1 = element => foldl(element.dom.attributes, (acc, attr) => {\n      acc[attr.name] = attr.value;\n      return acc;\n    }, {});\n\n    const internalSet = (dom, property, value) => {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported$1(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    const internalRemove = (dom, property) => {\n      if (isSupported$1(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    const set$8 = (element, property, value) => {\n      const dom = element.dom;\n      internalSet(dom, property, value);\n    };\n    const setAll = (element, css) => {\n      const dom = element.dom;\n      each(css, (v, k) => {\n        internalSet(dom, k, v);\n      });\n    };\n    const setOptions = (element, css) => {\n      const dom = element.dom;\n      each(css, (v, k) => {\n        v.fold(() => {\n          internalRemove(dom, k);\n        }, value => {\n          internalSet(dom, k, value);\n        });\n      });\n    };\n    const get$e = (element, property) => {\n      const dom = element.dom;\n      const styles = window.getComputedStyle(dom);\n      const r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    const getUnsafeProperty = (dom, property) => isSupported$1(dom) ? dom.style.getPropertyValue(property) : '';\n    const getRaw = (element, property) => {\n      const dom = element.dom;\n      const raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(r => r.length > 0);\n    };\n    const getAllRaw = element => {\n      const css = {};\n      const dom = element.dom;\n      if (isSupported$1(dom)) {\n        for (let i = 0; i < dom.style.length; i++) {\n          const ruleName = dom.style.item(i);\n          css[ruleName] = dom.style[ruleName];\n        }\n      }\n      return css;\n    };\n    const isValidValue = (tag, property, value) => {\n      const element = SugarElement.fromTag(tag);\n      set$8(element, property, value);\n      const style = getRaw(element, property);\n      return style.isSome();\n    };\n    const remove$6 = (element, property) => {\n      const dom = element.dom;\n      internalRemove(dom, property);\n      if (is$1(getOpt(element, 'style').map(trim$1), '')) {\n        remove$7(element, 'style');\n      }\n    };\n    const reflow = e => e.dom.offsetWidth;\n\n    const Dimension = (name, getOffset) => {\n      const set = (element, h) => {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        const dom = element.dom;\n        if (isSupported$1(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      const get = element => {\n        const r = getOffset(element);\n        if (r <= 0 || r === null) {\n          const css = get$e(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      const getOuter = get;\n      const aggregate = (element, properties) => foldl(properties, (acc, property) => {\n        const val = get$e(element, property);\n        const value = val === undefined ? 0 : parseInt(val, 10);\n        return isNaN(value) ? acc : acc + value;\n      }, 0);\n      const max = (element, value, properties) => {\n        const cumulativeInclusions = aggregate(element, properties);\n        const absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set,\n        get,\n        getOuter,\n        aggregate,\n        max\n      };\n    };\n\n    const api$2 = Dimension('height', element => {\n      const dom = element.dom;\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    const get$d = element => api$2.get(element);\n    const getOuter$2 = element => api$2.getOuter(element);\n    const setMax$1 = (element, value) => {\n      const inclusions = [\n        'margin-top',\n        'border-top-width',\n        'padding-top',\n        'padding-bottom',\n        'border-bottom-width',\n        'margin-bottom'\n      ];\n      const absMax = api$2.max(element, value, inclusions);\n      set$8(element, 'max-height', absMax + 'px');\n    };\n\n    const r$1 = (left, top) => {\n      const translate = (x, y) => r$1(left + x, top + y);\n      return {\n        left,\n        top,\n        translate\n      };\n    };\n    const SugarPosition = r$1;\n\n    const boxPosition = dom => {\n      const box = dom.getBoundingClientRect();\n      return SugarPosition(box.left, box.top);\n    };\n    const firstDefinedOrZero = (a, b) => {\n      if (a !== undefined) {\n        return a;\n      } else {\n        return b !== undefined ? b : 0;\n      }\n    };\n    const absolute$3 = element => {\n      const doc = element.dom.ownerDocument;\n      const body = doc.body;\n      const win = doc.defaultView;\n      const html = doc.documentElement;\n      if (body === element.dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      const scrollTop = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageYOffset, html.scrollTop);\n      const scrollLeft = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageXOffset, html.scrollLeft);\n      const clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      const clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport$1(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    const viewport$1 = element => {\n      const dom = element.dom;\n      const doc = dom.ownerDocument;\n      const body = doc.body;\n      if (body === dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return SugarPosition(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    const api$1 = Dimension('width', element => element.dom.offsetWidth);\n    const set$7 = (element, h) => api$1.set(element, h);\n    const get$c = element => api$1.get(element);\n    const getOuter$1 = element => api$1.getOuter(element);\n    const setMax = (element, value) => {\n      const inclusions = [\n        'margin-left',\n        'border-left-width',\n        'padding-left',\n        'padding-right',\n        'border-right-width',\n        'margin-right'\n      ];\n      const absMax = api$1.max(element, value, inclusions);\n      set$8(element, 'max-width', absMax + 'px');\n    };\n\n    const cached = f => {\n      let called = false;\n      let r;\n      return (...args) => {\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    const DeviceType = (os, browser, userAgent, mediaMatch) => {\n      const isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      const isiPhone = os.isiOS() && !isiPad;\n      const isMobile = os.isiOS() || os.isAndroid();\n      const isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      const isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      const isPhone = isiPhone || isMobile && !isTablet;\n      const iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      const isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant$1(isiPad),\n        isiPhone: constant$1(isiPhone),\n        isTablet: constant$1(isTablet),\n        isPhone: constant$1(isPhone),\n        isTouch: constant$1(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant$1(iOSwebview),\n        isDesktop: constant$1(isDesktop)\n      };\n    };\n\n    const firstMatch = (regexes, s) => {\n      for (let i = 0; i < regexes.length; i++) {\n        const x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    const find$3 = (regexes, agent) => {\n      const r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      const group = i => {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$d(group(1), group(2));\n    };\n    const detect$4 = (versionRegexes, agent) => {\n      const cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$3();\n      }\n      return find$3(versionRegexes, cleanedAgent);\n    };\n    const unknown$3 = () => {\n      return nu$d(0, 0);\n    };\n    const nu$d = (major, minor) => {\n      return {\n        major,\n        minor\n      };\n    };\n    const Version = {\n      nu: nu$d,\n      detect: detect$4,\n      unknown: unknown$3\n    };\n\n    const detectBrowser$1 = (browsers, userAgentData) => {\n      return findMap(userAgentData.brands, uaBrand => {\n        const lcBrand = uaBrand.brand.toLowerCase();\n        return find$5(browsers, browser => {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(info => ({\n          current: info.name,\n          version: Version.nu(parseInt(uaBrand.version, 10), 0)\n        }));\n      });\n    };\n\n    const detect$3 = (candidates, userAgent) => {\n      const agent = String(userAgent).toLowerCase();\n      return find$5(candidates, candidate => {\n        return candidate.search(agent);\n      });\n    };\n    const detectBrowser = (browsers, userAgent) => {\n      return detect$3(browsers, userAgent).map(browser => {\n        const version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version\n        };\n      });\n    };\n    const detectOs = (oses, userAgent) => {\n      return detect$3(oses, userAgent).map(os => {\n        const version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version\n        };\n      });\n    };\n\n    const normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    const checkContains = target => {\n      return uastring => {\n        return contains$1(uastring, target);\n      };\n    };\n    const browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: uastring => {\n          return contains$1(uastring, 'edge/') && contains$1(uastring, 'chrome') && contains$1(uastring, 'safari') && contains$1(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chromium',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: uastring => {\n          return contains$1(uastring, 'chrome') && !contains$1(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: uastring => {\n          return contains$1(uastring, 'msie') || contains$1(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: uastring => {\n          return (contains$1(uastring, 'safari') || contains$1(uastring, 'mobile/')) && contains$1(uastring, 'applewebkit');\n        }\n      }\n    ];\n    const oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: uastring => {\n          return contains$1(uastring, 'iphone') || contains$1(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'macOS',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    const PlatformInfo = {\n      browsers: constant$1(browsers),\n      oses: constant$1(oses)\n    };\n\n    const edge = 'Edge';\n    const chromium = 'Chromium';\n    const ie = 'IE';\n    const opera = 'Opera';\n    const firefox = 'Firefox';\n    const safari = 'Safari';\n    const unknown$2 = () => {\n      return nu$c({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu$c = info => {\n      const current = info.current;\n      const version = info.version;\n      const isBrowser = name => () => current === name;\n      return {\n        current,\n        version,\n        isEdge: isBrowser(edge),\n        isChromium: isBrowser(chromium),\n        isIE: isBrowser(ie),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    const Browser = {\n      unknown: unknown$2,\n      nu: nu$c,\n      edge: constant$1(edge),\n      chromium: constant$1(chromium),\n      ie: constant$1(ie),\n      opera: constant$1(opera),\n      firefox: constant$1(firefox),\n      safari: constant$1(safari)\n    };\n\n    const windows = 'Windows';\n    const ios = 'iOS';\n    const android = 'Android';\n    const linux = 'Linux';\n    const macos = 'macOS';\n    const solaris = 'Solaris';\n    const freebsd = 'FreeBSD';\n    const chromeos = 'ChromeOS';\n    const unknown$1 = () => {\n      return nu$b({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu$b = info => {\n      const current = info.current;\n      const version = info.version;\n      const isOS = name => () => current === name;\n      return {\n        current,\n        version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isMacOS: isOS(macos),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    const OperatingSystem = {\n      unknown: unknown$1,\n      nu: nu$b,\n      windows: constant$1(windows),\n      ios: constant$1(ios),\n      android: constant$1(android),\n      linux: constant$1(linux),\n      macos: constant$1(macos),\n      solaris: constant$1(solaris),\n      freebsd: constant$1(freebsd),\n      chromeos: constant$1(chromeos)\n    };\n\n    const detect$2 = (userAgent, userAgentDataOpt, mediaMatch) => {\n      const browsers = PlatformInfo.browsers();\n      const oses = PlatformInfo.oses();\n      const browser = userAgentDataOpt.bind(userAgentData => detectBrowser$1(browsers, userAgentData)).orThunk(() => detectBrowser(browsers, userAgent)).fold(Browser.unknown, Browser.nu);\n      const os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      const deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser,\n        os,\n        deviceType\n      };\n    };\n    const PlatformDetection = { detect: detect$2 };\n\n    const mediaMatch = query => window.matchMedia(query).matches;\n    let platform = cached(() => PlatformDetection.detect(navigator.userAgent, Optional.from(navigator.userAgentData), mediaMatch));\n    const detect$1 = () => platform();\n\n    const mkEvent = (target, x, y, stop, prevent, kill, raw) => ({\n      target,\n      x,\n      y,\n      stop,\n      prevent,\n      kill,\n      raw\n    });\n    const fromRawEvent$1 = rawEvent => {\n      const target = SugarElement.fromDom(getOriginalEventTarget(rawEvent).getOr(rawEvent.target));\n      const stop = () => rawEvent.stopPropagation();\n      const prevent = () => rawEvent.preventDefault();\n      const kill = compose(prevent, stop);\n      return mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);\n    };\n    const handle = (filter, handler) => rawEvent => {\n      if (filter(rawEvent)) {\n        handler(fromRawEvent$1(rawEvent));\n      }\n    };\n    const binder = (element, event, filter, handler, useCapture) => {\n      const wrapped = handle(filter, handler);\n      element.dom.addEventListener(event, wrapped, useCapture);\n      return { unbind: curry(unbind, element, event, wrapped, useCapture) };\n    };\n    const bind$2 = (element, event, filter, handler) => binder(element, event, filter, handler, false);\n    const capture$1 = (element, event, filter, handler) => binder(element, event, filter, handler, true);\n    const unbind = (element, event, handler, useCapture) => {\n      element.dom.removeEventListener(event, handler, useCapture);\n    };\n\n    const before$1 = (marker, element) => {\n      const parent$1 = parent(marker);\n      parent$1.each(v => {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    const after$2 = (marker, element) => {\n      const sibling = nextSibling(marker);\n      sibling.fold(() => {\n        const parent$1 = parent(marker);\n        parent$1.each(v => {\n          append$2(v, element);\n        });\n      }, v => {\n        before$1(v, element);\n      });\n    };\n    const prepend$1 = (parent, element) => {\n      const firstChild$1 = firstChild(parent);\n      firstChild$1.fold(() => {\n        append$2(parent, element);\n      }, v => {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    const append$2 = (parent, element) => {\n      parent.dom.appendChild(element.dom);\n    };\n    const appendAt = (parent, element, index) => {\n      child$2(parent, index).fold(() => {\n        append$2(parent, element);\n      }, v => {\n        before$1(v, element);\n      });\n    };\n\n    const append$1 = (parent, elements) => {\n      each$1(elements, x => {\n        append$2(parent, x);\n      });\n    };\n\n    const empty = element => {\n      element.dom.textContent = '';\n      each$1(children(element), rogue => {\n        remove$5(rogue);\n      });\n    };\n    const remove$5 = element => {\n      const dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n\n    const get$b = _DOC => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      const y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n    const to = (x, y, _DOC) => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const win = doc.defaultView;\n      if (win) {\n        win.scrollTo(x, y);\n      }\n    };\n\n    const get$a = _win => {\n      const win = _win === undefined ? window : _win;\n      if (detect$1().browser.isFirefox()) {\n        return Optional.none();\n      } else {\n        return Optional.from(win.visualViewport);\n      }\n    };\n    const bounds$1 = (x, y, width, height) => ({\n      x,\n      y,\n      width,\n      height,\n      right: x + width,\n      bottom: y + height\n    });\n    const getBounds$3 = _win => {\n      const win = _win === undefined ? window : _win;\n      const doc = win.document;\n      const scroll = get$b(SugarElement.fromDom(doc));\n      return get$a(win).fold(() => {\n        const html = win.document.documentElement;\n        const width = html.clientWidth;\n        const height = html.clientHeight;\n        return bounds$1(scroll.left, scroll.top, width, height);\n      }, visualViewport => bounds$1(Math.max(visualViewport.pageLeft, scroll.left), Math.max(visualViewport.pageTop, scroll.top), visualViewport.width, visualViewport.height));\n    };\n\n    const getDocument = () => SugarElement.fromDom(document);\n\n    const walkUp = (navigation, doc) => {\n      const frame = navigation.view(doc);\n      return frame.fold(constant$1([]), f => {\n        const parent = navigation.owner(f);\n        const rest = walkUp(navigation, parent);\n        return [f].concat(rest);\n      });\n    };\n    const pathTo = (element, navigation) => {\n      const d = navigation.owner(element);\n      const paths = walkUp(navigation, d);\n      return Optional.some(paths);\n    };\n\n    const view = doc => {\n      var _a;\n      const element = doc.dom === document ? Optional.none() : Optional.from((_a = doc.dom.defaultView) === null || _a === void 0 ? void 0 : _a.frameElement);\n      return element.map(SugarElement.fromDom);\n    };\n    const owner$3 = element => owner$4(element);\n\n    var Navigation = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        view: view,\n        owner: owner$3\n    });\n\n    const find$2 = element => {\n      const doc = getDocument();\n      const scroll = get$b(doc);\n      const path = pathTo(element, Navigation);\n      return path.fold(curry(absolute$3, element), frames => {\n        const offset = viewport$1(element);\n        const r = foldr(frames, (b, a) => {\n          const loc = viewport$1(a);\n          return {\n            left: b.left + loc.left,\n            top: b.top + loc.top\n          };\n        }, {\n          left: 0,\n          top: 0\n        });\n        return SugarPosition(r.left + offset.left + scroll.left, r.top + offset.top + scroll.top);\n      });\n    };\n\n    const pointed = (point, width, height) => ({\n      point,\n      width,\n      height\n    });\n    const rect = (x, y, width, height) => ({\n      x,\n      y,\n      width,\n      height\n    });\n    const bounds = (x, y, width, height) => ({\n      x,\n      y,\n      width,\n      height,\n      right: x + width,\n      bottom: y + height\n    });\n    const box$1 = element => {\n      const xy = absolute$3(element);\n      const w = getOuter$1(element);\n      const h = getOuter$2(element);\n      return bounds(xy.left, xy.top, w, h);\n    };\n    const absolute$2 = element => {\n      const position = find$2(element);\n      const width = getOuter$1(element);\n      const height = getOuter$2(element);\n      return bounds(position.left, position.top, width, height);\n    };\n    const win = () => getBounds$3(window);\n\n    const value$4 = value => {\n      const applyHelper = fn => fn(value);\n      const constHelper = constant$1(value);\n      const outputHelper = () => output;\n      const output = {\n        tag: true,\n        inner: value,\n        fold: (_onError, onValue) => onValue(value),\n        isValue: always,\n        isError: never,\n        map: mapper => Result.value(mapper(value)),\n        mapError: outputHelper,\n        bind: applyHelper,\n        exists: applyHelper,\n        forall: applyHelper,\n        getOr: constHelper,\n        or: outputHelper,\n        getOrThunk: constHelper,\n        orThunk: outputHelper,\n        getOrDie: constHelper,\n        each: fn => {\n          fn(value);\n        },\n        toOptional: () => Optional.some(value)\n      };\n      return output;\n    };\n    const error$1 = error => {\n      const outputHelper = () => output;\n      const output = {\n        tag: false,\n        inner: error,\n        fold: (onError, _onValue) => onError(error),\n        isValue: never,\n        isError: always,\n        map: outputHelper,\n        mapError: mapper => Result.error(mapper(error)),\n        bind: outputHelper,\n        exists: never,\n        forall: always,\n        getOr: identity,\n        or: identity,\n        getOrThunk: apply,\n        orThunk: apply,\n        getOrDie: die(String(error)),\n        each: noop,\n        toOptional: Optional.none\n      };\n      return output;\n    };\n    const fromOption = (optional, err) => optional.fold(() => error$1(err), value$4);\n    const Result = {\n      value: value$4,\n      error: error$1,\n      fromOption\n    };\n\n    var SimpleResultType;\n    (function (SimpleResultType) {\n      SimpleResultType[SimpleResultType['Error'] = 0] = 'Error';\n      SimpleResultType[SimpleResultType['Value'] = 1] = 'Value';\n    }(SimpleResultType || (SimpleResultType = {})));\n    const fold$1 = (res, onError, onValue) => res.stype === SimpleResultType.Error ? onError(res.serror) : onValue(res.svalue);\n    const partition$2 = results => {\n      const values = [];\n      const errors = [];\n      each$1(results, obj => {\n        fold$1(obj, err => errors.push(err), val => values.push(val));\n      });\n      return {\n        values,\n        errors\n      };\n    };\n    const mapError = (res, f) => {\n      if (res.stype === SimpleResultType.Error) {\n        return {\n          stype: SimpleResultType.Error,\n          serror: f(res.serror)\n        };\n      } else {\n        return res;\n      }\n    };\n    const map = (res, f) => {\n      if (res.stype === SimpleResultType.Value) {\n        return {\n          stype: SimpleResultType.Value,\n          svalue: f(res.svalue)\n        };\n      } else {\n        return res;\n      }\n    };\n    const bind$1 = (res, f) => {\n      if (res.stype === SimpleResultType.Value) {\n        return f(res.svalue);\n      } else {\n        return res;\n      }\n    };\n    const bindError = (res, f) => {\n      if (res.stype === SimpleResultType.Error) {\n        return f(res.serror);\n      } else {\n        return res;\n      }\n    };\n    const svalue = v => ({\n      stype: SimpleResultType.Value,\n      svalue: v\n    });\n    const serror = e => ({\n      stype: SimpleResultType.Error,\n      serror: e\n    });\n    const toResult$1 = res => fold$1(res, Result.error, Result.value);\n    const fromResult$1 = res => res.fold(serror, svalue);\n    const SimpleResult = {\n      fromResult: fromResult$1,\n      toResult: toResult$1,\n      svalue,\n      partition: partition$2,\n      serror,\n      bind: bind$1,\n      bindError,\n      map,\n      mapError,\n      fold: fold$1\n    };\n\n    const field$2 = (key, newKey, presence, prop) => ({\n      tag: 'field',\n      key,\n      newKey,\n      presence,\n      prop\n    });\n    const customField$1 = (newKey, instantiator) => ({\n      tag: 'custom',\n      newKey,\n      instantiator\n    });\n    const fold = (value, ifField, ifCustom) => {\n      switch (value.tag) {\n      case 'field':\n        return ifField(value.key, value.newKey, value.presence, value.prop);\n      case 'custom':\n        return ifCustom(value.newKey, value.instantiator);\n      }\n    };\n\n    const shallow$1 = (old, nu) => {\n      return nu;\n    };\n    const deep = (old, nu) => {\n      const bothObjects = isPlainObject(old) && isPlainObject(nu);\n      return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    const baseMerge = merger => {\n      return (...objects) => {\n        if (objects.length === 0) {\n          throw new Error(`Can't merge zero objects`);\n        }\n        const ret = {};\n        for (let j = 0; j < objects.length; j++) {\n          const curObject = objects[j];\n          for (const key in curObject) {\n            if (has$2(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    const deepMerge = baseMerge(deep);\n    const merge$1 = baseMerge(shallow$1);\n\n    const required$2 = () => ({\n      tag: 'required',\n      process: {}\n    });\n    const defaultedThunk = fallbackThunk => ({\n      tag: 'defaultedThunk',\n      process: fallbackThunk\n    });\n    const defaulted$1 = fallback => defaultedThunk(constant$1(fallback));\n    const asOption = () => ({\n      tag: 'option',\n      process: {}\n    });\n    const mergeWithThunk = baseThunk => ({\n      tag: 'mergeWithThunk',\n      process: baseThunk\n    });\n    const mergeWith = base => mergeWithThunk(constant$1(base));\n\n    const mergeValues$1 = (values, base) => values.length > 0 ? SimpleResult.svalue(deepMerge(base, merge$1.apply(undefined, values))) : SimpleResult.svalue(base);\n    const mergeErrors$1 = errors => compose(SimpleResult.serror, flatten)(errors);\n    const consolidateObj = (objects, base) => {\n      const partition = SimpleResult.partition(objects);\n      return partition.errors.length > 0 ? mergeErrors$1(partition.errors) : mergeValues$1(partition.values, base);\n    };\n    const consolidateArr = objects => {\n      const partitions = SimpleResult.partition(objects);\n      return partitions.errors.length > 0 ? mergeErrors$1(partitions.errors) : SimpleResult.svalue(partitions.values);\n    };\n    const ResultCombine = {\n      consolidateObj,\n      consolidateArr\n    };\n\n    const formatObj = input => {\n      return isObject(input) && keys(input).length > 100 ? ' removed due to size' : JSON.stringify(input, null, 2);\n    };\n    const formatErrors = errors => {\n      const es = errors.length > 10 ? errors.slice(0, 10).concat([{\n          path: [],\n          getErrorInfo: constant$1('... (only showing first ten failures)')\n        }]) : errors;\n      return map$2(es, e => {\n        return 'Failed path: (' + e.path.join(' > ') + ')\\n' + e.getErrorInfo();\n      });\n    };\n\n    const nu$a = (path, getErrorInfo) => {\n      return SimpleResult.serror([{\n          path,\n          getErrorInfo\n        }]);\n    };\n    const missingRequired = (path, key, obj) => nu$a(path, () => 'Could not find valid *required* value for \"' + key + '\" in ' + formatObj(obj));\n    const missingKey = (path, key) => nu$a(path, () => 'Choice schema did not contain choice key: \"' + key + '\"');\n    const missingBranch = (path, branches, branch) => nu$a(path, () => 'The chosen schema: \"' + branch + '\" did not exist in branches: ' + formatObj(branches));\n    const unsupportedFields = (path, unsupported) => nu$a(path, () => 'There are unsupported fields: [' + unsupported.join(', ') + '] specified');\n    const custom = (path, err) => nu$a(path, constant$1(err));\n\n    const value$3 = validator => {\n      const extract = (path, val) => {\n        return SimpleResult.bindError(validator(val), err => custom(path, err));\n      };\n      const toString = constant$1('val');\n      return {\n        extract,\n        toString\n      };\n    };\n    const anyValue$1 = value$3(SimpleResult.svalue);\n\n    const requiredAccess = (path, obj, key, bundle) => get$g(obj, key).fold(() => missingRequired(path, key, obj), bundle);\n    const fallbackAccess = (obj, key, fallback, bundle) => {\n      const v = get$g(obj, key).getOrThunk(() => fallback(obj));\n      return bundle(v);\n    };\n    const optionAccess = (obj, key, bundle) => bundle(get$g(obj, key));\n    const optionDefaultedAccess = (obj, key, fallback, bundle) => {\n      const opt = get$g(obj, key).map(val => val === true ? fallback(obj) : val);\n      return bundle(opt);\n    };\n    const extractField = (field, path, obj, key, prop) => {\n      const bundle = av => prop.extract(path.concat([key]), av);\n      const bundleAsOption = optValue => optValue.fold(() => SimpleResult.svalue(Optional.none()), ov => {\n        const result = prop.extract(path.concat([key]), ov);\n        return SimpleResult.map(result, Optional.some);\n      });\n      switch (field.tag) {\n      case 'required':\n        return requiredAccess(path, obj, key, bundle);\n      case 'defaultedThunk':\n        return fallbackAccess(obj, key, field.process, bundle);\n      case 'option':\n        return optionAccess(obj, key, bundleAsOption);\n      case 'defaultedOptionThunk':\n        return optionDefaultedAccess(obj, key, field.process, bundleAsOption);\n      case 'mergeWithThunk': {\n          return fallbackAccess(obj, key, constant$1({}), v => {\n            const result = deepMerge(field.process(obj), v);\n            return bundle(result);\n          });\n        }\n      }\n    };\n    const extractFields = (path, obj, fields) => {\n      const success = {};\n      const errors = [];\n      for (const field of fields) {\n        fold(field, (key, newKey, presence, prop) => {\n          const result = extractField(presence, path, obj, key, prop);\n          SimpleResult.fold(result, err => {\n            errors.push(...err);\n          }, res => {\n            success[newKey] = res;\n          });\n        }, (newKey, instantiator) => {\n          success[newKey] = instantiator(obj);\n        });\n      }\n      return errors.length > 0 ? SimpleResult.serror(errors) : SimpleResult.svalue(success);\n    };\n    const valueThunk = getDelegate => {\n      const extract = (path, val) => getDelegate().extract(path, val);\n      const toString = () => getDelegate().toString();\n      return {\n        extract,\n        toString\n      };\n    };\n    const getSetKeys = obj => keys(filter$1(obj, isNonNullable));\n    const objOfOnly = fields => {\n      const delegate = objOf(fields);\n      const fieldNames = foldr(fields, (acc, value) => {\n        return fold(value, key => deepMerge(acc, { [key]: true }), constant$1(acc));\n      }, {});\n      const extract = (path, o) => {\n        const keys = isBoolean(o) ? [] : getSetKeys(o);\n        const extra = filter$2(keys, k => !hasNonNullableKey(fieldNames, k));\n        return extra.length === 0 ? delegate.extract(path, o) : unsupportedFields(path, extra);\n      };\n      return {\n        extract,\n        toString: delegate.toString\n      };\n    };\n    const objOf = values => {\n      const extract = (path, o) => extractFields(path, o, values);\n      const toString = () => {\n        const fieldStrings = map$2(values, value => fold(value, (key, _okey, _presence, prop) => key + ' -> ' + prop.toString(), (newKey, _instantiator) => 'state(' + newKey + ')'));\n        return 'obj{\\n' + fieldStrings.join('\\n') + '}';\n      };\n      return {\n        extract,\n        toString\n      };\n    };\n    const arrOf = prop => {\n      const extract = (path, array) => {\n        const results = map$2(array, (a, i) => prop.extract(path.concat(['[' + i + ']']), a));\n        return ResultCombine.consolidateArr(results);\n      };\n      const toString = () => 'array(' + prop.toString() + ')';\n      return {\n        extract,\n        toString\n      };\n    };\n    const oneOf = (props, rawF) => {\n      const f = rawF !== undefined ? rawF : identity;\n      const extract = (path, val) => {\n        const errors = [];\n        for (const prop of props) {\n          const res = prop.extract(path, val);\n          if (res.stype === SimpleResultType.Value) {\n            return {\n              stype: SimpleResultType.Value,\n              svalue: f(res.svalue)\n            };\n          }\n          errors.push(res);\n        }\n        return ResultCombine.consolidateArr(errors);\n      };\n      const toString = () => 'oneOf(' + map$2(props, prop => prop.toString()).join(', ') + ')';\n      return {\n        extract,\n        toString\n      };\n    };\n    const setOf$1 = (validator, prop) => {\n      const validateKeys = (path, keys) => arrOf(value$3(validator)).extract(path, keys);\n      const extract = (path, o) => {\n        const keys$1 = keys(o);\n        const validatedKeys = validateKeys(path, keys$1);\n        return SimpleResult.bind(validatedKeys, validKeys => {\n          const schema = map$2(validKeys, vk => {\n            return field$2(vk, vk, required$2(), prop);\n          });\n          return objOf(schema).extract(path, o);\n        });\n      };\n      const toString = () => 'setOf(' + prop.toString() + ')';\n      return {\n        extract,\n        toString\n      };\n    };\n    const thunk = (_desc, processor) => {\n      const getP = cached(processor);\n      const extract = (path, val) => getP().extract(path, val);\n      const toString = () => getP().toString();\n      return {\n        extract,\n        toString\n      };\n    };\n    const arrOfObj = compose(arrOf, objOf);\n\n    const anyValue = constant$1(anyValue$1);\n    const typedValue = (validator, expectedType) => value$3(a => {\n      const actualType = typeof a;\n      return validator(a) ? SimpleResult.svalue(a) : SimpleResult.serror(`Expected type: ${ expectedType } but got: ${ actualType }`);\n    });\n    const number = typedValue(isNumber, 'number');\n    const string = typedValue(isString, 'string');\n    const boolean = typedValue(isBoolean, 'boolean');\n    const functionProcessor = typedValue(isFunction, 'function');\n    const isPostMessageable = val => {\n      if (Object(val) !== val) {\n        return true;\n      }\n      switch ({}.toString.call(val).slice(8, -1)) {\n      case 'Boolean':\n      case 'Number':\n      case 'String':\n      case 'Date':\n      case 'RegExp':\n      case 'Blob':\n      case 'FileList':\n      case 'ImageData':\n      case 'ImageBitmap':\n      case 'ArrayBuffer':\n        return true;\n      case 'Array':\n      case 'Object':\n        return Object.keys(val).every(prop => isPostMessageable(val[prop]));\n      default:\n        return false;\n      }\n    };\n    const postMessageable = value$3(a => {\n      if (isPostMessageable(a)) {\n        return SimpleResult.svalue(a);\n      } else {\n        return SimpleResult.serror('Expected value to be acceptable for sending via postMessage');\n      }\n    });\n\n    const chooseFrom = (path, input, branches, ch) => {\n      const fields = get$g(branches, ch);\n      return fields.fold(() => missingBranch(path, branches, ch), vp => vp.extract(path.concat(['branch: ' + ch]), input));\n    };\n    const choose$2 = (key, branches) => {\n      const extract = (path, input) => {\n        const choice = get$g(input, key);\n        return choice.fold(() => missingKey(path, key), chosen => chooseFrom(path, input, branches, chosen));\n      };\n      const toString = () => 'chooseOn(' + key + '). Possible values: ' + keys(branches);\n      return {\n        extract,\n        toString\n      };\n    };\n\n    const arrOfVal = () => arrOf(anyValue$1);\n    const valueOf = validator => value$3(v => validator(v).fold(SimpleResult.serror, SimpleResult.svalue));\n    const setOf = (validator, prop) => setOf$1(v => SimpleResult.fromResult(validator(v)), prop);\n    const extractValue = (label, prop, obj) => {\n      const res = prop.extract([label], obj);\n      return SimpleResult.mapError(res, errs => ({\n        input: obj,\n        errors: errs\n      }));\n    };\n    const asRaw = (label, prop, obj) => SimpleResult.toResult(extractValue(label, prop, obj));\n    const getOrDie = extraction => {\n      return extraction.fold(errInfo => {\n        throw new Error(formatError(errInfo));\n      }, identity);\n    };\n    const asRawOrDie$1 = (label, prop, obj) => getOrDie(asRaw(label, prop, obj));\n    const formatError = errInfo => {\n      return 'Errors: \\n' + formatErrors(errInfo.errors).join('\\n') + '\\n\\nInput object: ' + formatObj(errInfo.input);\n    };\n    const choose$1 = (key, branches) => choose$2(key, map$1(branches, objOf));\n    const thunkOf = (desc, schema) => thunk(desc, schema);\n\n    const field$1 = field$2;\n    const customField = customField$1;\n    const validateEnum = values => valueOf(value => contains$2(values, value) ? Result.value(value) : Result.error(`Unsupported value: \"${ value }\", choose one of \"${ values.join(', ') }\".`));\n    const required$1 = key => field$1(key, key, required$2(), anyValue());\n    const requiredOf = (key, schema) => field$1(key, key, required$2(), schema);\n    const requiredNumber = key => requiredOf(key, number);\n    const requiredString = key => requiredOf(key, string);\n    const requiredStringEnum = (key, values) => field$1(key, key, required$2(), validateEnum(values));\n    const requiredBoolean = key => requiredOf(key, boolean);\n    const requiredFunction = key => requiredOf(key, functionProcessor);\n    const forbid = (key, message) => field$1(key, key, asOption(), value$3(_v => SimpleResult.serror('The field: ' + key + ' is forbidden. ' + message)));\n    const requiredObjOf = (key, objSchema) => field$1(key, key, required$2(), objOf(objSchema));\n    const requiredArrayOfObj = (key, objFields) => field$1(key, key, required$2(), arrOfObj(objFields));\n    const requiredArrayOf = (key, schema) => field$1(key, key, required$2(), arrOf(schema));\n    const option$3 = key => field$1(key, key, asOption(), anyValue());\n    const optionOf = (key, schema) => field$1(key, key, asOption(), schema);\n    const optionNumber = key => optionOf(key, number);\n    const optionString = key => optionOf(key, string);\n    const optionStringEnum = (key, values) => optionOf(key, validateEnum(values));\n    const optionFunction = key => optionOf(key, functionProcessor);\n    const optionArrayOf = (key, schema) => optionOf(key, arrOf(schema));\n    const optionObjOf = (key, objSchema) => optionOf(key, objOf(objSchema));\n    const optionObjOfOnly = (key, objSchema) => optionOf(key, objOfOnly(objSchema));\n    const defaulted = (key, fallback) => field$1(key, key, defaulted$1(fallback), anyValue());\n    const defaultedOf = (key, fallback, schema) => field$1(key, key, defaulted$1(fallback), schema);\n    const defaultedNumber = (key, fallback) => defaultedOf(key, fallback, number);\n    const defaultedString = (key, fallback) => defaultedOf(key, fallback, string);\n    const defaultedStringEnum = (key, fallback, values) => defaultedOf(key, fallback, validateEnum(values));\n    const defaultedBoolean = (key, fallback) => defaultedOf(key, fallback, boolean);\n    const defaultedFunction = (key, fallback) => defaultedOf(key, fallback, functionProcessor);\n    const defaultedPostMsg = (key, fallback) => defaultedOf(key, fallback, postMessageable);\n    const defaultedArrayOf = (key, fallback, schema) => defaultedOf(key, fallback, arrOf(schema));\n    const defaultedObjOf = (key, fallback, objSchema) => defaultedOf(key, fallback, objOf(objSchema));\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const generate$7 = cases => {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      const constructors = [];\n      const adt = {};\n      each$1(cases, (acase, count) => {\n        const keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        const key = keys$1[0];\n        const value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = (...args) => {\n          const argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          const match = branches => {\n            const branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            const allReqd = forall(constructors, reqKey => {\n              return contains$2(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: (...foldArgs) => {\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              const target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match,\n            log: label => {\n              console.log(label, {\n                constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    const Adt = { generate: generate$7 };\n\n    Adt.generate([\n      {\n        bothErrors: [\n          'error1',\n          'error2'\n        ]\n      },\n      {\n        firstError: [\n          'error1',\n          'value2'\n        ]\n      },\n      {\n        secondError: [\n          'value1',\n          'error2'\n        ]\n      },\n      {\n        bothValues: [\n          'value1',\n          'value2'\n        ]\n      }\n    ]);\n    const partition$1 = results => {\n      const errors = [];\n      const values = [];\n      each$1(results, result => {\n        result.fold(err => {\n          errors.push(err);\n        }, value => {\n          values.push(value);\n        });\n      });\n      return {\n        errors,\n        values\n      };\n    };\n\n    const exclude$1 = (obj, fields) => {\n      const r = {};\n      each(obj, (v, k) => {\n        if (!contains$2(fields, k)) {\n          r[k] = v;\n        }\n      });\n      return r;\n    };\n\n    const wrap$2 = (key, value) => ({ [key]: value });\n    const wrapAll$1 = keyvalues => {\n      const r = {};\n      each$1(keyvalues, kv => {\n        r[kv.key] = kv.value;\n      });\n      return r;\n    };\n\n    const exclude = (obj, fields) => exclude$1(obj, fields);\n    const wrap$1 = (key, value) => wrap$2(key, value);\n    const wrapAll = keyvalues => wrapAll$1(keyvalues);\n    const mergeValues = (values, base) => {\n      return values.length === 0 ? Result.value(base) : Result.value(deepMerge(base, merge$1.apply(undefined, values)));\n    };\n    const mergeErrors = errors => Result.error(flatten(errors));\n    const consolidate = (objs, base) => {\n      const partitions = partition$1(objs);\n      return partitions.errors.length > 0 ? mergeErrors(partitions.errors) : mergeValues(partitions.values, base);\n    };\n\n    const ensureIsRoot = isRoot => isFunction(isRoot) ? isRoot : never;\n    const ancestor$2 = (scope, transform, isRoot) => {\n      let element = scope.dom;\n      const stop = ensureIsRoot(isRoot);\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        const transformed = transform(el);\n        if (transformed.isSome()) {\n          return transformed;\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$4 = (scope, transform, isRoot) => {\n      const current = transform(scope);\n      const stop = ensureIsRoot(isRoot);\n      return current.orThunk(() => stop(scope) ? Optional.none() : ancestor$2(scope, transform, stop));\n    };\n\n    const isSource = (component, simulatedEvent) => eq(component.element, simulatedEvent.event.target);\n\n    const defaultEventHandler = {\n      can: always,\n      abort: never,\n      run: noop\n    };\n    const nu$9 = parts => {\n      if (!hasNonNullableKey(parts, 'can') && !hasNonNullableKey(parts, 'abort') && !hasNonNullableKey(parts, 'run')) {\n        throw new Error('EventHandler defined by: ' + JSON.stringify(parts, null, 2) + ' does not have can, abort, or run!');\n      }\n      return {\n        ...defaultEventHandler,\n        ...parts\n      };\n    };\n    const all$2 = (handlers, f) => (...args) => foldl(handlers, (acc, handler) => acc && f(handler).apply(undefined, args), true);\n    const any = (handlers, f) => (...args) => foldl(handlers, (acc, handler) => acc || f(handler).apply(undefined, args), false);\n    const read$2 = handler => isFunction(handler) ? {\n      can: always,\n      abort: never,\n      run: handler\n    } : handler;\n    const fuse$1 = handlers => {\n      const can = all$2(handlers, handler => handler.can);\n      const abort = any(handlers, handler => handler.abort);\n      const run = (...args) => {\n        each$1(handlers, handler => {\n          handler.run.apply(undefined, args);\n        });\n      };\n      return {\n        can,\n        abort,\n        run\n      };\n    };\n\n    const constant = constant$1;\n    const touchstart = constant('touchstart');\n    const touchmove = constant('touchmove');\n    const touchend = constant('touchend');\n    const touchcancel = constant('touchcancel');\n    const mousedown = constant('mousedown');\n    const mousemove = constant('mousemove');\n    const mouseout = constant('mouseout');\n    const mouseup = constant('mouseup');\n    const mouseover = constant('mouseover');\n    const focusin = constant('focusin');\n    const focusout = constant('focusout');\n    const keydown = constant('keydown');\n    const keyup = constant('keyup');\n    const input = constant('input');\n    const change = constant('change');\n    const click = constant('click');\n    const transitioncancel = constant('transitioncancel');\n    const transitionend = constant('transitionend');\n    const transitionstart = constant('transitionstart');\n    const selectstart = constant('selectstart');\n\n    const prefixName = name => constant$1('alloy.' + name);\n    const alloy = { tap: prefixName('tap') };\n    const focus$4 = prefixName('focus');\n    const postBlur = prefixName('blur.post');\n    const postPaste = prefixName('paste.post');\n    const receive = prefixName('receive');\n    const execute$5 = prefixName('execute');\n    const focusItem = prefixName('focus.item');\n    const tap = alloy.tap;\n    const longpress = prefixName('longpress');\n    const sandboxClose = prefixName('sandbox.close');\n    const typeaheadCancel = prefixName('typeahead.cancel');\n    const systemInit = prefixName('system.init');\n    const documentTouchmove = prefixName('system.touchmove');\n    const documentTouchend = prefixName('system.touchend');\n    const windowScroll = prefixName('system.scroll');\n    const windowResize = prefixName('system.resize');\n    const attachedToDom = prefixName('system.attached');\n    const detachedFromDom = prefixName('system.detached');\n    const dismissRequested = prefixName('system.dismissRequested');\n    const repositionRequested = prefixName('system.repositionRequested');\n    const focusShifted = prefixName('focusmanager.shifted');\n    const slotVisibility = prefixName('slotcontainer.visibility');\n    const changeTab = prefixName('change.tab');\n    const dismissTab = prefixName('dismiss.tab');\n    const highlight$1 = prefixName('highlight');\n    const dehighlight$1 = prefixName('dehighlight');\n\n    const emit = (component, event) => {\n      dispatchWith(component, component.element, event, {});\n    };\n    const emitWith = (component, event, properties) => {\n      dispatchWith(component, component.element, event, properties);\n    };\n    const emitExecute = component => {\n      emit(component, execute$5());\n    };\n    const dispatch = (component, target, event) => {\n      dispatchWith(component, target, event, {});\n    };\n    const dispatchWith = (component, target, event, properties) => {\n      const data = {\n        target,\n        ...properties\n      };\n      component.getSystem().triggerEvent(event, target, data);\n    };\n    const retargetAndDispatchWith = (component, target, eventName, properties) => {\n      const data = {\n        ...properties,\n        target\n      };\n      component.getSystem().triggerEvent(eventName, target, data);\n    };\n    const dispatchEvent = (component, target, event, simulatedEvent) => {\n      component.getSystem().triggerEvent(event, target, simulatedEvent.event);\n    };\n\n    const derive$2 = configs => wrapAll(configs);\n    const abort = (name, predicate) => {\n      return {\n        key: name,\n        value: nu$9({ abort: predicate })\n      };\n    };\n    const can = (name, predicate) => {\n      return {\n        key: name,\n        value: nu$9({ can: predicate })\n      };\n    };\n    const preventDefault = name => {\n      return {\n        key: name,\n        value: nu$9({\n          run: (component, simulatedEvent) => {\n            simulatedEvent.event.prevent();\n          }\n        })\n      };\n    };\n    const run$1 = (name, handler) => {\n      return {\n        key: name,\n        value: nu$9({ run: handler })\n      };\n    };\n    const runActionExtra = (name, action, extra) => {\n      return {\n        key: name,\n        value: nu$9({\n          run: (component, simulatedEvent) => {\n            action.apply(undefined, [\n              component,\n              simulatedEvent\n            ].concat(extra));\n          }\n        })\n      };\n    };\n    const runOnName = name => {\n      return handler => run$1(name, handler);\n    };\n    const runOnSourceName = name => {\n      return handler => ({\n        key: name,\n        value: nu$9({\n          run: (component, simulatedEvent) => {\n            if (isSource(component, simulatedEvent)) {\n              handler(component, simulatedEvent);\n            }\n          }\n        })\n      });\n    };\n    const redirectToUid = (name, uid) => {\n      return run$1(name, (component, simulatedEvent) => {\n        component.getSystem().getByUid(uid).each(redirectee => {\n          dispatchEvent(redirectee, redirectee.element, name, simulatedEvent);\n        });\n      });\n    };\n    const redirectToPart = (name, detail, partName) => {\n      const uid = detail.partUids[partName];\n      return redirectToUid(name, uid);\n    };\n    const runWithTarget = (name, f) => {\n      return run$1(name, (component, simulatedEvent) => {\n        const ev = simulatedEvent.event;\n        const target = component.getSystem().getByDom(ev.target).getOrThunk(() => {\n          const closest = closest$4(ev.target, el => component.getSystem().getByDom(el).toOptional(), never);\n          return closest.getOr(component);\n        });\n        f(component, target, simulatedEvent);\n      });\n    };\n    const cutter = name => {\n      return run$1(name, (component, simulatedEvent) => {\n        simulatedEvent.cut();\n      });\n    };\n    const stopper = name => {\n      return run$1(name, (component, simulatedEvent) => {\n        simulatedEvent.stop();\n      });\n    };\n    const runOnSource = (name, f) => {\n      return runOnSourceName(name)(f);\n    };\n    const runOnAttached = runOnSourceName(attachedToDom());\n    const runOnDetached = runOnSourceName(detachedFromDom());\n    const runOnInit = runOnSourceName(systemInit());\n    const runOnExecute$1 = runOnName(execute$5());\n\n    const fromHtml$1 = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      return children(SugarElement.fromDom(div));\n    };\n\n    const get$9 = element => element.dom.innerHTML;\n    const set$6 = (element, content) => {\n      const owner = owner$4(element);\n      const docDom = owner.dom;\n      const fragment = SugarElement.fromDom(docDom.createDocumentFragment());\n      const contentElements = fromHtml$1(content, docDom);\n      append$1(fragment, contentElements);\n      empty(element);\n      append$2(element, fragment);\n    };\n    const getOuter = element => {\n      const container = SugarElement.fromTag('div');\n      const clone = SugarElement.fromDom(element.dom.cloneNode(true));\n      append$2(container, clone);\n      return get$9(container);\n    };\n\n    const clone = (original, isDeep) => SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    const shallow = original => clone(original, false);\n\n    const getHtml = element => {\n      if (isShadowRoot(element)) {\n        return '#shadow-root';\n      } else {\n        const clone = shallow(element);\n        return getOuter(clone);\n      }\n    };\n\n    const element = elem => getHtml(elem);\n\n    const isRecursive = (component, originator, target) => eq(originator, component.element) && !eq(originator, target);\n    const events$i = derive$2([can(focus$4(), (component, simulatedEvent) => {\n        const event = simulatedEvent.event;\n        const originator = event.originator;\n        const target = event.target;\n        if (isRecursive(component, originator, target)) {\n          console.warn(focus$4() + ' did not get interpreted by the desired target. ' + '\\nOriginator: ' + element(originator) + '\\nTarget: ' + element(target) + '\\nCheck the ' + focus$4() + ' event handlers');\n          return false;\n        } else {\n          return true;\n        }\n      })]);\n\n    var DefaultEvents = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$i\n    });\n\n    let unique = 0;\n    const generate$6 = prefix => {\n      const date = new Date();\n      const time = date.getTime();\n      const random = Math.floor(Math.random() * 1000000000);\n      unique++;\n      return prefix + '_' + random + unique + String(time);\n    };\n\n    const prefix$1 = constant$1('alloy-id-');\n    const idAttr$1 = constant$1('data-alloy-id');\n\n    const prefix = prefix$1();\n    const idAttr = idAttr$1();\n    const write = (label, elem) => {\n      const id = generate$6(prefix + label);\n      writeOnly(elem, id);\n      return id;\n    };\n    const writeOnly = (elem, uid) => {\n      Object.defineProperty(elem.dom, idAttr, {\n        value: uid,\n        writable: true\n      });\n    };\n    const read$1 = elem => {\n      const id = isElement$1(elem) ? elem.dom[idAttr] : null;\n      return Optional.from(id);\n    };\n    const generate$5 = prefix => generate$6(prefix);\n\n    const make$8 = identity;\n\n    const NoContextApi = getComp => {\n      const getMessage = event => `The component must be in a context to execute: ${ event }` + (getComp ? '\\n' + element(getComp().element) + ' is not in context.' : '');\n      const fail = event => () => {\n        throw new Error(getMessage(event));\n      };\n      const warn = event => () => {\n        console.warn(getMessage(event));\n      };\n      return {\n        debugInfo: constant$1('fake'),\n        triggerEvent: warn('triggerEvent'),\n        triggerFocus: warn('triggerFocus'),\n        triggerEscape: warn('triggerEscape'),\n        broadcast: warn('broadcast'),\n        broadcastOn: warn('broadcastOn'),\n        broadcastEvent: warn('broadcastEvent'),\n        build: fail('build'),\n        buildOrPatch: fail('buildOrPatch'),\n        addToWorld: fail('addToWorld'),\n        removeFromWorld: fail('removeFromWorld'),\n        addToGui: fail('addToGui'),\n        removeFromGui: fail('removeFromGui'),\n        getByUid: fail('getByUid'),\n        getByDom: fail('getByDom'),\n        isConnected: never\n      };\n    };\n    const singleton$1 = NoContextApi();\n\n    const markAsBehaviourApi = (f, apiName, apiFunction) => {\n      const delegate = apiFunction.toString();\n      const endIndex = delegate.indexOf(')') + 1;\n      const openBracketIndex = delegate.indexOf('(');\n      const parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = () => ({\n        name: apiName,\n        parameters: cleanParameters(parameters.slice(0, 1).concat(parameters.slice(3)))\n      });\n      return f;\n    };\n    const cleanParameters = parameters => map$2(parameters, p => endsWith(p, '/*') ? p.substring(0, p.length - '/*'.length) : p);\n    const markAsExtraApi = (f, extraName) => {\n      const delegate = f.toString();\n      const endIndex = delegate.indexOf(')') + 1;\n      const openBracketIndex = delegate.indexOf('(');\n      const parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = () => ({\n        name: extraName,\n        parameters: cleanParameters(parameters)\n      });\n      return f;\n    };\n    const markAsSketchApi = (f, apiFunction) => {\n      const delegate = apiFunction.toString();\n      const endIndex = delegate.indexOf(')') + 1;\n      const openBracketIndex = delegate.indexOf('(');\n      const parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = () => ({\n        name: 'OVERRIDE',\n        parameters: cleanParameters(parameters.slice(1))\n      });\n      return f;\n    };\n\n    const premadeTag = generate$6('alloy-premade');\n    const premade$1 = comp => {\n      Object.defineProperty(comp.element.dom, premadeTag, {\n        value: comp.uid,\n        writable: true\n      });\n      return wrap$1(premadeTag, comp);\n    };\n    const isPremade = element => has$2(element.dom, premadeTag);\n    const getPremade = spec => get$g(spec, premadeTag);\n    const makeApi = f => markAsSketchApi((component, ...rest) => f(component.getApis(), component, ...rest), f);\n\n    const NoState = { init: () => nu$8({ readState: constant$1('No State required') }) };\n    const nu$8 = spec => spec;\n\n    const generateFrom$1 = (spec, all) => {\n      const schema = map$2(all, a => optionObjOf(a.name(), [\n        required$1('config'),\n        defaulted('state', NoState)\n      ]));\n      const validated = asRaw('component.behaviours', objOf(schema), spec.behaviours).fold(errInfo => {\n        throw new Error(formatError(errInfo) + '\\nComplete spec:\\n' + JSON.stringify(spec, null, 2));\n      }, identity);\n      return {\n        list: all,\n        data: map$1(validated, optBlobThunk => {\n          const output = optBlobThunk.map(blob => ({\n            config: blob.config,\n            state: blob.state.init(blob.config)\n          }));\n          return constant$1(output);\n        })\n      };\n    };\n    const getBehaviours$3 = bData => bData.list;\n    const getData$2 = bData => bData.data;\n\n    const byInnerKey = (data, tuple) => {\n      const r = {};\n      each(data, (detail, key) => {\n        each(detail, (value, indexKey) => {\n          const chain = get$g(r, indexKey).getOr([]);\n          r[indexKey] = chain.concat([tuple(key, value)]);\n        });\n      });\n      return r;\n    };\n\n    const nu$7 = s => ({\n      classes: isUndefined(s.classes) ? [] : s.classes,\n      attributes: isUndefined(s.attributes) ? {} : s.attributes,\n      styles: isUndefined(s.styles) ? {} : s.styles\n    });\n    const merge = (defnA, mod) => ({\n      ...defnA,\n      attributes: {\n        ...defnA.attributes,\n        ...mod.attributes\n      },\n      styles: {\n        ...defnA.styles,\n        ...mod.styles\n      },\n      classes: defnA.classes.concat(mod.classes)\n    });\n\n    const combine$2 = (info, baseMod, behaviours, base) => {\n      const modsByBehaviour = { ...baseMod };\n      each$1(behaviours, behaviour => {\n        modsByBehaviour[behaviour.name()] = behaviour.exhibit(info, base);\n      });\n      const byAspect = byInnerKey(modsByBehaviour, (name, modification) => ({\n        name,\n        modification\n      }));\n      const combineObjects = objects => foldr(objects, (b, a) => ({\n        ...a.modification,\n        ...b\n      }), {});\n      const combinedClasses = foldr(byAspect.classes, (b, a) => a.modification.concat(b), []);\n      const combinedAttributes = combineObjects(byAspect.attributes);\n      const combinedStyles = combineObjects(byAspect.styles);\n      return nu$7({\n        classes: combinedClasses,\n        attributes: combinedAttributes,\n        styles: combinedStyles\n      });\n    };\n\n    const sortKeys = (label, keyName, array, order) => {\n      try {\n        const sorted = sort(array, (a, b) => {\n          const aKey = a[keyName];\n          const bKey = b[keyName];\n          const aIndex = order.indexOf(aKey);\n          const bIndex = order.indexOf(bKey);\n          if (aIndex === -1) {\n            throw new Error('The ordering for ' + label + ' does not have an entry for ' + aKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n          }\n          if (bIndex === -1) {\n            throw new Error('The ordering for ' + label + ' does not have an entry for ' + bKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n          }\n          if (aIndex < bIndex) {\n            return -1;\n          } else if (bIndex < aIndex) {\n            return 1;\n          } else {\n            return 0;\n          }\n        });\n        return Result.value(sorted);\n      } catch (err) {\n        return Result.error([err]);\n      }\n    };\n\n    const uncurried = (handler, purpose) => ({\n      handler,\n      purpose\n    });\n    const curried = (handler, purpose) => ({\n      cHandler: handler,\n      purpose\n    });\n    const curryArgs = (descHandler, extraArgs) => curried(curry.apply(undefined, [descHandler.handler].concat(extraArgs)), descHandler.purpose);\n    const getCurried = descHandler => descHandler.cHandler;\n\n    const behaviourTuple = (name, handler) => ({\n      name,\n      handler\n    });\n    const nameToHandlers = (behaviours, info) => {\n      const r = {};\n      each$1(behaviours, behaviour => {\n        r[behaviour.name()] = behaviour.handlers(info);\n      });\n      return r;\n    };\n    const groupByEvents = (info, behaviours, base) => {\n      const behaviourEvents = {\n        ...base,\n        ...nameToHandlers(behaviours, info)\n      };\n      return byInnerKey(behaviourEvents, behaviourTuple);\n    };\n    const combine$1 = (info, eventOrder, behaviours, base) => {\n      const byEventName = groupByEvents(info, behaviours, base);\n      return combineGroups(byEventName, eventOrder);\n    };\n    const assemble = rawHandler => {\n      const handler = read$2(rawHandler);\n      return (component, simulatedEvent, ...rest) => {\n        const args = [\n          component,\n          simulatedEvent\n        ].concat(rest);\n        if (handler.abort.apply(undefined, args)) {\n          simulatedEvent.stop();\n        } else if (handler.can.apply(undefined, args)) {\n          handler.run.apply(undefined, args);\n        }\n      };\n    };\n    const missingOrderError = (eventName, tuples) => Result.error(['The event (' + eventName + ') has more than one behaviour that listens to it.\\nWhen this occurs, you must ' + 'specify an event ordering for the behaviours in your spec (e.g. [ \"listing\", \"toggling\" ]).\\nThe behaviours that ' + 'can trigger it are: ' + JSON.stringify(map$2(tuples, c => c.name), null, 2)]);\n    const fuse = (tuples, eventOrder, eventName) => {\n      const order = eventOrder[eventName];\n      if (!order) {\n        return missingOrderError(eventName, tuples);\n      } else {\n        return sortKeys('Event: ' + eventName, 'name', tuples, order).map(sortedTuples => {\n          const handlers = map$2(sortedTuples, tuple => tuple.handler);\n          return fuse$1(handlers);\n        });\n      }\n    };\n    const combineGroups = (byEventName, eventOrder) => {\n      const r = mapToArray(byEventName, (tuples, eventName) => {\n        const combined = tuples.length === 1 ? Result.value(tuples[0].handler) : fuse(tuples, eventOrder, eventName);\n        return combined.map(handler => {\n          const assembled = assemble(handler);\n          const purpose = tuples.length > 1 ? filter$2(eventOrder[eventName], o => exists(tuples, t => t.name === o)).join(' > ') : tuples[0].name;\n          return wrap$1(eventName, uncurried(assembled, purpose));\n        });\n      });\n      return consolidate(r, {});\n    };\n\n    const baseBehaviour = 'alloy.base.behaviour';\n    const schema$z = objOf([\n      field$1('dom', 'dom', required$2(), objOf([\n        required$1('tag'),\n        defaulted('styles', {}),\n        defaulted('classes', []),\n        defaulted('attributes', {}),\n        option$3('value'),\n        option$3('innerHtml')\n      ])),\n      required$1('components'),\n      required$1('uid'),\n      defaulted('events', {}),\n      defaulted('apis', {}),\n      field$1('eventOrder', 'eventOrder', mergeWith({\n        [execute$5()]: [\n          'disabling',\n          baseBehaviour,\n          'toggling',\n          'typeaheadevents'\n        ],\n        [focus$4()]: [\n          baseBehaviour,\n          'focusing',\n          'keying'\n        ],\n        [systemInit()]: [\n          baseBehaviour,\n          'disabling',\n          'toggling',\n          'representing'\n        ],\n        [input()]: [\n          baseBehaviour,\n          'representing',\n          'streaming',\n          'invalidating'\n        ],\n        [detachedFromDom()]: [\n          baseBehaviour,\n          'representing',\n          'item-events',\n          'tooltipping'\n        ],\n        [mousedown()]: [\n          'focusing',\n          baseBehaviour,\n          'item-type-events'\n        ],\n        [touchstart()]: [\n          'focusing',\n          baseBehaviour,\n          'item-type-events'\n        ],\n        [mouseover()]: [\n          'item-type-events',\n          'tooltipping'\n        ],\n        [receive()]: [\n          'receiving',\n          'reflecting',\n          'tooltipping'\n        ]\n      }), anyValue()),\n      option$3('domModification')\n    ]);\n    const toInfo = spec => asRaw('custom.definition', schema$z, spec);\n    const toDefinition = detail => ({\n      ...detail.dom,\n      uid: detail.uid,\n      domChildren: map$2(detail.components, comp => comp.element)\n    });\n    const toModification = detail => detail.domModification.fold(() => nu$7({}), nu$7);\n    const toEvents = info => info.events;\n\n    const read = (element, attr) => {\n      const value = get$f(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    const add$4 = (element, attr, id) => {\n      const old = read(element, attr);\n      const nu = old.concat([id]);\n      set$9(element, attr, nu.join(' '));\n      return true;\n    };\n    const remove$4 = (element, attr, id) => {\n      const nu = filter$2(read(element, attr), v => v !== id);\n      if (nu.length > 0) {\n        set$9(element, attr, nu.join(' '));\n      } else {\n        remove$7(element, attr);\n      }\n      return false;\n    };\n\n    const supports = element => element.dom.classList !== undefined;\n    const get$8 = element => read(element, 'class');\n    const add$3 = (element, clazz) => add$4(element, 'class', clazz);\n    const remove$3 = (element, clazz) => remove$4(element, 'class', clazz);\n\n    const add$2 = (element, clazz) => {\n      if (supports(element)) {\n        element.dom.classList.add(clazz);\n      } else {\n        add$3(element, clazz);\n      }\n    };\n    const cleanClass = element => {\n      const classList = supports(element) ? element.dom.classList : get$8(element);\n      if (classList.length === 0) {\n        remove$7(element, 'class');\n      }\n    };\n    const remove$2 = (element, clazz) => {\n      if (supports(element)) {\n        const classList = element.dom.classList;\n        classList.remove(clazz);\n      } else {\n        remove$3(element, clazz);\n      }\n      cleanClass(element);\n    };\n    const has = (element, clazz) => supports(element) && element.dom.classList.contains(clazz);\n\n    const add$1 = (element, classes) => {\n      each$1(classes, x => {\n        add$2(element, x);\n      });\n    };\n    const remove$1 = (element, classes) => {\n      each$1(classes, x => {\n        remove$2(element, x);\n      });\n    };\n    const hasAll = (element, classes) => forall(classes, clazz => has(element, clazz));\n    const getNative = element => {\n      const classList = element.dom.classList;\n      const r = new Array(classList.length);\n      for (let i = 0; i < classList.length; i++) {\n        const item = classList.item(i);\n        if (item !== null) {\n          r[i] = item;\n        }\n      }\n      return r;\n    };\n    const get$7 = element => supports(element) ? getNative(element) : get$8(element);\n\n    const get$6 = element => element.dom.value;\n    const set$5 = (element, value) => {\n      if (value === undefined) {\n        throw new Error('Value.set was undefined');\n      }\n      element.dom.value = value;\n    };\n\n    const determineObsoleted = (parent, index, oldObsoleted) => {\n      const newObsoleted = child$2(parent, index);\n      return newObsoleted.map(newObs => {\n        const elemChanged = oldObsoleted.exists(o => !eq(o, newObs));\n        if (elemChanged) {\n          const oldTag = oldObsoleted.map(name$3).getOr('span');\n          const marker = SugarElement.fromTag(oldTag);\n          before$1(newObs, marker);\n          return marker;\n        } else {\n          return newObs;\n        }\n      });\n    };\n    const ensureInDom = (parent, child, obsoleted) => {\n      obsoleted.fold(() => append$2(parent, child), obs => {\n        if (!eq(obs, child)) {\n          before$1(obs, child);\n          remove$5(obs);\n        }\n      });\n    };\n    const patchChildrenWith = (parent, nu, f) => {\n      const builtChildren = map$2(nu, f);\n      const currentChildren = children(parent);\n      each$1(currentChildren.slice(builtChildren.length), remove$5);\n      return builtChildren;\n    };\n    const patchSpecChild = (parent, index, spec, build) => {\n      const oldObsoleted = child$2(parent, index);\n      const childComp = build(spec, oldObsoleted);\n      const obsoleted = determineObsoleted(parent, index, oldObsoleted);\n      ensureInDom(parent, childComp.element, obsoleted);\n      return childComp;\n    };\n    const patchSpecChildren = (parent, specs, build) => patchChildrenWith(parent, specs, (spec, index) => patchSpecChild(parent, index, spec, build));\n    const patchDomChildren = (parent, nodes) => patchChildrenWith(parent, nodes, (node, index) => {\n      const optObsoleted = child$2(parent, index);\n      ensureInDom(parent, node, optObsoleted);\n      return node;\n    });\n\n    const diffKeyValueSet = (newObj, oldObj) => {\n      const newKeys = keys(newObj);\n      const oldKeys = keys(oldObj);\n      const toRemove = difference(oldKeys, newKeys);\n      const toSet = bifilter(newObj, (v, k) => {\n        return !has$2(oldObj, k) || v !== oldObj[k];\n      }).t;\n      return {\n        toRemove,\n        toSet\n      };\n    };\n    const reconcileToDom = (definition, obsoleted) => {\n      const {\n        class: clazz,\n        style,\n        ...existingAttributes\n      } = clone$1(obsoleted);\n      const {\n        toSet: attrsToSet,\n        toRemove: attrsToRemove\n      } = diffKeyValueSet(definition.attributes, existingAttributes);\n      const updateAttrs = () => {\n        each$1(attrsToRemove, a => remove$7(obsoleted, a));\n        setAll$1(obsoleted, attrsToSet);\n      };\n      const existingStyles = getAllRaw(obsoleted);\n      const {\n        toSet: stylesToSet,\n        toRemove: stylesToRemove\n      } = diffKeyValueSet(definition.styles, existingStyles);\n      const updateStyles = () => {\n        each$1(stylesToRemove, s => remove$6(obsoleted, s));\n        setAll(obsoleted, stylesToSet);\n      };\n      const existingClasses = get$7(obsoleted);\n      const classesToRemove = difference(existingClasses, definition.classes);\n      const classesToAdd = difference(definition.classes, existingClasses);\n      const updateClasses = () => {\n        add$1(obsoleted, classesToAdd);\n        remove$1(obsoleted, classesToRemove);\n      };\n      const updateHtml = html => {\n        set$6(obsoleted, html);\n      };\n      const updateChildren = () => {\n        const children = definition.domChildren;\n        patchDomChildren(obsoleted, children);\n      };\n      const updateValue = () => {\n        const valueElement = obsoleted;\n        const value = definition.value.getOrUndefined();\n        if (value !== get$6(valueElement)) {\n          set$5(valueElement, value !== null && value !== void 0 ? value : '');\n        }\n      };\n      updateAttrs();\n      updateClasses();\n      updateStyles();\n      definition.innerHtml.fold(updateChildren, updateHtml);\n      updateValue();\n      return obsoleted;\n    };\n\n    const introduceToDom = definition => {\n      const subject = SugarElement.fromTag(definition.tag);\n      setAll$1(subject, definition.attributes);\n      add$1(subject, definition.classes);\n      setAll(subject, definition.styles);\n      definition.innerHtml.each(html => set$6(subject, html));\n      const children = definition.domChildren;\n      append$1(subject, children);\n      definition.value.each(value => {\n        set$5(subject, value);\n      });\n      return subject;\n    };\n    const attemptPatch = (definition, obsoleted) => {\n      try {\n        const e = reconcileToDom(definition, obsoleted);\n        return Optional.some(e);\n      } catch (err) {\n        return Optional.none();\n      }\n    };\n    const hasMixedChildren = definition => definition.innerHtml.isSome() && definition.domChildren.length > 0;\n    const renderToDom = (definition, optObsoleted) => {\n      const canBePatched = candidate => name$3(candidate) === definition.tag && !hasMixedChildren(definition) && !isPremade(candidate);\n      const elem = optObsoleted.filter(canBePatched).bind(obsoleted => attemptPatch(definition, obsoleted)).getOrThunk(() => introduceToDom(definition));\n      writeOnly(elem, definition.uid);\n      return elem;\n    };\n\n    const getBehaviours$2 = spec => {\n      const behaviours = get$g(spec, 'behaviours').getOr({});\n      return bind$3(keys(behaviours), name => {\n        const behaviour = behaviours[name];\n        return isNonNullable(behaviour) ? [behaviour.me] : [];\n      });\n    };\n    const generateFrom = (spec, all) => generateFrom$1(spec, all);\n    const generate$4 = spec => {\n      const all = getBehaviours$2(spec);\n      return generateFrom(spec, all);\n    };\n\n    const getDomDefinition = (info, bList, bData) => {\n      const definition = toDefinition(info);\n      const infoModification = toModification(info);\n      const baseModification = { 'alloy.base.modification': infoModification };\n      const modification = bList.length > 0 ? combine$2(bData, baseModification, bList, definition) : infoModification;\n      return merge(definition, modification);\n    };\n    const getEvents = (info, bList, bData) => {\n      const baseEvents = { 'alloy.base.behaviour': toEvents(info) };\n      return combine$1(bData, info.eventOrder, bList, baseEvents).getOrDie();\n    };\n    const build$2 = (spec, obsoleted) => {\n      const getMe = () => me;\n      const systemApi = Cell(singleton$1);\n      const info = getOrDie(toInfo(spec));\n      const bBlob = generate$4(spec);\n      const bList = getBehaviours$3(bBlob);\n      const bData = getData$2(bBlob);\n      const modDefinition = getDomDefinition(info, bList, bData);\n      const item = renderToDom(modDefinition, obsoleted);\n      const events = getEvents(info, bList, bData);\n      const subcomponents = Cell(info.components);\n      const connect = newApi => {\n        systemApi.set(newApi);\n      };\n      const disconnect = () => {\n        systemApi.set(NoContextApi(getMe));\n      };\n      const syncComponents = () => {\n        const children$1 = children(item);\n        const subs = bind$3(children$1, child => systemApi.get().getByDom(child).fold(() => [], pure$2));\n        subcomponents.set(subs);\n      };\n      const config = behaviour => {\n        const b = bData;\n        const f = isFunction(b[behaviour.name()]) ? b[behaviour.name()] : () => {\n          throw new Error('Could not find ' + behaviour.name() + ' in ' + JSON.stringify(spec, null, 2));\n        };\n        return f();\n      };\n      const hasConfigured = behaviour => isFunction(bData[behaviour.name()]);\n      const getApis = () => info.apis;\n      const readState = behaviourName => bData[behaviourName]().map(b => b.state.readState()).getOr('not enabled');\n      const me = {\n        uid: spec.uid,\n        getSystem: systemApi.get,\n        config,\n        hasConfigured,\n        spec,\n        readState,\n        getApis,\n        connect,\n        disconnect,\n        element: item,\n        syncComponents,\n        components: subcomponents.get,\n        events\n      };\n      return me;\n    };\n\n    const buildSubcomponents = (spec, obsoleted) => {\n      const components = get$g(spec, 'components').getOr([]);\n      return obsoleted.fold(() => map$2(components, build$1), obs => map$2(components, (c, i) => {\n        return buildOrPatch(c, child$2(obs, i));\n      }));\n    };\n    const buildFromSpec = (userSpec, obsoleted) => {\n      const {\n        events: specEvents,\n        ...spec\n      } = make$8(userSpec);\n      const components = buildSubcomponents(spec, obsoleted);\n      const completeSpec = {\n        ...spec,\n        events: {\n          ...DefaultEvents,\n          ...specEvents\n        },\n        components\n      };\n      return Result.value(build$2(completeSpec, obsoleted));\n    };\n    const text$1 = textContent => {\n      const element = SugarElement.fromText(textContent);\n      return external$1({ element });\n    };\n    const external$1 = spec => {\n      const extSpec = asRawOrDie$1('external.component', objOfOnly([\n        required$1('element'),\n        option$3('uid')\n      ]), spec);\n      const systemApi = Cell(NoContextApi());\n      const connect = newApi => {\n        systemApi.set(newApi);\n      };\n      const disconnect = () => {\n        systemApi.set(NoContextApi(() => me));\n      };\n      const uid = extSpec.uid.getOrThunk(() => generate$5('external'));\n      writeOnly(extSpec.element, uid);\n      const me = {\n        uid,\n        getSystem: systemApi.get,\n        config: Optional.none,\n        hasConfigured: never,\n        connect,\n        disconnect,\n        getApis: () => ({}),\n        element: extSpec.element,\n        spec,\n        readState: constant$1('No state'),\n        syncComponents: noop,\n        components: constant$1([]),\n        events: {}\n      };\n      return premade$1(me);\n    };\n    const uids = generate$5;\n    const isSketchSpec$1 = spec => has$2(spec, 'uid');\n    const buildOrPatch = (spec, obsoleted) => getPremade(spec).getOrThunk(() => {\n      const userSpecWithUid = isSketchSpec$1(spec) ? spec : {\n        uid: uids(''),\n        ...spec\n      };\n      return buildFromSpec(userSpecWithUid, obsoleted).getOrDie();\n    });\n    const build$1 = spec => buildOrPatch(spec, Optional.none());\n    const premade = premade$1;\n\n    var ClosestOrAncestor = (is, ancestor, scope, a, isRoot) => {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    };\n\n    const ancestor$1 = (scope, predicate, isRoot) => {\n      let element = scope.dom;\n      const stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$3 = (scope, predicate, isRoot) => {\n      const is = (s, test) => test(s);\n      return ClosestOrAncestor(is, ancestor$1, scope, predicate, isRoot);\n    };\n    const child$1 = (scope, predicate) => {\n      const pred = node => predicate(SugarElement.fromDom(node));\n      const result = find$5(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n    const descendant$1 = (scope, predicate) => {\n      const descend = node => {\n        for (let i = 0; i < node.childNodes.length; i++) {\n          const child = SugarElement.fromDom(node.childNodes[i]);\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          const res = descend(node.childNodes[i]);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope.dom);\n    };\n\n    const closest$2 = (scope, predicate, isRoot) => closest$3(scope, predicate, isRoot).isSome();\n\n    const ancestor = (scope, selector, isRoot) => ancestor$1(scope, e => is(e, selector), isRoot);\n    const child = (scope, selector) => child$1(scope, e => is(e, selector));\n    const descendant = (scope, selector) => one(selector, scope);\n    const closest$1 = (scope, selector, isRoot) => {\n      const is$1 = (element, selector) => is(element, selector);\n      return ClosestOrAncestor(is$1, ancestor, scope, selector, isRoot);\n    };\n\n    const attribute = 'aria-controls';\n    const find$1 = queryElem => {\n      const dependent = closest$3(queryElem, elem => {\n        if (!isElement$1(elem)) {\n          return false;\n        }\n        const id = get$f(elem, 'id');\n        return id !== undefined && id.indexOf(attribute) > -1;\n      });\n      return dependent.bind(dep => {\n        const id = get$f(dep, 'id');\n        const dos = getRootNode(dep);\n        return descendant(dos, `[${ attribute }=\"${ id }\"]`);\n      });\n    };\n    const manager = () => {\n      const ariaId = generate$6(attribute);\n      const link = elem => {\n        set$9(elem, attribute, ariaId);\n      };\n      const unlink = elem => {\n        remove$7(elem, attribute);\n      };\n      return {\n        id: ariaId,\n        link,\n        unlink\n      };\n    };\n\n    const isAriaPartOf = (component, queryElem) => find$1(queryElem).exists(owner => isPartOf$1(component, owner));\n    const isPartOf$1 = (component, queryElem) => closest$2(queryElem, el => eq(el, component.element), never) || isAriaPartOf(component, queryElem);\n\n    const unknown = 'unknown';\n    var EventConfiguration;\n    (function (EventConfiguration) {\n      EventConfiguration[EventConfiguration['STOP'] = 0] = 'STOP';\n      EventConfiguration[EventConfiguration['NORMAL'] = 1] = 'NORMAL';\n      EventConfiguration[EventConfiguration['LOGGING'] = 2] = 'LOGGING';\n    }(EventConfiguration || (EventConfiguration = {})));\n    const eventConfig = Cell({});\n    const makeEventLogger = (eventName, initialTarget) => {\n      const sequence = [];\n      const startTime = new Date().getTime();\n      return {\n        logEventCut: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'cut',\n            target,\n            purpose\n          });\n        },\n        logEventStopped: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'stopped',\n            target,\n            purpose\n          });\n        },\n        logNoParent: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'no-parent',\n            target,\n            purpose\n          });\n        },\n        logEventNoHandlers: (_name, target) => {\n          sequence.push({\n            outcome: 'no-handlers-left',\n            target\n          });\n        },\n        logEventResponse: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'response',\n            purpose,\n            target\n          });\n        },\n        write: () => {\n          const finishTime = new Date().getTime();\n          if (contains$2([\n              'mousemove',\n              'mouseover',\n              'mouseout',\n              systemInit()\n            ], eventName)) {\n            return;\n          }\n          console.log(eventName, {\n            event: eventName,\n            time: finishTime - startTime,\n            target: initialTarget.dom,\n            sequence: map$2(sequence, s => {\n              if (!contains$2([\n                  'cut',\n                  'stopped',\n                  'response'\n                ], s.outcome)) {\n                return s.outcome;\n              } else {\n                return '{' + s.purpose + '} ' + s.outcome + ' at (' + element(s.target) + ')';\n              }\n            })\n          });\n        }\n      };\n    };\n    const processEvent = (eventName, initialTarget, f) => {\n      const status = get$g(eventConfig.get(), eventName).orThunk(() => {\n        const patterns = keys(eventConfig.get());\n        return findMap(patterns, p => eventName.indexOf(p) > -1 ? Optional.some(eventConfig.get()[p]) : Optional.none());\n      }).getOr(EventConfiguration.NORMAL);\n      switch (status) {\n      case EventConfiguration.NORMAL:\n        return f(noLogger());\n      case EventConfiguration.LOGGING: {\n          const logger = makeEventLogger(eventName, initialTarget);\n          const output = f(logger);\n          logger.write();\n          return output;\n        }\n      case EventConfiguration.STOP:\n        return true;\n      }\n    };\n    const path = [\n      'alloy/data/Fields',\n      'alloy/debugging/Debugging'\n    ];\n    const getTrace = () => {\n      const err = new Error();\n      if (err.stack !== undefined) {\n        const lines = err.stack.split('\\n');\n        return find$5(lines, line => line.indexOf('alloy') > 0 && !exists(path, p => line.indexOf(p) > -1)).getOr(unknown);\n      } else {\n        return unknown;\n      }\n    };\n    const ignoreEvent = {\n      logEventCut: noop,\n      logEventStopped: noop,\n      logNoParent: noop,\n      logEventNoHandlers: noop,\n      logEventResponse: noop,\n      write: noop\n    };\n    const monitorEvent = (eventName, initialTarget, f) => processEvent(eventName, initialTarget, f);\n    const noLogger = constant$1(ignoreEvent);\n\n    const menuFields = constant$1([\n      required$1('menu'),\n      required$1('selectedMenu')\n    ]);\n    const itemFields = constant$1([\n      required$1('item'),\n      required$1('selectedItem')\n    ]);\n    constant$1(objOf(itemFields().concat(menuFields())));\n    const itemSchema$3 = constant$1(objOf(itemFields()));\n\n    const _initSize = requiredObjOf('initSize', [\n      required$1('numColumns'),\n      required$1('numRows')\n    ]);\n    const itemMarkers = () => requiredOf('markers', itemSchema$3());\n    const tieredMenuMarkers = () => requiredObjOf('markers', [required$1('backgroundMenu')].concat(menuFields()).concat(itemFields()));\n    const markers$1 = required => requiredObjOf('markers', map$2(required, required$1));\n    const onPresenceHandler = (label, fieldName, presence) => {\n      getTrace();\n      return field$1(fieldName, fieldName, presence, valueOf(f => Result.value((...args) => {\n        return f.apply(undefined, args);\n      })));\n    };\n    const onHandler = fieldName => onPresenceHandler('onHandler', fieldName, defaulted$1(noop));\n    const onKeyboardHandler = fieldName => onPresenceHandler('onKeyboardHandler', fieldName, defaulted$1(Optional.none));\n    const onStrictHandler = fieldName => onPresenceHandler('onHandler', fieldName, required$2());\n    const onStrictKeyboardHandler = fieldName => onPresenceHandler('onKeyboardHandler', fieldName, required$2());\n    const output$1 = (name, value) => customField(name, constant$1(value));\n    const snapshot = name => customField(name, identity);\n    const initSize = constant$1(_initSize);\n\n    const nu$6 = (x, y, bubble, direction, placement, boundsRestriction, labelPrefix, alwaysFit = false) => ({\n      x,\n      y,\n      bubble,\n      direction,\n      placement,\n      restriction: boundsRestriction,\n      label: `${ labelPrefix }-${ placement }`,\n      alwaysFit\n    });\n\n    const adt$a = Adt.generate([\n      { southeast: [] },\n      { southwest: [] },\n      { northeast: [] },\n      { northwest: [] },\n      { south: [] },\n      { north: [] },\n      { east: [] },\n      { west: [] }\n    ]);\n    const cata$2 = (subject, southeast, southwest, northeast, northwest, south, north, east, west) => subject.fold(southeast, southwest, northeast, northwest, south, north, east, west);\n    const cataVertical = (subject, south, middle, north) => subject.fold(south, south, north, north, south, north, middle, middle);\n    const cataHorizontal = (subject, east, middle, west) => subject.fold(east, west, east, west, middle, middle, east, west);\n    const southeast$3 = adt$a.southeast;\n    const southwest$3 = adt$a.southwest;\n    const northeast$3 = adt$a.northeast;\n    const northwest$3 = adt$a.northwest;\n    const south$3 = adt$a.south;\n    const north$3 = adt$a.north;\n    const east$3 = adt$a.east;\n    const west$3 = adt$a.west;\n\n    const cycleBy = (value, delta, min, max) => {\n      const r = value + delta;\n      if (r > max) {\n        return min;\n      } else if (r < min) {\n        return max;\n      } else {\n        return r;\n      }\n    };\n    const clamp = (value, min, max) => Math.min(Math.max(value, min), max);\n\n    const getRestriction = (anchor, restriction) => {\n      switch (restriction) {\n      case 1:\n        return anchor.x;\n      case 0:\n        return anchor.x + anchor.width;\n      case 2:\n        return anchor.y;\n      case 3:\n        return anchor.y + anchor.height;\n      }\n    };\n    const boundsRestriction = (anchor, restrictions) => mapToObject([\n      'left',\n      'right',\n      'top',\n      'bottom'\n    ], dir => get$g(restrictions, dir).map(restriction => getRestriction(anchor, restriction)));\n    const adjustBounds = (bounds$1, restriction, bubbleOffset) => {\n      const applyRestriction = (dir, current) => restriction[dir].map(pos => {\n        const isVerticalAxis = dir === 'top' || dir === 'bottom';\n        const offset = isVerticalAxis ? bubbleOffset.top : bubbleOffset.left;\n        const comparator = dir === 'left' || dir === 'top' ? Math.max : Math.min;\n        const newPos = comparator(pos, current) + offset;\n        return isVerticalAxis ? clamp(newPos, bounds$1.y, bounds$1.bottom) : clamp(newPos, bounds$1.x, bounds$1.right);\n      }).getOr(current);\n      const adjustedLeft = applyRestriction('left', bounds$1.x);\n      const adjustedTop = applyRestriction('top', bounds$1.y);\n      const adjustedRight = applyRestriction('right', bounds$1.right);\n      const adjustedBottom = applyRestriction('bottom', bounds$1.bottom);\n      return bounds(adjustedLeft, adjustedTop, adjustedRight - adjustedLeft, adjustedBottom - adjustedTop);\n    };\n\n    const labelPrefix$2 = 'layout';\n    const eastX$1 = anchor => anchor.x;\n    const middleX$1 = (anchor, element) => anchor.x + anchor.width / 2 - element.width / 2;\n    const westX$1 = (anchor, element) => anchor.x + anchor.width - element.width;\n    const northY$2 = (anchor, element) => anchor.y - element.height;\n    const southY$2 = anchor => anchor.y + anchor.height;\n    const centreY$1 = (anchor, element) => anchor.y + anchor.height / 2 - element.height / 2;\n    const eastEdgeX$1 = anchor => anchor.x + anchor.width;\n    const westEdgeX$1 = (anchor, element) => anchor.x - element.width;\n    const southeast$2 = (anchor, element, bubbles) => nu$6(eastX$1(anchor), southY$2(anchor), bubbles.southeast(), southeast$3(), 'southeast', boundsRestriction(anchor, {\n      left: 1,\n      top: 3\n    }), labelPrefix$2);\n    const southwest$2 = (anchor, element, bubbles) => nu$6(westX$1(anchor, element), southY$2(anchor), bubbles.southwest(), southwest$3(), 'southwest', boundsRestriction(anchor, {\n      right: 0,\n      top: 3\n    }), labelPrefix$2);\n    const northeast$2 = (anchor, element, bubbles) => nu$6(eastX$1(anchor), northY$2(anchor, element), bubbles.northeast(), northeast$3(), 'northeast', boundsRestriction(anchor, {\n      left: 1,\n      bottom: 2\n    }), labelPrefix$2);\n    const northwest$2 = (anchor, element, bubbles) => nu$6(westX$1(anchor, element), northY$2(anchor, element), bubbles.northwest(), northwest$3(), 'northwest', boundsRestriction(anchor, {\n      right: 0,\n      bottom: 2\n    }), labelPrefix$2);\n    const north$2 = (anchor, element, bubbles) => nu$6(middleX$1(anchor, element), northY$2(anchor, element), bubbles.north(), north$3(), 'north', boundsRestriction(anchor, { bottom: 2 }), labelPrefix$2);\n    const south$2 = (anchor, element, bubbles) => nu$6(middleX$1(anchor, element), southY$2(anchor), bubbles.south(), south$3(), 'south', boundsRestriction(anchor, { top: 3 }), labelPrefix$2);\n    const east$2 = (anchor, element, bubbles) => nu$6(eastEdgeX$1(anchor), centreY$1(anchor, element), bubbles.east(), east$3(), 'east', boundsRestriction(anchor, { left: 0 }), labelPrefix$2);\n    const west$2 = (anchor, element, bubbles) => nu$6(westEdgeX$1(anchor, element), centreY$1(anchor, element), bubbles.west(), west$3(), 'west', boundsRestriction(anchor, { right: 1 }), labelPrefix$2);\n    const all$1 = () => [\n      southeast$2,\n      southwest$2,\n      northeast$2,\n      northwest$2,\n      south$2,\n      north$2,\n      east$2,\n      west$2\n    ];\n    const allRtl$1 = () => [\n      southwest$2,\n      southeast$2,\n      northwest$2,\n      northeast$2,\n      south$2,\n      north$2,\n      east$2,\n      west$2\n    ];\n    const aboveOrBelow = () => [\n      northeast$2,\n      northwest$2,\n      southeast$2,\n      southwest$2,\n      north$2,\n      south$2\n    ];\n    const aboveOrBelowRtl = () => [\n      northwest$2,\n      northeast$2,\n      southwest$2,\n      southeast$2,\n      north$2,\n      south$2\n    ];\n    const belowOrAbove = () => [\n      southeast$2,\n      southwest$2,\n      northeast$2,\n      northwest$2,\n      south$2,\n      north$2\n    ];\n    const belowOrAboveRtl = () => [\n      southwest$2,\n      southeast$2,\n      northwest$2,\n      northeast$2,\n      south$2,\n      north$2\n    ];\n\n    const chooseChannels = (channels, message) => message.universal ? channels : filter$2(channels, ch => contains$2(message.channels, ch));\n    const events$h = receiveConfig => derive$2([run$1(receive(), (component, message) => {\n        const channelMap = receiveConfig.channels;\n        const channels = keys(channelMap);\n        const receivingData = message;\n        const targetChannels = chooseChannels(channels, receivingData);\n        each$1(targetChannels, ch => {\n          const channelInfo = channelMap[ch];\n          const channelSchema = channelInfo.schema;\n          const data = asRawOrDie$1('channel[' + ch + '] data\\nReceiver: ' + element(component.element), channelSchema, receivingData.data);\n          channelInfo.onReceive(component, data);\n        });\n      })]);\n\n    var ActiveReceiving = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$h\n    });\n\n    var ReceivingSchema = [requiredOf('channels', setOf(Result.value, objOfOnly([\n        onStrictHandler('onReceive'),\n        defaulted('schema', anyValue())\n      ])))];\n\n    const executeEvent = (bConfig, bState, executor) => runOnExecute$1(component => {\n      executor(component, bConfig, bState);\n    });\n    const loadEvent = (bConfig, bState, f) => runOnInit((component, _simulatedEvent) => {\n      f(component, bConfig, bState);\n    });\n    const create$4 = (schema, name, active, apis, extra, state) => {\n      const configSchema = objOfOnly(schema);\n      const schemaSchema = optionObjOf(name, [optionObjOfOnly('config', schema)]);\n      return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n    };\n    const createModes$1 = (modes, name, active, apis, extra, state) => {\n      const configSchema = modes;\n      const schemaSchema = optionObjOf(name, [optionOf('config', modes)]);\n      return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n    };\n    const wrapApi = (bName, apiFunction, apiName) => {\n      const f = (component, ...rest) => {\n        const args = [component].concat(rest);\n        return component.config({ name: constant$1(bName) }).fold(() => {\n          throw new Error('We could not find any behaviour configuration for: ' + bName + '. Using API: ' + apiName);\n        }, info => {\n          const rest = Array.prototype.slice.call(args, 1);\n          return apiFunction.apply(undefined, [\n            component,\n            info.config,\n            info.state\n          ].concat(rest));\n        });\n      };\n      return markAsBehaviourApi(f, apiName, apiFunction);\n    };\n    const revokeBehaviour = name => ({\n      key: name,\n      value: undefined\n    });\n    const doCreate = (configSchema, schemaSchema, name, active, apis, extra, state) => {\n      const getConfig = info => hasNonNullableKey(info, name) ? info[name]() : Optional.none();\n      const wrappedApis = map$1(apis, (apiF, apiName) => wrapApi(name, apiF, apiName));\n      const wrappedExtra = map$1(extra, (extraF, extraName) => markAsExtraApi(extraF, extraName));\n      const me = {\n        ...wrappedExtra,\n        ...wrappedApis,\n        revoke: curry(revokeBehaviour, name),\n        config: spec => {\n          const prepared = asRawOrDie$1(name + '-config', configSchema, spec);\n          return {\n            key: name,\n            value: {\n              config: prepared,\n              me,\n              configAsRaw: cached(() => asRawOrDie$1(name + '-config', configSchema, spec)),\n              initialConfig: spec,\n              state\n            }\n          };\n        },\n        schema: constant$1(schemaSchema),\n        exhibit: (info, base) => {\n          return lift2(getConfig(info), get$g(active, 'exhibit'), (behaviourInfo, exhibitor) => {\n            return exhibitor(base, behaviourInfo.config, behaviourInfo.state);\n          }).getOrThunk(() => nu$7({}));\n        },\n        name: constant$1(name),\n        handlers: info => {\n          return getConfig(info).map(behaviourInfo => {\n            const getEvents = get$g(active, 'events').getOr(() => ({}));\n            return getEvents(behaviourInfo.config, behaviourInfo.state);\n          }).getOr({});\n        }\n      };\n      return me;\n    };\n\n    const derive$1 = capabilities => wrapAll(capabilities);\n    const simpleSchema = objOfOnly([\n      required$1('fields'),\n      required$1('name'),\n      defaulted('active', {}),\n      defaulted('apis', {}),\n      defaulted('state', NoState),\n      defaulted('extra', {})\n    ]);\n    const create$3 = data => {\n      const value = asRawOrDie$1('Creating behaviour: ' + data.name, simpleSchema, data);\n      return create$4(value.fields, value.name, value.active, value.apis, value.extra, value.state);\n    };\n    const modeSchema = objOfOnly([\n      required$1('branchKey'),\n      required$1('branches'),\n      required$1('name'),\n      defaulted('active', {}),\n      defaulted('apis', {}),\n      defaulted('state', NoState),\n      defaulted('extra', {})\n    ]);\n    const createModes = data => {\n      const value = asRawOrDie$1('Creating behaviour: ' + data.name, modeSchema, data);\n      return createModes$1(choose$1(value.branchKey, value.branches), value.name, value.active, value.apis, value.extra, value.state);\n    };\n    const revoke = constant$1(undefined);\n\n    const Receiving = create$3({\n      fields: ReceivingSchema,\n      name: 'receiving',\n      active: ActiveReceiving\n    });\n\n    const exhibit$6 = (base, posConfig) => nu$7({\n      classes: [],\n      styles: posConfig.useFixed() ? {} : { position: 'relative' }\n    });\n\n    var ActivePosition = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$6\n    });\n\n    const focus$3 = element => element.dom.focus();\n    const blur$1 = element => element.dom.blur();\n    const hasFocus = element => {\n      const root = getRootNode(element).dom;\n      return element.dom === root.activeElement;\n    };\n    const active$1 = (root = getDocument()) => Optional.from(root.dom.activeElement).map(SugarElement.fromDom);\n    const search = element => active$1(getRootNode(element)).filter(e => element.dom.contains(e.dom));\n\n    const preserve$1 = (f, container) => {\n      const dos = getRootNode(container);\n      const refocus = active$1(dos).bind(focused => {\n        const hasFocus = elem => eq(focused, elem);\n        return hasFocus(container) ? Optional.some(container) : descendant$1(container, hasFocus);\n      });\n      const result = f(container);\n      refocus.each(oldFocus => {\n        active$1(dos).filter(newFocus => eq(newFocus, oldFocus)).fold(() => {\n          focus$3(oldFocus);\n        }, noop);\n      });\n      return result;\n    };\n\n    const NuPositionCss = (position, left, top, right, bottom) => {\n      const toPx = num => num + 'px';\n      return {\n        position,\n        left: left.map(toPx),\n        top: top.map(toPx),\n        right: right.map(toPx),\n        bottom: bottom.map(toPx)\n      };\n    };\n    const toOptions = position => ({\n      ...position,\n      position: Optional.some(position.position)\n    });\n    const applyPositionCss = (element, position) => {\n      setOptions(element, toOptions(position));\n    };\n\n    const adt$9 = Adt.generate([\n      { none: [] },\n      {\n        relative: [\n          'x',\n          'y',\n          'width',\n          'height'\n        ]\n      },\n      {\n        fixed: [\n          'x',\n          'y',\n          'width',\n          'height'\n        ]\n      }\n    ]);\n    const positionWithDirection = (posName, decision, x, y, width, height) => {\n      const decisionRect = decision.rect;\n      const decisionX = decisionRect.x - x;\n      const decisionY = decisionRect.y - y;\n      const decisionWidth = decisionRect.width;\n      const decisionHeight = decisionRect.height;\n      const decisionRight = width - (decisionX + decisionWidth);\n      const decisionBottom = height - (decisionY + decisionHeight);\n      const left = Optional.some(decisionX);\n      const top = Optional.some(decisionY);\n      const right = Optional.some(decisionRight);\n      const bottom = Optional.some(decisionBottom);\n      const none = Optional.none();\n      return cata$2(decision.direction, () => NuPositionCss(posName, left, top, none, none), () => NuPositionCss(posName, none, top, right, none), () => NuPositionCss(posName, left, none, none, bottom), () => NuPositionCss(posName, none, none, right, bottom), () => NuPositionCss(posName, left, top, none, none), () => NuPositionCss(posName, left, none, none, bottom), () => NuPositionCss(posName, left, top, none, none), () => NuPositionCss(posName, none, top, right, none));\n    };\n    const reposition = (origin, decision) => origin.fold(() => {\n      const decisionRect = decision.rect;\n      return NuPositionCss('absolute', Optional.some(decisionRect.x), Optional.some(decisionRect.y), Optional.none(), Optional.none());\n    }, (x, y, width, height) => {\n      return positionWithDirection('absolute', decision, x, y, width, height);\n    }, (x, y, width, height) => {\n      return positionWithDirection('fixed', decision, x, y, width, height);\n    });\n    const toBox = (origin, element) => {\n      const rel = curry(find$2, element);\n      const position = origin.fold(rel, rel, () => {\n        const scroll = get$b();\n        return find$2(element).translate(-scroll.left, -scroll.top);\n      });\n      const width = getOuter$1(element);\n      const height = getOuter$2(element);\n      return bounds(position.left, position.top, width, height);\n    };\n    const viewport = (origin, getBounds) => getBounds.fold(() => origin.fold(win, win, bounds), b => origin.fold(b, b, () => {\n      const bounds$1 = b();\n      const pos = translate$2(origin, bounds$1.x, bounds$1.y);\n      return bounds(pos.left, pos.top, bounds$1.width, bounds$1.height);\n    }));\n    const translate$2 = (origin, x, y) => {\n      const pos = SugarPosition(x, y);\n      const removeScroll = () => {\n        const outerScroll = get$b();\n        return pos.translate(-outerScroll.left, -outerScroll.top);\n      };\n      return origin.fold(constant$1(pos), constant$1(pos), removeScroll);\n    };\n    const cata$1 = (subject, onNone, onRelative, onFixed) => subject.fold(onNone, onRelative, onFixed);\n    adt$9.none;\n    const relative$1 = adt$9.relative;\n    const fixed$1 = adt$9.fixed;\n\n    const anchor = (anchorBox, origin) => ({\n      anchorBox,\n      origin\n    });\n    const box = (anchorBox, origin) => anchor(anchorBox, origin);\n\n    const placementAttribute = 'data-alloy-placement';\n    const setPlacement$1 = (element, placement) => {\n      set$9(element, placementAttribute, placement);\n    };\n    const getPlacement = element => getOpt(element, placementAttribute);\n    const reset$2 = element => remove$7(element, placementAttribute);\n\n    const adt$8 = Adt.generate([\n      { fit: ['reposition'] },\n      {\n        nofit: [\n          'reposition',\n          'visibleW',\n          'visibleH',\n          'isVisible'\n        ]\n      }\n    ]);\n    const determinePosition = (box, bounds) => {\n      const {\n        x: boundsX,\n        y: boundsY,\n        right: boundsRight,\n        bottom: boundsBottom\n      } = bounds;\n      const {x, y, right, bottom, width, height} = box;\n      const xInBounds = x >= boundsX && x <= boundsRight;\n      const yInBounds = y >= boundsY && y <= boundsBottom;\n      const originInBounds = xInBounds && yInBounds;\n      const rightInBounds = right <= boundsRight && right >= boundsX;\n      const bottomInBounds = bottom <= boundsBottom && bottom >= boundsY;\n      const sizeInBounds = rightInBounds && bottomInBounds;\n      const visibleW = Math.min(width, x >= boundsX ? boundsRight - x : right - boundsX);\n      const visibleH = Math.min(height, y >= boundsY ? boundsBottom - y : bottom - boundsY);\n      return {\n        originInBounds,\n        sizeInBounds,\n        visibleW,\n        visibleH\n      };\n    };\n    const calcReposition = (box, bounds$1) => {\n      const {\n        x: boundsX,\n        y: boundsY,\n        right: boundsRight,\n        bottom: boundsBottom\n      } = bounds$1;\n      const {x, y, width, height} = box;\n      const maxX = Math.max(boundsX, boundsRight - width);\n      const maxY = Math.max(boundsY, boundsBottom - height);\n      const restrictedX = clamp(x, boundsX, maxX);\n      const restrictedY = clamp(y, boundsY, maxY);\n      const restrictedWidth = Math.min(restrictedX + width, boundsRight) - restrictedX;\n      const restrictedHeight = Math.min(restrictedY + height, boundsBottom) - restrictedY;\n      return bounds(restrictedX, restrictedY, restrictedWidth, restrictedHeight);\n    };\n    const calcMaxSizes = (direction, box, bounds) => {\n      const upAvailable = constant$1(box.bottom - bounds.y);\n      const downAvailable = constant$1(bounds.bottom - box.y);\n      const maxHeight = cataVertical(direction, downAvailable, downAvailable, upAvailable);\n      const westAvailable = constant$1(box.right - bounds.x);\n      const eastAvailable = constant$1(bounds.right - box.x);\n      const maxWidth = cataHorizontal(direction, eastAvailable, eastAvailable, westAvailable);\n      return {\n        maxWidth,\n        maxHeight\n      };\n    };\n    const attempt = (candidate, width, height, bounds$1) => {\n      const bubble = candidate.bubble;\n      const bubbleOffset = bubble.offset;\n      const adjustedBounds = adjustBounds(bounds$1, candidate.restriction, bubbleOffset);\n      const newX = candidate.x + bubbleOffset.left;\n      const newY = candidate.y + bubbleOffset.top;\n      const box = bounds(newX, newY, width, height);\n      const {originInBounds, sizeInBounds, visibleW, visibleH} = determinePosition(box, adjustedBounds);\n      const fits = originInBounds && sizeInBounds;\n      const fittedBox = fits ? box : calcReposition(box, adjustedBounds);\n      const isPartlyVisible = fittedBox.width > 0 && fittedBox.height > 0;\n      const {maxWidth, maxHeight} = calcMaxSizes(candidate.direction, fittedBox, bounds$1);\n      const reposition = {\n        rect: fittedBox,\n        maxHeight,\n        maxWidth,\n        direction: candidate.direction,\n        placement: candidate.placement,\n        classes: {\n          on: bubble.classesOn,\n          off: bubble.classesOff\n        },\n        layout: candidate.label,\n        testY: newY\n      };\n      return fits || candidate.alwaysFit ? adt$8.fit(reposition) : adt$8.nofit(reposition, visibleW, visibleH, isPartlyVisible);\n    };\n    const attempts = (element, candidates, anchorBox, elementBox, bubbles, bounds) => {\n      const panelWidth = elementBox.width;\n      const panelHeight = elementBox.height;\n      const attemptBestFit = (layout, reposition, visibleW, visibleH, isVisible) => {\n        const next = layout(anchorBox, elementBox, bubbles, element, bounds);\n        const attemptLayout = attempt(next, panelWidth, panelHeight, bounds);\n        return attemptLayout.fold(constant$1(attemptLayout), (newReposition, newVisibleW, newVisibleH, newIsVisible) => {\n          const improved = isVisible === newIsVisible ? newVisibleH > visibleH || newVisibleW > visibleW : !isVisible && newIsVisible;\n          return improved ? attemptLayout : adt$8.nofit(reposition, visibleW, visibleH, isVisible);\n        });\n      };\n      const abc = foldl(candidates, (b, a) => {\n        const bestNext = curry(attemptBestFit, a);\n        return b.fold(constant$1(b), bestNext);\n      }, adt$8.nofit({\n        rect: anchorBox,\n        maxHeight: elementBox.height,\n        maxWidth: elementBox.width,\n        direction: southeast$3(),\n        placement: 'southeast',\n        classes: {\n          on: [],\n          off: []\n        },\n        layout: 'none',\n        testY: anchorBox.y\n      }, -1, -1, false));\n      return abc.fold(identity, identity);\n    };\n\n    const singleton = doRevoke => {\n      const subject = Cell(Optional.none());\n      const revoke = () => subject.get().each(doRevoke);\n      const clear = () => {\n        revoke();\n        subject.set(Optional.none());\n      };\n      const isSet = () => subject.get().isSome();\n      const get = () => subject.get();\n      const set = s => {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear,\n        isSet,\n        get,\n        set\n      };\n    };\n    const destroyable = () => singleton(s => s.destroy());\n    const unbindable = () => singleton(s => s.unbind());\n    const value$2 = () => {\n      const subject = singleton(noop);\n      const on = f => subject.get().each(f);\n      return {\n        ...subject,\n        on\n      };\n    };\n\n    const filter = always;\n    const bind = (element, event, handler) => bind$2(element, event, filter, handler);\n    const capture = (element, event, handler) => capture$1(element, event, filter, handler);\n    const fromRawEvent = fromRawEvent$1;\n\n    const properties = [\n      'top',\n      'bottom',\n      'right',\n      'left'\n    ];\n    const timerAttr = 'data-alloy-transition-timer';\n    const isTransitioning$1 = (element, transition) => hasAll(element, transition.classes);\n    const shouldApplyTransitionCss = (transition, decision, lastPlacement) => {\n      return lastPlacement.exists(placer => {\n        const mode = transition.mode;\n        return mode === 'all' ? true : placer[mode] !== decision[mode];\n      });\n    };\n    const hasChanges = (position, intermediate) => {\n      const round = value => parseFloat(value).toFixed(3);\n      return find$4(intermediate, (value, key) => {\n        const newValue = position[key].map(round);\n        const val = value.map(round);\n        return !equals(newValue, val);\n      }).isSome();\n    };\n    const getTransitionDuration = element => {\n      const get = name => {\n        const style = get$e(element, name);\n        const times = style.split(/\\s*,\\s*/);\n        return filter$2(times, isNotEmpty);\n      };\n      const parse = value => {\n        if (isString(value) && /^[\\d.]+/.test(value)) {\n          const num = parseFloat(value);\n          return endsWith(value, 'ms') ? num : num * 1000;\n        } else {\n          return 0;\n        }\n      };\n      const delay = get('transition-delay');\n      const duration = get('transition-duration');\n      return foldl(duration, (acc, dur, i) => {\n        const time = parse(delay[i]) + parse(dur);\n        return Math.max(acc, time);\n      }, 0);\n    };\n    const setupTransitionListeners = (element, transition) => {\n      const transitionEnd = unbindable();\n      const transitionCancel = unbindable();\n      let timer;\n      const isSourceTransition = e => {\n        var _a;\n        const pseudoElement = (_a = e.raw.pseudoElement) !== null && _a !== void 0 ? _a : '';\n        return eq(e.target, element) && isEmpty(pseudoElement) && contains$2(properties, e.raw.propertyName);\n      };\n      const transitionDone = e => {\n        if (isNullable(e) || isSourceTransition(e)) {\n          transitionEnd.clear();\n          transitionCancel.clear();\n          const type = e === null || e === void 0 ? void 0 : e.raw.type;\n          if (isNullable(type) || type === transitionend()) {\n            clearTimeout(timer);\n            remove$7(element, timerAttr);\n            remove$1(element, transition.classes);\n          }\n        }\n      };\n      const transitionStart = bind(element, transitionstart(), e => {\n        if (isSourceTransition(e)) {\n          transitionStart.unbind();\n          transitionEnd.set(bind(element, transitionend(), transitionDone));\n          transitionCancel.set(bind(element, transitioncancel(), transitionDone));\n        }\n      });\n      const duration = getTransitionDuration(element);\n      requestAnimationFrame(() => {\n        timer = setTimeout(transitionDone, duration + 17);\n        set$9(element, timerAttr, timer);\n      });\n    };\n    const startTransitioning = (element, transition) => {\n      add$1(element, transition.classes);\n      getOpt(element, timerAttr).each(timerId => {\n        clearTimeout(parseInt(timerId, 10));\n        remove$7(element, timerAttr);\n      });\n      setupTransitionListeners(element, transition);\n    };\n    const applyTransitionCss = (element, origin, position, transition, decision, lastPlacement) => {\n      const shouldTransition = shouldApplyTransitionCss(transition, decision, lastPlacement);\n      if (shouldTransition || isTransitioning$1(element, transition)) {\n        set$8(element, 'position', position.position);\n        const rect = toBox(origin, element);\n        const intermediatePosition = reposition(origin, {\n          ...decision,\n          rect\n        });\n        const intermediateCssOptions = mapToObject(properties, prop => intermediatePosition[prop]);\n        if (hasChanges(position, intermediateCssOptions)) {\n          setOptions(element, intermediateCssOptions);\n          if (shouldTransition) {\n            startTransitioning(element, transition);\n          }\n          reflow(element);\n        }\n      } else {\n        remove$1(element, transition.classes);\n      }\n    };\n\n    const elementSize = p => ({\n      width: getOuter$1(p),\n      height: getOuter$2(p)\n    });\n    const layout = (anchorBox, element, bubbles, options) => {\n      remove$6(element, 'max-height');\n      remove$6(element, 'max-width');\n      const elementBox = elementSize(element);\n      return attempts(element, options.preference, anchorBox, elementBox, bubbles, options.bounds);\n    };\n    const setClasses = (element, decision) => {\n      const classInfo = decision.classes;\n      remove$1(element, classInfo.off);\n      add$1(element, classInfo.on);\n    };\n    const setHeight = (element, decision, options) => {\n      const maxHeightFunction = options.maxHeightFunction;\n      maxHeightFunction(element, decision.maxHeight);\n    };\n    const setWidth = (element, decision, options) => {\n      const maxWidthFunction = options.maxWidthFunction;\n      maxWidthFunction(element, decision.maxWidth);\n    };\n    const position$2 = (element, decision, options) => {\n      const positionCss = reposition(options.origin, decision);\n      options.transition.each(transition => {\n        applyTransitionCss(element, options.origin, positionCss, transition, decision, options.lastPlacement);\n      });\n      applyPositionCss(element, positionCss);\n    };\n    const setPlacement = (element, decision) => {\n      setPlacement$1(element, decision.placement);\n    };\n\n    const setMaxHeight = (element, maxHeight) => {\n      setMax$1(element, Math.floor(maxHeight));\n    };\n    const anchored = constant$1((element, available) => {\n      setMaxHeight(element, available);\n      setAll(element, {\n        'overflow-x': 'hidden',\n        'overflow-y': 'auto'\n      });\n    });\n    const expandable$1 = constant$1((element, available) => {\n      setMaxHeight(element, available);\n    });\n\n    const defaultOr = (options, key, dephault) => options[key] === undefined ? dephault : options[key];\n    const simple = (anchor, element, bubble, layouts, lastPlacement, getBounds, overrideOptions, transition) => {\n      const maxHeightFunction = defaultOr(overrideOptions, 'maxHeightFunction', anchored());\n      const maxWidthFunction = defaultOr(overrideOptions, 'maxWidthFunction', noop);\n      const anchorBox = anchor.anchorBox;\n      const origin = anchor.origin;\n      const options = {\n        bounds: viewport(origin, getBounds),\n        origin,\n        preference: layouts,\n        maxHeightFunction,\n        maxWidthFunction,\n        lastPlacement,\n        transition\n      };\n      return go(anchorBox, element, bubble, options);\n    };\n    const go = (anchorBox, element, bubble, options) => {\n      const decision = layout(anchorBox, element, bubble, options);\n      position$2(element, decision, options);\n      setPlacement(element, decision);\n      setClasses(element, decision);\n      setHeight(element, decision, options);\n      setWidth(element, decision, options);\n      return {\n        layout: decision.layout,\n        placement: decision.placement\n      };\n    };\n\n    const allAlignments = [\n      'valignCentre',\n      'alignLeft',\n      'alignRight',\n      'alignCentre',\n      'top',\n      'bottom',\n      'left',\n      'right',\n      'inset'\n    ];\n    const nu$5 = (xOffset, yOffset, classes, insetModifier = 1) => {\n      const insetXOffset = xOffset * insetModifier;\n      const insetYOffset = yOffset * insetModifier;\n      const getClasses = prop => get$g(classes, prop).getOr([]);\n      const make = (xDelta, yDelta, alignmentsOn) => {\n        const alignmentsOff = difference(allAlignments, alignmentsOn);\n        return {\n          offset: SugarPosition(xDelta, yDelta),\n          classesOn: bind$3(alignmentsOn, getClasses),\n          classesOff: bind$3(alignmentsOff, getClasses)\n        };\n      };\n      return {\n        southeast: () => make(-xOffset, yOffset, [\n          'top',\n          'alignLeft'\n        ]),\n        southwest: () => make(xOffset, yOffset, [\n          'top',\n          'alignRight'\n        ]),\n        south: () => make(-xOffset / 2, yOffset, [\n          'top',\n          'alignCentre'\n        ]),\n        northeast: () => make(-xOffset, -yOffset, [\n          'bottom',\n          'alignLeft'\n        ]),\n        northwest: () => make(xOffset, -yOffset, [\n          'bottom',\n          'alignRight'\n        ]),\n        north: () => make(-xOffset / 2, -yOffset, [\n          'bottom',\n          'alignCentre'\n        ]),\n        east: () => make(xOffset, -yOffset / 2, [\n          'valignCentre',\n          'left'\n        ]),\n        west: () => make(-xOffset, -yOffset / 2, [\n          'valignCentre',\n          'right'\n        ]),\n        insetNortheast: () => make(insetXOffset, insetYOffset, [\n          'top',\n          'alignLeft',\n          'inset'\n        ]),\n        insetNorthwest: () => make(-insetXOffset, insetYOffset, [\n          'top',\n          'alignRight',\n          'inset'\n        ]),\n        insetNorth: () => make(-insetXOffset / 2, insetYOffset, [\n          'top',\n          'alignCentre',\n          'inset'\n        ]),\n        insetSoutheast: () => make(insetXOffset, -insetYOffset, [\n          'bottom',\n          'alignLeft',\n          'inset'\n        ]),\n        insetSouthwest: () => make(-insetXOffset, -insetYOffset, [\n          'bottom',\n          'alignRight',\n          'inset'\n        ]),\n        insetSouth: () => make(-insetXOffset / 2, -insetYOffset, [\n          'bottom',\n          'alignCentre',\n          'inset'\n        ]),\n        insetEast: () => make(-insetXOffset, -insetYOffset / 2, [\n          'valignCentre',\n          'right',\n          'inset'\n        ]),\n        insetWest: () => make(insetXOffset, -insetYOffset / 2, [\n          'valignCentre',\n          'left',\n          'inset'\n        ])\n      };\n    };\n    const fallback = () => nu$5(0, 0, {});\n\n    const nu$4 = identity;\n\n    const onDirection = (isLtr, isRtl) => element => getDirection(element) === 'rtl' ? isRtl : isLtr;\n    const getDirection = element => get$e(element, 'direction') === 'rtl' ? 'rtl' : 'ltr';\n\n    var AttributeValue;\n    (function (AttributeValue) {\n      AttributeValue['TopToBottom'] = 'toptobottom';\n      AttributeValue['BottomToTop'] = 'bottomtotop';\n    }(AttributeValue || (AttributeValue = {})));\n    const Attribute = 'data-alloy-vertical-dir';\n    const isBottomToTopDir = el => closest$2(el, current => isElement$1(current) && get$f(current, 'data-alloy-vertical-dir') === AttributeValue.BottomToTop);\n\n    const schema$y = () => optionObjOf('layouts', [\n      required$1('onLtr'),\n      required$1('onRtl'),\n      option$3('onBottomLtr'),\n      option$3('onBottomRtl')\n    ]);\n    const get$5 = (elem, info, defaultLtr, defaultRtl, defaultBottomLtr, defaultBottomRtl, dirElement) => {\n      const isBottomToTop = dirElement.map(isBottomToTopDir).getOr(false);\n      const customLtr = info.layouts.map(ls => ls.onLtr(elem));\n      const customRtl = info.layouts.map(ls => ls.onRtl(elem));\n      const ltr = isBottomToTop ? info.layouts.bind(ls => ls.onBottomLtr.map(f => f(elem))).or(customLtr).getOr(defaultBottomLtr) : customLtr.getOr(defaultLtr);\n      const rtl = isBottomToTop ? info.layouts.bind(ls => ls.onBottomRtl.map(f => f(elem))).or(customRtl).getOr(defaultBottomRtl) : customRtl.getOr(defaultRtl);\n      const f = onDirection(ltr, rtl);\n      return f(elem);\n    };\n\n    const placement$4 = (component, anchorInfo, origin) => {\n      const hotspot = anchorInfo.hotspot;\n      const anchorBox = toBox(origin, hotspot.element);\n      const layouts = get$5(component.element, anchorInfo, belowOrAbove(), belowOrAboveRtl(), aboveOrBelow(), aboveOrBelowRtl(), Optional.some(anchorInfo.hotspot.element));\n      return Optional.some(nu$4({\n        anchorBox,\n        bubble: anchorInfo.bubble.getOr(fallback()),\n        overrides: anchorInfo.overrides,\n        layouts,\n        placer: Optional.none()\n      }));\n    };\n    var HotspotAnchor = [\n      required$1('hotspot'),\n      option$3('bubble'),\n      defaulted('overrides', {}),\n      schema$y(),\n      output$1('placement', placement$4)\n    ];\n\n    const placement$3 = (component, anchorInfo, origin) => {\n      const pos = translate$2(origin, anchorInfo.x, anchorInfo.y);\n      const anchorBox = bounds(pos.left, pos.top, anchorInfo.width, anchorInfo.height);\n      const layouts = get$5(component.element, anchorInfo, all$1(), allRtl$1(), all$1(), allRtl$1(), Optional.none());\n      return Optional.some(nu$4({\n        anchorBox,\n        bubble: anchorInfo.bubble,\n        overrides: anchorInfo.overrides,\n        layouts,\n        placer: Optional.none()\n      }));\n    };\n    var MakeshiftAnchor = [\n      required$1('x'),\n      required$1('y'),\n      defaulted('height', 0),\n      defaulted('width', 0),\n      defaulted('bubble', fallback()),\n      defaulted('overrides', {}),\n      schema$y(),\n      output$1('placement', placement$3)\n    ];\n\n    const adt$7 = Adt.generate([\n      { screen: ['point'] },\n      {\n        absolute: [\n          'point',\n          'scrollLeft',\n          'scrollTop'\n        ]\n      }\n    ]);\n    const toFixed = pos => pos.fold(identity, (point, scrollLeft, scrollTop) => point.translate(-scrollLeft, -scrollTop));\n    const toAbsolute = pos => pos.fold(identity, identity);\n    const sum = points => foldl(points, (b, a) => b.translate(a.left, a.top), SugarPosition(0, 0));\n    const sumAsFixed = positions => {\n      const points = map$2(positions, toFixed);\n      return sum(points);\n    };\n    const sumAsAbsolute = positions => {\n      const points = map$2(positions, toAbsolute);\n      return sum(points);\n    };\n    const screen = adt$7.screen;\n    const absolute$1 = adt$7.absolute;\n\n    const getOffset = (component, origin, anchorInfo) => {\n      const win = defaultView(anchorInfo.root).dom;\n      const hasSameOwner = frame => {\n        const frameOwner = owner$4(frame);\n        const compOwner = owner$4(component.element);\n        return eq(frameOwner, compOwner);\n      };\n      return Optional.from(win.frameElement).map(SugarElement.fromDom).filter(hasSameOwner).map(absolute$3);\n    };\n    const getRootPoint = (component, origin, anchorInfo) => {\n      const doc = owner$4(component.element);\n      const outerScroll = get$b(doc);\n      const offset = getOffset(component, origin, anchorInfo).getOr(outerScroll);\n      return absolute$1(offset, outerScroll.left, outerScroll.top);\n    };\n\n    const getBox = (left, top, width, height) => {\n      const point = screen(SugarPosition(left, top));\n      return Optional.some(pointed(point, width, height));\n    };\n    const calcNewAnchor = (optBox, rootPoint, anchorInfo, origin, elem) => optBox.map(box => {\n      const points = [\n        rootPoint,\n        box.point\n      ];\n      const topLeft = cata$1(origin, () => sumAsAbsolute(points), () => sumAsAbsolute(points), () => sumAsFixed(points));\n      const anchorBox = rect(topLeft.left, topLeft.top, box.width, box.height);\n      const layoutsLtr = anchorInfo.showAbove ? aboveOrBelow() : belowOrAbove();\n      const layoutsRtl = anchorInfo.showAbove ? aboveOrBelowRtl() : belowOrAboveRtl();\n      const layouts = get$5(elem, anchorInfo, layoutsLtr, layoutsRtl, layoutsLtr, layoutsRtl, Optional.none());\n      return nu$4({\n        anchorBox,\n        bubble: anchorInfo.bubble.getOr(fallback()),\n        overrides: anchorInfo.overrides,\n        layouts,\n        placer: Optional.none()\n      });\n    });\n\n    const placement$2 = (component, anchorInfo, origin) => {\n      const rootPoint = getRootPoint(component, origin, anchorInfo);\n      return anchorInfo.node.filter(inBody).bind(target => {\n        const rect = target.dom.getBoundingClientRect();\n        const nodeBox = getBox(rect.left, rect.top, rect.width, rect.height);\n        const elem = anchorInfo.node.getOr(component.element);\n        return calcNewAnchor(nodeBox, rootPoint, anchorInfo, origin, elem);\n      });\n    };\n    var NodeAnchor = [\n      required$1('node'),\n      required$1('root'),\n      option$3('bubble'),\n      schema$y(),\n      defaulted('overrides', {}),\n      defaulted('showAbove', false),\n      output$1('placement', placement$2)\n    ];\n\n    const zeroWidth = '\\uFEFF';\n    const nbsp = '\\xA0';\n\n    const create$2 = (start, soffset, finish, foffset) => ({\n      start,\n      soffset,\n      finish,\n      foffset\n    });\n    const SimRange = { create: create$2 };\n\n    const adt$6 = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    const cata = (subject, onBefore, onOn, onAfter) => subject.fold(onBefore, onOn, onAfter);\n    const getStart$1 = situ => situ.fold(identity, identity, identity);\n    const before = adt$6.before;\n    const on$1 = adt$6.on;\n    const after$1 = adt$6.after;\n    const Situ = {\n      before,\n      on: on$1,\n      after: after$1,\n      cata,\n      getStart: getStart$1\n    };\n\n    const adt$5 = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const exactFromRange = simRange => adt$5.exact(simRange.start, simRange.soffset, simRange.finish, simRange.foffset);\n    const getStart = selection => selection.match({\n      domRange: rng => SugarElement.fromDom(rng.startContainer),\n      relative: (startSitu, _finishSitu) => Situ.getStart(startSitu),\n      exact: (start, _soffset, _finish, _foffset) => start\n    });\n    const domRange = adt$5.domRange;\n    const relative = adt$5.relative;\n    const exact = adt$5.exact;\n    const getWin = selection => {\n      const start = getStart(selection);\n      return defaultView(start);\n    };\n    const range$1 = SimRange.create;\n    const SimSelection = {\n      domRange,\n      relative,\n      exact,\n      exactFromRange,\n      getWin,\n      range: range$1\n    };\n\n    const setStart = (rng, situ) => {\n      situ.fold(e => {\n        rng.setStartBefore(e.dom);\n      }, (e, o) => {\n        rng.setStart(e.dom, o);\n      }, e => {\n        rng.setStartAfter(e.dom);\n      });\n    };\n    const setFinish = (rng, situ) => {\n      situ.fold(e => {\n        rng.setEndBefore(e.dom);\n      }, (e, o) => {\n        rng.setEnd(e.dom, o);\n      }, e => {\n        rng.setEndAfter(e.dom);\n      });\n    };\n    const relativeToNative = (win, startSitu, finishSitu) => {\n      const range = win.document.createRange();\n      setStart(range, startSitu);\n      setFinish(range, finishSitu);\n      return range;\n    };\n    const exactToNative = (win, start, soffset, finish, foffset) => {\n      const rng = win.document.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    const toRect = rect => ({\n      left: rect.left,\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      width: rect.width,\n      height: rect.height\n    });\n    const getFirstRect$1 = rng => {\n      const rects = rng.getClientRects();\n      const rect = rects.length > 0 ? rects[0] : rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n    const getBounds$2 = rng => {\n      const rect = rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n\n    const adt$4 = Adt.generate([\n      {\n        ltr: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      },\n      {\n        rtl: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const fromRange = (win, type, range) => type(SugarElement.fromDom(range.startContainer), range.startOffset, SugarElement.fromDom(range.endContainer), range.endOffset);\n    const getRanges = (win, selection) => selection.match({\n      domRange: rng => {\n        return {\n          ltr: constant$1(rng),\n          rtl: Optional.none\n        };\n      },\n      relative: (startSitu, finishSitu) => {\n        return {\n          ltr: cached(() => relativeToNative(win, startSitu, finishSitu)),\n          rtl: cached(() => Optional.some(relativeToNative(win, finishSitu, startSitu)))\n        };\n      },\n      exact: (start, soffset, finish, foffset) => {\n        return {\n          ltr: cached(() => exactToNative(win, start, soffset, finish, foffset)),\n          rtl: cached(() => Optional.some(exactToNative(win, finish, foffset, start, soffset)))\n        };\n      }\n    });\n    const doDiagnose = (win, ranges) => {\n      const rng = ranges.ltr();\n      if (rng.collapsed) {\n        const reversed = ranges.rtl().filter(rev => rev.collapsed === false);\n        return reversed.map(rev => adt$4.rtl(SugarElement.fromDom(rev.endContainer), rev.endOffset, SugarElement.fromDom(rev.startContainer), rev.startOffset)).getOrThunk(() => fromRange(win, adt$4.ltr, rng));\n      } else {\n        return fromRange(win, adt$4.ltr, rng);\n      }\n    };\n    const diagnose = (win, selection) => {\n      const ranges = getRanges(win, selection);\n      return doDiagnose(win, ranges);\n    };\n    const asLtrRange = (win, selection) => {\n      const diagnosis = diagnose(win, selection);\n      return diagnosis.match({\n        ltr: (start, soffset, finish, foffset) => {\n          const rng = win.document.createRange();\n          rng.setStart(start.dom, soffset);\n          rng.setEnd(finish.dom, foffset);\n          return rng;\n        },\n        rtl: (start, soffset, finish, foffset) => {\n          const rng = win.document.createRange();\n          rng.setStart(finish.dom, foffset);\n          rng.setEnd(start.dom, soffset);\n          return rng;\n        }\n      });\n    };\n    adt$4.ltr;\n    adt$4.rtl;\n\n    const descendants = (scope, selector) => all$3(selector, scope);\n\n    const makeRange = (start, soffset, finish, foffset) => {\n      const doc = owner$4(start);\n      const rng = doc.dom.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    const after = (start, soffset, finish, foffset) => {\n      const r = makeRange(start, soffset, finish, foffset);\n      const same = eq(start, finish) && soffset === foffset;\n      return r.collapsed && !same;\n    };\n\n    const getNativeSelection = win => Optional.from(win.getSelection());\n    const readRange = selection => {\n      if (selection.rangeCount > 0) {\n        const firstRng = selection.getRangeAt(0);\n        const lastRng = selection.getRangeAt(selection.rangeCount - 1);\n        return Optional.some(SimRange.create(SugarElement.fromDom(firstRng.startContainer), firstRng.startOffset, SugarElement.fromDom(lastRng.endContainer), lastRng.endOffset));\n      } else {\n        return Optional.none();\n      }\n    };\n    const doGetExact = selection => {\n      if (selection.anchorNode === null || selection.focusNode === null) {\n        return readRange(selection);\n      } else {\n        const anchor = SugarElement.fromDom(selection.anchorNode);\n        const focus = SugarElement.fromDom(selection.focusNode);\n        return after(anchor, selection.anchorOffset, focus, selection.focusOffset) ? Optional.some(SimRange.create(anchor, selection.anchorOffset, focus, selection.focusOffset)) : readRange(selection);\n      }\n    };\n    const getExact = win => getNativeSelection(win).filter(sel => sel.rangeCount > 0).bind(doGetExact);\n    const getFirstRect = (win, selection) => {\n      const rng = asLtrRange(win, selection);\n      return getFirstRect$1(rng);\n    };\n    const getBounds$1 = (win, selection) => {\n      const rng = asLtrRange(win, selection);\n      return getBounds$2(rng);\n    };\n\n    const NodeValue = (is, name) => {\n      const get = element => {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      const getOption = element => is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      const set = (element, value) => {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get,\n        getOption,\n        set\n      };\n    };\n\n    const api = NodeValue(isText, 'text');\n    const get$4 = element => api.get(element);\n\n    const point = (element, offset) => ({\n      element,\n      offset\n    });\n    const descendOnce$1 = (element, offset) => {\n      const children$1 = children(element);\n      if (children$1.length === 0) {\n        return point(element, offset);\n      } else if (offset < children$1.length) {\n        return point(children$1[offset], 0);\n      } else {\n        const last = children$1[children$1.length - 1];\n        const len = isText(last) ? get$4(last).length : children(last).length;\n        return point(last, len);\n      }\n    };\n\n    const descendOnce = (element, offset) => isText(element) ? point(element, offset) : descendOnce$1(element, offset);\n    const getAnchorSelection = (win, anchorInfo) => {\n      const getSelection = anchorInfo.getSelection.getOrThunk(() => () => getExact(win));\n      return getSelection().map(sel => {\n        const modStart = descendOnce(sel.start, sel.soffset);\n        const modFinish = descendOnce(sel.finish, sel.foffset);\n        return SimSelection.range(modStart.element, modStart.offset, modFinish.element, modFinish.offset);\n      });\n    };\n    const placement$1 = (component, anchorInfo, origin) => {\n      const win = defaultView(anchorInfo.root).dom;\n      const rootPoint = getRootPoint(component, origin, anchorInfo);\n      const selectionBox = getAnchorSelection(win, anchorInfo).bind(sel => {\n        const optRect = getBounds$1(win, SimSelection.exactFromRange(sel)).orThunk(() => {\n          const x = SugarElement.fromText(zeroWidth);\n          before$1(sel.start, x);\n          const rect = getFirstRect(win, SimSelection.exact(x, 0, x, 1));\n          remove$5(x);\n          return rect;\n        });\n        return optRect.bind(rawRect => getBox(rawRect.left, rawRect.top, rawRect.width, rawRect.height));\n      });\n      const targetElement = getAnchorSelection(win, anchorInfo).bind(sel => isElement$1(sel.start) ? Optional.some(sel.start) : parentElement(sel.start));\n      const elem = targetElement.getOr(component.element);\n      return calcNewAnchor(selectionBox, rootPoint, anchorInfo, origin, elem);\n    };\n    var SelectionAnchor = [\n      option$3('getSelection'),\n      required$1('root'),\n      option$3('bubble'),\n      schema$y(),\n      defaulted('overrides', {}),\n      defaulted('showAbove', false),\n      output$1('placement', placement$1)\n    ];\n\n    const labelPrefix$1 = 'link-layout';\n    const eastX = anchor => anchor.x + anchor.width;\n    const westX = (anchor, element) => anchor.x - element.width;\n    const northY$1 = (anchor, element) => anchor.y - element.height + anchor.height;\n    const southY$1 = anchor => anchor.y;\n    const southeast$1 = (anchor, element, bubbles) => nu$6(eastX(anchor), southY$1(anchor), bubbles.southeast(), southeast$3(), 'southeast', boundsRestriction(anchor, {\n      left: 0,\n      top: 2\n    }), labelPrefix$1);\n    const southwest$1 = (anchor, element, bubbles) => nu$6(westX(anchor, element), southY$1(anchor), bubbles.southwest(), southwest$3(), 'southwest', boundsRestriction(anchor, {\n      right: 1,\n      top: 2\n    }), labelPrefix$1);\n    const northeast$1 = (anchor, element, bubbles) => nu$6(eastX(anchor), northY$1(anchor, element), bubbles.northeast(), northeast$3(), 'northeast', boundsRestriction(anchor, {\n      left: 0,\n      bottom: 3\n    }), labelPrefix$1);\n    const northwest$1 = (anchor, element, bubbles) => nu$6(westX(anchor, element), northY$1(anchor, element), bubbles.northwest(), northwest$3(), 'northwest', boundsRestriction(anchor, {\n      right: 1,\n      bottom: 3\n    }), labelPrefix$1);\n    const all = () => [\n      southeast$1,\n      southwest$1,\n      northeast$1,\n      northwest$1\n    ];\n    const allRtl = () => [\n      southwest$1,\n      southeast$1,\n      northwest$1,\n      northeast$1\n    ];\n\n    const placement = (component, submenuInfo, origin) => {\n      const anchorBox = toBox(origin, submenuInfo.item.element);\n      const layouts = get$5(component.element, submenuInfo, all(), allRtl(), all(), allRtl(), Optional.none());\n      return Optional.some(nu$4({\n        anchorBox,\n        bubble: fallback(),\n        overrides: submenuInfo.overrides,\n        layouts,\n        placer: Optional.none()\n      }));\n    };\n    var SubmenuAnchor = [\n      required$1('item'),\n      schema$y(),\n      defaulted('overrides', {}),\n      output$1('placement', placement)\n    ];\n\n    var AnchorSchema = choose$1('type', {\n      selection: SelectionAnchor,\n      node: NodeAnchor,\n      hotspot: HotspotAnchor,\n      submenu: SubmenuAnchor,\n      makeshift: MakeshiftAnchor\n    });\n\n    const TransitionSchema = [\n      requiredArrayOf('classes', string),\n      defaultedStringEnum('mode', 'all', [\n        'all',\n        'layout',\n        'placement'\n      ])\n    ];\n    const PositionSchema = [\n      defaulted('useFixed', never),\n      option$3('getBounds')\n    ];\n    const PlacementSchema = [\n      requiredOf('anchor', AnchorSchema),\n      optionObjOf('transition', TransitionSchema)\n    ];\n\n    const getFixedOrigin = () => {\n      const html = document.documentElement;\n      return fixed$1(0, 0, html.clientWidth, html.clientHeight);\n    };\n    const getRelativeOrigin = component => {\n      const position = absolute$3(component.element);\n      const bounds = component.element.dom.getBoundingClientRect();\n      return relative$1(position.left, position.top, bounds.width, bounds.height);\n    };\n    const place = (component, origin, anchoring, getBounds, placee, lastPlace, transition) => {\n      const anchor = box(anchoring.anchorBox, origin);\n      return simple(anchor, placee.element, anchoring.bubble, anchoring.layouts, lastPlace, getBounds, anchoring.overrides, transition);\n    };\n    const position$1 = (component, posConfig, posState, placee, placementSpec) => {\n      positionWithin(component, posConfig, posState, placee, placementSpec, Optional.none());\n    };\n    const positionWithin = (component, posConfig, posState, placee, placementSpec, boxElement) => {\n      const boundsBox = boxElement.map(box$1);\n      return positionWithinBounds(component, posConfig, posState, placee, placementSpec, boundsBox);\n    };\n    const positionWithinBounds = (component, posConfig, posState, placee, placementSpec, bounds) => {\n      const placeeDetail = asRawOrDie$1('placement.info', objOf(PlacementSchema), placementSpec);\n      const anchorage = placeeDetail.anchor;\n      const element = placee.element;\n      const placeeState = posState.get(placee.uid);\n      preserve$1(() => {\n        set$8(element, 'position', 'fixed');\n        const oldVisibility = getRaw(element, 'visibility');\n        set$8(element, 'visibility', 'hidden');\n        const origin = posConfig.useFixed() ? getFixedOrigin() : getRelativeOrigin(component);\n        const placer = anchorage.placement;\n        const getBounds = bounds.map(constant$1).or(posConfig.getBounds);\n        placer(component, anchorage, origin).each(anchoring => {\n          const doPlace = anchoring.placer.getOr(place);\n          const newState = doPlace(component, origin, anchoring, getBounds, placee, placeeState, placeeDetail.transition);\n          posState.set(placee.uid, newState);\n        });\n        oldVisibility.fold(() => {\n          remove$6(element, 'visibility');\n        }, vis => {\n          set$8(element, 'visibility', vis);\n        });\n        if (getRaw(element, 'left').isNone() && getRaw(element, 'top').isNone() && getRaw(element, 'right').isNone() && getRaw(element, 'bottom').isNone() && is$1(getRaw(element, 'position'), 'fixed')) {\n          remove$6(element, 'position');\n        }\n      }, element);\n    };\n    const getMode = (component, pConfig, _pState) => pConfig.useFixed() ? 'fixed' : 'absolute';\n    const reset$1 = (component, pConfig, posState, placee) => {\n      const element = placee.element;\n      each$1([\n        'position',\n        'left',\n        'right',\n        'top',\n        'bottom'\n      ], prop => remove$6(element, prop));\n      reset$2(element);\n      posState.clear(placee.uid);\n    };\n\n    var PositionApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        position: position$1,\n        positionWithin: positionWithin,\n        positionWithinBounds: positionWithinBounds,\n        getMode: getMode,\n        reset: reset$1\n    });\n\n    const init$g = () => {\n      let state = {};\n      const set = (id, data) => {\n        state[id] = data;\n      };\n      const get = id => get$g(state, id);\n      const clear = id => {\n        if (isNonNullable(id)) {\n          delete state[id];\n        } else {\n          state = {};\n        }\n      };\n      return nu$8({\n        readState: () => state,\n        clear,\n        set,\n        get\n      });\n    };\n\n    var PositioningState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$g\n    });\n\n    const Positioning = create$3({\n      fields: PositionSchema,\n      name: 'positioning',\n      active: ActivePosition,\n      apis: PositionApis,\n      state: PositioningState\n    });\n\n    const isConnected = comp => comp.getSystem().isConnected();\n    const fireDetaching = component => {\n      emit(component, detachedFromDom());\n      const children = component.components();\n      each$1(children, fireDetaching);\n    };\n    const fireAttaching = component => {\n      const children = component.components();\n      each$1(children, fireAttaching);\n      emit(component, attachedToDom());\n    };\n    const virtualAttach = (parent, child) => {\n      parent.getSystem().addToWorld(child);\n      if (inBody(parent.element)) {\n        fireAttaching(child);\n      }\n    };\n    const virtualDetach = comp => {\n      fireDetaching(comp);\n      comp.getSystem().removeFromWorld(comp);\n    };\n    const attach$1 = (parent, child) => {\n      append$2(parent.element, child.element);\n    };\n    const detachChildren$1 = component => {\n      each$1(component.components(), childComp => remove$5(childComp.element));\n      empty(component.element);\n      component.syncComponents();\n    };\n    const replaceChildren = (component, newSpecs, buildNewChildren) => {\n      const subs = component.components();\n      detachChildren$1(component);\n      const newChildren = buildNewChildren(newSpecs);\n      const deleted = difference(subs, newChildren);\n      each$1(deleted, comp => {\n        fireDetaching(comp);\n        component.getSystem().removeFromWorld(comp);\n      });\n      each$1(newChildren, childComp => {\n        if (!isConnected(childComp)) {\n          component.getSystem().addToWorld(childComp);\n          attach$1(component, childComp);\n          if (inBody(component.element)) {\n            fireAttaching(childComp);\n          }\n        } else {\n          attach$1(component, childComp);\n        }\n      });\n      component.syncComponents();\n    };\n    const virtualReplaceChildren = (component, newSpecs, buildNewChildren) => {\n      const subs = component.components();\n      const existingComps = bind$3(newSpecs, spec => getPremade(spec).toArray());\n      each$1(subs, childComp => {\n        if (!contains$2(existingComps, childComp)) {\n          virtualDetach(childComp);\n        }\n      });\n      const newChildren = buildNewChildren(newSpecs);\n      const deleted = difference(subs, newChildren);\n      each$1(deleted, deletedComp => {\n        if (isConnected(deletedComp)) {\n          virtualDetach(deletedComp);\n        }\n      });\n      each$1(newChildren, childComp => {\n        if (!isConnected(childComp)) {\n          virtualAttach(component, childComp);\n        }\n      });\n      component.syncComponents();\n    };\n\n    const attach = (parent, child) => {\n      attachWith(parent, child, append$2);\n    };\n    const attachWith = (parent, child, insertion) => {\n      parent.getSystem().addToWorld(child);\n      insertion(parent.element, child.element);\n      if (inBody(parent.element)) {\n        fireAttaching(child);\n      }\n      parent.syncComponents();\n    };\n    const doDetach = component => {\n      fireDetaching(component);\n      remove$5(component.element);\n      component.getSystem().removeFromWorld(component);\n    };\n    const detach = component => {\n      const parent$1 = parent(component.element).bind(p => component.getSystem().getByDom(p).toOptional());\n      doDetach(component);\n      parent$1.each(p => {\n        p.syncComponents();\n      });\n    };\n    const detachChildren = component => {\n      const subs = component.components();\n      each$1(subs, doDetach);\n      empty(component.element);\n      component.syncComponents();\n    };\n    const attachSystem = (element, guiSystem) => {\n      attachSystemWith(element, guiSystem, append$2);\n    };\n    const attachSystemAfter = (element, guiSystem) => {\n      attachSystemWith(element, guiSystem, after$2);\n    };\n    const attachSystemWith = (element, guiSystem, inserter) => {\n      inserter(element, guiSystem.element);\n      const children$1 = children(guiSystem.element);\n      each$1(children$1, child => {\n        guiSystem.getByDom(child).each(fireAttaching);\n      });\n    };\n    const detachSystem = guiSystem => {\n      const children$1 = children(guiSystem.element);\n      each$1(children$1, child => {\n        guiSystem.getByDom(child).each(fireDetaching);\n      });\n      remove$5(guiSystem.element);\n    };\n\n    const rebuild = (sandbox, sConfig, sState, data) => {\n      sState.get().each(_data => {\n        detachChildren(sandbox);\n      });\n      const point = sConfig.getAttachPoint(sandbox);\n      attach(point, sandbox);\n      const built = sandbox.getSystem().build(data);\n      attach(sandbox, built);\n      sState.set(built);\n      return built;\n    };\n    const open$1 = (sandbox, sConfig, sState, data) => {\n      const newState = rebuild(sandbox, sConfig, sState, data);\n      sConfig.onOpen(sandbox, newState);\n      return newState;\n    };\n    const setContent = (sandbox, sConfig, sState, data) => sState.get().map(() => rebuild(sandbox, sConfig, sState, data));\n    const openWhileCloaked = (sandbox, sConfig, sState, data, transaction) => {\n      cloak(sandbox, sConfig);\n      open$1(sandbox, sConfig, sState, data);\n      transaction();\n      decloak(sandbox, sConfig);\n    };\n    const close$1 = (sandbox, sConfig, sState) => {\n      sState.get().each(data => {\n        detachChildren(sandbox);\n        detach(sandbox);\n        sConfig.onClose(sandbox, data);\n        sState.clear();\n      });\n    };\n    const isOpen$1 = (_sandbox, _sConfig, sState) => sState.isOpen();\n    const isPartOf = (sandbox, sConfig, sState, queryElem) => isOpen$1(sandbox, sConfig, sState) && sState.get().exists(data => sConfig.isPartOf(sandbox, data, queryElem));\n    const getState$2 = (_sandbox, _sConfig, sState) => sState.get();\n    const store = (sandbox, cssKey, attr, newValue) => {\n      getRaw(sandbox.element, cssKey).fold(() => {\n        remove$7(sandbox.element, attr);\n      }, v => {\n        set$9(sandbox.element, attr, v);\n      });\n      set$8(sandbox.element, cssKey, newValue);\n    };\n    const restore = (sandbox, cssKey, attr) => {\n      getOpt(sandbox.element, attr).fold(() => remove$6(sandbox.element, cssKey), oldValue => set$8(sandbox.element, cssKey, oldValue));\n    };\n    const cloak = (sandbox, sConfig, _sState) => {\n      const sink = sConfig.getAttachPoint(sandbox);\n      set$8(sandbox.element, 'position', Positioning.getMode(sink));\n      store(sandbox, 'visibility', sConfig.cloakVisibilityAttr, 'hidden');\n    };\n    const hasPosition = element => exists([\n      'top',\n      'left',\n      'right',\n      'bottom'\n    ], pos => getRaw(element, pos).isSome());\n    const decloak = (sandbox, sConfig, _sState) => {\n      if (!hasPosition(sandbox.element)) {\n        remove$6(sandbox.element, 'position');\n      }\n      restore(sandbox, 'visibility', sConfig.cloakVisibilityAttr);\n    };\n\n    var SandboxApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        cloak: cloak,\n        decloak: decloak,\n        open: open$1,\n        openWhileCloaked: openWhileCloaked,\n        close: close$1,\n        isOpen: isOpen$1,\n        isPartOf: isPartOf,\n        getState: getState$2,\n        setContent: setContent\n    });\n\n    const events$g = (sandboxConfig, sandboxState) => derive$2([run$1(sandboxClose(), (sandbox, _simulatedEvent) => {\n        close$1(sandbox, sandboxConfig, sandboxState);\n      })]);\n\n    var ActiveSandbox = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$g\n    });\n\n    var SandboxSchema = [\n      onHandler('onOpen'),\n      onHandler('onClose'),\n      required$1('isPartOf'),\n      required$1('getAttachPoint'),\n      defaulted('cloakVisibilityAttr', 'data-precloak-visibility')\n    ];\n\n    const init$f = () => {\n      const contents = value$2();\n      const readState = constant$1('not-implemented');\n      return nu$8({\n        readState,\n        isOpen: contents.isSet,\n        clear: contents.clear,\n        set: contents.set,\n        get: contents.get\n      });\n    };\n\n    var SandboxState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$f\n    });\n\n    const Sandboxing = create$3({\n      fields: SandboxSchema,\n      name: 'sandboxing',\n      active: ActiveSandbox,\n      apis: SandboxApis,\n      state: SandboxState\n    });\n\n    const dismissPopups = constant$1('dismiss.popups');\n    const repositionPopups = constant$1('reposition.popups');\n    const mouseReleased = constant$1('mouse.released');\n\n    const schema$x = objOfOnly([\n      defaulted('isExtraPart', never),\n      optionObjOf('fireEventInstead', [defaulted('event', dismissRequested())])\n    ]);\n    const receivingChannel$1 = rawSpec => {\n      const detail = asRawOrDie$1('Dismissal', schema$x, rawSpec);\n      return {\n        [dismissPopups()]: {\n          schema: objOfOnly([required$1('target')]),\n          onReceive: (sandbox, data) => {\n            if (Sandboxing.isOpen(sandbox)) {\n              const isPart = Sandboxing.isPartOf(sandbox, data.target) || detail.isExtraPart(sandbox, data.target);\n              if (!isPart) {\n                detail.fireEventInstead.fold(() => Sandboxing.close(sandbox), fe => emit(sandbox, fe.event));\n              }\n            }\n          }\n        }\n      };\n    };\n\n    const schema$w = objOfOnly([\n      optionObjOf('fireEventInstead', [defaulted('event', repositionRequested())]),\n      requiredFunction('doReposition')\n    ]);\n    const receivingChannel = rawSpec => {\n      const detail = asRawOrDie$1('Reposition', schema$w, rawSpec);\n      return {\n        [repositionPopups()]: {\n          onReceive: sandbox => {\n            if (Sandboxing.isOpen(sandbox)) {\n              detail.fireEventInstead.fold(() => detail.doReposition(sandbox), fe => emit(sandbox, fe.event));\n            }\n          }\n        }\n      };\n    };\n\n    const onLoad$5 = (component, repConfig, repState) => {\n      repConfig.store.manager.onLoad(component, repConfig, repState);\n    };\n    const onUnload$2 = (component, repConfig, repState) => {\n      repConfig.store.manager.onUnload(component, repConfig, repState);\n    };\n    const setValue$3 = (component, repConfig, repState, data) => {\n      repConfig.store.manager.setValue(component, repConfig, repState, data);\n    };\n    const getValue$3 = (component, repConfig, repState) => repConfig.store.manager.getValue(component, repConfig, repState);\n    const getState$1 = (component, repConfig, repState) => repState;\n\n    var RepresentApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        onLoad: onLoad$5,\n        onUnload: onUnload$2,\n        setValue: setValue$3,\n        getValue: getValue$3,\n        getState: getState$1\n    });\n\n    const events$f = (repConfig, repState) => {\n      const es = repConfig.resetOnDom ? [\n        runOnAttached((comp, _se) => {\n          onLoad$5(comp, repConfig, repState);\n        }),\n        runOnDetached((comp, _se) => {\n          onUnload$2(comp, repConfig, repState);\n        })\n      ] : [loadEvent(repConfig, repState, onLoad$5)];\n      return derive$2(es);\n    };\n\n    var ActiveRepresenting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$f\n    });\n\n    const memory$1 = () => {\n      const data = Cell(null);\n      const readState = () => ({\n        mode: 'memory',\n        value: data.get()\n      });\n      const isNotSet = () => data.get() === null;\n      const clear = () => {\n        data.set(null);\n      };\n      return nu$8({\n        set: data.set,\n        get: data.get,\n        isNotSet,\n        clear,\n        readState\n      });\n    };\n    const manual = () => {\n      const readState = noop;\n      return nu$8({ readState });\n    };\n    const dataset = () => {\n      const dataByValue = Cell({});\n      const dataByText = Cell({});\n      const readState = () => ({\n        mode: 'dataset',\n        dataByValue: dataByValue.get(),\n        dataByText: dataByText.get()\n      });\n      const clear = () => {\n        dataByValue.set({});\n        dataByText.set({});\n      };\n      const lookup = itemString => get$g(dataByValue.get(), itemString).orThunk(() => get$g(dataByText.get(), itemString));\n      const update = items => {\n        const currentDataByValue = dataByValue.get();\n        const currentDataByText = dataByText.get();\n        const newDataByValue = {};\n        const newDataByText = {};\n        each$1(items, item => {\n          newDataByValue[item.value] = item;\n          get$g(item, 'meta').each(meta => {\n            get$g(meta, 'text').each(text => {\n              newDataByText[text] = item;\n            });\n          });\n        });\n        dataByValue.set({\n          ...currentDataByValue,\n          ...newDataByValue\n        });\n        dataByText.set({\n          ...currentDataByText,\n          ...newDataByText\n        });\n      };\n      return nu$8({\n        readState,\n        lookup,\n        update,\n        clear\n      });\n    };\n    const init$e = spec => spec.store.manager.state(spec);\n\n    var RepresentState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        memory: memory$1,\n        dataset: dataset,\n        manual: manual,\n        init: init$e\n    });\n\n    const setValue$2 = (component, repConfig, repState, data) => {\n      const store = repConfig.store;\n      repState.update([data]);\n      store.setValue(component, data);\n      repConfig.onSetValue(component, data);\n    };\n    const getValue$2 = (component, repConfig, repState) => {\n      const store = repConfig.store;\n      const key = store.getDataKey(component);\n      return repState.lookup(key).getOrThunk(() => store.getFallbackEntry(key));\n    };\n    const onLoad$4 = (component, repConfig, repState) => {\n      const store = repConfig.store;\n      store.initialValue.each(data => {\n        setValue$2(component, repConfig, repState, data);\n      });\n    };\n    const onUnload$1 = (component, repConfig, repState) => {\n      repState.clear();\n    };\n    var DatasetStore = [\n      option$3('initialValue'),\n      required$1('getFallbackEntry'),\n      required$1('getDataKey'),\n      required$1('setValue'),\n      output$1('manager', {\n        setValue: setValue$2,\n        getValue: getValue$2,\n        onLoad: onLoad$4,\n        onUnload: onUnload$1,\n        state: dataset\n      })\n    ];\n\n    const getValue$1 = (component, repConfig, _repState) => repConfig.store.getValue(component);\n    const setValue$1 = (component, repConfig, _repState, data) => {\n      repConfig.store.setValue(component, data);\n      repConfig.onSetValue(component, data);\n    };\n    const onLoad$3 = (component, repConfig, _repState) => {\n      repConfig.store.initialValue.each(data => {\n        repConfig.store.setValue(component, data);\n      });\n    };\n    var ManualStore = [\n      required$1('getValue'),\n      defaulted('setValue', noop),\n      option$3('initialValue'),\n      output$1('manager', {\n        setValue: setValue$1,\n        getValue: getValue$1,\n        onLoad: onLoad$3,\n        onUnload: noop,\n        state: NoState.init\n      })\n    ];\n\n    const setValue = (component, repConfig, repState, data) => {\n      repState.set(data);\n      repConfig.onSetValue(component, data);\n    };\n    const getValue = (component, repConfig, repState) => repState.get();\n    const onLoad$2 = (component, repConfig, repState) => {\n      repConfig.store.initialValue.each(initVal => {\n        if (repState.isNotSet()) {\n          repState.set(initVal);\n        }\n      });\n    };\n    const onUnload = (component, repConfig, repState) => {\n      repState.clear();\n    };\n    var MemoryStore = [\n      option$3('initialValue'),\n      output$1('manager', {\n        setValue,\n        getValue,\n        onLoad: onLoad$2,\n        onUnload,\n        state: memory$1\n      })\n    ];\n\n    var RepresentSchema = [\n      defaultedOf('store', { mode: 'memory' }, choose$1('mode', {\n        memory: MemoryStore,\n        manual: ManualStore,\n        dataset: DatasetStore\n      })),\n      onHandler('onSetValue'),\n      defaulted('resetOnDom', false)\n    ];\n\n    const Representing = create$3({\n      fields: RepresentSchema,\n      name: 'representing',\n      active: ActiveRepresenting,\n      apis: RepresentApis,\n      extra: {\n        setValueFrom: (component, source) => {\n          const value = Representing.getValue(source);\n          Representing.setValue(component, value);\n        }\n      },\n      state: RepresentState\n    });\n\n    const field = (name, forbidden) => defaultedObjOf(name, {}, map$2(forbidden, f => forbid(f.name(), 'Cannot configure ' + f.name() + ' for ' + name)).concat([customField('dump', identity)]));\n    const get$3 = data => data.dump;\n    const augment = (data, original) => ({\n      ...derive$1(original),\n      ...data.dump\n    });\n    const SketchBehaviours = {\n      field,\n      augment,\n      get: get$3\n    };\n\n    const _placeholder = 'placeholder';\n    const adt$3 = Adt.generate([\n      {\n        single: [\n          'required',\n          'valueThunk'\n        ]\n      },\n      {\n        multiple: [\n          'required',\n          'valueThunks'\n        ]\n      }\n    ]);\n    const isSubstituted = spec => has$2(spec, 'uiType');\n    const subPlaceholder = (owner, detail, compSpec, placeholders) => {\n      if (owner.exists(o => o !== compSpec.owner)) {\n        return adt$3.single(true, constant$1(compSpec));\n      }\n      return get$g(placeholders, compSpec.name).fold(() => {\n        throw new Error('Unknown placeholder component: ' + compSpec.name + '\\nKnown: [' + keys(placeholders) + ']\\nNamespace: ' + owner.getOr('none') + '\\nSpec: ' + JSON.stringify(compSpec, null, 2));\n      }, newSpec => newSpec.replace());\n    };\n    const scan = (owner, detail, compSpec, placeholders) => {\n      if (isSubstituted(compSpec) && compSpec.uiType === _placeholder) {\n        return subPlaceholder(owner, detail, compSpec, placeholders);\n      } else {\n        return adt$3.single(false, constant$1(compSpec));\n      }\n    };\n    const substitute = (owner, detail, compSpec, placeholders) => {\n      const base = scan(owner, detail, compSpec, placeholders);\n      return base.fold((req, valueThunk) => {\n        const value = isSubstituted(compSpec) ? valueThunk(detail, compSpec.config, compSpec.validated) : valueThunk(detail);\n        const childSpecs = get$g(value, 'components').getOr([]);\n        const substituted = bind$3(childSpecs, c => substitute(owner, detail, c, placeholders));\n        return [{\n            ...value,\n            components: substituted\n          }];\n      }, (req, valuesThunk) => {\n        if (isSubstituted(compSpec)) {\n          const values = valuesThunk(detail, compSpec.config, compSpec.validated);\n          const preprocessor = compSpec.validated.preprocess.getOr(identity);\n          return preprocessor(values);\n        } else {\n          return valuesThunk(detail);\n        }\n      });\n    };\n    const substituteAll = (owner, detail, components, placeholders) => bind$3(components, c => substitute(owner, detail, c, placeholders));\n    const oneReplace = (label, replacements) => {\n      let called = false;\n      const used = () => called;\n      const replace = () => {\n        if (called) {\n          throw new Error('Trying to use the same placeholder more than once: ' + label);\n        }\n        called = true;\n        return replacements;\n      };\n      const required = () => replacements.fold((req, _) => req, (req, _) => req);\n      return {\n        name: constant$1(label),\n        required,\n        used,\n        replace\n      };\n    };\n    const substitutePlaces = (owner, detail, components, placeholders) => {\n      const ps = map$1(placeholders, (ph, name) => oneReplace(name, ph));\n      const outcome = substituteAll(owner, detail, components, ps);\n      each(ps, p => {\n        if (p.used() === false && p.required()) {\n          throw new Error('Placeholder: ' + p.name() + ' was not found in components list\\nNamespace: ' + owner.getOr('none') + '\\nComponents: ' + JSON.stringify(detail.components, null, 2));\n        }\n      });\n      return outcome;\n    };\n    const single$2 = adt$3.single;\n    const multiple = adt$3.multiple;\n    const placeholder = constant$1(_placeholder);\n\n    const adt$2 = Adt.generate([\n      { required: ['data'] },\n      { external: ['data'] },\n      { optional: ['data'] },\n      { group: ['data'] }\n    ]);\n    const fFactory = defaulted('factory', { sketch: identity });\n    const fSchema = defaulted('schema', []);\n    const fName = required$1('name');\n    const fPname = field$1('pname', 'pname', defaultedThunk(typeSpec => '<alloy.' + generate$6(typeSpec.name) + '>'), anyValue());\n    const fGroupSchema = customField('schema', () => [option$3('preprocess')]);\n    const fDefaults = defaulted('defaults', constant$1({}));\n    const fOverrides = defaulted('overrides', constant$1({}));\n    const requiredSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    const externalSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fDefaults,\n      fOverrides\n    ]);\n    const optionalSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    const groupSpec = objOf([\n      fFactory,\n      fGroupSchema,\n      fName,\n      required$1('unit'),\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    const asNamedPart = part => {\n      return part.fold(Optional.some, Optional.none, Optional.some, Optional.some);\n    };\n    const name$2 = part => {\n      const get = data => data.name;\n      return part.fold(get, get, get, get);\n    };\n    const asCommon = part => {\n      return part.fold(identity, identity, identity, identity);\n    };\n    const convert = (adtConstructor, partSchema) => spec => {\n      const data = asRawOrDie$1('Converting part type', partSchema, spec);\n      return adtConstructor(data);\n    };\n    const required = convert(adt$2.required, requiredSpec);\n    const external = convert(adt$2.external, externalSpec);\n    const optional = convert(adt$2.optional, optionalSpec);\n    const group = convert(adt$2.group, groupSpec);\n    const original = constant$1('entirety');\n\n    var PartType = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        required: required,\n        external: external,\n        optional: optional,\n        group: group,\n        asNamedPart: asNamedPart,\n        name: name$2,\n        asCommon: asCommon,\n        original: original\n    });\n\n    const combine = (detail, data, partSpec, partValidated) => deepMerge(data.defaults(detail, partSpec, partValidated), partSpec, { uid: detail.partUids[data.name] }, data.overrides(detail, partSpec, partValidated));\n    const subs = (owner, detail, parts) => {\n      const internals = {};\n      const externals = {};\n      each$1(parts, part => {\n        part.fold(data => {\n          internals[data.pname] = single$2(true, (detail, partSpec, partValidated) => data.factory.sketch(combine(detail, data, partSpec, partValidated)));\n        }, data => {\n          const partSpec = detail.parts[data.name];\n          externals[data.name] = constant$1(data.factory.sketch(combine(detail, data, partSpec[original()]), partSpec));\n        }, data => {\n          internals[data.pname] = single$2(false, (detail, partSpec, partValidated) => data.factory.sketch(combine(detail, data, partSpec, partValidated)));\n        }, data => {\n          internals[data.pname] = multiple(true, (detail, _partSpec, _partValidated) => {\n            const units = detail[data.name];\n            return map$2(units, u => data.factory.sketch(deepMerge(data.defaults(detail, u, _partValidated), u, data.overrides(detail, u))));\n          });\n        });\n      });\n      return {\n        internals: constant$1(internals),\n        externals: constant$1(externals)\n      };\n    };\n\n    const generate$3 = (owner, parts) => {\n      const r = {};\n      each$1(parts, part => {\n        asNamedPart(part).each(np => {\n          const g = doGenerateOne(owner, np.pname);\n          r[np.name] = config => {\n            const validated = asRawOrDie$1('Part: ' + np.name + ' in ' + owner, objOf(np.schema), config);\n            return {\n              ...g,\n              config,\n              validated\n            };\n          };\n        });\n      });\n      return r;\n    };\n    const doGenerateOne = (owner, pname) => ({\n      uiType: placeholder(),\n      owner,\n      name: pname\n    });\n    const generateOne$1 = (owner, pname, config) => ({\n      uiType: placeholder(),\n      owner,\n      name: pname,\n      config,\n      validated: {}\n    });\n    const schemas = parts => bind$3(parts, part => part.fold(Optional.none, Optional.some, Optional.none, Optional.none).map(data => requiredObjOf(data.name, data.schema.concat([snapshot(original())]))).toArray());\n    const names = parts => map$2(parts, name$2);\n    const substitutes = (owner, detail, parts) => subs(owner, detail, parts);\n    const components$1 = (owner, detail, internals) => substitutePlaces(Optional.some(owner), detail, detail.components, internals);\n    const getPart = (component, detail, partKey) => {\n      const uid = detail.partUids[partKey];\n      return component.getSystem().getByUid(uid).toOptional();\n    };\n    const getPartOrDie = (component, detail, partKey) => getPart(component, detail, partKey).getOrDie('Could not find part: ' + partKey);\n    const getParts = (component, detail, partKeys) => {\n      const r = {};\n      const uids = detail.partUids;\n      const system = component.getSystem();\n      each$1(partKeys, pk => {\n        r[pk] = constant$1(system.getByUid(uids[pk]));\n      });\n      return r;\n    };\n    const getAllParts = (component, detail) => {\n      const system = component.getSystem();\n      return map$1(detail.partUids, (pUid, _k) => constant$1(system.getByUid(pUid)));\n    };\n    const getAllPartNames = detail => keys(detail.partUids);\n    const getPartsOrDie = (component, detail, partKeys) => {\n      const r = {};\n      const uids = detail.partUids;\n      const system = component.getSystem();\n      each$1(partKeys, pk => {\n        r[pk] = constant$1(system.getByUid(uids[pk]).getOrDie());\n      });\n      return r;\n    };\n    const defaultUids = (baseUid, partTypes) => {\n      const partNames = names(partTypes);\n      return wrapAll(map$2(partNames, pn => ({\n        key: pn,\n        value: baseUid + '-' + pn\n      })));\n    };\n    const defaultUidsSchema = partTypes => field$1('partUids', 'partUids', mergeWithThunk(spec => defaultUids(spec.uid, partTypes)), anyValue());\n\n    var AlloyParts = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        generate: generate$3,\n        generateOne: generateOne$1,\n        schemas: schemas,\n        names: names,\n        substitutes: substitutes,\n        components: components$1,\n        defaultUids: defaultUids,\n        defaultUidsSchema: defaultUidsSchema,\n        getAllParts: getAllParts,\n        getAllPartNames: getAllPartNames,\n        getPart: getPart,\n        getPartOrDie: getPartOrDie,\n        getParts: getParts,\n        getPartsOrDie: getPartsOrDie\n    });\n\n    const base = (partSchemas, partUidsSchemas) => {\n      const ps = partSchemas.length > 0 ? [requiredObjOf('parts', partSchemas)] : [];\n      return ps.concat([\n        required$1('uid'),\n        defaulted('dom', {}),\n        defaulted('components', []),\n        snapshot('originalSpec'),\n        defaulted('debug.sketcher', {})\n      ]).concat(partUidsSchemas);\n    };\n    const asRawOrDie = (label, schema, spec, partSchemas, partUidsSchemas) => {\n      const baseS = base(partSchemas, partUidsSchemas);\n      return asRawOrDie$1(label + ' [SpecSchema]', objOfOnly(baseS.concat(schema)), spec);\n    };\n\n    const single$1 = (owner, schema, factory, spec) => {\n      const specWithUid = supplyUid(spec);\n      const detail = asRawOrDie(owner, schema, specWithUid, [], []);\n      return factory(detail, specWithUid);\n    };\n    const composite$1 = (owner, schema, partTypes, factory, spec) => {\n      const specWithUid = supplyUid(spec);\n      const partSchemas = schemas(partTypes);\n      const partUidsSchema = defaultUidsSchema(partTypes);\n      const detail = asRawOrDie(owner, schema, specWithUid, partSchemas, [partUidsSchema]);\n      const subs = substitutes(owner, detail, partTypes);\n      const components = components$1(owner, detail, subs.internals());\n      return factory(detail, components, specWithUid, subs.externals());\n    };\n    const hasUid = spec => has$2(spec, 'uid');\n    const supplyUid = spec => {\n      return hasUid(spec) ? spec : {\n        ...spec,\n        uid: generate$5('uid')\n      };\n    };\n\n    const isSketchSpec = spec => {\n      return spec.uid !== undefined;\n    };\n    const singleSchema = objOfOnly([\n      required$1('name'),\n      required$1('factory'),\n      required$1('configFields'),\n      defaulted('apis', {}),\n      defaulted('extraApis', {})\n    ]);\n    const compositeSchema = objOfOnly([\n      required$1('name'),\n      required$1('factory'),\n      required$1('configFields'),\n      required$1('partFields'),\n      defaulted('apis', {}),\n      defaulted('extraApis', {})\n    ]);\n    const single = rawConfig => {\n      const config = asRawOrDie$1('Sketcher for ' + rawConfig.name, singleSchema, rawConfig);\n      const sketch = spec => single$1(config.name, config.configFields, config.factory, spec);\n      const apis = map$1(config.apis, makeApi);\n      const extraApis = map$1(config.extraApis, (f, k) => markAsExtraApi(f, k));\n      return {\n        name: config.name,\n        configFields: config.configFields,\n        sketch,\n        ...apis,\n        ...extraApis\n      };\n    };\n    const composite = rawConfig => {\n      const config = asRawOrDie$1('Sketcher for ' + rawConfig.name, compositeSchema, rawConfig);\n      const sketch = spec => composite$1(config.name, config.configFields, config.partFields, config.factory, spec);\n      const parts = generate$3(config.name, config.partFields);\n      const apis = map$1(config.apis, makeApi);\n      const extraApis = map$1(config.extraApis, (f, k) => markAsExtraApi(f, k));\n      return {\n        name: config.name,\n        partFields: config.partFields,\n        configFields: config.configFields,\n        sketch,\n        parts,\n        ...apis,\n        ...extraApis\n      };\n    };\n\n    const inside = target => isTag('input')(target) && get$f(target, 'type') !== 'radio' || isTag('textarea')(target);\n\n    const getCurrent = (component, composeConfig, _composeState) => composeConfig.find(component);\n\n    var ComposeApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getCurrent: getCurrent\n    });\n\n    const ComposeSchema = [required$1('find')];\n\n    const Composing = create$3({\n      fields: ComposeSchema,\n      name: 'composing',\n      apis: ComposeApis\n    });\n\n    const nativeDisabled = [\n      'input',\n      'button',\n      'textarea',\n      'select'\n    ];\n    const onLoad$1 = (component, disableConfig, disableState) => {\n      const f = disableConfig.disabled() ? disable : enable;\n      f(component, disableConfig);\n    };\n    const hasNative = (component, config) => config.useNative === true && contains$2(nativeDisabled, name$3(component.element));\n    const nativeIsDisabled = component => has$1(component.element, 'disabled');\n    const nativeDisable = component => {\n      set$9(component.element, 'disabled', 'disabled');\n    };\n    const nativeEnable = component => {\n      remove$7(component.element, 'disabled');\n    };\n    const ariaIsDisabled = component => get$f(component.element, 'aria-disabled') === 'true';\n    const ariaDisable = component => {\n      set$9(component.element, 'aria-disabled', 'true');\n    };\n    const ariaEnable = component => {\n      set$9(component.element, 'aria-disabled', 'false');\n    };\n    const disable = (component, disableConfig, _disableState) => {\n      disableConfig.disableClass.each(disableClass => {\n        add$2(component.element, disableClass);\n      });\n      const f = hasNative(component, disableConfig) ? nativeDisable : ariaDisable;\n      f(component);\n      disableConfig.onDisabled(component);\n    };\n    const enable = (component, disableConfig, _disableState) => {\n      disableConfig.disableClass.each(disableClass => {\n        remove$2(component.element, disableClass);\n      });\n      const f = hasNative(component, disableConfig) ? nativeEnable : ariaEnable;\n      f(component);\n      disableConfig.onEnabled(component);\n    };\n    const isDisabled = (component, disableConfig) => hasNative(component, disableConfig) ? nativeIsDisabled(component) : ariaIsDisabled(component);\n    const set$4 = (component, disableConfig, disableState, disabled) => {\n      const f = disabled ? disable : enable;\n      f(component, disableConfig);\n    };\n\n    var DisableApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        enable: enable,\n        disable: disable,\n        isDisabled: isDisabled,\n        onLoad: onLoad$1,\n        set: set$4\n    });\n\n    const exhibit$5 = (base, disableConfig) => nu$7({ classes: disableConfig.disabled() ? disableConfig.disableClass.toArray() : [] });\n    const events$e = (disableConfig, disableState) => derive$2([\n      abort(execute$5(), (component, _simulatedEvent) => isDisabled(component, disableConfig)),\n      loadEvent(disableConfig, disableState, onLoad$1)\n    ]);\n\n    var ActiveDisable = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$5,\n        events: events$e\n    });\n\n    var DisableSchema = [\n      defaultedFunction('disabled', never),\n      defaulted('useNative', true),\n      option$3('disableClass'),\n      onHandler('onDisabled'),\n      onHandler('onEnabled')\n    ];\n\n    const Disabling = create$3({\n      fields: DisableSchema,\n      name: 'disabling',\n      active: ActiveDisable,\n      apis: DisableApis\n    });\n\n    const dehighlightAllExcept = (component, hConfig, hState, skip) => {\n      const highlighted = descendants(component.element, '.' + hConfig.highlightClass);\n      each$1(highlighted, h => {\n        const shouldSkip = exists(skip, skipComp => eq(skipComp.element, h));\n        if (!shouldSkip) {\n          remove$2(h, hConfig.highlightClass);\n          component.getSystem().getByDom(h).each(target => {\n            hConfig.onDehighlight(component, target);\n            emit(target, dehighlight$1());\n          });\n        }\n      });\n    };\n    const dehighlightAll = (component, hConfig, hState) => dehighlightAllExcept(component, hConfig, hState, []);\n    const dehighlight = (component, hConfig, hState, target) => {\n      if (isHighlighted(component, hConfig, hState, target)) {\n        remove$2(target.element, hConfig.highlightClass);\n        hConfig.onDehighlight(component, target);\n        emit(target, dehighlight$1());\n      }\n    };\n    const highlight = (component, hConfig, hState, target) => {\n      dehighlightAllExcept(component, hConfig, hState, [target]);\n      if (!isHighlighted(component, hConfig, hState, target)) {\n        add$2(target.element, hConfig.highlightClass);\n        hConfig.onHighlight(component, target);\n        emit(target, highlight$1());\n      }\n    };\n    const highlightFirst = (component, hConfig, hState) => {\n      getFirst(component, hConfig).each(firstComp => {\n        highlight(component, hConfig, hState, firstComp);\n      });\n    };\n    const highlightLast = (component, hConfig, hState) => {\n      getLast(component, hConfig).each(lastComp => {\n        highlight(component, hConfig, hState, lastComp);\n      });\n    };\n    const highlightAt = (component, hConfig, hState, index) => {\n      getByIndex(component, hConfig, hState, index).fold(err => {\n        throw err;\n      }, firstComp => {\n        highlight(component, hConfig, hState, firstComp);\n      });\n    };\n    const highlightBy = (component, hConfig, hState, predicate) => {\n      const candidates = getCandidates(component, hConfig);\n      const targetComp = find$5(candidates, predicate);\n      targetComp.each(c => {\n        highlight(component, hConfig, hState, c);\n      });\n    };\n    const isHighlighted = (component, hConfig, hState, queryTarget) => has(queryTarget.element, hConfig.highlightClass);\n    const getHighlighted = (component, hConfig, _hState) => descendant(component.element, '.' + hConfig.highlightClass).bind(e => component.getSystem().getByDom(e).toOptional());\n    const getByIndex = (component, hConfig, hState, index) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      return Optional.from(items[index]).fold(() => Result.error(new Error('No element found with index ' + index)), component.getSystem().getByDom);\n    };\n    const getFirst = (component, hConfig, _hState) => descendant(component.element, '.' + hConfig.itemClass).bind(e => component.getSystem().getByDom(e).toOptional());\n    const getLast = (component, hConfig, _hState) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      const last = items.length > 0 ? Optional.some(items[items.length - 1]) : Optional.none();\n      return last.bind(c => component.getSystem().getByDom(c).toOptional());\n    };\n    const getDelta$2 = (component, hConfig, hState, delta) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      const current = findIndex$1(items, item => has(item, hConfig.highlightClass));\n      return current.bind(selected => {\n        const dest = cycleBy(selected, delta, 0, items.length - 1);\n        return component.getSystem().getByDom(items[dest]).toOptional();\n      });\n    };\n    const getPrevious = (component, hConfig, hState) => getDelta$2(component, hConfig, hState, -1);\n    const getNext = (component, hConfig, hState) => getDelta$2(component, hConfig, hState, +1);\n    const getCandidates = (component, hConfig, _hState) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      return cat(map$2(items, i => component.getSystem().getByDom(i).toOptional()));\n    };\n\n    var HighlightApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        dehighlightAll: dehighlightAll,\n        dehighlight: dehighlight,\n        highlight: highlight,\n        highlightFirst: highlightFirst,\n        highlightLast: highlightLast,\n        highlightAt: highlightAt,\n        highlightBy: highlightBy,\n        isHighlighted: isHighlighted,\n        getHighlighted: getHighlighted,\n        getFirst: getFirst,\n        getLast: getLast,\n        getPrevious: getPrevious,\n        getNext: getNext,\n        getCandidates: getCandidates\n    });\n\n    var HighlightSchema = [\n      required$1('highlightClass'),\n      required$1('itemClass'),\n      onHandler('onHighlight'),\n      onHandler('onDehighlight')\n    ];\n\n    const Highlighting = create$3({\n      fields: HighlightSchema,\n      name: 'highlighting',\n      apis: HighlightApis\n    });\n\n    const BACKSPACE = [8];\n    const TAB = [9];\n    const ENTER = [13];\n    const ESCAPE = [27];\n    const SPACE = [32];\n    const LEFT = [37];\n    const UP = [38];\n    const RIGHT = [39];\n    const DOWN = [40];\n\n    const cyclePrev = (values, index, predicate) => {\n      const before = reverse(values.slice(0, index));\n      const after = reverse(values.slice(index + 1));\n      return find$5(before.concat(after), predicate);\n    };\n    const tryPrev = (values, index, predicate) => {\n      const before = reverse(values.slice(0, index));\n      return find$5(before, predicate);\n    };\n    const cycleNext = (values, index, predicate) => {\n      const before = values.slice(0, index);\n      const after = values.slice(index + 1);\n      return find$5(after.concat(before), predicate);\n    };\n    const tryNext = (values, index, predicate) => {\n      const after = values.slice(index + 1);\n      return find$5(after, predicate);\n    };\n\n    const inSet = keys => event => {\n      const raw = event.raw;\n      return contains$2(keys, raw.which);\n    };\n    const and = preds => event => forall(preds, pred => pred(event));\n    const isShift = event => {\n      const raw = event.raw;\n      return raw.shiftKey === true;\n    };\n    const isControl = event => {\n      const raw = event.raw;\n      return raw.ctrlKey === true;\n    };\n    const isNotShift = not(isShift);\n\n    const rule = (matches, action) => ({\n      matches,\n      classification: action\n    });\n    const choose = (transitions, event) => {\n      const transition = find$5(transitions, t => t.matches(event));\n      return transition.map(t => t.classification);\n    };\n\n    const reportFocusShifting = (component, prevFocus, newFocus) => {\n      const noChange = prevFocus.exists(p => newFocus.exists(n => eq(n, p)));\n      if (!noChange) {\n        emitWith(component, focusShifted(), {\n          prevFocus,\n          newFocus\n        });\n      }\n    };\n    const dom$2 = () => {\n      const get = component => search(component.element);\n      const set = (component, focusee) => {\n        const prevFocus = get(component);\n        component.getSystem().triggerFocus(focusee, component.element);\n        const newFocus = get(component);\n        reportFocusShifting(component, prevFocus, newFocus);\n      };\n      return {\n        get,\n        set\n      };\n    };\n    const highlights = () => {\n      const get = component => Highlighting.getHighlighted(component).map(item => item.element);\n      const set = (component, element) => {\n        const prevFocus = get(component);\n        component.getSystem().getByDom(element).fold(noop, item => {\n          Highlighting.highlight(component, item);\n        });\n        const newFocus = get(component);\n        reportFocusShifting(component, prevFocus, newFocus);\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    var FocusInsideModes;\n    (function (FocusInsideModes) {\n      FocusInsideModes['OnFocusMode'] = 'onFocus';\n      FocusInsideModes['OnEnterOrSpaceMode'] = 'onEnterOrSpace';\n      FocusInsideModes['OnApiMode'] = 'onApi';\n    }(FocusInsideModes || (FocusInsideModes = {})));\n\n    const typical = (infoSchema, stateInit, getKeydownRules, getKeyupRules, optFocusIn) => {\n      const schema = () => infoSchema.concat([\n        defaulted('focusManager', dom$2()),\n        defaultedOf('focusInside', 'onFocus', valueOf(val => contains$2([\n          'onFocus',\n          'onEnterOrSpace',\n          'onApi'\n        ], val) ? Result.value(val) : Result.error('Invalid value for focusInside'))),\n        output$1('handler', me),\n        output$1('state', stateInit),\n        output$1('sendFocusIn', optFocusIn)\n      ]);\n      const processKey = (component, simulatedEvent, getRules, keyingConfig, keyingState) => {\n        const rules = getRules(component, simulatedEvent, keyingConfig, keyingState);\n        return choose(rules, simulatedEvent.event).bind(rule => rule(component, simulatedEvent, keyingConfig, keyingState));\n      };\n      const toEvents = (keyingConfig, keyingState) => {\n        const onFocusHandler = keyingConfig.focusInside !== FocusInsideModes.OnFocusMode ? Optional.none() : optFocusIn(keyingConfig).map(focusIn => run$1(focus$4(), (component, simulatedEvent) => {\n          focusIn(component, keyingConfig, keyingState);\n          simulatedEvent.stop();\n        }));\n        const tryGoInsideComponent = (component, simulatedEvent) => {\n          const isEnterOrSpace = inSet(SPACE.concat(ENTER))(simulatedEvent.event);\n          if (keyingConfig.focusInside === FocusInsideModes.OnEnterOrSpaceMode && isEnterOrSpace && isSource(component, simulatedEvent)) {\n            optFocusIn(keyingConfig).each(focusIn => {\n              focusIn(component, keyingConfig, keyingState);\n              simulatedEvent.stop();\n            });\n          }\n        };\n        const keyboardEvents = [\n          run$1(keydown(), (component, simulatedEvent) => {\n            processKey(component, simulatedEvent, getKeydownRules, keyingConfig, keyingState).fold(() => {\n              tryGoInsideComponent(component, simulatedEvent);\n            }, _ => {\n              simulatedEvent.stop();\n            });\n          }),\n          run$1(keyup(), (component, simulatedEvent) => {\n            processKey(component, simulatedEvent, getKeyupRules, keyingConfig, keyingState).each(_ => {\n              simulatedEvent.stop();\n            });\n          })\n        ];\n        return derive$2(onFocusHandler.toArray().concat(keyboardEvents));\n      };\n      const me = {\n        schema,\n        processKey,\n        toEvents\n      };\n      return me;\n    };\n\n    const create$1 = cyclicField => {\n      const schema = [\n        option$3('onEscape'),\n        option$3('onEnter'),\n        defaulted('selector', '[data-alloy-tabstop=\"true\"]:not(:disabled)'),\n        defaulted('firstTabstop', 0),\n        defaulted('useTabstopAt', always),\n        option$3('visibilitySelector')\n      ].concat([cyclicField]);\n      const isVisible = (tabbingConfig, element) => {\n        const target = tabbingConfig.visibilitySelector.bind(sel => closest$1(element, sel)).getOr(element);\n        return get$d(target) > 0;\n      };\n      const findInitial = (component, tabbingConfig) => {\n        const tabstops = descendants(component.element, tabbingConfig.selector);\n        const visibles = filter$2(tabstops, elem => isVisible(tabbingConfig, elem));\n        return Optional.from(visibles[tabbingConfig.firstTabstop]);\n      };\n      const findCurrent = (component, tabbingConfig) => tabbingConfig.focusManager.get(component).bind(elem => closest$1(elem, tabbingConfig.selector));\n      const isTabstop = (tabbingConfig, element) => isVisible(tabbingConfig, element) && tabbingConfig.useTabstopAt(element);\n      const focusIn = (component, tabbingConfig, _tabbingState) => {\n        findInitial(component, tabbingConfig).each(target => {\n          tabbingConfig.focusManager.set(component, target);\n        });\n      };\n      const goFromTabstop = (component, tabstops, stopIndex, tabbingConfig, cycle) => cycle(tabstops, stopIndex, elem => isTabstop(tabbingConfig, elem)).fold(() => tabbingConfig.cyclic ? Optional.some(true) : Optional.none(), target => {\n        tabbingConfig.focusManager.set(component, target);\n        return Optional.some(true);\n      });\n      const go = (component, _simulatedEvent, tabbingConfig, cycle) => {\n        const tabstops = descendants(component.element, tabbingConfig.selector);\n        return findCurrent(component, tabbingConfig).bind(tabstop => {\n          const optStopIndex = findIndex$1(tabstops, curry(eq, tabstop));\n          return optStopIndex.bind(stopIndex => goFromTabstop(component, tabstops, stopIndex, tabbingConfig, cycle));\n        });\n      };\n      const goBackwards = (component, simulatedEvent, tabbingConfig) => {\n        const navigate = tabbingConfig.cyclic ? cyclePrev : tryPrev;\n        return go(component, simulatedEvent, tabbingConfig, navigate);\n      };\n      const goForwards = (component, simulatedEvent, tabbingConfig) => {\n        const navigate = tabbingConfig.cyclic ? cycleNext : tryNext;\n        return go(component, simulatedEvent, tabbingConfig, navigate);\n      };\n      const execute = (component, simulatedEvent, tabbingConfig) => tabbingConfig.onEnter.bind(f => f(component, simulatedEvent));\n      const exit = (component, simulatedEvent, tabbingConfig) => tabbingConfig.onEscape.bind(f => f(component, simulatedEvent));\n      const getKeydownRules = constant$1([\n        rule(and([\n          isShift,\n          inSet(TAB)\n        ]), goBackwards),\n        rule(inSet(TAB), goForwards),\n        rule(and([\n          isNotShift,\n          inSet(ENTER)\n        ]), execute)\n      ]);\n      const getKeyupRules = constant$1([rule(inSet(ESCAPE), exit)]);\n      return typical(schema, NoState.init, getKeydownRules, getKeyupRules, () => Optional.some(focusIn));\n    };\n\n    var AcyclicType = create$1(customField('cyclic', never));\n\n    var CyclicType = create$1(customField('cyclic', always));\n\n    const doDefaultExecute = (component, _simulatedEvent, focused) => {\n      dispatch(component, focused, execute$5());\n      return Optional.some(true);\n    };\n    const defaultExecute = (component, simulatedEvent, focused) => {\n      const isComplex = inside(focused) && inSet(SPACE)(simulatedEvent.event);\n      return isComplex ? Optional.none() : doDefaultExecute(component, simulatedEvent, focused);\n    };\n    const stopEventForFirefox = (_component, _simulatedEvent) => Optional.some(true);\n\n    const schema$v = [\n      defaulted('execute', defaultExecute),\n      defaulted('useSpace', false),\n      defaulted('useEnter', true),\n      defaulted('useControlEnter', false),\n      defaulted('useDown', false)\n    ];\n    const execute$4 = (component, simulatedEvent, executeConfig) => executeConfig.execute(component, simulatedEvent, component.element);\n    const getKeydownRules$5 = (component, _simulatedEvent, executeConfig, _executeState) => {\n      const spaceExec = executeConfig.useSpace && !inside(component.element) ? SPACE : [];\n      const enterExec = executeConfig.useEnter ? ENTER : [];\n      const downExec = executeConfig.useDown ? DOWN : [];\n      const execKeys = spaceExec.concat(enterExec).concat(downExec);\n      return [rule(inSet(execKeys), execute$4)].concat(executeConfig.useControlEnter ? [rule(and([\n          isControl,\n          inSet(ENTER)\n        ]), execute$4)] : []);\n    };\n    const getKeyupRules$5 = (component, _simulatedEvent, executeConfig, _executeState) => executeConfig.useSpace && !inside(component.element) ? [rule(inSet(SPACE), stopEventForFirefox)] : [];\n    var ExecutionType = typical(schema$v, NoState.init, getKeydownRules$5, getKeyupRules$5, () => Optional.none());\n\n    const flatgrid$1 = () => {\n      const dimensions = value$2();\n      const setGridSize = (numRows, numColumns) => {\n        dimensions.set({\n          numRows,\n          numColumns\n        });\n      };\n      const getNumRows = () => dimensions.get().map(d => d.numRows);\n      const getNumColumns = () => dimensions.get().map(d => d.numColumns);\n      return nu$8({\n        readState: () => dimensions.get().map(d => ({\n          numRows: String(d.numRows),\n          numColumns: String(d.numColumns)\n        })).getOr({\n          numRows: '?',\n          numColumns: '?'\n        }),\n        setGridSize,\n        getNumRows,\n        getNumColumns\n      });\n    };\n    const init$d = spec => spec.state(spec);\n\n    var KeyingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        flatgrid: flatgrid$1,\n        init: init$d\n    });\n\n    const useH = movement => (component, simulatedEvent, config, state) => {\n      const move = movement(component.element);\n      return use(move, component, simulatedEvent, config, state);\n    };\n    const west$1 = (moveLeft, moveRight) => {\n      const movement = onDirection(moveLeft, moveRight);\n      return useH(movement);\n    };\n    const east$1 = (moveLeft, moveRight) => {\n      const movement = onDirection(moveRight, moveLeft);\n      return useH(movement);\n    };\n    const useV = move => (component, simulatedEvent, config, state) => use(move, component, simulatedEvent, config, state);\n    const use = (move, component, simulatedEvent, config, state) => {\n      const outcome = config.focusManager.get(component).bind(focused => move(component.element, focused, config, state));\n      return outcome.map(newFocus => {\n        config.focusManager.set(component, newFocus);\n        return true;\n      });\n    };\n    const north$1 = useV;\n    const south$1 = useV;\n    const move$1 = useV;\n\n    const isHidden$1 = dom => dom.offsetWidth <= 0 && dom.offsetHeight <= 0;\n    const isVisible = element => !isHidden$1(element.dom);\n\n    const locate = (candidates, predicate) => findIndex$1(candidates, predicate).map(index => ({\n      index,\n      candidates\n    }));\n\n    const locateVisible = (container, current, selector) => {\n      const predicate = x => eq(x, current);\n      const candidates = descendants(container, selector);\n      const visible = filter$2(candidates, isVisible);\n      return locate(visible, predicate);\n    };\n    const findIndex = (elements, target) => findIndex$1(elements, elem => eq(target, elem));\n\n    const withGrid = (values, index, numCols, f) => {\n      const oldRow = Math.floor(index / numCols);\n      const oldColumn = index % numCols;\n      return f(oldRow, oldColumn).bind(address => {\n        const newIndex = address.row * numCols + address.column;\n        return newIndex >= 0 && newIndex < values.length ? Optional.some(values[newIndex]) : Optional.none();\n      });\n    };\n    const cycleHorizontal$1 = (values, index, numRows, numCols, delta) => withGrid(values, index, numCols, (oldRow, oldColumn) => {\n      const onLastRow = oldRow === numRows - 1;\n      const colsInRow = onLastRow ? values.length - oldRow * numCols : numCols;\n      const newColumn = cycleBy(oldColumn, delta, 0, colsInRow - 1);\n      return Optional.some({\n        row: oldRow,\n        column: newColumn\n      });\n    });\n    const cycleVertical$1 = (values, index, numRows, numCols, delta) => withGrid(values, index, numCols, (oldRow, oldColumn) => {\n      const newRow = cycleBy(oldRow, delta, 0, numRows - 1);\n      const onLastRow = newRow === numRows - 1;\n      const colsInRow = onLastRow ? values.length - newRow * numCols : numCols;\n      const newCol = clamp(oldColumn, 0, colsInRow - 1);\n      return Optional.some({\n        row: newRow,\n        column: newCol\n      });\n    });\n    const cycleRight$1 = (values, index, numRows, numCols) => cycleHorizontal$1(values, index, numRows, numCols, +1);\n    const cycleLeft$1 = (values, index, numRows, numCols) => cycleHorizontal$1(values, index, numRows, numCols, -1);\n    const cycleUp$1 = (values, index, numRows, numCols) => cycleVertical$1(values, index, numRows, numCols, -1);\n    const cycleDown$1 = (values, index, numRows, numCols) => cycleVertical$1(values, index, numRows, numCols, +1);\n\n    const schema$u = [\n      required$1('selector'),\n      defaulted('execute', defaultExecute),\n      onKeyboardHandler('onEscape'),\n      defaulted('captureTab', false),\n      initSize()\n    ];\n    const focusIn$3 = (component, gridConfig, _gridState) => {\n      descendant(component.element, gridConfig.selector).each(first => {\n        gridConfig.focusManager.set(component, first);\n      });\n    };\n    const findCurrent$1 = (component, gridConfig) => gridConfig.focusManager.get(component).bind(elem => closest$1(elem, gridConfig.selector));\n    const execute$3 = (component, simulatedEvent, gridConfig, _gridState) => findCurrent$1(component, gridConfig).bind(focused => gridConfig.execute(component, simulatedEvent, focused));\n    const doMove$2 = cycle => (element, focused, gridConfig, gridState) => locateVisible(element, focused, gridConfig.selector).bind(identified => cycle(identified.candidates, identified.index, gridState.getNumRows().getOr(gridConfig.initSize.numRows), gridState.getNumColumns().getOr(gridConfig.initSize.numColumns)));\n    const handleTab = (_component, _simulatedEvent, gridConfig) => gridConfig.captureTab ? Optional.some(true) : Optional.none();\n    const doEscape$1 = (component, simulatedEvent, gridConfig) => gridConfig.onEscape(component, simulatedEvent);\n    const moveLeft$3 = doMove$2(cycleLeft$1);\n    const moveRight$3 = doMove$2(cycleRight$1);\n    const moveNorth$1 = doMove$2(cycleUp$1);\n    const moveSouth$1 = doMove$2(cycleDown$1);\n    const getKeydownRules$4 = constant$1([\n      rule(inSet(LEFT), west$1(moveLeft$3, moveRight$3)),\n      rule(inSet(RIGHT), east$1(moveLeft$3, moveRight$3)),\n      rule(inSet(UP), north$1(moveNorth$1)),\n      rule(inSet(DOWN), south$1(moveSouth$1)),\n      rule(and([\n        isShift,\n        inSet(TAB)\n      ]), handleTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), handleTab),\n      rule(inSet(SPACE.concat(ENTER)), execute$3)\n    ]);\n    const getKeyupRules$4 = constant$1([\n      rule(inSet(ESCAPE), doEscape$1),\n      rule(inSet(SPACE), stopEventForFirefox)\n    ]);\n    var FlatgridType = typical(schema$u, flatgrid$1, getKeydownRules$4, getKeyupRules$4, () => Optional.some(focusIn$3));\n\n    const horizontal = (container, selector, current, delta) => {\n      const isDisabledButton = candidate => name$3(candidate) === 'button' && get$f(candidate, 'disabled') === 'disabled';\n      const tryCycle = (initial, index, candidates) => {\n        const newIndex = cycleBy(index, delta, 0, candidates.length - 1);\n        if (newIndex === initial) {\n          return Optional.none();\n        } else {\n          return isDisabledButton(candidates[newIndex]) ? tryCycle(initial, newIndex, candidates) : Optional.from(candidates[newIndex]);\n        }\n      };\n      return locateVisible(container, current, selector).bind(identified => {\n        const index = identified.index;\n        const candidates = identified.candidates;\n        return tryCycle(index, index, candidates);\n      });\n    };\n\n    const schema$t = [\n      required$1('selector'),\n      defaulted('getInitial', Optional.none),\n      defaulted('execute', defaultExecute),\n      onKeyboardHandler('onEscape'),\n      defaulted('executeOnMove', false),\n      defaulted('allowVertical', true)\n    ];\n    const findCurrent = (component, flowConfig) => flowConfig.focusManager.get(component).bind(elem => closest$1(elem, flowConfig.selector));\n    const execute$2 = (component, simulatedEvent, flowConfig) => findCurrent(component, flowConfig).bind(focused => flowConfig.execute(component, simulatedEvent, focused));\n    const focusIn$2 = (component, flowConfig, _state) => {\n      flowConfig.getInitial(component).orThunk(() => descendant(component.element, flowConfig.selector)).each(first => {\n        flowConfig.focusManager.set(component, first);\n      });\n    };\n    const moveLeft$2 = (element, focused, info) => horizontal(element, info.selector, focused, -1);\n    const moveRight$2 = (element, focused, info) => horizontal(element, info.selector, focused, +1);\n    const doMove$1 = movement => (component, simulatedEvent, flowConfig, flowState) => movement(component, simulatedEvent, flowConfig, flowState).bind(() => flowConfig.executeOnMove ? execute$2(component, simulatedEvent, flowConfig) : Optional.some(true));\n    const doEscape = (component, simulatedEvent, flowConfig) => flowConfig.onEscape(component, simulatedEvent);\n    const getKeydownRules$3 = (_component, _se, flowConfig, _flowState) => {\n      const westMovers = LEFT.concat(flowConfig.allowVertical ? UP : []);\n      const eastMovers = RIGHT.concat(flowConfig.allowVertical ? DOWN : []);\n      return [\n        rule(inSet(westMovers), doMove$1(west$1(moveLeft$2, moveRight$2))),\n        rule(inSet(eastMovers), doMove$1(east$1(moveLeft$2, moveRight$2))),\n        rule(inSet(ENTER), execute$2),\n        rule(inSet(SPACE), execute$2)\n      ];\n    };\n    const getKeyupRules$3 = constant$1([\n      rule(inSet(SPACE), stopEventForFirefox),\n      rule(inSet(ESCAPE), doEscape)\n    ]);\n    var FlowType = typical(schema$t, NoState.init, getKeydownRules$3, getKeyupRules$3, () => Optional.some(focusIn$2));\n\n    const toCell = (matrix, rowIndex, columnIndex) => Optional.from(matrix[rowIndex]).bind(row => Optional.from(row[columnIndex]).map(cell => ({\n      rowIndex,\n      columnIndex,\n      cell\n    })));\n    const cycleHorizontal = (matrix, rowIndex, startCol, deltaCol) => {\n      const row = matrix[rowIndex];\n      const colsInRow = row.length;\n      const newColIndex = cycleBy(startCol, deltaCol, 0, colsInRow - 1);\n      return toCell(matrix, rowIndex, newColIndex);\n    };\n    const cycleVertical = (matrix, colIndex, startRow, deltaRow) => {\n      const nextRowIndex = cycleBy(startRow, deltaRow, 0, matrix.length - 1);\n      const colsInNextRow = matrix[nextRowIndex].length;\n      const nextColIndex = clamp(colIndex, 0, colsInNextRow - 1);\n      return toCell(matrix, nextRowIndex, nextColIndex);\n    };\n    const moveHorizontal = (matrix, rowIndex, startCol, deltaCol) => {\n      const row = matrix[rowIndex];\n      const colsInRow = row.length;\n      const newColIndex = clamp(startCol + deltaCol, 0, colsInRow - 1);\n      return toCell(matrix, rowIndex, newColIndex);\n    };\n    const moveVertical = (matrix, colIndex, startRow, deltaRow) => {\n      const nextRowIndex = clamp(startRow + deltaRow, 0, matrix.length - 1);\n      const colsInNextRow = matrix[nextRowIndex].length;\n      const nextColIndex = clamp(colIndex, 0, colsInNextRow - 1);\n      return toCell(matrix, nextRowIndex, nextColIndex);\n    };\n    const cycleRight = (matrix, startRow, startCol) => cycleHorizontal(matrix, startRow, startCol, +1);\n    const cycleLeft = (matrix, startRow, startCol) => cycleHorizontal(matrix, startRow, startCol, -1);\n    const cycleUp = (matrix, startRow, startCol) => cycleVertical(matrix, startCol, startRow, -1);\n    const cycleDown = (matrix, startRow, startCol) => cycleVertical(matrix, startCol, startRow, +1);\n    const moveLeft$1 = (matrix, startRow, startCol) => moveHorizontal(matrix, startRow, startCol, -1);\n    const moveRight$1 = (matrix, startRow, startCol) => moveHorizontal(matrix, startRow, startCol, +1);\n    const moveUp$1 = (matrix, startRow, startCol) => moveVertical(matrix, startCol, startRow, -1);\n    const moveDown$1 = (matrix, startRow, startCol) => moveVertical(matrix, startCol, startRow, +1);\n\n    const schema$s = [\n      requiredObjOf('selectors', [\n        required$1('row'),\n        required$1('cell')\n      ]),\n      defaulted('cycles', true),\n      defaulted('previousSelector', Optional.none),\n      defaulted('execute', defaultExecute)\n    ];\n    const focusIn$1 = (component, matrixConfig, _state) => {\n      const focused = matrixConfig.previousSelector(component).orThunk(() => {\n        const selectors = matrixConfig.selectors;\n        return descendant(component.element, selectors.cell);\n      });\n      focused.each(cell => {\n        matrixConfig.focusManager.set(component, cell);\n      });\n    };\n    const execute$1 = (component, simulatedEvent, matrixConfig) => search(component.element).bind(focused => matrixConfig.execute(component, simulatedEvent, focused));\n    const toMatrix = (rows, matrixConfig) => map$2(rows, row => descendants(row, matrixConfig.selectors.cell));\n    const doMove = (ifCycle, ifMove) => (element, focused, matrixConfig) => {\n      const move = matrixConfig.cycles ? ifCycle : ifMove;\n      return closest$1(focused, matrixConfig.selectors.row).bind(inRow => {\n        const cellsInRow = descendants(inRow, matrixConfig.selectors.cell);\n        return findIndex(cellsInRow, focused).bind(colIndex => {\n          const allRows = descendants(element, matrixConfig.selectors.row);\n          return findIndex(allRows, inRow).bind(rowIndex => {\n            const matrix = toMatrix(allRows, matrixConfig);\n            return move(matrix, rowIndex, colIndex).map(next => next.cell);\n          });\n        });\n      });\n    };\n    const moveLeft = doMove(cycleLeft, moveLeft$1);\n    const moveRight = doMove(cycleRight, moveRight$1);\n    const moveNorth = doMove(cycleUp, moveUp$1);\n    const moveSouth = doMove(cycleDown, moveDown$1);\n    const getKeydownRules$2 = constant$1([\n      rule(inSet(LEFT), west$1(moveLeft, moveRight)),\n      rule(inSet(RIGHT), east$1(moveLeft, moveRight)),\n      rule(inSet(UP), north$1(moveNorth)),\n      rule(inSet(DOWN), south$1(moveSouth)),\n      rule(inSet(SPACE.concat(ENTER)), execute$1)\n    ]);\n    const getKeyupRules$2 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var MatrixType = typical(schema$s, NoState.init, getKeydownRules$2, getKeyupRules$2, () => Optional.some(focusIn$1));\n\n    const schema$r = [\n      required$1('selector'),\n      defaulted('execute', defaultExecute),\n      defaulted('moveOnTab', false)\n    ];\n    const execute = (component, simulatedEvent, menuConfig) => menuConfig.focusManager.get(component).bind(focused => menuConfig.execute(component, simulatedEvent, focused));\n    const focusIn = (component, menuConfig, _state) => {\n      descendant(component.element, menuConfig.selector).each(first => {\n        menuConfig.focusManager.set(component, first);\n      });\n    };\n    const moveUp = (element, focused, info) => horizontal(element, info.selector, focused, -1);\n    const moveDown = (element, focused, info) => horizontal(element, info.selector, focused, +1);\n    const fireShiftTab = (component, simulatedEvent, menuConfig, menuState) => menuConfig.moveOnTab ? move$1(moveUp)(component, simulatedEvent, menuConfig, menuState) : Optional.none();\n    const fireTab = (component, simulatedEvent, menuConfig, menuState) => menuConfig.moveOnTab ? move$1(moveDown)(component, simulatedEvent, menuConfig, menuState) : Optional.none();\n    const getKeydownRules$1 = constant$1([\n      rule(inSet(UP), move$1(moveUp)),\n      rule(inSet(DOWN), move$1(moveDown)),\n      rule(and([\n        isShift,\n        inSet(TAB)\n      ]), fireShiftTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), fireTab),\n      rule(inSet(ENTER), execute),\n      rule(inSet(SPACE), execute)\n    ]);\n    const getKeyupRules$1 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var MenuType = typical(schema$r, NoState.init, getKeydownRules$1, getKeyupRules$1, () => Optional.some(focusIn));\n\n    const schema$q = [\n      onKeyboardHandler('onSpace'),\n      onKeyboardHandler('onEnter'),\n      onKeyboardHandler('onShiftEnter'),\n      onKeyboardHandler('onLeft'),\n      onKeyboardHandler('onRight'),\n      onKeyboardHandler('onTab'),\n      onKeyboardHandler('onShiftTab'),\n      onKeyboardHandler('onUp'),\n      onKeyboardHandler('onDown'),\n      onKeyboardHandler('onEscape'),\n      defaulted('stopSpaceKeyup', false),\n      option$3('focusIn')\n    ];\n    const getKeydownRules = (component, simulatedEvent, specialInfo) => [\n      rule(inSet(SPACE), specialInfo.onSpace),\n      rule(and([\n        isNotShift,\n        inSet(ENTER)\n      ]), specialInfo.onEnter),\n      rule(and([\n        isShift,\n        inSet(ENTER)\n      ]), specialInfo.onShiftEnter),\n      rule(and([\n        isShift,\n        inSet(TAB)\n      ]), specialInfo.onShiftTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), specialInfo.onTab),\n      rule(inSet(UP), specialInfo.onUp),\n      rule(inSet(DOWN), specialInfo.onDown),\n      rule(inSet(LEFT), specialInfo.onLeft),\n      rule(inSet(RIGHT), specialInfo.onRight),\n      rule(inSet(SPACE), specialInfo.onSpace)\n    ];\n    const getKeyupRules = (component, simulatedEvent, specialInfo) => [\n      ...specialInfo.stopSpaceKeyup ? [rule(inSet(SPACE), stopEventForFirefox)] : [],\n      rule(inSet(ESCAPE), specialInfo.onEscape)\n    ];\n    var SpecialType = typical(schema$q, NoState.init, getKeydownRules, getKeyupRules, specialInfo => specialInfo.focusIn);\n\n    const acyclic = AcyclicType.schema();\n    const cyclic = CyclicType.schema();\n    const flow = FlowType.schema();\n    const flatgrid = FlatgridType.schema();\n    const matrix = MatrixType.schema();\n    const execution = ExecutionType.schema();\n    const menu = MenuType.schema();\n    const special = SpecialType.schema();\n\n    var KeyboardBranches = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        acyclic: acyclic,\n        cyclic: cyclic,\n        flow: flow,\n        flatgrid: flatgrid,\n        matrix: matrix,\n        execution: execution,\n        menu: menu,\n        special: special\n    });\n\n    const isFlatgridState = keyState => hasNonNullableKey(keyState, 'setGridSize');\n    const Keying = createModes({\n      branchKey: 'mode',\n      branches: KeyboardBranches,\n      name: 'keying',\n      active: {\n        events: (keyingConfig, keyingState) => {\n          const handler = keyingConfig.handler;\n          return handler.toEvents(keyingConfig, keyingState);\n        }\n      },\n      apis: {\n        focusIn: (component, keyConfig, keyState) => {\n          keyConfig.sendFocusIn(keyConfig).fold(() => {\n            component.getSystem().triggerFocus(component.element, component.element);\n          }, sendFocusIn => {\n            sendFocusIn(component, keyConfig, keyState);\n          });\n        },\n        setGridSize: (component, keyConfig, keyState, numRows, numColumns) => {\n          if (!isFlatgridState(keyState)) {\n            console.error('Layout does not support setGridSize');\n          } else {\n            keyState.setGridSize(numRows, numColumns);\n          }\n        }\n      },\n      state: KeyingState\n    });\n\n    const withoutReuse = (parent, data) => {\n      preserve$1(() => {\n        replaceChildren(parent, data, () => map$2(data, parent.getSystem().build));\n      }, parent.element);\n    };\n    const withReuse = (parent, data) => {\n      preserve$1(() => {\n        virtualReplaceChildren(parent, data, () => {\n          return patchSpecChildren(parent.element, data, parent.getSystem().buildOrPatch);\n        });\n      }, parent.element);\n    };\n\n    const virtualReplace = (component, replacee, replaceeIndex, childSpec) => {\n      virtualDetach(replacee);\n      const child = patchSpecChild(component.element, replaceeIndex, childSpec, component.getSystem().buildOrPatch);\n      virtualAttach(component, child);\n      component.syncComponents();\n    };\n    const insert = (component, insertion, childSpec) => {\n      const child = component.getSystem().build(childSpec);\n      attachWith(component, child, insertion);\n    };\n    const replace = (component, replacee, replaceeIndex, childSpec) => {\n      detach(replacee);\n      insert(component, (p, c) => appendAt(p, c, replaceeIndex), childSpec);\n    };\n    const set$3 = (component, replaceConfig, replaceState, data) => {\n      const replacer = replaceConfig.reuseDom ? withReuse : withoutReuse;\n      return replacer(component, data);\n    };\n    const append = (component, replaceConfig, replaceState, appendee) => {\n      insert(component, append$2, appendee);\n    };\n    const prepend = (component, replaceConfig, replaceState, prependee) => {\n      insert(component, prepend$1, prependee);\n    };\n    const remove = (component, replaceConfig, replaceState, removee) => {\n      const children = contents(component);\n      const foundChild = find$5(children, child => eq(removee.element, child.element));\n      foundChild.each(detach);\n    };\n    const contents = (component, _replaceConfig) => component.components();\n    const replaceAt = (component, replaceConfig, replaceState, replaceeIndex, replacer) => {\n      const children = contents(component);\n      return Optional.from(children[replaceeIndex]).map(replacee => {\n        replacer.fold(() => detach(replacee), r => {\n          const replacer = replaceConfig.reuseDom ? virtualReplace : replace;\n          replacer(component, replacee, replaceeIndex, r);\n        });\n        return replacee;\n      });\n    };\n    const replaceBy = (component, replaceConfig, replaceState, replaceePred, replacer) => {\n      const children = contents(component);\n      return findIndex$1(children, replaceePred).bind(replaceeIndex => replaceAt(component, replaceConfig, replaceState, replaceeIndex, replacer));\n    };\n\n    var ReplaceApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        append: append,\n        prepend: prepend,\n        remove: remove,\n        replaceAt: replaceAt,\n        replaceBy: replaceBy,\n        set: set$3,\n        contents: contents\n    });\n\n    const Replacing = create$3({\n      fields: [defaultedBoolean('reuseDom', true)],\n      name: 'replacing',\n      apis: ReplaceApis\n    });\n\n    const events$d = (name, eventHandlers) => {\n      const events = derive$2(eventHandlers);\n      return create$3({\n        fields: [required$1('enabled')],\n        name,\n        active: { events: constant$1(events) }\n      });\n    };\n    const config = (name, eventHandlers) => {\n      const me = events$d(name, eventHandlers);\n      return {\n        key: name,\n        value: {\n          config: {},\n          me,\n          configAsRaw: constant$1({}),\n          initialConfig: {},\n          state: NoState\n        }\n      };\n    };\n\n    const focus$2 = (component, focusConfig) => {\n      if (!focusConfig.ignore) {\n        focus$3(component.element);\n        focusConfig.onFocus(component);\n      }\n    };\n    const blur = (component, focusConfig) => {\n      if (!focusConfig.ignore) {\n        blur$1(component.element);\n      }\n    };\n    const isFocused = component => hasFocus(component.element);\n\n    var FocusApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        focus: focus$2,\n        blur: blur,\n        isFocused: isFocused\n    });\n\n    const exhibit$4 = (base, focusConfig) => {\n      const mod = focusConfig.ignore ? {} : { attributes: { tabindex: '-1' } };\n      return nu$7(mod);\n    };\n    const events$c = focusConfig => derive$2([run$1(focus$4(), (component, simulatedEvent) => {\n        focus$2(component, focusConfig);\n        simulatedEvent.stop();\n      })].concat(focusConfig.stopMousedown ? [run$1(mousedown(), (_, simulatedEvent) => {\n        simulatedEvent.event.prevent();\n      })] : []));\n\n    var ActiveFocus = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$4,\n        events: events$c\n    });\n\n    var FocusSchema = [\n      onHandler('onFocus'),\n      defaulted('stopMousedown', false),\n      defaulted('ignore', false)\n    ];\n\n    const Focusing = create$3({\n      fields: FocusSchema,\n      name: 'focusing',\n      active: ActiveFocus,\n      apis: FocusApis\n    });\n\n    const SetupBehaviourCellState = initialState => {\n      const init = () => {\n        const cell = Cell(initialState);\n        const get = () => cell.get();\n        const set = newState => cell.set(newState);\n        const clear = () => cell.set(initialState);\n        const readState = () => cell.get();\n        return {\n          get,\n          set,\n          clear,\n          readState\n        };\n      };\n      return { init };\n    };\n\n    const updateAriaState = (component, toggleConfig, toggleState) => {\n      const ariaInfo = toggleConfig.aria;\n      ariaInfo.update(component, ariaInfo, toggleState.get());\n    };\n    const updateClass = (component, toggleConfig, toggleState) => {\n      toggleConfig.toggleClass.each(toggleClass => {\n        if (toggleState.get()) {\n          add$2(component.element, toggleClass);\n        } else {\n          remove$2(component.element, toggleClass);\n        }\n      });\n    };\n    const set$2 = (component, toggleConfig, toggleState, state) => {\n      const initialState = toggleState.get();\n      toggleState.set(state);\n      updateClass(component, toggleConfig, toggleState);\n      updateAriaState(component, toggleConfig, toggleState);\n      if (initialState !== state) {\n        toggleConfig.onToggled(component, state);\n      }\n    };\n    const toggle$2 = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, !toggleState.get());\n    };\n    const on = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, true);\n    };\n    const off = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, false);\n    };\n    const isOn = (component, toggleConfig, toggleState) => toggleState.get();\n    const onLoad = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, toggleConfig.selected);\n    };\n\n    var ToggleApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        onLoad: onLoad,\n        toggle: toggle$2,\n        isOn: isOn,\n        on: on,\n        off: off,\n        set: set$2\n    });\n\n    const exhibit$3 = () => nu$7({});\n    const events$b = (toggleConfig, toggleState) => {\n      const execute = executeEvent(toggleConfig, toggleState, toggle$2);\n      const load = loadEvent(toggleConfig, toggleState, onLoad);\n      return derive$2(flatten([\n        toggleConfig.toggleOnExecute ? [execute] : [],\n        [load]\n      ]));\n    };\n\n    var ActiveToggle = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$3,\n        events: events$b\n    });\n\n    const updatePressed = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-pressed', status);\n      if (ariaInfo.syncWithExpanded) {\n        updateExpanded(component, ariaInfo, status);\n      }\n    };\n    const updateSelected = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-selected', status);\n    };\n    const updateChecked = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-checked', status);\n    };\n    const updateExpanded = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-expanded', status);\n    };\n\n    var ToggleSchema = [\n      defaulted('selected', false),\n      option$3('toggleClass'),\n      defaulted('toggleOnExecute', true),\n      onHandler('onToggled'),\n      defaultedOf('aria', { mode: 'none' }, choose$1('mode', {\n        pressed: [\n          defaulted('syncWithExpanded', false),\n          output$1('update', updatePressed)\n        ],\n        checked: [output$1('update', updateChecked)],\n        expanded: [output$1('update', updateExpanded)],\n        selected: [output$1('update', updateSelected)],\n        none: [output$1('update', noop)]\n      }))\n    ];\n\n    const Toggling = create$3({\n      fields: ToggleSchema,\n      name: 'toggling',\n      active: ActiveToggle,\n      apis: ToggleApis,\n      state: SetupBehaviourCellState(false)\n    });\n\n    const pointerEvents = () => {\n      const onClick = (component, simulatedEvent) => {\n        simulatedEvent.stop();\n        emitExecute(component);\n      };\n      return [\n        run$1(click(), onClick),\n        run$1(tap(), onClick),\n        cutter(touchstart()),\n        cutter(mousedown())\n      ];\n    };\n    const events$a = optAction => {\n      const executeHandler = action => runOnExecute$1((component, simulatedEvent) => {\n        action(component);\n        simulatedEvent.stop();\n      });\n      return derive$2(flatten([\n        optAction.map(executeHandler).toArray(),\n        pointerEvents()\n      ]));\n    };\n\n    const hoverEvent = 'alloy.item-hover';\n    const focusEvent = 'alloy.item-focus';\n    const toggledEvent = 'alloy.item-toggled';\n    const onHover = item => {\n      if (search(item.element).isNone() || Focusing.isFocused(item)) {\n        if (!Focusing.isFocused(item)) {\n          Focusing.focus(item);\n        }\n        emitWith(item, hoverEvent, { item });\n      }\n    };\n    const onFocus$1 = item => {\n      emitWith(item, focusEvent, { item });\n    };\n    const onToggled = (item, state) => {\n      emitWith(item, toggledEvent, {\n        item,\n        state\n      });\n    };\n    const hover = constant$1(hoverEvent);\n    const focus$1 = constant$1(focusEvent);\n    const toggled = constant$1(toggledEvent);\n\n    const getItemRole = detail => detail.toggling.map(toggling => toggling.exclusive ? 'menuitemradio' : 'menuitemcheckbox').getOr('menuitem');\n    const getTogglingSpec = tConfig => ({\n      aria: { mode: 'checked' },\n      ...filter$1(tConfig, (_value, name) => name !== 'exclusive'),\n      onToggled: (component, state) => {\n        if (isFunction(tConfig.onToggled)) {\n          tConfig.onToggled(component, state);\n        }\n        onToggled(component, state);\n      }\n    });\n    const builder$2 = detail => ({\n      dom: detail.dom,\n      domModification: {\n        ...detail.domModification,\n        attributes: {\n          'role': getItemRole(detail),\n          ...detail.domModification.attributes,\n          'aria-haspopup': detail.hasSubmenu,\n          ...detail.hasSubmenu ? { 'aria-expanded': false } : {}\n        }\n      },\n      behaviours: SketchBehaviours.augment(detail.itemBehaviours, [\n        detail.toggling.fold(Toggling.revoke, tConfig => Toggling.config(getTogglingSpec(tConfig))),\n        Focusing.config({\n          ignore: detail.ignoreFocus,\n          stopMousedown: detail.ignoreFocus,\n          onFocus: component => {\n            onFocus$1(component);\n          }\n        }),\n        Keying.config({ mode: 'execution' }),\n        Representing.config({\n          store: {\n            mode: 'memory',\n            initialValue: detail.data\n          }\n        }),\n        config('item-type-events', [\n          ...pointerEvents(),\n          run$1(mouseover(), onHover),\n          run$1(focusItem(), Focusing.focus)\n        ])\n      ]),\n      components: detail.components,\n      eventOrder: detail.eventOrder\n    });\n    const schema$p = [\n      required$1('data'),\n      required$1('components'),\n      required$1('dom'),\n      defaulted('hasSubmenu', false),\n      option$3('toggling'),\n      SketchBehaviours.field('itemBehaviours', [\n        Toggling,\n        Focusing,\n        Keying,\n        Representing\n      ]),\n      defaulted('ignoreFocus', false),\n      defaulted('domModification', {}),\n      output$1('builder', builder$2),\n      defaulted('eventOrder', {})\n    ];\n\n    const builder$1 = detail => ({\n      dom: detail.dom,\n      components: detail.components,\n      events: derive$2([stopper(focusItem())])\n    });\n    const schema$o = [\n      required$1('dom'),\n      required$1('components'),\n      output$1('builder', builder$1)\n    ];\n\n    const owner$2 = constant$1('item-widget');\n    const parts$h = constant$1([required({\n        name: 'widget',\n        overrides: detail => {\n          return {\n            behaviours: derive$1([Representing.config({\n                store: {\n                  mode: 'manual',\n                  getValue: _component => {\n                    return detail.data;\n                  },\n                  setValue: noop\n                }\n              })])\n          };\n        }\n      })]);\n\n    const builder = detail => {\n      const subs = substitutes(owner$2(), detail, parts$h());\n      const components = components$1(owner$2(), detail, subs.internals());\n      const focusWidget = component => getPart(component, detail, 'widget').map(widget => {\n        Keying.focusIn(widget);\n        return widget;\n      });\n      const onHorizontalArrow = (component, simulatedEvent) => inside(simulatedEvent.event.target) ? Optional.none() : (() => {\n        if (detail.autofocus) {\n          simulatedEvent.setSource(component.element);\n          return Optional.none();\n        } else {\n          return Optional.none();\n        }\n      })();\n      return {\n        dom: detail.dom,\n        components,\n        domModification: detail.domModification,\n        events: derive$2([\n          runOnExecute$1((component, simulatedEvent) => {\n            focusWidget(component).each(_widget => {\n              simulatedEvent.stop();\n            });\n          }),\n          run$1(mouseover(), onHover),\n          run$1(focusItem(), (component, _simulatedEvent) => {\n            if (detail.autofocus) {\n              focusWidget(component);\n            } else {\n              Focusing.focus(component);\n            }\n          })\n        ]),\n        behaviours: SketchBehaviours.augment(detail.widgetBehaviours, [\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.data\n            }\n          }),\n          Focusing.config({\n            ignore: detail.ignoreFocus,\n            onFocus: component => {\n              onFocus$1(component);\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            focusIn: detail.autofocus ? component => {\n              focusWidget(component);\n            } : revoke(),\n            onLeft: onHorizontalArrow,\n            onRight: onHorizontalArrow,\n            onEscape: (component, simulatedEvent) => {\n              if (!Focusing.isFocused(component) && !detail.autofocus) {\n                Focusing.focus(component);\n                return Optional.some(true);\n              } else if (detail.autofocus) {\n                simulatedEvent.setSource(component.element);\n                return Optional.none();\n              } else {\n                return Optional.none();\n              }\n            }\n          })\n        ])\n      };\n    };\n    const schema$n = [\n      required$1('uid'),\n      required$1('data'),\n      required$1('components'),\n      required$1('dom'),\n      defaulted('autofocus', false),\n      defaulted('ignoreFocus', false),\n      SketchBehaviours.field('widgetBehaviours', [\n        Representing,\n        Focusing,\n        Keying\n      ]),\n      defaulted('domModification', {}),\n      defaultUidsSchema(parts$h()),\n      output$1('builder', builder)\n    ];\n\n    const itemSchema$2 = choose$1('type', {\n      widget: schema$n,\n      item: schema$p,\n      separator: schema$o\n    });\n    const configureGrid = (detail, movementInfo) => ({\n      mode: 'flatgrid',\n      selector: '.' + detail.markers.item,\n      initSize: {\n        numColumns: movementInfo.initSize.numColumns,\n        numRows: movementInfo.initSize.numRows\n      },\n      focusManager: detail.focusManager\n    });\n    const configureMatrix = (detail, movementInfo) => ({\n      mode: 'matrix',\n      selectors: {\n        row: movementInfo.rowSelector,\n        cell: '.' + detail.markers.item\n      },\n      focusManager: detail.focusManager\n    });\n    const configureMenu = (detail, movementInfo) => ({\n      mode: 'menu',\n      selector: '.' + detail.markers.item,\n      moveOnTab: movementInfo.moveOnTab,\n      focusManager: detail.focusManager\n    });\n    const parts$g = constant$1([group({\n        factory: {\n          sketch: spec => {\n            const itemInfo = asRawOrDie$1('menu.spec item', itemSchema$2, spec);\n            return itemInfo.builder(itemInfo);\n          }\n        },\n        name: 'items',\n        unit: 'item',\n        defaults: (detail, u) => {\n          return has$2(u, 'uid') ? u : {\n            ...u,\n            uid: generate$5('item')\n          };\n        },\n        overrides: (detail, u) => {\n          return {\n            type: u.type,\n            ignoreFocus: detail.fakeFocus,\n            domModification: { classes: [detail.markers.item] }\n          };\n        }\n      })]);\n    const schema$m = constant$1([\n      required$1('value'),\n      required$1('items'),\n      required$1('dom'),\n      required$1('components'),\n      defaulted('eventOrder', {}),\n      field('menuBehaviours', [\n        Highlighting,\n        Representing,\n        Composing,\n        Keying\n      ]),\n      defaultedOf('movement', {\n        mode: 'menu',\n        moveOnTab: true\n      }, choose$1('mode', {\n        grid: [\n          initSize(),\n          output$1('config', configureGrid)\n        ],\n        matrix: [\n          output$1('config', configureMatrix),\n          required$1('rowSelector')\n        ],\n        menu: [\n          defaulted('moveOnTab', true),\n          output$1('config', configureMenu)\n        ]\n      })),\n      itemMarkers(),\n      defaulted('fakeFocus', false),\n      defaulted('focusManager', dom$2()),\n      onHandler('onHighlight'),\n      onHandler('onDehighlight')\n    ]);\n\n    const focus = constant$1('alloy.menu-focus');\n\n    const deselectOtherRadioItems = (menu, item) => {\n      const checkedRadioItems = descendants(menu.element, '[role=\"menuitemradio\"][aria-checked=\"true\"]');\n      each$1(checkedRadioItems, ele => {\n        if (!eq(ele, item.element)) {\n          menu.getSystem().getByDom(ele).each(c => {\n            Toggling.off(c);\n          });\n        }\n      });\n    };\n    const make$7 = (detail, components, _spec, _externals) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      markers: detail.markers,\n      behaviours: augment(detail.menuBehaviours, [\n        Highlighting.config({\n          highlightClass: detail.markers.selectedItem,\n          itemClass: detail.markers.item,\n          onHighlight: detail.onHighlight,\n          onDehighlight: detail.onDehighlight\n        }),\n        Representing.config({\n          store: {\n            mode: 'memory',\n            initialValue: detail.value\n          }\n        }),\n        Composing.config({ find: Optional.some }),\n        Keying.config(detail.movement.config(detail, detail.movement))\n      ]),\n      events: derive$2([\n        run$1(focus$1(), (menu, simulatedEvent) => {\n          const event = simulatedEvent.event;\n          menu.getSystem().getByDom(event.target).each(item => {\n            Highlighting.highlight(menu, item);\n            simulatedEvent.stop();\n            emitWith(menu, focus(), {\n              menu,\n              item\n            });\n          });\n        }),\n        run$1(hover(), (menu, simulatedEvent) => {\n          const item = simulatedEvent.event.item;\n          Highlighting.highlight(menu, item);\n        }),\n        run$1(toggled(), (menu, simulatedEvent) => {\n          const {item, state} = simulatedEvent.event;\n          if (state && get$f(item.element, 'role') === 'menuitemradio') {\n            deselectOtherRadioItems(menu, item);\n          }\n        })\n      ]),\n      components,\n      eventOrder: detail.eventOrder,\n      domModification: { attributes: { role: 'menu' } }\n    });\n\n    const Menu = composite({\n      name: 'Menu',\n      configFields: schema$m(),\n      partFields: parts$g(),\n      factory: make$7\n    });\n\n    const transpose$1 = obj => tupleMap(obj, (v, k) => ({\n      k: v,\n      v: k\n    }));\n    const trace = (items, byItem, byMenu, finish) => get$g(byMenu, finish).bind(triggerItem => get$g(items, triggerItem).bind(triggerMenu => {\n      const rest = trace(items, byItem, byMenu, triggerMenu);\n      return Optional.some([triggerMenu].concat(rest));\n    })).getOr([]);\n    const generate$2 = (menus, expansions) => {\n      const items = {};\n      each(menus, (menuItems, menu) => {\n        each$1(menuItems, item => {\n          items[item] = menu;\n        });\n      });\n      const byItem = expansions;\n      const byMenu = transpose$1(expansions);\n      const menuPaths = map$1(byMenu, (_triggerItem, submenu) => [submenu].concat(trace(items, byItem, byMenu, submenu)));\n      return map$1(items, menu => get$g(menuPaths, menu).getOr([menu]));\n    };\n\n    const init$c = () => {\n      const expansions = Cell({});\n      const menus = Cell({});\n      const paths = Cell({});\n      const primary = value$2();\n      const directory = Cell({});\n      const clear = () => {\n        expansions.set({});\n        menus.set({});\n        paths.set({});\n        primary.clear();\n      };\n      const isClear = () => primary.get().isNone();\n      const setMenuBuilt = (menuName, built) => {\n        menus.set({\n          ...menus.get(),\n          [menuName]: {\n            type: 'prepared',\n            menu: built\n          }\n        });\n      };\n      const setContents = (sPrimary, sMenus, sExpansions, dir) => {\n        primary.set(sPrimary);\n        expansions.set(sExpansions);\n        menus.set(sMenus);\n        directory.set(dir);\n        const sPaths = generate$2(dir, sExpansions);\n        paths.set(sPaths);\n      };\n      const getTriggeringItem = menuValue => find$4(expansions.get(), (v, _k) => v === menuValue);\n      const getTriggerData = (menuValue, getItemByValue, path) => getPreparedMenu(menuValue).bind(menu => getTriggeringItem(menuValue).bind(triggeringItemValue => getItemByValue(triggeringItemValue).map(triggeredItem => ({\n        triggeredMenu: menu,\n        triggeringItem: triggeredItem,\n        triggeringPath: path\n      }))));\n      const getTriggeringPath = (itemValue, getItemByValue) => {\n        const extraPath = filter$2(lookupItem(itemValue).toArray(), menuValue => getPreparedMenu(menuValue).isSome());\n        return get$g(paths.get(), itemValue).bind(path => {\n          const revPath = reverse(extraPath.concat(path));\n          const triggers = bind$3(revPath, (menuValue, menuIndex) => getTriggerData(menuValue, getItemByValue, revPath.slice(0, menuIndex + 1)).fold(() => is$1(primary.get(), menuValue) ? [] : [Optional.none()], data => [Optional.some(data)]));\n          return sequence(triggers);\n        });\n      };\n      const expand = itemValue => get$g(expansions.get(), itemValue).map(menu => {\n        const current = get$g(paths.get(), itemValue).getOr([]);\n        return [menu].concat(current);\n      });\n      const collapse = itemValue => get$g(paths.get(), itemValue).bind(path => path.length > 1 ? Optional.some(path.slice(1)) : Optional.none());\n      const refresh = itemValue => get$g(paths.get(), itemValue);\n      const getPreparedMenu = menuValue => lookupMenu(menuValue).bind(extractPreparedMenu);\n      const lookupMenu = menuValue => get$g(menus.get(), menuValue);\n      const lookupItem = itemValue => get$g(expansions.get(), itemValue);\n      const otherMenus = path => {\n        const menuValues = directory.get();\n        return difference(keys(menuValues), path);\n      };\n      const getPrimary = () => primary.get().bind(getPreparedMenu);\n      const getMenus = () => menus.get();\n      return {\n        setMenuBuilt,\n        setContents,\n        expand,\n        refresh,\n        collapse,\n        lookupMenu,\n        lookupItem,\n        otherMenus,\n        getPrimary,\n        getMenus,\n        clear,\n        isClear,\n        getTriggeringPath\n      };\n    };\n    const extractPreparedMenu = prep => prep.type === 'prepared' ? Optional.some(prep.menu) : Optional.none();\n    const LayeredState = {\n      init: init$c,\n      extractPreparedMenu\n    };\n\n    const onMenuItemHighlightedEvent = generate$6('tiered-menu-item-highlight');\n    const onMenuItemDehighlightedEvent = generate$6('tiered-menu-item-dehighlight');\n\n    var HighlightOnOpen;\n    (function (HighlightOnOpen) {\n      HighlightOnOpen[HighlightOnOpen['HighlightMenuAndItem'] = 0] = 'HighlightMenuAndItem';\n      HighlightOnOpen[HighlightOnOpen['HighlightJustMenu'] = 1] = 'HighlightJustMenu';\n      HighlightOnOpen[HighlightOnOpen['HighlightNone'] = 2] = 'HighlightNone';\n    }(HighlightOnOpen || (HighlightOnOpen = {})));\n\n    const make$6 = (detail, _rawUiSpec) => {\n      const submenuParentItems = value$2();\n      const buildMenus = (container, primaryName, menus) => map$1(menus, (spec, name) => {\n        const makeSketch = () => Menu.sketch({\n          ...spec,\n          value: name,\n          markers: detail.markers,\n          fakeFocus: detail.fakeFocus,\n          onHighlight: (menuComp, itemComp) => {\n            const highlightData = {\n              menuComp,\n              itemComp\n            };\n            emitWith(menuComp, onMenuItemHighlightedEvent, highlightData);\n          },\n          onDehighlight: (menuComp, itemComp) => {\n            const dehighlightData = {\n              menuComp,\n              itemComp\n            };\n            emitWith(menuComp, onMenuItemDehighlightedEvent, dehighlightData);\n          },\n          focusManager: detail.fakeFocus ? highlights() : dom$2()\n        });\n        return name === primaryName ? {\n          type: 'prepared',\n          menu: container.getSystem().build(makeSketch())\n        } : {\n          type: 'notbuilt',\n          nbMenu: makeSketch\n        };\n      });\n      const layeredState = LayeredState.init();\n      const setup = container => {\n        const componentMap = buildMenus(container, detail.data.primary, detail.data.menus);\n        const directory = toDirectory();\n        layeredState.setContents(detail.data.primary, componentMap, detail.data.expansions, directory);\n        return layeredState.getPrimary();\n      };\n      const getItemValue = item => Representing.getValue(item).value;\n      const getItemByValue = (_container, menus, itemValue) => findMap(menus, menu => {\n        if (!menu.getSystem().isConnected()) {\n          return Optional.none();\n        }\n        const candidates = Highlighting.getCandidates(menu);\n        return find$5(candidates, c => getItemValue(c) === itemValue);\n      });\n      const toDirectory = _container => map$1(detail.data.menus, (data, _menuName) => bind$3(data.items, item => item.type === 'separator' ? [] : [item.data.value]));\n      const setActiveMenu = Highlighting.highlight;\n      const setActiveMenuAndItem = (container, menu) => {\n        setActiveMenu(container, menu);\n        Highlighting.getHighlighted(menu).orThunk(() => Highlighting.getFirst(menu)).each(item => {\n          if (detail.fakeFocus) {\n            Highlighting.highlight(menu, item);\n          } else {\n            dispatch(container, item.element, focusItem());\n          }\n        });\n      };\n      const getMenus = (state, menuValues) => cat(map$2(menuValues, mv => state.lookupMenu(mv).bind(prep => prep.type === 'prepared' ? Optional.some(prep.menu) : Optional.none())));\n      const closeOthers = (container, state, path) => {\n        const others = getMenus(state, state.otherMenus(path));\n        each$1(others, o => {\n          remove$1(o.element, [detail.markers.backgroundMenu]);\n          if (!detail.stayInDom) {\n            Replacing.remove(container, o);\n          }\n        });\n      };\n      const getSubmenuParents = container => submenuParentItems.get().getOrThunk(() => {\n        const r = {};\n        const items = descendants(container.element, `.${ detail.markers.item }`);\n        const parentItems = filter$2(items, i => get$f(i, 'aria-haspopup') === 'true');\n        each$1(parentItems, i => {\n          container.getSystem().getByDom(i).each(itemComp => {\n            const key = getItemValue(itemComp);\n            r[key] = itemComp;\n          });\n        });\n        submenuParentItems.set(r);\n        return r;\n      });\n      const updateAriaExpansions = (container, path) => {\n        const parentItems = getSubmenuParents(container);\n        each(parentItems, (v, k) => {\n          const expanded = contains$2(path, k);\n          set$9(v.element, 'aria-expanded', expanded);\n        });\n      };\n      const updateMenuPath = (container, state, path) => Optional.from(path[0]).bind(latestMenuName => state.lookupMenu(latestMenuName).bind(menuPrep => {\n        if (menuPrep.type === 'notbuilt') {\n          return Optional.none();\n        } else {\n          const activeMenu = menuPrep.menu;\n          const rest = getMenus(state, path.slice(1));\n          each$1(rest, r => {\n            add$2(r.element, detail.markers.backgroundMenu);\n          });\n          if (!inBody(activeMenu.element)) {\n            Replacing.append(container, premade(activeMenu));\n          }\n          remove$1(activeMenu.element, [detail.markers.backgroundMenu]);\n          setActiveMenuAndItem(container, activeMenu);\n          closeOthers(container, state, path);\n          return Optional.some(activeMenu);\n        }\n      }));\n      let ExpandHighlightDecision;\n      (function (ExpandHighlightDecision) {\n        ExpandHighlightDecision[ExpandHighlightDecision['HighlightSubmenu'] = 0] = 'HighlightSubmenu';\n        ExpandHighlightDecision[ExpandHighlightDecision['HighlightParent'] = 1] = 'HighlightParent';\n      }(ExpandHighlightDecision || (ExpandHighlightDecision = {})));\n      const buildIfRequired = (container, menuName, menuPrep) => {\n        if (menuPrep.type === 'notbuilt') {\n          const menu = container.getSystem().build(menuPrep.nbMenu());\n          layeredState.setMenuBuilt(menuName, menu);\n          return menu;\n        } else {\n          return menuPrep.menu;\n        }\n      };\n      const expandRight = (container, item, decision = ExpandHighlightDecision.HighlightSubmenu) => {\n        if (item.hasConfigured(Disabling) && Disabling.isDisabled(item)) {\n          return Optional.some(item);\n        } else {\n          const value = getItemValue(item);\n          return layeredState.expand(value).bind(path => {\n            updateAriaExpansions(container, path);\n            return Optional.from(path[0]).bind(menuName => layeredState.lookupMenu(menuName).bind(activeMenuPrep => {\n              const activeMenu = buildIfRequired(container, menuName, activeMenuPrep);\n              if (!inBody(activeMenu.element)) {\n                Replacing.append(container, premade(activeMenu));\n              }\n              detail.onOpenSubmenu(container, item, activeMenu, reverse(path));\n              if (decision === ExpandHighlightDecision.HighlightSubmenu) {\n                Highlighting.highlightFirst(activeMenu);\n                return updateMenuPath(container, layeredState, path);\n              } else {\n                Highlighting.dehighlightAll(activeMenu);\n                return Optional.some(item);\n              }\n            }));\n          });\n        }\n      };\n      const collapseLeft = (container, item) => {\n        const value = getItemValue(item);\n        return layeredState.collapse(value).bind(path => {\n          updateAriaExpansions(container, path);\n          return updateMenuPath(container, layeredState, path).map(activeMenu => {\n            detail.onCollapseMenu(container, item, activeMenu);\n            return activeMenu;\n          });\n        });\n      };\n      const updateView = (container, item) => {\n        const value = getItemValue(item);\n        return layeredState.refresh(value).bind(path => {\n          updateAriaExpansions(container, path);\n          return updateMenuPath(container, layeredState, path);\n        });\n      };\n      const onRight = (container, item) => inside(item.element) ? Optional.none() : expandRight(container, item, ExpandHighlightDecision.HighlightSubmenu);\n      const onLeft = (container, item) => inside(item.element) ? Optional.none() : collapseLeft(container, item);\n      const onEscape = (container, item) => collapseLeft(container, item).orThunk(() => detail.onEscape(container, item).map(() => container));\n      const keyOnItem = f => (container, simulatedEvent) => {\n        return closest$1(simulatedEvent.getSource(), `.${ detail.markers.item }`).bind(target => container.getSystem().getByDom(target).toOptional().bind(item => f(container, item).map(always)));\n      };\n      const events = derive$2([\n        run$1(focus(), (tmenu, simulatedEvent) => {\n          const item = simulatedEvent.event.item;\n          layeredState.lookupItem(getItemValue(item)).each(() => {\n            const menu = simulatedEvent.event.menu;\n            Highlighting.highlight(tmenu, menu);\n            const value = getItemValue(simulatedEvent.event.item);\n            layeredState.refresh(value).each(path => closeOthers(tmenu, layeredState, path));\n          });\n        }),\n        runOnExecute$1((component, simulatedEvent) => {\n          const target = simulatedEvent.event.target;\n          component.getSystem().getByDom(target).each(item => {\n            const itemValue = getItemValue(item);\n            if (itemValue.indexOf('collapse-item') === 0) {\n              collapseLeft(component, item);\n            }\n            expandRight(component, item, ExpandHighlightDecision.HighlightSubmenu).fold(() => {\n              detail.onExecute(component, item);\n            }, noop);\n          });\n        }),\n        runOnAttached((container, _simulatedEvent) => {\n          setup(container).each(primary => {\n            Replacing.append(container, premade(primary));\n            detail.onOpenMenu(container, primary);\n            if (detail.highlightOnOpen === HighlightOnOpen.HighlightMenuAndItem) {\n              setActiveMenuAndItem(container, primary);\n            } else if (detail.highlightOnOpen === HighlightOnOpen.HighlightJustMenu) {\n              setActiveMenu(container, primary);\n            }\n          });\n        }),\n        run$1(onMenuItemHighlightedEvent, (tmenuComp, se) => {\n          detail.onHighlightItem(tmenuComp, se.event.menuComp, se.event.itemComp);\n        }),\n        run$1(onMenuItemDehighlightedEvent, (tmenuComp, se) => {\n          detail.onDehighlightItem(tmenuComp, se.event.menuComp, se.event.itemComp);\n        }),\n        ...detail.navigateOnHover ? [run$1(hover(), (tmenu, simulatedEvent) => {\n            const item = simulatedEvent.event.item;\n            updateView(tmenu, item);\n            expandRight(tmenu, item, ExpandHighlightDecision.HighlightParent);\n            detail.onHover(tmenu, item);\n          })] : []\n      ]);\n      const getActiveItem = container => Highlighting.getHighlighted(container).bind(Highlighting.getHighlighted);\n      const collapseMenuApi = container => {\n        getActiveItem(container).each(currentItem => {\n          collapseLeft(container, currentItem);\n        });\n      };\n      const highlightPrimary = container => {\n        layeredState.getPrimary().each(primary => {\n          setActiveMenuAndItem(container, primary);\n        });\n      };\n      const extractMenuFromContainer = container => Optional.from(container.components()[0]).filter(comp => get$f(comp.element, 'role') === 'menu');\n      const repositionMenus = container => {\n        const maybeActivePrimary = layeredState.getPrimary().bind(primary => getActiveItem(container).bind(currentItem => {\n          const itemValue = getItemValue(currentItem);\n          const allMenus = values(layeredState.getMenus());\n          const preparedMenus = cat(map$2(allMenus, LayeredState.extractPreparedMenu));\n          return layeredState.getTriggeringPath(itemValue, v => getItemByValue(container, preparedMenus, v));\n        }).map(triggeringPath => ({\n          primary,\n          triggeringPath\n        })));\n        maybeActivePrimary.fold(() => {\n          extractMenuFromContainer(container).each(primaryMenu => {\n            detail.onRepositionMenu(container, primaryMenu, []);\n          });\n        }, ({primary, triggeringPath}) => {\n          detail.onRepositionMenu(container, primary, triggeringPath);\n        });\n      };\n      const apis = {\n        collapseMenu: collapseMenuApi,\n        highlightPrimary,\n        repositionMenus\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        markers: detail.markers,\n        behaviours: augment(detail.tmenuBehaviours, [\n          Keying.config({\n            mode: 'special',\n            onRight: keyOnItem(onRight),\n            onLeft: keyOnItem(onLeft),\n            onEscape: keyOnItem(onEscape),\n            focusIn: (container, _keyInfo) => {\n              layeredState.getPrimary().each(primary => {\n                dispatch(container, primary.element, focusItem());\n              });\n            }\n          }),\n          Highlighting.config({\n            highlightClass: detail.markers.selectedMenu,\n            itemClass: detail.markers.menu\n          }),\n          Composing.config({\n            find: container => {\n              return Highlighting.getHighlighted(container);\n            }\n          }),\n          Replacing.config({})\n        ]),\n        eventOrder: detail.eventOrder,\n        apis,\n        events\n      };\n    };\n    const collapseItem$1 = constant$1('collapse-item');\n\n    const tieredData = (primary, menus, expansions) => ({\n      primary,\n      menus,\n      expansions\n    });\n    const singleData = (name, menu) => ({\n      primary: name,\n      menus: wrap$1(name, menu),\n      expansions: {}\n    });\n    const collapseItem = text => ({\n      value: generate$6(collapseItem$1()),\n      meta: { text }\n    });\n    const tieredMenu = single({\n      name: 'TieredMenu',\n      configFields: [\n        onStrictKeyboardHandler('onExecute'),\n        onStrictKeyboardHandler('onEscape'),\n        onStrictHandler('onOpenMenu'),\n        onStrictHandler('onOpenSubmenu'),\n        onHandler('onRepositionMenu'),\n        onHandler('onCollapseMenu'),\n        defaulted('highlightOnOpen', HighlightOnOpen.HighlightMenuAndItem),\n        requiredObjOf('data', [\n          required$1('primary'),\n          required$1('menus'),\n          required$1('expansions')\n        ]),\n        defaulted('fakeFocus', false),\n        onHandler('onHighlightItem'),\n        onHandler('onDehighlightItem'),\n        onHandler('onHover'),\n        tieredMenuMarkers(),\n        required$1('dom'),\n        defaulted('navigateOnHover', true),\n        defaulted('stayInDom', false),\n        field('tmenuBehaviours', [\n          Keying,\n          Highlighting,\n          Composing,\n          Replacing\n        ]),\n        defaulted('eventOrder', {})\n      ],\n      apis: {\n        collapseMenu: (apis, tmenu) => {\n          apis.collapseMenu(tmenu);\n        },\n        highlightPrimary: (apis, tmenu) => {\n          apis.highlightPrimary(tmenu);\n        },\n        repositionMenus: (apis, tmenu) => {\n          apis.repositionMenus(tmenu);\n        }\n      },\n      factory: make$6,\n      extraApis: {\n        tieredData,\n        singleData,\n        collapseItem\n      }\n    });\n\n    const makeMenu = (detail, menuSandbox, placementSpec, menuSpec, getBounds) => {\n      const lazySink = () => detail.lazySink(menuSandbox);\n      const layouts = menuSpec.type === 'horizontal' ? {\n        layouts: {\n          onLtr: () => belowOrAbove(),\n          onRtl: () => belowOrAboveRtl()\n        }\n      } : {};\n      const isFirstTierSubmenu = triggeringPaths => triggeringPaths.length === 2;\n      const getSubmenuLayouts = triggeringPaths => isFirstTierSubmenu(triggeringPaths) ? layouts : {};\n      return tieredMenu.sketch({\n        dom: { tag: 'div' },\n        data: menuSpec.data,\n        markers: menuSpec.menu.markers,\n        highlightOnOpen: menuSpec.menu.highlightOnOpen,\n        fakeFocus: menuSpec.menu.fakeFocus,\n        onEscape: () => {\n          Sandboxing.close(menuSandbox);\n          detail.onEscape.map(handler => handler(menuSandbox));\n          return Optional.some(true);\n        },\n        onExecute: () => {\n          return Optional.some(true);\n        },\n        onOpenMenu: (tmenu, menu) => {\n          Positioning.positionWithinBounds(lazySink().getOrDie(), menu, placementSpec, getBounds());\n        },\n        onOpenSubmenu: (tmenu, item, submenu, triggeringPaths) => {\n          const sink = lazySink().getOrDie();\n          Positioning.position(sink, submenu, {\n            anchor: {\n              type: 'submenu',\n              item,\n              ...getSubmenuLayouts(triggeringPaths)\n            }\n          });\n        },\n        onRepositionMenu: (tmenu, primaryMenu, submenuTriggers) => {\n          const sink = lazySink().getOrDie();\n          Positioning.positionWithinBounds(sink, primaryMenu, placementSpec, getBounds());\n          each$1(submenuTriggers, st => {\n            const submenuLayouts = getSubmenuLayouts(st.triggeringPath);\n            Positioning.position(sink, st.triggeredMenu, {\n              anchor: {\n                type: 'submenu',\n                item: st.triggeringItem,\n                ...submenuLayouts\n              }\n            });\n          });\n        }\n      });\n    };\n    const factory$m = (detail, spec) => {\n      const isPartOfRelated = (sandbox, queryElem) => {\n        const related = detail.getRelated(sandbox);\n        return related.exists(rel => isPartOf$1(rel, queryElem));\n      };\n      const setContent = (sandbox, thing) => {\n        Sandboxing.setContent(sandbox, thing);\n      };\n      const showAt = (sandbox, thing, placementSpec) => {\n        showWithin(sandbox, thing, placementSpec, Optional.none());\n      };\n      const showWithin = (sandbox, thing, placementSpec, boxElement) => {\n        showWithinBounds(sandbox, thing, placementSpec, () => boxElement.map(elem => box$1(elem)));\n      };\n      const showWithinBounds = (sandbox, thing, placementSpec, getBounds) => {\n        const sink = detail.lazySink(sandbox).getOrDie();\n        Sandboxing.openWhileCloaked(sandbox, thing, () => Positioning.positionWithinBounds(sink, sandbox, placementSpec, getBounds()));\n        Representing.setValue(sandbox, Optional.some({\n          mode: 'position',\n          config: placementSpec,\n          getBounds\n        }));\n      };\n      const showMenuAt = (sandbox, placementSpec, menuSpec) => {\n        showMenuWithinBounds(sandbox, placementSpec, menuSpec, Optional.none);\n      };\n      const showMenuWithinBounds = (sandbox, placementSpec, menuSpec, getBounds) => {\n        const menu = makeMenu(detail, sandbox, placementSpec, menuSpec, getBounds);\n        Sandboxing.open(sandbox, menu);\n        Representing.setValue(sandbox, Optional.some({\n          mode: 'menu',\n          menu\n        }));\n      };\n      const hide = sandbox => {\n        if (Sandboxing.isOpen(sandbox)) {\n          Representing.setValue(sandbox, Optional.none());\n          Sandboxing.close(sandbox);\n        }\n      };\n      const getContent = sandbox => Sandboxing.getState(sandbox);\n      const reposition = sandbox => {\n        if (Sandboxing.isOpen(sandbox)) {\n          Representing.getValue(sandbox).each(state => {\n            switch (state.mode) {\n            case 'menu':\n              Sandboxing.getState(sandbox).each(tieredMenu.repositionMenus);\n              break;\n            case 'position':\n              const sink = detail.lazySink(sandbox).getOrDie();\n              Positioning.positionWithinBounds(sink, sandbox, state.config, state.getBounds());\n              break;\n            }\n          });\n        }\n      };\n      const apis = {\n        setContent,\n        showAt,\n        showWithin,\n        showWithinBounds,\n        showMenuAt,\n        showMenuWithinBounds,\n        hide,\n        getContent,\n        reposition,\n        isOpen: Sandboxing.isOpen\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        behaviours: augment(detail.inlineBehaviours, [\n          Sandboxing.config({\n            isPartOf: (sandbox, data, queryElem) => {\n              return isPartOf$1(data, queryElem) || isPartOfRelated(sandbox, queryElem);\n            },\n            getAttachPoint: sandbox => {\n              return detail.lazySink(sandbox).getOrDie();\n            },\n            onOpen: sandbox => {\n              detail.onShow(sandbox);\n            },\n            onClose: sandbox => {\n              detail.onHide(sandbox);\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: Optional.none()\n            }\n          }),\n          Receiving.config({\n            channels: {\n              ...receivingChannel$1({\n                isExtraPart: spec.isExtraPart,\n                ...detail.fireDismissalEventInstead.map(fe => ({ fireEventInstead: { event: fe.event } })).getOr({})\n              }),\n              ...receivingChannel({\n                ...detail.fireRepositionEventInstead.map(fe => ({ fireEventInstead: { event: fe.event } })).getOr({}),\n                doReposition: reposition\n              })\n            }\n          })\n        ]),\n        eventOrder: detail.eventOrder,\n        apis\n      };\n    };\n    const InlineView = single({\n      name: 'InlineView',\n      configFields: [\n        required$1('lazySink'),\n        onHandler('onShow'),\n        onHandler('onHide'),\n        optionFunction('onEscape'),\n        field('inlineBehaviours', [\n          Sandboxing,\n          Representing,\n          Receiving\n        ]),\n        optionObjOf('fireDismissalEventInstead', [defaulted('event', dismissRequested())]),\n        optionObjOf('fireRepositionEventInstead', [defaulted('event', repositionRequested())]),\n        defaulted('getRelated', Optional.none),\n        defaulted('isExtraPart', never),\n        defaulted('eventOrder', Optional.none)\n      ],\n      factory: factory$m,\n      apis: {\n        showAt: (apis, component, anchor, thing) => {\n          apis.showAt(component, anchor, thing);\n        },\n        showWithin: (apis, component, anchor, thing, boxElement) => {\n          apis.showWithin(component, anchor, thing, boxElement);\n        },\n        showWithinBounds: (apis, component, anchor, thing, bounds) => {\n          apis.showWithinBounds(component, anchor, thing, bounds);\n        },\n        showMenuAt: (apis, component, anchor, menuSpec) => {\n          apis.showMenuAt(component, anchor, menuSpec);\n        },\n        showMenuWithinBounds: (apis, component, anchor, menuSpec, bounds) => {\n          apis.showMenuWithinBounds(component, anchor, menuSpec, bounds);\n        },\n        hide: (apis, component) => {\n          apis.hide(component);\n        },\n        isOpen: (apis, component) => apis.isOpen(component),\n        getContent: (apis, component) => apis.getContent(component),\n        setContent: (apis, component, thing) => {\n          apis.setContent(component, thing);\n        },\n        reposition: (apis, component) => {\n          apis.reposition(component);\n        }\n      }\n    });\n\n    var global$9 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    const factory$l = detail => {\n      const events = events$a(detail.action);\n      const tag = detail.dom.tag;\n      const lookupAttr = attr => get$g(detail.dom, 'attributes').bind(attrs => get$g(attrs, attr));\n      const getModAttributes = () => {\n        if (tag === 'button') {\n          const type = lookupAttr('type').getOr('button');\n          const roleAttrs = lookupAttr('role').map(role => ({ role })).getOr({});\n          return {\n            type,\n            ...roleAttrs\n          };\n        } else {\n          const role = lookupAttr('role').getOr('button');\n          return { role };\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: detail.components,\n        events,\n        behaviours: SketchBehaviours.augment(detail.buttonBehaviours, [\n          Focusing.config({}),\n          Keying.config({\n            mode: 'execution',\n            useSpace: true,\n            useEnter: true\n          })\n        ]),\n        domModification: { attributes: getModAttributes() },\n        eventOrder: detail.eventOrder\n      };\n    };\n    const Button = single({\n      name: 'Button',\n      factory: factory$l,\n      configFields: [\n        defaulted('uid', undefined),\n        required$1('dom'),\n        defaulted('components', []),\n        SketchBehaviours.field('buttonBehaviours', [\n          Focusing,\n          Keying\n        ]),\n        option$3('action'),\n        option$3('role'),\n        defaulted('eventOrder', {})\n      ]\n    });\n\n    const record = spec => {\n      const uid = isSketchSpec(spec) && hasNonNullableKey(spec, 'uid') ? spec.uid : generate$5('memento');\n      const get = anyInSystem => anyInSystem.getSystem().getByUid(uid).getOrDie();\n      const getOpt = anyInSystem => anyInSystem.getSystem().getByUid(uid).toOptional();\n      const asSpec = () => ({\n        ...spec,\n        uid\n      });\n      return {\n        get,\n        getOpt,\n        asSpec\n      };\n    };\n\n    var global$8 = tinymce.util.Tools.resolve('tinymce.util.I18n');\n\n    const rtlTransform = {\n      'indent': true,\n      'outdent': true,\n      'table-insert-column-after': true,\n      'table-insert-column-before': true,\n      'paste-column-after': true,\n      'paste-column-before': true,\n      'unordered-list': true,\n      'list-bull-circle': true,\n      'list-bull-default': true,\n      'list-bull-square': true\n    };\n    const defaultIconName = 'temporary-placeholder';\n    const defaultIcon = icons => () => get$g(icons, defaultIconName).getOr('!not found!');\n    const getIconName = (name, icons) => {\n      const lcName = name.toLowerCase();\n      if (global$8.isRtl()) {\n        const rtlName = ensureTrailing(lcName, '-rtl');\n        return has$2(icons, rtlName) ? rtlName : lcName;\n      } else {\n        return lcName;\n      }\n    };\n    const lookupIcon = (name, icons) => get$g(icons, getIconName(name, icons));\n    const get$2 = (name, iconProvider) => {\n      const icons = iconProvider();\n      return lookupIcon(name, icons).getOrThunk(defaultIcon(icons));\n    };\n    const getOr = (name, iconProvider, fallbackIcon) => {\n      const icons = iconProvider();\n      return lookupIcon(name, icons).or(fallbackIcon).getOrThunk(defaultIcon(icons));\n    };\n    const needsRtlTransform = iconName => global$8.isRtl() ? has$2(rtlTransform, iconName) : false;\n    const addFocusableBehaviour = () => config('add-focusable', [runOnAttached(comp => {\n        child(comp.element, 'svg').each(svg => set$9(svg, 'focusable', 'false'));\n      })]);\n    const renderIcon$2 = (spec, iconName, icons, fallbackIcon) => {\n      var _a, _b;\n      const rtlIconClasses = needsRtlTransform(iconName) ? ['tox-icon--flip'] : [];\n      const iconHtml = get$g(icons, getIconName(iconName, icons)).or(fallbackIcon).getOrThunk(defaultIcon(icons));\n      return {\n        dom: {\n          tag: spec.tag,\n          attributes: (_a = spec.attributes) !== null && _a !== void 0 ? _a : {},\n          classes: spec.classes.concat(rtlIconClasses),\n          innerHtml: iconHtml\n        },\n        behaviours: derive$1([\n          ...(_b = spec.behaviours) !== null && _b !== void 0 ? _b : [],\n          addFocusableBehaviour()\n        ])\n      };\n    };\n    const render$3 = (iconName, spec, iconProvider, fallbackIcon = Optional.none()) => renderIcon$2(spec, iconName, iconProvider(), fallbackIcon);\n    const renderFirst = (iconNames, spec, iconProvider) => {\n      const icons = iconProvider();\n      const iconName = find$5(iconNames, name => has$2(icons, getIconName(name, icons)));\n      return renderIcon$2(spec, iconName.getOr(defaultIconName), icons, Optional.none());\n    };\n\n    const notificationIconMap = {\n      success: 'checkmark',\n      error: 'warning',\n      err: 'error',\n      warning: 'warning',\n      warn: 'warning',\n      info: 'info'\n    };\n    const factory$k = detail => {\n      const memBannerText = record({\n        dom: {\n          tag: 'p',\n          innerHtml: detail.translationProvider(detail.text)\n        },\n        behaviours: derive$1([Replacing.config({})])\n      });\n      const renderPercentBar = percent => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-bar'],\n          styles: { width: `${ percent }%` }\n        }\n      });\n      const renderPercentText = percent => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-text'],\n          innerHtml: `${ percent }%`\n        }\n      });\n      const memBannerProgress = record({\n        dom: {\n          tag: 'div',\n          classes: detail.progress ? [\n            'tox-progress-bar',\n            'tox-progress-indicator'\n          ] : ['tox-progress-bar']\n        },\n        components: [\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-bar-container']\n            },\n            components: [renderPercentBar(0)]\n          },\n          renderPercentText(0)\n        ],\n        behaviours: derive$1([Replacing.config({})])\n      });\n      const updateProgress = (comp, percent) => {\n        if (comp.getSystem().isConnected()) {\n          memBannerProgress.getOpt(comp).each(progress => {\n            Replacing.set(progress, [\n              {\n                dom: {\n                  tag: 'div',\n                  classes: ['tox-bar-container']\n                },\n                components: [renderPercentBar(percent)]\n              },\n              renderPercentText(percent)\n            ]);\n          });\n        }\n      };\n      const updateText = (comp, text) => {\n        if (comp.getSystem().isConnected()) {\n          const banner = memBannerText.get(comp);\n          Replacing.set(banner, [text$1(text)]);\n        }\n      };\n      const apis = {\n        updateProgress,\n        updateText\n      };\n      const iconChoices = flatten([\n        detail.icon.toArray(),\n        detail.level.toArray(),\n        detail.level.bind(level => Optional.from(notificationIconMap[level])).toArray()\n      ]);\n      const memButton = record(Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-notification__dismiss',\n            'tox-button',\n            'tox-button--naked',\n            'tox-button--icon'\n          ]\n        },\n        components: [render$3('close', {\n            tag: 'div',\n            classes: ['tox-icon'],\n            attributes: { 'aria-label': detail.translationProvider('Close') }\n          }, detail.iconProvider)],\n        action: comp => {\n          detail.onAction(comp);\n        }\n      }));\n      const notificationIconSpec = renderFirst(iconChoices, {\n        tag: 'div',\n        classes: ['tox-notification__icon']\n      }, detail.iconProvider);\n      const notificationBodySpec = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-notification__body']\n        },\n        components: [memBannerText.asSpec()],\n        behaviours: derive$1([Replacing.config({})])\n      };\n      const components = [\n        notificationIconSpec,\n        notificationBodySpec\n      ];\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'div',\n          attributes: { role: 'alert' },\n          classes: detail.level.map(level => [\n            'tox-notification',\n            'tox-notification--in',\n            `tox-notification--${ level }`\n          ]).getOr([\n            'tox-notification',\n            'tox-notification--in'\n          ])\n        },\n        behaviours: derive$1([\n          Focusing.config({}),\n          config('notification-events', [run$1(focusin(), comp => {\n              memButton.getOpt(comp).each(Focusing.focus);\n            })])\n        ]),\n        components: components.concat(detail.progress ? [memBannerProgress.asSpec()] : []).concat(!detail.closeButton ? [] : [memButton.asSpec()]),\n        apis\n      };\n    };\n    const Notification = single({\n      name: 'Notification',\n      factory: factory$k,\n      configFields: [\n        option$3('level'),\n        required$1('progress'),\n        option$3('icon'),\n        required$1('onAction'),\n        required$1('text'),\n        required$1('iconProvider'),\n        required$1('translationProvider'),\n        defaultedBoolean('closeButton', true)\n      ],\n      apis: {\n        updateProgress: (apis, comp, percent) => {\n          apis.updateProgress(comp, percent);\n        },\n        updateText: (apis, comp, text) => {\n          apis.updateText(comp, text);\n        }\n      }\n    });\n\n    var NotificationManagerImpl = (editor, extras, uiMothership) => {\n      const sharedBackstage = extras.backstage.shared;\n      const getBounds = () => {\n        const contentArea = box$1(SugarElement.fromDom(editor.getContentAreaContainer()));\n        const win$1 = win();\n        const x = clamp(win$1.x, contentArea.x, contentArea.right);\n        const y = clamp(win$1.y, contentArea.y, contentArea.bottom);\n        const right = Math.max(contentArea.right, win$1.right);\n        const bottom = Math.max(contentArea.bottom, win$1.bottom);\n        return Optional.some(bounds(x, y, right - x, bottom - y));\n      };\n      const open = (settings, closeCallback) => {\n        const close = () => {\n          closeCallback();\n          InlineView.hide(notificationWrapper);\n        };\n        const notification = build$1(Notification.sketch({\n          text: settings.text,\n          level: contains$2([\n            'success',\n            'error',\n            'warning',\n            'warn',\n            'info'\n          ], settings.type) ? settings.type : undefined,\n          progress: settings.progressBar === true,\n          icon: settings.icon,\n          closeButton: settings.closeButton,\n          onAction: close,\n          iconProvider: sharedBackstage.providers.icons,\n          translationProvider: sharedBackstage.providers.translate\n        }));\n        const notificationWrapper = build$1(InlineView.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-notifications-container']\n          },\n          lazySink: sharedBackstage.getSink,\n          fireDismissalEventInstead: {},\n          ...sharedBackstage.header.isPositionedAtTop() ? {} : { fireRepositionEventInstead: {} }\n        }));\n        uiMothership.add(notificationWrapper);\n        if (isNumber(settings.timeout) && settings.timeout > 0) {\n          global$9.setEditorTimeout(editor, () => {\n            close();\n          }, settings.timeout);\n        }\n        const reposition = () => {\n          const notificationSpec = premade(notification);\n          const anchorOverrides = { maxHeightFunction: expandable$1() };\n          const allNotifications = editor.notificationManager.getNotifications();\n          if (allNotifications[0] === thisNotification) {\n            const anchor = {\n              ...sharedBackstage.anchors.banner(),\n              overrides: anchorOverrides\n            };\n            InlineView.showWithinBounds(notificationWrapper, notificationSpec, { anchor }, getBounds);\n          } else {\n            indexOf(allNotifications, thisNotification).each(idx => {\n              const previousNotification = allNotifications[idx - 1].getEl();\n              const nodeAnchor = {\n                type: 'node',\n                root: body(),\n                node: Optional.some(SugarElement.fromDom(previousNotification)),\n                overrides: anchorOverrides,\n                layouts: {\n                  onRtl: () => [south$2],\n                  onLtr: () => [south$2]\n                }\n              };\n              InlineView.showWithinBounds(notificationWrapper, notificationSpec, { anchor: nodeAnchor }, getBounds);\n            });\n          }\n        };\n        const thisNotification = {\n          close,\n          reposition,\n          text: nuText => {\n            Notification.updateText(notification, nuText);\n          },\n          settings,\n          getEl: () => notification.element.dom,\n          progressBar: {\n            value: percent => {\n              Notification.updateProgress(notification, percent);\n            }\n          }\n        };\n        return thisNotification;\n      };\n      const close = notification => {\n        notification.close();\n      };\n      const getArgs = notification => {\n        return notification.settings;\n      };\n      return {\n        open,\n        close,\n        getArgs\n      };\n    };\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.EditorManager');\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var ToolbarMode$1;\n    (function (ToolbarMode) {\n      ToolbarMode['default'] = 'wrap';\n      ToolbarMode['floating'] = 'floating';\n      ToolbarMode['sliding'] = 'sliding';\n      ToolbarMode['scrolling'] = 'scrolling';\n    }(ToolbarMode$1 || (ToolbarMode$1 = {})));\n    var ToolbarLocation$1;\n    (function (ToolbarLocation) {\n      ToolbarLocation['auto'] = 'auto';\n      ToolbarLocation['top'] = 'top';\n      ToolbarLocation['bottom'] = 'bottom';\n    }(ToolbarLocation$1 || (ToolbarLocation$1 = {})));\n    const option$2 = name => editor => editor.options.get(name);\n    const wrapOptional = fn => editor => Optional.from(fn(editor));\n    const register$e = editor => {\n      const isPhone = global$5.deviceType.isPhone();\n      const isMobile = global$5.deviceType.isTablet() || isPhone;\n      const registerOption = editor.options.register;\n      const stringOrFalseProcessor = value => isString(value) || value === false;\n      const stringOrNumberProcessor = value => isString(value) || isNumber(value);\n      registerOption('skin', {\n        processor: value => isString(value) || value === false,\n        default: 'oxide'\n      });\n      registerOption('skin_url', { processor: 'string' });\n      registerOption('height', {\n        processor: stringOrNumberProcessor,\n        default: Math.max(editor.getElement().offsetHeight, 400)\n      });\n      registerOption('width', {\n        processor: stringOrNumberProcessor,\n        default: global$7.DOM.getStyle(editor.getElement(), 'width')\n      });\n      registerOption('min_height', {\n        processor: 'number',\n        default: 100\n      });\n      registerOption('min_width', { processor: 'number' });\n      registerOption('max_height', { processor: 'number' });\n      registerOption('max_width', { processor: 'number' });\n      registerOption('style_formats', { processor: 'object[]' });\n      registerOption('style_formats_merge', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('style_formats_autohide', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('line_height_formats', {\n        processor: 'string',\n        default: '1 1.1 1.2 1.3 1.4 1.5 2'\n      });\n      registerOption('font_family_formats', {\n        processor: 'string',\n        default: 'Andale Mono=andale mono,monospace;' + 'Arial=arial,helvetica,sans-serif;' + 'Arial Black=arial black,sans-serif;' + 'Book Antiqua=book antiqua,palatino,serif;' + 'Comic Sans MS=comic sans ms,sans-serif;' + 'Courier New=courier new,courier,monospace;' + 'Georgia=georgia,palatino,serif;' + 'Helvetica=helvetica,arial,sans-serif;' + 'Impact=impact,sans-serif;' + 'Symbol=symbol;' + 'Tahoma=tahoma,arial,helvetica,sans-serif;' + 'Terminal=terminal,monaco,monospace;' + 'Times New Roman=times new roman,times,serif;' + 'Trebuchet MS=trebuchet ms,geneva,sans-serif;' + 'Verdana=verdana,geneva,sans-serif;' + 'Webdings=webdings;' + 'Wingdings=wingdings,zapf dingbats'\n      });\n      registerOption('font_size_formats', {\n        processor: 'string',\n        default: '8pt 10pt 12pt 14pt 18pt 24pt 36pt'\n      });\n      registerOption('block_formats', {\n        processor: 'string',\n        default: 'Paragraph=p;' + 'Heading 1=h1;' + 'Heading 2=h2;' + 'Heading 3=h3;' + 'Heading 4=h4;' + 'Heading 5=h5;' + 'Heading 6=h6;' + 'Preformatted=pre'\n      });\n      registerOption('content_langs', { processor: 'object[]' });\n      registerOption('removed_menuitems', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('menubar', {\n        processor: value => isString(value) || isBoolean(value),\n        default: !isPhone\n      });\n      registerOption('menu', {\n        processor: 'object',\n        default: {}\n      });\n      registerOption('toolbar', {\n        processor: value => {\n          if (isBoolean(value) || isString(value) || isArray(value)) {\n            return {\n              value,\n              valid: true\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be a boolean, string or array.'\n            };\n          }\n        },\n        default: true\n      });\n      range$2(9, num => {\n        registerOption('toolbar' + (num + 1), { processor: 'string' });\n      });\n      registerOption('toolbar_mode', {\n        processor: 'string',\n        default: isMobile ? 'scrolling' : 'floating'\n      });\n      registerOption('toolbar_groups', {\n        processor: 'object',\n        default: {}\n      });\n      registerOption('toolbar_location', {\n        processor: 'string',\n        default: ToolbarLocation$1.auto\n      });\n      registerOption('toolbar_persist', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('toolbar_sticky', {\n        processor: 'boolean',\n        default: editor.inline\n      });\n      registerOption('toolbar_sticky_offset', {\n        processor: 'number',\n        default: 0\n      });\n      registerOption('fixed_toolbar_container', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('fixed_toolbar_container_target', { processor: 'object' });\n      registerOption('file_picker_callback', { processor: 'function' });\n      registerOption('file_picker_validator_handler', { processor: 'function' });\n      registerOption('file_picker_types', { processor: 'string' });\n      registerOption('typeahead_urls', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('anchor_top', {\n        processor: stringOrFalseProcessor,\n        default: '#top'\n      });\n      registerOption('anchor_bottom', {\n        processor: stringOrFalseProcessor,\n        default: '#bottom'\n      });\n      registerOption('draggable_modal', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('statusbar', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('elementpath', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('branding', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('promotion', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('resize', {\n        processor: value => value === 'both' || isBoolean(value),\n        default: !global$5.deviceType.isTouch()\n      });\n      registerOption('sidebar_show', { processor: 'string' });\n    };\n    const isReadOnly = option$2('readonly');\n    const getHeightOption = option$2('height');\n    const getWidthOption = option$2('width');\n    const getMinWidthOption = wrapOptional(option$2('min_width'));\n    const getMinHeightOption = wrapOptional(option$2('min_height'));\n    const getMaxWidthOption = wrapOptional(option$2('max_width'));\n    const getMaxHeightOption = wrapOptional(option$2('max_height'));\n    const getUserStyleFormats = wrapOptional(option$2('style_formats'));\n    const shouldMergeStyleFormats = option$2('style_formats_merge');\n    const shouldAutoHideStyleFormats = option$2('style_formats_autohide');\n    const getContentLanguages = option$2('content_langs');\n    const getRemovedMenuItems = option$2('removed_menuitems');\n    const getToolbarMode = option$2('toolbar_mode');\n    const getToolbarGroups = option$2('toolbar_groups');\n    const getToolbarLocation = option$2('toolbar_location');\n    const fixedContainerSelector = option$2('fixed_toolbar_container');\n    const fixedToolbarContainerTarget = option$2('fixed_toolbar_container_target');\n    const isToolbarPersist = option$2('toolbar_persist');\n    const getStickyToolbarOffset = option$2('toolbar_sticky_offset');\n    const getMenubar = option$2('menubar');\n    const getToolbar = option$2('toolbar');\n    const getFilePickerCallback = option$2('file_picker_callback');\n    const getFilePickerValidatorHandler = option$2('file_picker_validator_handler');\n    const getFilePickerTypes = option$2('file_picker_types');\n    const useTypeaheadUrls = option$2('typeahead_urls');\n    const getAnchorTop = option$2('anchor_top');\n    const getAnchorBottom = option$2('anchor_bottom');\n    const isDraggableModal$1 = option$2('draggable_modal');\n    const useStatusBar = option$2('statusbar');\n    const useElementPath = option$2('elementpath');\n    const useBranding = option$2('branding');\n    const getResize = option$2('resize');\n    const getPasteAsText = option$2('paste_as_text');\n    const getSidebarShow = option$2('sidebar_show');\n    const promotionEnabled = option$2('promotion');\n    const isSkinDisabled = editor => editor.options.get('skin') === false;\n    const isMenubarEnabled = editor => editor.options.get('menubar') !== false;\n    const getSkinUrl = editor => {\n      const skinUrl = editor.options.get('skin_url');\n      if (isSkinDisabled(editor)) {\n        return skinUrl;\n      } else {\n        if (skinUrl) {\n          return editor.documentBaseURI.toAbsolute(skinUrl);\n        } else {\n          const skin = editor.options.get('skin');\n          return global$6.baseURL + '/skins/ui/' + skin;\n        }\n      }\n    };\n    const getLineHeightFormats = editor => editor.options.get('line_height_formats').split(' ');\n    const isToolbarEnabled = editor => {\n      const toolbar = getToolbar(editor);\n      const isToolbarString = isString(toolbar);\n      const isToolbarObjectArray = isArray(toolbar) && toolbar.length > 0;\n      return !isMultipleToolbars(editor) && (isToolbarObjectArray || isToolbarString || toolbar === true);\n    };\n    const getMultipleToolbarsOption = editor => {\n      const toolbars = range$2(9, num => editor.options.get('toolbar' + (num + 1)));\n      const toolbarArray = filter$2(toolbars, isString);\n      return someIf(toolbarArray.length > 0, toolbarArray);\n    };\n    const isMultipleToolbars = editor => getMultipleToolbarsOption(editor).fold(() => {\n      const toolbar = getToolbar(editor);\n      return isArrayOf(toolbar, isString) && toolbar.length > 0;\n    }, always);\n    const isToolbarLocationBottom = editor => getToolbarLocation(editor) === ToolbarLocation$1.bottom;\n    const fixedContainerTarget = editor => {\n      var _a;\n      if (!editor.inline) {\n        return Optional.none();\n      }\n      const selector = (_a = fixedContainerSelector(editor)) !== null && _a !== void 0 ? _a : '';\n      if (selector.length > 0) {\n        return descendant(body(), selector);\n      }\n      const element = fixedToolbarContainerTarget(editor);\n      if (isNonNullable(element)) {\n        return Optional.some(SugarElement.fromDom(element));\n      }\n      return Optional.none();\n    };\n    const useFixedContainer = editor => editor.inline && fixedContainerTarget(editor).isSome();\n    const getUiContainer = editor => {\n      const fixedContainer = fixedContainerTarget(editor);\n      return fixedContainer.getOrThunk(() => getContentContainer(getRootNode(SugarElement.fromDom(editor.getElement()))));\n    };\n    const isDistractionFree = editor => editor.inline && !isMenubarEnabled(editor) && !isToolbarEnabled(editor) && !isMultipleToolbars(editor);\n    const isStickyToolbar = editor => {\n      const isStickyToolbar = editor.options.get('toolbar_sticky');\n      return (isStickyToolbar || editor.inline) && !useFixedContainer(editor) && !isDistractionFree(editor);\n    };\n    const getMenus = editor => {\n      const menu = editor.options.get('menu');\n      return map$1(menu, menu => ({\n        ...menu,\n        items: menu.items\n      }));\n    };\n\n    var Options = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        get ToolbarMode () { return ToolbarMode$1; },\n        get ToolbarLocation () { return ToolbarLocation$1; },\n        register: register$e,\n        getSkinUrl: getSkinUrl,\n        isReadOnly: isReadOnly,\n        isSkinDisabled: isSkinDisabled,\n        getHeightOption: getHeightOption,\n        getWidthOption: getWidthOption,\n        getMinWidthOption: getMinWidthOption,\n        getMinHeightOption: getMinHeightOption,\n        getMaxWidthOption: getMaxWidthOption,\n        getMaxHeightOption: getMaxHeightOption,\n        getUserStyleFormats: getUserStyleFormats,\n        shouldMergeStyleFormats: shouldMergeStyleFormats,\n        shouldAutoHideStyleFormats: shouldAutoHideStyleFormats,\n        getLineHeightFormats: getLineHeightFormats,\n        getContentLanguages: getContentLanguages,\n        getRemovedMenuItems: getRemovedMenuItems,\n        isMenubarEnabled: isMenubarEnabled,\n        isMultipleToolbars: isMultipleToolbars,\n        isToolbarEnabled: isToolbarEnabled,\n        isToolbarPersist: isToolbarPersist,\n        getMultipleToolbarsOption: getMultipleToolbarsOption,\n        getUiContainer: getUiContainer,\n        useFixedContainer: useFixedContainer,\n        getToolbarMode: getToolbarMode,\n        isDraggableModal: isDraggableModal$1,\n        isDistractionFree: isDistractionFree,\n        isStickyToolbar: isStickyToolbar,\n        getStickyToolbarOffset: getStickyToolbarOffset,\n        getToolbarLocation: getToolbarLocation,\n        isToolbarLocationBottom: isToolbarLocationBottom,\n        getToolbarGroups: getToolbarGroups,\n        getMenus: getMenus,\n        getMenubar: getMenubar,\n        getToolbar: getToolbar,\n        getFilePickerCallback: getFilePickerCallback,\n        getFilePickerTypes: getFilePickerTypes,\n        useTypeaheadUrls: useTypeaheadUrls,\n        getAnchorTop: getAnchorTop,\n        getAnchorBottom: getAnchorBottom,\n        getFilePickerValidatorHandler: getFilePickerValidatorHandler,\n        useStatusBar: useStatusBar,\n        useElementPath: useElementPath,\n        promotionEnabled: promotionEnabled,\n        useBranding: useBranding,\n        getResize: getResize,\n        getPasteAsText: getPasteAsText,\n        getSidebarShow: getSidebarShow\n    });\n\n    const autocompleteSelector = '[data-mce-autocompleter]';\n    const detect = elm => closest$1(elm, autocompleteSelector);\n    const findIn = elm => descendant(elm, autocompleteSelector);\n\n    const setup$e = (api, editor) => {\n      const redirectKeyToItem = (item, e) => {\n        emitWith(item, keydown(), { raw: e });\n      };\n      const getItem = () => api.getMenu().bind(Highlighting.getHighlighted);\n      editor.on('keydown', e => {\n        const keyCode = e.which;\n        if (!api.isActive()) {\n          return;\n        }\n        if (api.isMenuOpen()) {\n          if (keyCode === 13) {\n            getItem().each(emitExecute);\n            e.preventDefault();\n          } else if (keyCode === 40) {\n            getItem().fold(() => {\n              api.getMenu().each(Highlighting.highlightFirst);\n            }, item => {\n              redirectKeyToItem(item, e);\n            });\n            e.preventDefault();\n            e.stopImmediatePropagation();\n          } else if (keyCode === 37 || keyCode === 38 || keyCode === 39) {\n            getItem().each(item => {\n              redirectKeyToItem(item, e);\n              e.preventDefault();\n              e.stopImmediatePropagation();\n            });\n          }\n        } else {\n          if (keyCode === 13 || keyCode === 38 || keyCode === 40) {\n            api.cancelIfNecessary();\n          }\n        }\n      });\n      editor.on('NodeChange', e => {\n        if (api.isActive() && !api.isProcessingAction() && detect(SugarElement.fromDom(e.element)).isNone()) {\n          api.cancelIfNecessary();\n        }\n      });\n    };\n    const AutocompleterEditorEvents = { setup: setup$e };\n\n    var ItemResponse;\n    (function (ItemResponse) {\n      ItemResponse[ItemResponse['CLOSE_ON_EXECUTE'] = 0] = 'CLOSE_ON_EXECUTE';\n      ItemResponse[ItemResponse['BUBBLE_TO_SANDBOX'] = 1] = 'BUBBLE_TO_SANDBOX';\n    }(ItemResponse || (ItemResponse = {})));\n    var ItemResponse$1 = ItemResponse;\n\n    const navClass = 'tox-menu-nav__js';\n    const selectableClass = 'tox-collection__item';\n    const colorClass = 'tox-swatch';\n    const presetClasses = {\n      normal: navClass,\n      color: colorClass\n    };\n    const tickedClass = 'tox-collection__item--enabled';\n    const groupHeadingClass = 'tox-collection__group-heading';\n    const iconClass = 'tox-collection__item-icon';\n    const textClass = 'tox-collection__item-label';\n    const accessoryClass = 'tox-collection__item-accessory';\n    const caretClass = 'tox-collection__item-caret';\n    const checkmarkClass = 'tox-collection__item-checkmark';\n    const activeClass = 'tox-collection__item--active';\n    const containerClass = 'tox-collection__item-container';\n    const containerColumnClass = 'tox-collection__item-container--column';\n    const containerRowClass = 'tox-collection__item-container--row';\n    const containerAlignRightClass = 'tox-collection__item-container--align-right';\n    const containerAlignLeftClass = 'tox-collection__item-container--align-left';\n    const containerValignTopClass = 'tox-collection__item-container--valign-top';\n    const containerValignMiddleClass = 'tox-collection__item-container--valign-middle';\n    const containerValignBottomClass = 'tox-collection__item-container--valign-bottom';\n    const classForPreset = presets => get$g(presetClasses, presets).getOr(navClass);\n\n    const forMenu = presets => {\n      if (presets === 'color') {\n        return 'tox-swatches';\n      } else {\n        return 'tox-menu';\n      }\n    };\n    const classes = presets => ({\n      backgroundMenu: 'tox-background-menu',\n      selectedMenu: 'tox-selected-menu',\n      selectedItem: 'tox-collection__item--active',\n      hasIcons: 'tox-menu--has-icons',\n      menu: forMenu(presets),\n      tieredMenu: 'tox-tiered-menu'\n    });\n\n    const markers = presets => {\n      const menuClasses = classes(presets);\n      return {\n        backgroundMenu: menuClasses.backgroundMenu,\n        selectedMenu: menuClasses.selectedMenu,\n        menu: menuClasses.menu,\n        selectedItem: menuClasses.selectedItem,\n        item: classForPreset(presets)\n      };\n    };\n    const dom$1 = (hasIcons, columns, presets) => {\n      const menuClasses = classes(presets);\n      return {\n        tag: 'div',\n        classes: flatten([\n          [\n            menuClasses.menu,\n            `tox-menu-${ columns }-column`\n          ],\n          hasIcons ? [menuClasses.hasIcons] : []\n        ])\n      };\n    };\n    const components = [Menu.parts.items({})];\n    const part = (hasIcons, columns, presets) => {\n      const menuClasses = classes(presets);\n      const d = {\n        tag: 'div',\n        classes: flatten([[menuClasses.tieredMenu]])\n      };\n      return {\n        dom: d,\n        markers: markers(presets)\n      };\n    };\n\n    const schema$l = constant$1([\n      option$3('data'),\n      defaulted('inputAttributes', {}),\n      defaulted('inputStyles', {}),\n      defaulted('tag', 'input'),\n      defaulted('inputClasses', []),\n      onHandler('onSetValue'),\n      defaulted('styles', {}),\n      defaulted('eventOrder', {}),\n      field('inputBehaviours', [\n        Representing,\n        Focusing\n      ]),\n      defaulted('selectOnFocus', true)\n    ]);\n    const focusBehaviours = detail => derive$1([Focusing.config({\n        onFocus: !detail.selectOnFocus ? noop : component => {\n          const input = component.element;\n          const value = get$6(input);\n          input.dom.setSelectionRange(0, value.length);\n        }\n      })]);\n    const behaviours = detail => ({\n      ...focusBehaviours(detail),\n      ...augment(detail.inputBehaviours, [Representing.config({\n          store: {\n            mode: 'manual',\n            ...detail.data.map(data => ({ initialValue: data })).getOr({}),\n            getValue: input => {\n              return get$6(input.element);\n            },\n            setValue: (input, data) => {\n              const current = get$6(input.element);\n              if (current !== data) {\n                set$5(input.element, data);\n              }\n            }\n          },\n          onSetValue: detail.onSetValue\n        })])\n    });\n    const dom = detail => ({\n      tag: detail.tag,\n      attributes: {\n        type: 'text',\n        ...detail.inputAttributes\n      },\n      styles: detail.inputStyles,\n      classes: detail.inputClasses\n    });\n\n    const factory$j = (detail, _spec) => ({\n      uid: detail.uid,\n      dom: dom(detail),\n      components: [],\n      behaviours: behaviours(detail),\n      eventOrder: detail.eventOrder\n    });\n    const Input = single({\n      name: 'Input',\n      configFields: schema$l(),\n      factory: factory$j\n    });\n\n    const refetchTriggerEvent = generate$6('refetch-trigger-event');\n    const redirectMenuItemInteractionEvent = generate$6('redirect-menu-item-interaction');\n\n    const menuSearcherClass = 'tox-menu__searcher';\n    const findWithinSandbox = sandboxComp => {\n      return descendant(sandboxComp.element, `.${ menuSearcherClass }`).bind(inputElem => sandboxComp.getSystem().getByDom(inputElem).toOptional());\n    };\n    const findWithinMenu = findWithinSandbox;\n    const restoreState = (inputComp, searcherState) => {\n      Representing.setValue(inputComp, searcherState.fetchPattern);\n      inputComp.element.dom.selectionStart = searcherState.selectionStart;\n      inputComp.element.dom.selectionEnd = searcherState.selectionEnd;\n    };\n    const saveState = inputComp => {\n      const fetchPattern = Representing.getValue(inputComp);\n      const selectionStart = inputComp.element.dom.selectionStart;\n      const selectionEnd = inputComp.element.dom.selectionEnd;\n      return {\n        fetchPattern,\n        selectionStart,\n        selectionEnd\n      };\n    };\n    const setActiveDescendant = (inputComp, active) => {\n      getOpt(active.element, 'id').each(id => set$9(inputComp.element, 'aria-activedescendant', id));\n    };\n    const renderMenuSearcher = spec => {\n      const handleByBrowser = (comp, se) => {\n        se.cut();\n        return Optional.none();\n      };\n      const handleByHighlightedItem = (comp, se) => {\n        const eventData = {\n          interactionEvent: se.event,\n          eventType: se.event.raw.type\n        };\n        emitWith(comp, redirectMenuItemInteractionEvent, eventData);\n        return Optional.some(true);\n      };\n      const customSearcherEventsName = 'searcher-events';\n      return {\n        dom: {\n          tag: 'div',\n          classes: [selectableClass]\n        },\n        components: [Input.sketch({\n            inputClasses: [\n              menuSearcherClass,\n              'tox-textfield'\n            ],\n            inputAttributes: {\n              ...spec.placeholder.map(placeholder => ({ placeholder: spec.i18n(placeholder) })).getOr({}),\n              'type': 'search',\n              'aria-autocomplete': 'list'\n            },\n            inputBehaviours: derive$1([\n              config(customSearcherEventsName, [\n                run$1(input(), inputComp => {\n                  emit(inputComp, refetchTriggerEvent);\n                }),\n                run$1(keydown(), (inputComp, se) => {\n                  if (se.event.raw.key === 'Escape') {\n                    se.stop();\n                  }\n                })\n              ]),\n              Keying.config({\n                mode: 'special',\n                onLeft: handleByBrowser,\n                onRight: handleByBrowser,\n                onSpace: handleByBrowser,\n                onEnter: handleByHighlightedItem,\n                onEscape: handleByHighlightedItem,\n                onUp: handleByHighlightedItem,\n                onDown: handleByHighlightedItem\n              })\n            ]),\n            eventOrder: {\n              keydown: [\n                customSearcherEventsName,\n                Keying.name()\n              ]\n            }\n          })]\n      };\n    };\n\n    const searchResultsClass = 'tox-collection--results__js';\n    const augmentWithAria = item => {\n      var _a;\n      if (item.dom) {\n        return {\n          ...item,\n          dom: {\n            ...item.dom,\n            attributes: {\n              ...(_a = item.dom.attributes) !== null && _a !== void 0 ? _a : {},\n              'id': generate$6('aria-item-search-result-id'),\n              'aria-selected': 'false'\n            }\n          }\n        };\n      } else {\n        return item;\n      }\n    };\n\n    const chunk = (rowDom, numColumns) => items => {\n      const chunks = chunk$1(items, numColumns);\n      return map$2(chunks, c => ({\n        dom: rowDom,\n        components: c\n      }));\n    };\n    const forSwatch = columns => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-menu',\n          'tox-swatches-menu'\n        ]\n      },\n      components: [{\n          dom: {\n            tag: 'div',\n            classes: ['tox-swatches']\n          },\n          components: [Menu.parts.items({\n              preprocess: columns !== 'auto' ? chunk({\n                tag: 'div',\n                classes: ['tox-swatches__row']\n              }, columns) : identity\n            })]\n        }]\n    });\n    const forToolbar = columns => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-menu',\n          'tox-collection',\n          'tox-collection--toolbar',\n          'tox-collection--toolbar-lg'\n        ]\n      },\n      components: [Menu.parts.items({\n          preprocess: chunk({\n            tag: 'div',\n            classes: ['tox-collection__group']\n          }, columns)\n        })]\n    });\n    const preprocessCollection = (items, isSeparator) => {\n      const allSplits = [];\n      let currentSplit = [];\n      each$1(items, (item, i) => {\n        if (isSeparator(item, i)) {\n          if (currentSplit.length > 0) {\n            allSplits.push(currentSplit);\n          }\n          currentSplit = [];\n          if (has$2(item.dom, 'innerHtml') || item.components && item.components.length > 0) {\n            currentSplit.push(item);\n          }\n        } else {\n          currentSplit.push(item);\n        }\n      });\n      if (currentSplit.length > 0) {\n        allSplits.push(currentSplit);\n      }\n      return map$2(allSplits, s => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-collection__group']\n        },\n        components: s\n      }));\n    };\n    const insertItemsPlaceholder = (columns, initItems, onItem) => {\n      return Menu.parts.items({\n        preprocess: rawItems => {\n          const enrichedItems = map$2(rawItems, onItem);\n          if (columns !== 'auto' && columns > 1) {\n            return chunk({\n              tag: 'div',\n              classes: ['tox-collection__group']\n            }, columns)(enrichedItems);\n          } else {\n            return preprocessCollection(enrichedItems, (_item, i) => initItems[i].type === 'separator');\n          }\n        }\n      });\n    };\n    const forCollection = (columns, initItems, _hasIcons = true) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-menu',\n          'tox-collection'\n        ].concat(columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid'])\n      },\n      components: [insertItemsPlaceholder(columns, initItems, identity)]\n    });\n    const forCollectionWithSearchResults = (columns, initItems, _hasIcons = true) => {\n      const ariaControlsSearchResults = generate$6('aria-controls-search-results');\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-collection',\n            searchResultsClass\n          ].concat(columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid']),\n          attributes: { id: ariaControlsSearchResults }\n        },\n        components: [insertItemsPlaceholder(columns, initItems, augmentWithAria)]\n      };\n    };\n    const forCollectionWithSearchField = (columns, initItems, searchField) => {\n      const ariaControlsSearchResults = generate$6('aria-controls-search-results');\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-collection'\n          ].concat(columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid'])\n        },\n        components: [\n          renderMenuSearcher({\n            i18n: global$8.translate,\n            placeholder: searchField.placeholder\n          }),\n          {\n            dom: {\n              tag: 'div',\n              classes: [\n                ...columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid'],\n                searchResultsClass\n              ],\n              attributes: { id: ariaControlsSearchResults }\n            },\n            components: [insertItemsPlaceholder(columns, initItems, augmentWithAria)]\n          }\n        ]\n      };\n    };\n    const forHorizontalCollection = (initItems, _hasIcons = true) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-collection',\n          'tox-collection--horizontal'\n        ]\n      },\n      components: [Menu.parts.items({ preprocess: items => preprocessCollection(items, (_item, i) => initItems[i].type === 'separator') })]\n    });\n\n    const menuHasIcons = xs => exists(xs, item => 'icon' in item && item.icon !== undefined);\n    const handleError = error => {\n      console.error(formatError(error));\n      console.log(error);\n      return Optional.none();\n    };\n    const createHorizontalPartialMenuWithAlloyItems = (value, _hasIcons, items, _columns, _menuLayout) => {\n      const structure = forHorizontalCollection(items);\n      return {\n        value,\n        dom: structure.dom,\n        components: structure.components,\n        items\n      };\n    };\n    const createPartialMenuWithAlloyItems = (value, hasIcons, items, columns, menuLayout) => {\n      const getNormalStructure = () => {\n        if (menuLayout.menuType !== 'searchable') {\n          return forCollection(columns, items);\n        } else {\n          return menuLayout.searchMode.searchMode === 'search-with-field' ? forCollectionWithSearchField(columns, items, menuLayout.searchMode) : forCollectionWithSearchResults(columns, items);\n        }\n      };\n      if (menuLayout.menuType === 'color') {\n        const structure = forSwatch(columns);\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      } else if (menuLayout.menuType === 'normal' && columns === 'auto') {\n        const structure = forCollection(columns, items);\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      } else if (menuLayout.menuType === 'normal' || menuLayout.menuType === 'searchable') {\n        const structure = getNormalStructure();\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      } else if (menuLayout.menuType === 'listpreview' && columns !== 'auto') {\n        const structure = forToolbar(columns);\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      } else {\n        return {\n          value,\n          dom: dom$1(hasIcons, columns, menuLayout.menuType),\n          components: components,\n          items\n        };\n      }\n    };\n\n    const type = requiredString('type');\n    const name$1 = requiredString('name');\n    const label = requiredString('label');\n    const text = requiredString('text');\n    const title = requiredString('title');\n    const icon = requiredString('icon');\n    const value$1 = requiredString('value');\n    const fetch$1 = requiredFunction('fetch');\n    const getSubmenuItems = requiredFunction('getSubmenuItems');\n    const onAction = requiredFunction('onAction');\n    const onItemAction = requiredFunction('onItemAction');\n    const onSetup = defaultedFunction('onSetup', () => noop);\n    const optionalName = optionString('name');\n    const optionalText = optionString('text');\n    const optionalIcon = optionString('icon');\n    const optionalTooltip = optionString('tooltip');\n    const optionalLabel = optionString('label');\n    const optionalShortcut = optionString('shortcut');\n    const optionalSelect = optionFunction('select');\n    const active = defaultedBoolean('active', false);\n    const borderless = defaultedBoolean('borderless', false);\n    const enabled = defaultedBoolean('enabled', true);\n    const primary = defaultedBoolean('primary', false);\n    const defaultedColumns = num => defaulted('columns', num);\n    const defaultedMeta = defaulted('meta', {});\n    const defaultedOnAction = defaultedFunction('onAction', noop);\n    const defaultedType = type => defaultedString('type', type);\n    const generatedName = namePrefix => field$1('name', 'name', defaultedThunk(() => generate$6(`${ namePrefix }-name`)), string);\n    const generatedValue = valuePrefix => field$1('value', 'value', defaultedThunk(() => generate$6(`${ valuePrefix }-value`)), anyValue());\n\n    const separatorMenuItemSchema = objOf([\n      type,\n      optionalText\n    ]);\n    const createSeparatorMenuItem = spec => asRaw('separatormenuitem', separatorMenuItemSchema, spec);\n\n    const autocompleterItemSchema = objOf([\n      defaultedType('autocompleteitem'),\n      active,\n      enabled,\n      defaultedMeta,\n      value$1,\n      optionalText,\n      optionalIcon\n    ]);\n    const createSeparatorItem = spec => asRaw('Autocompleter.Separator', separatorMenuItemSchema, spec);\n    const createAutocompleterItem = spec => asRaw('Autocompleter.Item', autocompleterItemSchema, spec);\n\n    const baseToolbarButtonFields = [\n      enabled,\n      optionalTooltip,\n      optionalIcon,\n      optionalText,\n      onSetup\n    ];\n    const toolbarButtonSchema = objOf([\n      type,\n      onAction\n    ].concat(baseToolbarButtonFields));\n    const createToolbarButton = spec => asRaw('toolbarbutton', toolbarButtonSchema, spec);\n\n    const baseToolbarToggleButtonFields = [active].concat(baseToolbarButtonFields);\n    const toggleButtonSchema = objOf(baseToolbarToggleButtonFields.concat([\n      type,\n      onAction\n    ]));\n    const createToggleButton = spec => asRaw('ToggleButton', toggleButtonSchema, spec);\n\n    const contextBarFields = [\n      defaultedFunction('predicate', never),\n      defaultedStringEnum('scope', 'node', [\n        'node',\n        'editor'\n      ]),\n      defaultedStringEnum('position', 'selection', [\n        'node',\n        'selection',\n        'line'\n      ])\n    ];\n\n    const contextButtonFields = baseToolbarButtonFields.concat([\n      defaultedType('contextformbutton'),\n      primary,\n      onAction,\n      customField('original', identity)\n    ]);\n    const contextToggleButtonFields = baseToolbarToggleButtonFields.concat([\n      defaultedType('contextformbutton'),\n      primary,\n      onAction,\n      customField('original', identity)\n    ]);\n    const launchButtonFields = baseToolbarButtonFields.concat([defaultedType('contextformbutton')]);\n    const launchToggleButtonFields = baseToolbarToggleButtonFields.concat([defaultedType('contextformtogglebutton')]);\n    const toggleOrNormal = choose$1('type', {\n      contextformbutton: contextButtonFields,\n      contextformtogglebutton: contextToggleButtonFields\n    });\n    const contextFormSchema = objOf([\n      defaultedType('contextform'),\n      defaultedFunction('initValue', constant$1('')),\n      optionalLabel,\n      requiredArrayOf('commands', toggleOrNormal),\n      optionOf('launch', choose$1('type', {\n        contextformbutton: launchButtonFields,\n        contextformtogglebutton: launchToggleButtonFields\n      }))\n    ].concat(contextBarFields));\n    const createContextForm = spec => asRaw('ContextForm', contextFormSchema, spec);\n\n    const contextToolbarSchema = objOf([\n      defaultedType('contexttoolbar'),\n      requiredString('items')\n    ].concat(contextBarFields));\n    const createContextToolbar = spec => asRaw('ContextToolbar', contextToolbarSchema, spec);\n\n    const cardImageFields = [\n      type,\n      requiredString('src'),\n      optionString('alt'),\n      defaultedArrayOf('classes', [], string)\n    ];\n    const cardImageSchema = objOf(cardImageFields);\n\n    const cardTextFields = [\n      type,\n      text,\n      optionalName,\n      defaultedArrayOf('classes', ['tox-collection__item-label'], string)\n    ];\n    const cardTextSchema = objOf(cardTextFields);\n\n    const itemSchema$1 = valueThunk(() => choose$2('type', {\n      cardimage: cardImageSchema,\n      cardtext: cardTextSchema,\n      cardcontainer: cardContainerSchema\n    }));\n    const cardContainerSchema = objOf([\n      type,\n      defaultedString('direction', 'horizontal'),\n      defaultedString('align', 'left'),\n      defaultedString('valign', 'middle'),\n      requiredArrayOf('items', itemSchema$1)\n    ]);\n\n    const commonMenuItemFields = [\n      enabled,\n      optionalText,\n      optionalShortcut,\n      generatedValue('menuitem'),\n      defaultedMeta\n    ];\n\n    const cardMenuItemSchema = objOf([\n      type,\n      optionalLabel,\n      requiredArrayOf('items', itemSchema$1),\n      onSetup,\n      defaultedOnAction\n    ].concat(commonMenuItemFields));\n    const createCardMenuItem = spec => asRaw('cardmenuitem', cardMenuItemSchema, spec);\n\n    const choiceMenuItemSchema = objOf([\n      type,\n      active,\n      optionalIcon\n    ].concat(commonMenuItemFields));\n    const createChoiceMenuItem = spec => asRaw('choicemenuitem', choiceMenuItemSchema, spec);\n\n    const baseFields = [\n      type,\n      requiredString('fancytype'),\n      defaultedOnAction\n    ];\n    const insertTableFields = [defaulted('initData', {})].concat(baseFields);\n    const colorSwatchFields = [defaultedObjOf('initData', {}, [\n        defaultedBoolean('allowCustomColors', true),\n        optionArrayOf('colors', anyValue())\n      ])].concat(baseFields);\n    const fancyMenuItemSchema = choose$1('fancytype', {\n      inserttable: insertTableFields,\n      colorswatch: colorSwatchFields\n    });\n    const createFancyMenuItem = spec => asRaw('fancymenuitem', fancyMenuItemSchema, spec);\n\n    const menuItemSchema = objOf([\n      type,\n      onSetup,\n      defaultedOnAction,\n      optionalIcon\n    ].concat(commonMenuItemFields));\n    const createMenuItem = spec => asRaw('menuitem', menuItemSchema, spec);\n\n    const nestedMenuItemSchema = objOf([\n      type,\n      getSubmenuItems,\n      onSetup,\n      optionalIcon\n    ].concat(commonMenuItemFields));\n    const createNestedMenuItem = spec => asRaw('nestedmenuitem', nestedMenuItemSchema, spec);\n\n    const toggleMenuItemSchema = objOf([\n      type,\n      optionalIcon,\n      active,\n      onSetup,\n      onAction\n    ].concat(commonMenuItemFields));\n    const createToggleMenuItem = spec => asRaw('togglemenuitem', toggleMenuItemSchema, spec);\n\n    const detectSize = (comp, margin, selectorClass) => {\n      const descendants$1 = descendants(comp.element, '.' + selectorClass);\n      if (descendants$1.length > 0) {\n        const columnLength = findIndex$1(descendants$1, c => {\n          const thisTop = c.dom.getBoundingClientRect().top;\n          const cTop = descendants$1[0].dom.getBoundingClientRect().top;\n          return Math.abs(thisTop - cTop) > margin;\n        }).getOr(descendants$1.length);\n        return Optional.some({\n          numColumns: columnLength,\n          numRows: Math.ceil(descendants$1.length / columnLength)\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n\n    const namedEvents = (name, handlers) => derive$1([config(name, handlers)]);\n    const unnamedEvents = handlers => namedEvents(generate$6('unnamed-events'), handlers);\n    const SimpleBehaviours = {\n      namedEvents,\n      unnamedEvents\n    };\n\n    const ExclusivityChannel = generate$6('tooltip.exclusive');\n    const ShowTooltipEvent = generate$6('tooltip.show');\n    const HideTooltipEvent = generate$6('tooltip.hide');\n\n    const hideAllExclusive = (component, _tConfig, _tState) => {\n      component.getSystem().broadcastOn([ExclusivityChannel], {});\n    };\n    const setComponents = (component, tConfig, tState, specs) => {\n      tState.getTooltip().each(tooltip => {\n        if (tooltip.getSystem().isConnected()) {\n          Replacing.set(tooltip, specs);\n        }\n      });\n    };\n\n    var TooltippingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        hideAllExclusive: hideAllExclusive,\n        setComponents: setComponents\n    });\n\n    const events$9 = (tooltipConfig, state) => {\n      const hide = comp => {\n        state.getTooltip().each(p => {\n          detach(p);\n          tooltipConfig.onHide(comp, p);\n          state.clearTooltip();\n        });\n        state.clearTimer();\n      };\n      const show = comp => {\n        if (!state.isShowing()) {\n          hideAllExclusive(comp);\n          const sink = tooltipConfig.lazySink(comp).getOrDie();\n          const popup = comp.getSystem().build({\n            dom: tooltipConfig.tooltipDom,\n            components: tooltipConfig.tooltipComponents,\n            events: derive$2(tooltipConfig.mode === 'normal' ? [\n              run$1(mouseover(), _ => {\n                emit(comp, ShowTooltipEvent);\n              }),\n              run$1(mouseout(), _ => {\n                emit(comp, HideTooltipEvent);\n              })\n            ] : []),\n            behaviours: derive$1([Replacing.config({})])\n          });\n          state.setTooltip(popup);\n          attach(sink, popup);\n          tooltipConfig.onShow(comp, popup);\n          Positioning.position(sink, popup, { anchor: tooltipConfig.anchor(comp) });\n        }\n      };\n      return derive$2(flatten([\n        [\n          run$1(ShowTooltipEvent, comp => {\n            state.resetTimer(() => {\n              show(comp);\n            }, tooltipConfig.delay);\n          }),\n          run$1(HideTooltipEvent, comp => {\n            state.resetTimer(() => {\n              hide(comp);\n            }, tooltipConfig.delay);\n          }),\n          run$1(receive(), (comp, message) => {\n            const receivingData = message;\n            if (!receivingData.universal) {\n              if (contains$2(receivingData.channels, ExclusivityChannel)) {\n                hide(comp);\n              }\n            }\n          }),\n          runOnDetached(comp => {\n            hide(comp);\n          })\n        ],\n        tooltipConfig.mode === 'normal' ? [\n          run$1(focusin(), comp => {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(postBlur(), comp => {\n            emit(comp, HideTooltipEvent);\n          }),\n          run$1(mouseover(), comp => {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(mouseout(), comp => {\n            emit(comp, HideTooltipEvent);\n          })\n        ] : [\n          run$1(highlight$1(), (comp, _se) => {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(dehighlight$1(), comp => {\n            emit(comp, HideTooltipEvent);\n          })\n        ]\n      ]));\n    };\n\n    var ActiveTooltipping = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$9\n    });\n\n    var TooltippingSchema = [\n      required$1('lazySink'),\n      required$1('tooltipDom'),\n      defaulted('exclusive', true),\n      defaulted('tooltipComponents', []),\n      defaulted('delay', 300),\n      defaultedStringEnum('mode', 'normal', [\n        'normal',\n        'follow-highlight'\n      ]),\n      defaulted('anchor', comp => ({\n        type: 'hotspot',\n        hotspot: comp,\n        layouts: {\n          onLtr: constant$1([\n            south$2,\n            north$2,\n            southeast$2,\n            northeast$2,\n            southwest$2,\n            northwest$2\n          ]),\n          onRtl: constant$1([\n            south$2,\n            north$2,\n            southeast$2,\n            northeast$2,\n            southwest$2,\n            northwest$2\n          ])\n        }\n      })),\n      onHandler('onHide'),\n      onHandler('onShow')\n    ];\n\n    const init$b = () => {\n      const timer = value$2();\n      const popup = value$2();\n      const clearTimer = () => {\n        timer.on(clearTimeout);\n      };\n      const resetTimer = (f, delay) => {\n        clearTimer();\n        timer.set(setTimeout(f, delay));\n      };\n      const readState = constant$1('not-implemented');\n      return nu$8({\n        getTooltip: popup.get,\n        isShowing: popup.isSet,\n        setTooltip: popup.set,\n        clearTooltip: popup.clear,\n        clearTimer,\n        resetTimer,\n        readState\n      });\n    };\n\n    var TooltippingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$b\n    });\n\n    const Tooltipping = create$3({\n      fields: TooltippingSchema,\n      name: 'tooltipping',\n      active: ActiveTooltipping,\n      state: TooltippingState,\n      apis: TooltippingApis\n    });\n\n    const escape = text => text.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n\n    const ReadOnlyChannel = 'silver.readonly';\n    const ReadOnlyDataSchema = objOf([requiredBoolean('readonly')]);\n    const broadcastReadonly = (uiComponents, readonly) => {\n      const outerContainer = uiComponents.outerContainer;\n      const target = outerContainer.element;\n      if (readonly) {\n        uiComponents.mothership.broadcastOn([dismissPopups()], { target });\n        uiComponents.uiMothership.broadcastOn([dismissPopups()], { target });\n      }\n      uiComponents.mothership.broadcastOn([ReadOnlyChannel], { readonly });\n      uiComponents.uiMothership.broadcastOn([ReadOnlyChannel], { readonly });\n    };\n    const setupReadonlyModeSwitch = (editor, uiComponents) => {\n      editor.on('init', () => {\n        if (editor.mode.isReadOnly()) {\n          broadcastReadonly(uiComponents, true);\n        }\n      });\n      editor.on('SwitchMode', () => broadcastReadonly(uiComponents, editor.mode.isReadOnly()));\n      if (isReadOnly(editor)) {\n        editor.mode.set('readonly');\n      }\n    };\n    const receivingConfig = () => Receiving.config({\n      channels: {\n        [ReadOnlyChannel]: {\n          schema: ReadOnlyDataSchema,\n          onReceive: (comp, data) => {\n            Disabling.set(comp, data.readonly);\n          }\n        }\n      }\n    });\n\n    const item = disabled => Disabling.config({\n      disabled,\n      disableClass: 'tox-collection__item--state-disabled'\n    });\n    const button = disabled => Disabling.config({ disabled });\n    const splitButton = disabled => Disabling.config({\n      disabled,\n      disableClass: 'tox-tbtn--disabled'\n    });\n    const toolbarButton = disabled => Disabling.config({\n      disabled,\n      disableClass: 'tox-tbtn--disabled',\n      useNative: false\n    });\n    const DisablingConfigs = {\n      item,\n      button,\n      splitButton,\n      toolbarButton\n    };\n\n    const runWithApi = (info, comp) => {\n      const api = info.getApi(comp);\n      return f => {\n        f(api);\n      };\n    };\n    const onControlAttached = (info, editorOffCell) => runOnAttached(comp => {\n      const run = runWithApi(info, comp);\n      run(api => {\n        const onDestroy = info.onSetup(api);\n        if (isFunction(onDestroy)) {\n          editorOffCell.set(onDestroy);\n        }\n      });\n    });\n    const onControlDetached = (getApi, editorOffCell) => runOnDetached(comp => runWithApi(getApi, comp)(editorOffCell.get()));\n\n    const onMenuItemExecute = (info, itemResponse) => runOnExecute$1((comp, simulatedEvent) => {\n      runWithApi(info, comp)(info.onAction);\n      if (!info.triggersSubmenu && itemResponse === ItemResponse$1.CLOSE_ON_EXECUTE) {\n        if (comp.getSystem().isConnected()) {\n          emit(comp, sandboxClose());\n        }\n        simulatedEvent.stop();\n      }\n    });\n    const menuItemEventOrder = {\n      [execute$5()]: [\n        'disabling',\n        'alloy.base.behaviour',\n        'toggling',\n        'item-events'\n      ]\n    };\n\n    const componentRenderPipeline = cat;\n    const renderCommonItem = (spec, structure, itemResponse, providersBackstage) => {\n      const editorOffCell = Cell(noop);\n      return {\n        type: 'item',\n        dom: structure.dom,\n        components: componentRenderPipeline(structure.optComponents),\n        data: spec.data,\n        eventOrder: menuItemEventOrder,\n        hasSubmenu: spec.triggersSubmenu,\n        itemBehaviours: derive$1([\n          config('item-events', [\n            onMenuItemExecute(spec, itemResponse),\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell)\n          ]),\n          DisablingConfigs.item(() => !spec.enabled || providersBackstage.isDisabled()),\n          receivingConfig(),\n          Replacing.config({})\n        ].concat(spec.itemBehaviours))\n      };\n    };\n    const buildData = source => ({\n      value: source.value,\n      meta: {\n        text: source.text.getOr(''),\n        ...source.meta\n      }\n    });\n\n    const convertText = source => {\n      const isMac = global$5.os.isMacOS() || global$5.os.isiOS();\n      const mac = {\n        alt: '\\u2325',\n        ctrl: '\\u2303',\n        shift: '\\u21E7',\n        meta: '\\u2318',\n        access: '\\u2303\\u2325'\n      };\n      const other = {\n        meta: 'Ctrl',\n        access: 'Shift+Alt'\n      };\n      const replace = isMac ? mac : other;\n      const shortcut = source.split('+');\n      const updated = map$2(shortcut, segment => {\n        const search = segment.toLowerCase().trim();\n        return has$2(replace, search) ? replace[search] : segment;\n      });\n      return isMac ? updated.join('') : updated.join('+');\n    };\n\n    const renderIcon$1 = (name, icons, classes = [iconClass]) => render$3(name, {\n      tag: 'div',\n      classes\n    }, icons);\n    const renderText = text => ({\n      dom: {\n        tag: 'div',\n        classes: [textClass]\n      },\n      components: [text$1(global$8.translate(text))]\n    });\n    const renderHtml = (html, classes) => ({\n      dom: {\n        tag: 'div',\n        classes,\n        innerHtml: html\n      }\n    });\n    const renderStyledText = (style, text) => ({\n      dom: {\n        tag: 'div',\n        classes: [textClass]\n      },\n      components: [{\n          dom: {\n            tag: style.tag,\n            styles: style.styles\n          },\n          components: [text$1(global$8.translate(text))]\n        }]\n    });\n    const renderShortcut = shortcut => ({\n      dom: {\n        tag: 'div',\n        classes: [accessoryClass]\n      },\n      components: [text$1(convertText(shortcut))]\n    });\n    const renderCheckmark = icons => renderIcon$1('checkmark', icons, [checkmarkClass]);\n    const renderSubmenuCaret = icons => renderIcon$1('chevron-right', icons, [caretClass]);\n    const renderDownwardsCaret = icons => renderIcon$1('chevron-down', icons, [caretClass]);\n    const renderContainer = (container, components) => {\n      const directionClass = container.direction === 'vertical' ? containerColumnClass : containerRowClass;\n      const alignClass = container.align === 'left' ? containerAlignLeftClass : containerAlignRightClass;\n      const getValignClass = () => {\n        switch (container.valign) {\n        case 'top':\n          return containerValignTopClass;\n        case 'middle':\n          return containerValignMiddleClass;\n        case 'bottom':\n          return containerValignBottomClass;\n        }\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            containerClass,\n            directionClass,\n            alignClass,\n            getValignClass()\n          ]\n        },\n        components\n      };\n    };\n    const renderImage = (src, classes, alt) => ({\n      dom: {\n        tag: 'img',\n        classes,\n        attributes: {\n          src,\n          alt: alt.getOr('')\n        }\n      }\n    });\n\n    const renderColorStructure = (item, providerBackstage, fallbackIcon) => {\n      const colorPickerCommand = 'custom';\n      const removeColorCommand = 'remove';\n      const itemText = item.ariaLabel;\n      const itemValue = item.value;\n      const iconSvg = item.iconContent.map(name => getOr(name, providerBackstage.icons, fallbackIcon));\n      const getDom = () => {\n        const common = colorClass;\n        const icon = iconSvg.getOr('');\n        const attributes = itemText.map(text => ({ title: providerBackstage.translate(text) })).getOr({});\n        const baseDom = {\n          tag: 'div',\n          attributes,\n          classes: [common]\n        };\n        if (itemValue === colorPickerCommand) {\n          return {\n            ...baseDom,\n            tag: 'button',\n            classes: [\n              ...baseDom.classes,\n              'tox-swatches__picker-btn'\n            ],\n            innerHtml: icon\n          };\n        } else if (itemValue === removeColorCommand) {\n          return {\n            ...baseDom,\n            classes: [\n              ...baseDom.classes,\n              'tox-swatch--remove'\n            ],\n            innerHtml: icon\n          };\n        } else if (isNonNullable(itemValue)) {\n          return {\n            ...baseDom,\n            attributes: {\n              ...baseDom.attributes,\n              'data-mce-color': itemValue\n            },\n            styles: { 'background-color': itemValue }\n          };\n        } else {\n          return baseDom;\n        }\n      };\n      return {\n        dom: getDom(),\n        optComponents: []\n      };\n    };\n    const renderItemDomStructure = ariaLabel => {\n      const domTitle = ariaLabel.map(label => ({ attributes: { title: global$8.translate(label) } })).getOr({});\n      return {\n        tag: 'div',\n        classes: [\n          navClass,\n          selectableClass\n        ],\n        ...domTitle\n      };\n    };\n    const renderNormalItemStructure = (info, providersBackstage, renderIcons, fallbackIcon) => {\n      const iconSpec = {\n        tag: 'div',\n        classes: [iconClass]\n      };\n      const renderIcon = iconName => render$3(iconName, iconSpec, providersBackstage.icons, fallbackIcon);\n      const renderEmptyIcon = () => Optional.some({ dom: iconSpec });\n      const leftIcon = renderIcons ? info.iconContent.map(renderIcon).orThunk(renderEmptyIcon) : Optional.none();\n      const checkmark = info.checkMark;\n      const textRender = Optional.from(info.meta).fold(() => renderText, meta => has$2(meta, 'style') ? curry(renderStyledText, meta.style) : renderText);\n      const content = info.htmlContent.fold(() => info.textContent.map(textRender), html => Optional.some(renderHtml(html, [textClass])));\n      const menuItem = {\n        dom: renderItemDomStructure(info.ariaLabel),\n        optComponents: [\n          leftIcon,\n          content,\n          info.shortcutContent.map(renderShortcut),\n          checkmark,\n          info.caret\n        ]\n      };\n      return menuItem;\n    };\n    const renderItemStructure = (info, providersBackstage, renderIcons, fallbackIcon = Optional.none()) => {\n      if (info.presets === 'color') {\n        return renderColorStructure(info, providersBackstage, fallbackIcon);\n      } else {\n        return renderNormalItemStructure(info, providersBackstage, renderIcons, fallbackIcon);\n      }\n    };\n\n    const tooltipBehaviour = (meta, sharedBackstage) => get$g(meta, 'tooltipWorker').map(tooltipWorker => [Tooltipping.config({\n        lazySink: sharedBackstage.getSink,\n        tooltipDom: {\n          tag: 'div',\n          classes: ['tox-tooltip-worker-container']\n        },\n        tooltipComponents: [],\n        anchor: comp => ({\n          type: 'submenu',\n          item: comp,\n          overrides: { maxHeightFunction: expandable$1 }\n        }),\n        mode: 'follow-highlight',\n        onShow: (component, _tooltip) => {\n          tooltipWorker(elm => {\n            Tooltipping.setComponents(component, [external$1({ element: SugarElement.fromDom(elm) })]);\n          });\n        }\n      })]).getOr([]);\n    const encodeText = text => global$7.DOM.encode(text);\n    const replaceText = (text, matchText) => {\n      const translated = global$8.translate(text);\n      const encoded = encodeText(translated);\n      if (matchText.length > 0) {\n        const escapedMatchRegex = new RegExp(escape(matchText), 'gi');\n        return encoded.replace(escapedMatchRegex, match => `<span class=\"tox-autocompleter-highlight\">${ match }</span>`);\n      } else {\n        return encoded;\n      }\n    };\n    const renderAutocompleteItem = (spec, matchText, useText, presets, onItemValueHandler, itemResponse, sharedBackstage, renderIcons = true) => {\n      const structure = renderItemStructure({\n        presets,\n        textContent: Optional.none(),\n        htmlContent: useText ? spec.text.map(text => replaceText(text, matchText)) : Optional.none(),\n        ariaLabel: spec.text,\n        iconContent: spec.icon,\n        shortcutContent: Optional.none(),\n        checkMark: Optional.none(),\n        caret: Optional.none(),\n        value: spec.value\n      }, sharedBackstage.providers, renderIcons, spec.icon);\n      return renderCommonItem({\n        data: buildData(spec),\n        enabled: spec.enabled,\n        getApi: constant$1({}),\n        onAction: _api => onItemValueHandler(spec.value, spec.meta),\n        onSetup: constant$1(noop),\n        triggersSubmenu: false,\n        itemBehaviours: tooltipBehaviour(spec.meta, sharedBackstage)\n      }, structure, itemResponse, sharedBackstage.providers);\n    };\n\n    const render$2 = (items, extras) => map$2(items, item => {\n      switch (item.type) {\n      case 'cardcontainer':\n        return renderContainer(item, render$2(item.items, extras));\n      case 'cardimage':\n        return renderImage(item.src, item.classes, item.alt);\n      case 'cardtext':\n        const shouldHighlight = item.name.exists(name => contains$2(extras.cardText.highlightOn, name));\n        const matchText = shouldHighlight ? Optional.from(extras.cardText.matchText).getOr('') : '';\n        return renderHtml(replaceText(item.text, matchText), item.classes);\n      }\n    });\n    const renderCardMenuItem = (spec, itemResponse, sharedBackstage, extras) => {\n      const getApi = component => ({\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => {\n          Disabling.set(component, !state);\n          each$1(descendants(component.element, '*'), elm => {\n            component.getSystem().getByDom(elm).each(comp => {\n              if (comp.hasConfigured(Disabling)) {\n                Disabling.set(comp, !state);\n              }\n            });\n          });\n        }\n      });\n      const structure = {\n        dom: renderItemDomStructure(spec.label),\n        optComponents: [Optional.some({\n            dom: {\n              tag: 'div',\n              classes: [\n                containerClass,\n                containerRowClass\n              ]\n            },\n            components: render$2(spec.items, extras)\n          })]\n      };\n      return renderCommonItem({\n        data: buildData({\n          text: Optional.none(),\n          ...spec\n        }),\n        enabled: spec.enabled,\n        getApi,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: Optional.from(extras.itemBehaviours).getOr([])\n      }, structure, itemResponse, sharedBackstage.providers);\n    };\n\n    const renderChoiceItem = (spec, useText, presets, onItemValueHandler, isSelected, itemResponse, providersBackstage, renderIcons = true) => {\n      const getApi = component => ({\n        setActive: state => {\n          Toggling.set(component, state);\n        },\n        isActive: () => Toggling.isOn(component),\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state)\n      });\n      const structure = renderItemStructure({\n        presets,\n        textContent: useText ? spec.text : Optional.none(),\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        iconContent: spec.icon,\n        shortcutContent: useText ? spec.shortcut : Optional.none(),\n        checkMark: useText ? Optional.some(renderCheckmark(providersBackstage.icons)) : Optional.none(),\n        caret: Optional.none(),\n        value: spec.value\n      }, providersBackstage, renderIcons);\n      return deepMerge(renderCommonItem({\n        data: buildData(spec),\n        enabled: spec.enabled,\n        getApi,\n        onAction: _api => onItemValueHandler(spec.value),\n        onSetup: api => {\n          api.setActive(isSelected);\n          return noop;\n        },\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage), {\n        toggling: {\n          toggleClass: tickedClass,\n          toggleOnExecute: false,\n          selected: spec.active,\n          exclusive: true\n        }\n      });\n    };\n\n    const parts$f = generate$3(owner$2(), parts$h());\n\n    const hexColour = value => ({ value });\n    const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    const longformRegex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\n    const isHexString = hex => shorthandRegex.test(hex) || longformRegex.test(hex);\n    const normalizeHex = hex => removeLeading(hex, '#').toUpperCase();\n    const fromString$1 = hex => isHexString(hex) ? Optional.some({ value: normalizeHex(hex) }) : Optional.none();\n    const getLongForm = hex => {\n      const hexString = hex.value.replace(shorthandRegex, (m, r, g, b) => r + r + g + g + b + b);\n      return { value: hexString };\n    };\n    const extractValues = hex => {\n      const longForm = getLongForm(hex);\n      const splitForm = longformRegex.exec(longForm.value);\n      return splitForm === null ? [\n        'FFFFFF',\n        'FF',\n        'FF',\n        'FF'\n      ] : splitForm;\n    };\n    const toHex = component => {\n      const hex = component.toString(16);\n      return (hex.length === 1 ? '0' + hex : hex).toUpperCase();\n    };\n    const fromRgba = rgbaColour => {\n      const value = toHex(rgbaColour.red) + toHex(rgbaColour.green) + toHex(rgbaColour.blue);\n      return hexColour(value);\n    };\n\n    const min = Math.min;\n    const max = Math.max;\n    const round$1 = Math.round;\n    const rgbRegex = /^\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\\s*$/i;\n    const rgbaRegex = /^\\s*rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d?(?:\\.\\d+)?)\\s*\\)\\s*$/i;\n    const rgbaColour = (red, green, blue, alpha) => ({\n      red,\n      green,\n      blue,\n      alpha\n    });\n    const isRgbaComponent = value => {\n      const num = parseInt(value, 10);\n      return num.toString() === value && num >= 0 && num <= 255;\n    };\n    const fromHsv = hsv => {\n      let r;\n      let g;\n      let b;\n      const hue = (hsv.hue || 0) % 360;\n      let saturation = hsv.saturation / 100;\n      let brightness = hsv.value / 100;\n      saturation = max(0, min(saturation, 1));\n      brightness = max(0, min(brightness, 1));\n      if (saturation === 0) {\n        r = g = b = round$1(255 * brightness);\n        return rgbaColour(r, g, b, 1);\n      }\n      const side = hue / 60;\n      const chroma = brightness * saturation;\n      const x = chroma * (1 - Math.abs(side % 2 - 1));\n      const match = brightness - chroma;\n      switch (Math.floor(side)) {\n      case 0:\n        r = chroma;\n        g = x;\n        b = 0;\n        break;\n      case 1:\n        r = x;\n        g = chroma;\n        b = 0;\n        break;\n      case 2:\n        r = 0;\n        g = chroma;\n        b = x;\n        break;\n      case 3:\n        r = 0;\n        g = x;\n        b = chroma;\n        break;\n      case 4:\n        r = x;\n        g = 0;\n        b = chroma;\n        break;\n      case 5:\n        r = chroma;\n        g = 0;\n        b = x;\n        break;\n      default:\n        r = g = b = 0;\n      }\n      r = round$1(255 * (r + match));\n      g = round$1(255 * (g + match));\n      b = round$1(255 * (b + match));\n      return rgbaColour(r, g, b, 1);\n    };\n    const fromHex = hexColour => {\n      const result = extractValues(hexColour);\n      const red = parseInt(result[1], 16);\n      const green = parseInt(result[2], 16);\n      const blue = parseInt(result[3], 16);\n      return rgbaColour(red, green, blue, 1);\n    };\n    const fromStringValues = (red, green, blue, alpha) => {\n      const r = parseInt(red, 10);\n      const g = parseInt(green, 10);\n      const b = parseInt(blue, 10);\n      const a = parseFloat(alpha);\n      return rgbaColour(r, g, b, a);\n    };\n    const fromString = rgbaString => {\n      if (rgbaString === 'transparent') {\n        return Optional.some(rgbaColour(0, 0, 0, 0));\n      }\n      const rgbMatch = rgbRegex.exec(rgbaString);\n      if (rgbMatch !== null) {\n        return Optional.some(fromStringValues(rgbMatch[1], rgbMatch[2], rgbMatch[3], '1'));\n      }\n      const rgbaMatch = rgbaRegex.exec(rgbaString);\n      if (rgbaMatch !== null) {\n        return Optional.some(fromStringValues(rgbaMatch[1], rgbaMatch[2], rgbaMatch[3], rgbaMatch[4]));\n      }\n      return Optional.none();\n    };\n    const toString = rgba => `rgba(${ rgba.red },${ rgba.green },${ rgba.blue },${ rgba.alpha })`;\n    const red = rgbaColour(255, 0, 0, 1);\n\n    const fireSkinLoaded$1 = editor => {\n      editor.dispatch('SkinLoaded');\n    };\n    const fireSkinLoadError$1 = (editor, error) => {\n      editor.dispatch('SkinLoadError', error);\n    };\n    const fireResizeEditor = editor => {\n      editor.dispatch('ResizeEditor');\n    };\n    const fireResizeContent = (editor, e) => {\n      editor.dispatch('ResizeContent', e);\n    };\n    const fireScrollContent = (editor, e) => {\n      editor.dispatch('ScrollContent', e);\n    };\n    const fireTextColorChange = (editor, data) => {\n      editor.dispatch('TextColorChange', data);\n    };\n    const fireAfterProgressState = (editor, state) => {\n      editor.dispatch('AfterProgressState', { state });\n    };\n    const fireResolveName = (editor, node) => editor.dispatch('ResolveName', {\n      name: node.nodeName.toLowerCase(),\n      target: node\n    });\n\n    const hsvColour = (hue, saturation, value) => ({\n      hue,\n      saturation,\n      value\n    });\n    const fromRgb = rgbaColour => {\n      let h = 0;\n      let s = 0;\n      let v = 0;\n      const r = rgbaColour.red / 255;\n      const g = rgbaColour.green / 255;\n      const b = rgbaColour.blue / 255;\n      const minRGB = Math.min(r, Math.min(g, b));\n      const maxRGB = Math.max(r, Math.max(g, b));\n      if (minRGB === maxRGB) {\n        v = minRGB;\n        return hsvColour(0, 0, v * 100);\n      }\n      const d = r === minRGB ? g - b : b === minRGB ? r - g : b - r;\n      h = r === minRGB ? 3 : b === minRGB ? 1 : 5;\n      h = 60 * (h - d / (maxRGB - minRGB));\n      s = (maxRGB - minRGB) / maxRGB;\n      v = maxRGB;\n      return hsvColour(Math.round(h), Math.round(s * 100), Math.round(v * 100));\n    };\n\n    const hexToHsv = hex => fromRgb(fromHex(hex));\n    const hsvToHex = hsv => fromRgba(fromHsv(hsv));\n    const anyToHex = color => fromString$1(color).orThunk(() => fromString(color).map(fromRgba)).getOrThunk(() => {\n      const canvas = document.createElement('canvas');\n      canvas.height = 1;\n      canvas.width = 1;\n      const canvasContext = canvas.getContext('2d');\n      canvasContext.clearRect(0, 0, canvas.width, canvas.height);\n      canvasContext.fillStyle = '#FFFFFF';\n      canvasContext.fillStyle = color;\n      canvasContext.fillRect(0, 0, 1, 1);\n      const rgba = canvasContext.getImageData(0, 0, 1, 1).data;\n      const r = rgba[0];\n      const g = rgba[1];\n      const b = rgba[2];\n      const a = rgba[3];\n      return fromRgba(rgbaColour(r, g, b, a));\n    });\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.LocalStorage');\n\n    const storageName = 'tinymce-custom-colors';\n    const ColorCache = (max = 10) => {\n      const storageString = global$4.getItem(storageName);\n      const localstorage = isString(storageString) ? JSON.parse(storageString) : [];\n      const prune = list => {\n        const diff = max - list.length;\n        return diff < 0 ? list.slice(0, max) : list;\n      };\n      const cache = prune(localstorage);\n      const add = key => {\n        indexOf(cache, key).each(remove);\n        cache.unshift(key);\n        if (cache.length > max) {\n          cache.pop();\n        }\n        global$4.setItem(storageName, JSON.stringify(cache));\n      };\n      const remove = idx => {\n        cache.splice(idx, 1);\n      };\n      const state = () => cache.slice(0);\n      return {\n        add,\n        state\n      };\n    };\n\n    const colorCache = ColorCache(10);\n    const calcCols = colors => Math.max(5, Math.ceil(Math.sqrt(colors)));\n    const mapColors = colorMap => {\n      const colors = [];\n      for (let i = 0; i < colorMap.length; i += 2) {\n        colors.push({\n          text: colorMap[i + 1],\n          value: '#' + anyToHex(colorMap[i]).value,\n          type: 'choiceitem'\n        });\n      }\n      return colors;\n    };\n    const option$1 = name => editor => editor.options.get(name);\n    const register$d = editor => {\n      const registerOption = editor.options.register;\n      registerOption('color_map', {\n        processor: value => {\n          if (isArrayOf(value, isString)) {\n            return {\n              value: mapColors(value),\n              valid: true\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be an array of strings.'\n            };\n          }\n        },\n        default: [\n          '#BFEDD2',\n          'Light Green',\n          '#FBEEB8',\n          'Light Yellow',\n          '#F8CAC6',\n          'Light Red',\n          '#ECCAFA',\n          'Light Purple',\n          '#C2E0F4',\n          'Light Blue',\n          '#2DC26B',\n          'Green',\n          '#F1C40F',\n          'Yellow',\n          '#E03E2D',\n          'Red',\n          '#B96AD9',\n          'Purple',\n          '#3598DB',\n          'Blue',\n          '#169179',\n          'Dark Turquoise',\n          '#E67E23',\n          'Orange',\n          '#BA372A',\n          'Dark Red',\n          '#843FA1',\n          'Dark Purple',\n          '#236FA1',\n          'Dark Blue',\n          '#ECF0F1',\n          'Light Gray',\n          '#CED4D9',\n          'Medium Gray',\n          '#95A5A6',\n          'Gray',\n          '#7E8C8D',\n          'Dark Gray',\n          '#34495E',\n          'Navy Blue',\n          '#000000',\n          'Black',\n          '#ffffff',\n          'White'\n        ]\n      });\n      registerOption('color_cols', {\n        processor: 'number',\n        default: calcCols(getColors$2(editor).length)\n      });\n      registerOption('custom_colors', {\n        processor: 'boolean',\n        default: true\n      });\n    };\n    const getColorCols$1 = option$1('color_cols');\n    const hasCustomColors$1 = option$1('custom_colors');\n    const getColors$2 = option$1('color_map');\n    const getCurrentColors = () => map$2(colorCache.state(), color => ({\n      type: 'choiceitem',\n      text: color,\n      value: color\n    }));\n    const addColor = color => {\n      colorCache.add(color);\n    };\n\n    const fallbackColor = '#000000';\n    const hasStyleApi = node => isNonNullable(node.style);\n    const getCurrentColor = (editor, format) => {\n      let color;\n      editor.dom.getParents(editor.selection.getStart(), elm => {\n        const value = hasStyleApi(elm) ? elm.style[format === 'forecolor' ? 'color' : 'backgroundColor'] : null;\n        if (value) {\n          color = color ? color : value;\n        }\n      });\n      return Optional.from(color);\n    };\n    const applyFormat = (editor, format, value) => {\n      editor.undoManager.transact(() => {\n        editor.focus();\n        editor.formatter.apply(format, { value });\n        editor.nodeChanged();\n      });\n    };\n    const removeFormat = (editor, format) => {\n      editor.undoManager.transact(() => {\n        editor.focus();\n        editor.formatter.remove(format, { value: null }, undefined, true);\n        editor.nodeChanged();\n      });\n    };\n    const registerCommands = editor => {\n      editor.addCommand('mceApplyTextcolor', (format, value) => {\n        applyFormat(editor, format, value);\n      });\n      editor.addCommand('mceRemoveTextcolor', format => {\n        removeFormat(editor, format);\n      });\n    };\n    const getAdditionalColors = hasCustom => {\n      const type = 'choiceitem';\n      const remove = {\n        type,\n        text: 'Remove color',\n        icon: 'color-swatch-remove-color',\n        value: 'remove'\n      };\n      const custom = {\n        type,\n        text: 'Custom color',\n        icon: 'color-picker',\n        value: 'custom'\n      };\n      return hasCustom ? [\n        remove,\n        custom\n      ] : [remove];\n    };\n    const applyColor = (editor, format, value, onChoice) => {\n      if (value === 'custom') {\n        const dialog = colorPickerDialog(editor);\n        dialog(colorOpt => {\n          colorOpt.each(color => {\n            addColor(color);\n            editor.execCommand('mceApplyTextcolor', format, color);\n            onChoice(color);\n          });\n        }, fallbackColor);\n      } else if (value === 'remove') {\n        onChoice('');\n        editor.execCommand('mceRemoveTextcolor', format);\n      } else {\n        onChoice(value);\n        editor.execCommand('mceApplyTextcolor', format, value);\n      }\n    };\n    const getColors$1 = (colors, hasCustom) => colors.concat(getCurrentColors().concat(getAdditionalColors(hasCustom)));\n    const getFetch$1 = (colors, hasCustom) => callback => {\n      callback(getColors$1(colors, hasCustom));\n    };\n    const setIconColor = (splitButtonApi, name, newColor) => {\n      const id = name === 'forecolor' ? 'tox-icon-text-color__color' : 'tox-icon-highlight-bg-color__color';\n      splitButtonApi.setIconFill(id, newColor);\n    };\n    const registerTextColorButton = (editor, name, format, tooltip, lastColor) => {\n      editor.ui.registry.addSplitButton(name, {\n        tooltip,\n        presets: 'color',\n        icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n        select: value => {\n          const optCurrentRgb = getCurrentColor(editor, format);\n          return optCurrentRgb.bind(currentRgb => fromString(currentRgb).map(rgba => {\n            const currentHex = fromRgba(rgba).value;\n            return contains$1(value.toLowerCase(), currentHex);\n          })).getOr(false);\n        },\n        columns: getColorCols$1(editor),\n        fetch: getFetch$1(getColors$2(editor), hasCustomColors$1(editor)),\n        onAction: _splitButtonApi => {\n          applyColor(editor, format, lastColor.get(), noop);\n        },\n        onItemAction: (_splitButtonApi, value) => {\n          applyColor(editor, format, value, newColor => {\n            lastColor.set(newColor);\n            fireTextColorChange(editor, {\n              name,\n              color: newColor\n            });\n          });\n        },\n        onSetup: splitButtonApi => {\n          setIconColor(splitButtonApi, name, lastColor.get());\n          const handler = e => {\n            if (e.name === name) {\n              setIconColor(splitButtonApi, e.name, e.color);\n            }\n          };\n          editor.on('TextColorChange', handler);\n          return () => {\n            editor.off('TextColorChange', handler);\n          };\n        }\n      });\n    };\n    const registerTextColorMenuItem = (editor, name, format, text) => {\n      editor.ui.registry.addNestedMenuItem(name, {\n        text,\n        icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n        getSubmenuItems: () => [{\n            type: 'fancymenuitem',\n            fancytype: 'colorswatch',\n            onAction: data => {\n              applyColor(editor, format, data.value, noop);\n            }\n          }]\n      });\n    };\n    const colorPickerDialog = editor => (callback, value) => {\n      let isValid = false;\n      const onSubmit = api => {\n        const data = api.getData();\n        const hex = data.colorpicker;\n        if (isValid) {\n          callback(Optional.from(hex));\n          api.close();\n        } else {\n          editor.windowManager.alert(editor.translate([\n            'Invalid hex color code: {0}',\n            hex\n          ]));\n        }\n      };\n      const onAction = (_api, details) => {\n        if (details.name === 'hex-valid') {\n          isValid = details.value;\n        }\n      };\n      const initialData = { colorpicker: value };\n      editor.windowManager.open({\n        title: 'Color Picker',\n        size: 'normal',\n        body: {\n          type: 'panel',\n          items: [{\n              type: 'colorpicker',\n              name: 'colorpicker',\n              label: 'Color'\n            }]\n        },\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData,\n        onAction,\n        onSubmit,\n        onClose: noop,\n        onCancel: () => {\n          callback(Optional.none());\n        }\n      });\n    };\n    const register$c = editor => {\n      registerCommands(editor);\n      const lastForeColor = Cell(fallbackColor);\n      const lastBackColor = Cell(fallbackColor);\n      registerTextColorButton(editor, 'forecolor', 'forecolor', 'Text color', lastForeColor);\n      registerTextColorButton(editor, 'backcolor', 'hilitecolor', 'Background color', lastBackColor);\n      registerTextColorMenuItem(editor, 'forecolor', 'forecolor', 'Text color');\n      registerTextColorMenuItem(editor, 'backcolor', 'hilitecolor', 'Background color');\n    };\n\n    const createPartialChoiceMenu = (value, items, onItemValueHandler, columns, presets, itemResponse, select, providersBackstage) => {\n      const hasIcons = menuHasIcons(items);\n      const presetItemTypes = presets !== 'color' ? 'normal' : 'color';\n      const alloyItems = createChoiceItems(items, onItemValueHandler, columns, presetItemTypes, itemResponse, select, providersBackstage);\n      const menuLayout = { menuType: presets };\n      return createPartialMenuWithAlloyItems(value, hasIcons, alloyItems, columns, menuLayout);\n    };\n    const createChoiceItems = (items, onItemValueHandler, columns, itemPresets, itemResponse, select, providersBackstage) => cat(map$2(items, item => {\n      if (item.type === 'choiceitem') {\n        return createChoiceMenuItem(item).fold(handleError, d => Optional.some(renderChoiceItem(d, columns === 1, itemPresets, onItemValueHandler, select(d.value), itemResponse, providersBackstage, menuHasIcons(items))));\n      } else {\n        return Optional.none();\n      }\n    }));\n\n    const deriveMenuMovement = (columns, presets) => {\n      const menuMarkers = markers(presets);\n      if (columns === 1) {\n        return {\n          mode: 'menu',\n          moveOnTab: true\n        };\n      } else if (columns === 'auto') {\n        return {\n          mode: 'grid',\n          selector: '.' + menuMarkers.item,\n          initSize: {\n            numColumns: 1,\n            numRows: 1\n          }\n        };\n      } else {\n        const rowClass = presets === 'color' ? 'tox-swatches__row' : 'tox-collection__group';\n        return {\n          mode: 'matrix',\n          rowSelector: '.' + rowClass\n        };\n      }\n    };\n    const deriveCollectionMovement = (columns, presets) => {\n      if (columns === 1) {\n        return {\n          mode: 'menu',\n          moveOnTab: false,\n          selector: '.tox-collection__item'\n        };\n      } else if (columns === 'auto') {\n        return {\n          mode: 'flatgrid',\n          selector: '.' + 'tox-collection__item',\n          initSize: {\n            numColumns: 1,\n            numRows: 1\n          }\n        };\n      } else {\n        return {\n          mode: 'matrix',\n          selectors: {\n            row: presets === 'color' ? '.tox-swatches__row' : '.tox-collection__group',\n            cell: presets === 'color' ? `.${ colorClass }` : `.${ selectableClass }`\n          }\n        };\n      }\n    };\n\n    const renderColorSwatchItem = (spec, backstage) => {\n      const items = getColorItems(spec, backstage);\n      const columns = backstage.colorinput.getColorCols();\n      const presets = 'color';\n      const menuSpec = createPartialChoiceMenu(generate$6('menu-value'), items, value => {\n        spec.onAction({ value });\n      }, columns, presets, ItemResponse$1.CLOSE_ON_EXECUTE, never, backstage.shared.providers);\n      const widgetSpec = {\n        ...menuSpec,\n        markers: markers(presets),\n        movement: deriveMenuMovement(columns, presets)\n      };\n      return {\n        type: 'widget',\n        data: { value: generate$6('widget-id') },\n        dom: {\n          tag: 'div',\n          classes: ['tox-fancymenuitem']\n        },\n        autofocus: true,\n        components: [parts$f.widget(Menu.sketch(widgetSpec))]\n      };\n    };\n    const getColorItems = (spec, backstage) => {\n      const useCustomColors = spec.initData.allowCustomColors && backstage.colorinput.hasCustomColors();\n      return spec.initData.colors.fold(() => getColors$1(backstage.colorinput.getColors(), useCustomColors), colors => colors.concat(getAdditionalColors(useCustomColors)));\n    };\n\n    const cellOverEvent = generate$6('cell-over');\n    const cellExecuteEvent = generate$6('cell-execute');\n    const makeCell = (row, col, labelId) => {\n      const emitCellOver = c => emitWith(c, cellOverEvent, {\n        row,\n        col\n      });\n      const emitExecute = c => emitWith(c, cellExecuteEvent, {\n        row,\n        col\n      });\n      const onClick = (c, se) => {\n        se.stop();\n        emitExecute(c);\n      };\n      return build$1({\n        dom: {\n          tag: 'div',\n          attributes: {\n            role: 'button',\n            ['aria-labelledby']: labelId\n          }\n        },\n        behaviours: derive$1([\n          config('insert-table-picker-cell', [\n            run$1(mouseover(), Focusing.focus),\n            run$1(execute$5(), emitExecute),\n            run$1(click(), onClick),\n            run$1(tap(), onClick)\n          ]),\n          Toggling.config({\n            toggleClass: 'tox-insert-table-picker__selected',\n            toggleOnExecute: false\n          }),\n          Focusing.config({ onFocus: emitCellOver })\n        ])\n      });\n    };\n    const makeCells = (labelId, numRows, numCols) => {\n      const cells = [];\n      for (let i = 0; i < numRows; i++) {\n        const row = [];\n        for (let j = 0; j < numCols; j++) {\n          row.push(makeCell(i, j, labelId));\n        }\n        cells.push(row);\n      }\n      return cells;\n    };\n    const selectCells = (cells, selectedRow, selectedColumn, numRows, numColumns) => {\n      for (let i = 0; i < numRows; i++) {\n        for (let j = 0; j < numColumns; j++) {\n          Toggling.set(cells[i][j], i <= selectedRow && j <= selectedColumn);\n        }\n      }\n    };\n    const makeComponents = cells => bind$3(cells, cellRow => map$2(cellRow, premade));\n    const makeLabelText = (row, col) => text$1(`${ col }x${ row }`);\n    const renderInsertTableMenuItem = spec => {\n      const numRows = 10;\n      const numColumns = 10;\n      const sizeLabelId = generate$6('size-label');\n      const cells = makeCells(sizeLabelId, numRows, numColumns);\n      const emptyLabelText = makeLabelText(0, 0);\n      const memLabel = record({\n        dom: {\n          tag: 'span',\n          classes: ['tox-insert-table-picker__label'],\n          attributes: { id: sizeLabelId }\n        },\n        components: [emptyLabelText],\n        behaviours: derive$1([Replacing.config({})])\n      });\n      return {\n        type: 'widget',\n        data: { value: generate$6('widget-id') },\n        dom: {\n          tag: 'div',\n          classes: ['tox-fancymenuitem']\n        },\n        autofocus: true,\n        components: [parts$f.widget({\n            dom: {\n              tag: 'div',\n              classes: ['tox-insert-table-picker']\n            },\n            components: makeComponents(cells).concat(memLabel.asSpec()),\n            behaviours: derive$1([\n              config('insert-table-picker', [\n                runOnAttached(c => {\n                  Replacing.set(memLabel.get(c), [emptyLabelText]);\n                }),\n                runWithTarget(cellOverEvent, (c, t, e) => {\n                  const {row, col} = e.event;\n                  selectCells(cells, row, col, numRows, numColumns);\n                  Replacing.set(memLabel.get(c), [makeLabelText(row + 1, col + 1)]);\n                }),\n                runWithTarget(cellExecuteEvent, (c, _, e) => {\n                  const {row, col} = e.event;\n                  spec.onAction({\n                    numRows: row + 1,\n                    numColumns: col + 1\n                  });\n                  emit(c, sandboxClose());\n                })\n              ]),\n              Keying.config({\n                initSize: {\n                  numRows,\n                  numColumns\n                },\n                mode: 'flatgrid',\n                selector: '[role=\"button\"]'\n              })\n            ])\n          })]\n      };\n    };\n\n    const fancyMenuItems = {\n      inserttable: renderInsertTableMenuItem,\n      colorswatch: renderColorSwatchItem\n    };\n    const renderFancyMenuItem = (spec, backstage) => get$g(fancyMenuItems, spec.fancytype).map(render => render(spec, backstage));\n\n    const renderNestedItem = (spec, itemResponse, providersBackstage, renderIcons = true, downwardsCaret = false) => {\n      const caret = downwardsCaret ? renderDownwardsCaret(providersBackstage.icons) : renderSubmenuCaret(providersBackstage.icons);\n      const getApi = component => ({\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state)\n      });\n      const structure = renderItemStructure({\n        presets: 'normal',\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        caret: Optional.some(caret),\n        checkMark: Optional.none(),\n        shortcutContent: spec.shortcut\n      }, providersBackstage, renderIcons);\n      return renderCommonItem({\n        data: buildData(spec),\n        getApi,\n        enabled: spec.enabled,\n        onAction: noop,\n        onSetup: spec.onSetup,\n        triggersSubmenu: true,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage);\n    };\n\n    const renderNormalItem = (spec, itemResponse, providersBackstage, renderIcons = true) => {\n      const getApi = component => ({\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state)\n      });\n      const structure = renderItemStructure({\n        presets: 'normal',\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        caret: Optional.none(),\n        checkMark: Optional.none(),\n        shortcutContent: spec.shortcut\n      }, providersBackstage, renderIcons);\n      return renderCommonItem({\n        data: buildData(spec),\n        getApi,\n        enabled: spec.enabled,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage);\n    };\n\n    const renderSeparatorItem = spec => ({\n      type: 'separator',\n      dom: {\n        tag: 'div',\n        classes: [\n          selectableClass,\n          groupHeadingClass\n        ]\n      },\n      components: spec.text.map(text$1).toArray()\n    });\n\n    const renderToggleMenuItem = (spec, itemResponse, providersBackstage, renderIcons = true) => {\n      const getApi = component => ({\n        setActive: state => {\n          Toggling.set(component, state);\n        },\n        isActive: () => Toggling.isOn(component),\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state)\n      });\n      const structure = renderItemStructure({\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        checkMark: Optional.some(renderCheckmark(providersBackstage.icons)),\n        caret: Optional.none(),\n        shortcutContent: spec.shortcut,\n        presets: 'normal',\n        meta: spec.meta\n      }, providersBackstage, renderIcons);\n      return deepMerge(renderCommonItem({\n        data: buildData(spec),\n        enabled: spec.enabled,\n        getApi,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage), {\n        toggling: {\n          toggleClass: tickedClass,\n          toggleOnExecute: false,\n          selected: spec.active\n        }\n      });\n    };\n\n    const autocomplete = renderAutocompleteItem;\n    const separator$3 = renderSeparatorItem;\n    const normal = renderNormalItem;\n    const nested = renderNestedItem;\n    const toggle$1 = renderToggleMenuItem;\n    const fancy = renderFancyMenuItem;\n    const card = renderCardMenuItem;\n\n    const getCoupled = (component, coupleConfig, coupleState, name) => coupleState.getOrCreate(component, coupleConfig, name);\n    const getExistingCoupled = (component, coupleConfig, coupleState, name) => coupleState.getExisting(component, coupleConfig, name);\n\n    var CouplingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getCoupled: getCoupled,\n        getExistingCoupled: getExistingCoupled\n    });\n\n    var CouplingSchema = [requiredOf('others', setOf(Result.value, anyValue()))];\n\n    const init$a = () => {\n      const coupled = {};\n      const lookupCoupled = (coupleConfig, coupledName) => {\n        const available = keys(coupleConfig.others);\n        if (available.length === 0) {\n          throw new Error('Cannot find any known coupled components');\n        } else {\n          return get$g(coupled, coupledName);\n        }\n      };\n      const getOrCreate = (component, coupleConfig, name) => {\n        return lookupCoupled(coupleConfig, name).getOrThunk(() => {\n          const builder = get$g(coupleConfig.others, name).getOrDie('No information found for coupled component: ' + name);\n          const spec = builder(component);\n          const built = component.getSystem().build(spec);\n          coupled[name] = built;\n          return built;\n        });\n      };\n      const getExisting = (component, coupleConfig, name) => {\n        return lookupCoupled(coupleConfig, name).orThunk(() => {\n          get$g(coupleConfig.others, name).getOrDie('No information found for coupled component: ' + name);\n          return Optional.none();\n        });\n      };\n      const readState = constant$1({});\n      return nu$8({\n        readState,\n        getExisting,\n        getOrCreate\n      });\n    };\n\n    var CouplingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$a\n    });\n\n    const Coupling = create$3({\n      fields: CouplingSchema,\n      name: 'coupling',\n      apis: CouplingApis,\n      state: CouplingState\n    });\n\n    const nu$3 = baseFn => {\n      let data = Optional.none();\n      let callbacks = [];\n      const map = f => nu$3(nCallback => {\n        get(data => {\n          nCallback(f(data));\n        });\n      });\n      const get = nCallback => {\n        if (isReady()) {\n          call(nCallback);\n        } else {\n          callbacks.push(nCallback);\n        }\n      };\n      const set = x => {\n        if (!isReady()) {\n          data = Optional.some(x);\n          run(callbacks);\n          callbacks = [];\n        }\n      };\n      const isReady = () => data.isSome();\n      const run = cbs => {\n        each$1(cbs, call);\n      };\n      const call = cb => {\n        data.each(x => {\n          setTimeout(() => {\n            cb(x);\n          }, 0);\n        });\n      };\n      baseFn(set);\n      return {\n        get,\n        map,\n        isReady\n      };\n    };\n    const pure$1 = a => nu$3(callback => {\n      callback(a);\n    });\n    const LazyValue = {\n      nu: nu$3,\n      pure: pure$1\n    };\n\n    const errorReporter = err => {\n      setTimeout(() => {\n        throw err;\n      }, 0);\n    };\n    const make$5 = run => {\n      const get = callback => {\n        run().then(callback, errorReporter);\n      };\n      const map = fab => {\n        return make$5(() => run().then(fab));\n      };\n      const bind = aFutureB => {\n        return make$5(() => run().then(v => aFutureB(v).toPromise()));\n      };\n      const anonBind = futureB => {\n        return make$5(() => run().then(() => futureB.toPromise()));\n      };\n      const toLazy = () => {\n        return LazyValue.nu(get);\n      };\n      const toCached = () => {\n        let cache = null;\n        return make$5(() => {\n          if (cache === null) {\n            cache = run();\n          }\n          return cache;\n        });\n      };\n      const toPromise = run;\n      return {\n        map,\n        bind,\n        anonBind,\n        toLazy,\n        toCached,\n        toPromise,\n        get\n      };\n    };\n    const nu$2 = baseFn => {\n      return make$5(() => new Promise(baseFn));\n    };\n    const pure = a => {\n      return make$5(() => Promise.resolve(a));\n    };\n    const Future = {\n      nu: nu$2,\n      pure\n    };\n\n    const suffix = constant$1('sink');\n    const partType$1 = constant$1(optional({\n      name: suffix(),\n      overrides: constant$1({\n        dom: { tag: 'div' },\n        behaviours: derive$1([Positioning.config({ useFixed: always })]),\n        events: derive$2([\n          cutter(keydown()),\n          cutter(mousedown()),\n          cutter(click())\n        ])\n      })\n    }));\n\n    const getAnchor = (detail, component) => {\n      const hotspot = detail.getHotspot(component).getOr(component);\n      const type = 'hotspot';\n      const overrides = detail.getAnchorOverrides();\n      return detail.layouts.fold(() => ({\n        type,\n        hotspot,\n        overrides\n      }), layouts => ({\n        type,\n        hotspot,\n        overrides,\n        layouts\n      }));\n    };\n    const fetch = (detail, mapFetch, component) => {\n      const fetcher = detail.fetch;\n      return fetcher(component).map(mapFetch);\n    };\n    const openF = (detail, mapFetch, anchor, component, sandbox, externals, highlightOnOpen) => {\n      const futureData = fetch(detail, mapFetch, component);\n      const getLazySink = getSink(component, detail);\n      return futureData.map(tdata => tdata.bind(data => Optional.from(tieredMenu.sketch({\n        ...externals.menu(),\n        uid: generate$5(''),\n        data,\n        highlightOnOpen,\n        onOpenMenu: (tmenu, menu) => {\n          const sink = getLazySink().getOrDie();\n          Positioning.position(sink, menu, { anchor });\n          Sandboxing.decloak(sandbox);\n        },\n        onOpenSubmenu: (tmenu, item, submenu) => {\n          const sink = getLazySink().getOrDie();\n          Positioning.position(sink, submenu, {\n            anchor: {\n              type: 'submenu',\n              item\n            }\n          });\n          Sandboxing.decloak(sandbox);\n        },\n        onRepositionMenu: (tmenu, primaryMenu, submenuTriggers) => {\n          const sink = getLazySink().getOrDie();\n          Positioning.position(sink, primaryMenu, { anchor });\n          each$1(submenuTriggers, st => {\n            Positioning.position(sink, st.triggeredMenu, {\n              anchor: {\n                type: 'submenu',\n                item: st.triggeringItem\n              }\n            });\n          });\n        },\n        onEscape: () => {\n          Focusing.focus(component);\n          Sandboxing.close(sandbox);\n          return Optional.some(true);\n        }\n      }))));\n    };\n    const open = (detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen) => {\n      const anchor = getAnchor(detail, hotspot);\n      const processed = openF(detail, mapFetch, anchor, hotspot, sandbox, externals, highlightOnOpen);\n      return processed.map(tdata => {\n        tdata.fold(() => {\n          if (Sandboxing.isOpen(sandbox)) {\n            Sandboxing.close(sandbox);\n          }\n        }, data => {\n          Sandboxing.cloak(sandbox);\n          Sandboxing.open(sandbox, data);\n          onOpenSync(sandbox);\n        });\n        return sandbox;\n      });\n    };\n    const close = (detail, mapFetch, component, sandbox, _externals, _onOpenSync, _highlightOnOpen) => {\n      Sandboxing.close(sandbox);\n      return Future.pure(sandbox);\n    };\n    const togglePopup = (detail, mapFetch, hotspot, externals, onOpenSync, highlightOnOpen) => {\n      const sandbox = Coupling.getCoupled(hotspot, 'sandbox');\n      const showing = Sandboxing.isOpen(sandbox);\n      const action = showing ? close : open;\n      return action(detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen);\n    };\n    const matchWidth = (hotspot, container, useMinWidth) => {\n      const menu = Composing.getCurrent(container).getOr(container);\n      const buttonWidth = get$c(hotspot.element);\n      if (useMinWidth) {\n        set$8(menu.element, 'min-width', buttonWidth + 'px');\n      } else {\n        set$7(menu.element, buttonWidth);\n      }\n    };\n    const getSink = (anyInSystem, sinkDetail) => anyInSystem.getSystem().getByUid(sinkDetail.uid + '-' + suffix()).map(internalSink => () => Result.value(internalSink)).getOrThunk(() => sinkDetail.lazySink.fold(() => () => Result.error(new Error('No internal sink is specified, nor could an external sink be found')), lazySinkFn => () => lazySinkFn(anyInSystem)));\n    const doRepositionMenus = sandbox => {\n      Sandboxing.getState(sandbox).each(tmenu => {\n        tieredMenu.repositionMenus(tmenu);\n      });\n    };\n    const makeSandbox$1 = (detail, hotspot, extras) => {\n      const ariaControls = manager();\n      const onOpen = (component, menu) => {\n        const anchor = getAnchor(detail, hotspot);\n        ariaControls.link(hotspot.element);\n        if (detail.matchWidth) {\n          matchWidth(anchor.hotspot, menu, detail.useMinWidth);\n        }\n        detail.onOpen(anchor, component, menu);\n        if (extras !== undefined && extras.onOpen !== undefined) {\n          extras.onOpen(component, menu);\n        }\n      };\n      const onClose = (component, menu) => {\n        ariaControls.unlink(hotspot.element);\n        if (extras !== undefined && extras.onClose !== undefined) {\n          extras.onClose(component, menu);\n        }\n      };\n      const lazySink = getSink(hotspot, detail);\n      return {\n        dom: {\n          tag: 'div',\n          classes: detail.sandboxClasses,\n          attributes: {\n            id: ariaControls.id,\n            role: 'listbox'\n          }\n        },\n        behaviours: SketchBehaviours.augment(detail.sandboxBehaviours, [\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: hotspot\n            }\n          }),\n          Sandboxing.config({\n            onOpen,\n            onClose,\n            isPartOf: (container, data, queryElem) => {\n              return isPartOf$1(data, queryElem) || isPartOf$1(hotspot, queryElem);\n            },\n            getAttachPoint: () => {\n              return lazySink().getOrDie();\n            }\n          }),\n          Composing.config({\n            find: sandbox => {\n              return Sandboxing.getState(sandbox).bind(menu => Composing.getCurrent(menu));\n            }\n          }),\n          Receiving.config({\n            channels: {\n              ...receivingChannel$1({ isExtraPart: never }),\n              ...receivingChannel({ doReposition: doRepositionMenus })\n            }\n          })\n        ])\n      };\n    };\n    const repositionMenus = comp => {\n      const sandbox = Coupling.getCoupled(comp, 'sandbox');\n      doRepositionMenus(sandbox);\n    };\n\n    const sandboxFields = () => [\n      defaulted('sandboxClasses', []),\n      SketchBehaviours.field('sandboxBehaviours', [\n        Composing,\n        Receiving,\n        Sandboxing,\n        Representing\n      ])\n    ];\n\n    const schema$k = constant$1([\n      required$1('dom'),\n      required$1('fetch'),\n      onHandler('onOpen'),\n      onKeyboardHandler('onExecute'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      schema$y(),\n      field('dropdownBehaviours', [\n        Toggling,\n        Coupling,\n        Keying,\n        Focusing\n      ]),\n      required$1('toggleClass'),\n      defaulted('eventOrder', {}),\n      option$3('lazySink'),\n      defaulted('matchWidth', false),\n      defaulted('useMinWidth', false),\n      option$3('role')\n    ].concat(sandboxFields()));\n    const parts$e = constant$1([\n      external({\n        schema: [\n          tieredMenuMarkers(),\n          defaulted('fakeFocus', false)\n        ],\n        name: 'menu',\n        defaults: detail => {\n          return { onExecute: detail.onExecute };\n        }\n      }),\n      partType$1()\n    ]);\n\n    const factory$i = (detail, components, _spec, externals) => {\n      const lookupAttr = attr => get$g(detail.dom, 'attributes').bind(attrs => get$g(attrs, attr));\n      const switchToMenu = sandbox => {\n        Sandboxing.getState(sandbox).each(tmenu => {\n          tieredMenu.highlightPrimary(tmenu);\n        });\n      };\n      const togglePopup$1 = (dropdownComp, onOpenSync, highlightOnOpen) => {\n        return togglePopup(detail, identity, dropdownComp, externals, onOpenSync, highlightOnOpen);\n      };\n      const action = component => {\n        const onOpenSync = switchToMenu;\n        togglePopup$1(component, onOpenSync, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n      };\n      const apis = {\n        expand: comp => {\n          if (!Toggling.isOn(comp)) {\n            togglePopup$1(comp, noop, HighlightOnOpen.HighlightNone).get(noop);\n          }\n        },\n        open: comp => {\n          if (!Toggling.isOn(comp)) {\n            togglePopup$1(comp, noop, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n          }\n        },\n        refetch: comp => {\n          const optSandbox = Coupling.getExistingCoupled(comp, 'sandbox');\n          return optSandbox.fold(() => {\n            return togglePopup$1(comp, noop, HighlightOnOpen.HighlightMenuAndItem).map(noop);\n          }, sandboxComp => {\n            return open(detail, identity, comp, sandboxComp, externals, noop, HighlightOnOpen.HighlightMenuAndItem).map(noop);\n          });\n        },\n        isOpen: Toggling.isOn,\n        close: comp => {\n          if (Toggling.isOn(comp)) {\n            togglePopup$1(comp, noop, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n          }\n        },\n        repositionMenus: comp => {\n          if (Toggling.isOn(comp)) {\n            repositionMenus(comp);\n          }\n        }\n      };\n      const triggerExecute = (comp, _se) => {\n        emitExecute(comp);\n        return Optional.some(true);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.dropdownBehaviours, [\n          Toggling.config({\n            toggleClass: detail.toggleClass,\n            aria: { mode: 'expanded' }\n          }),\n          Coupling.config({\n            others: {\n              sandbox: hotspot => {\n                return makeSandbox$1(detail, hotspot, {\n                  onOpen: () => Toggling.on(hotspot),\n                  onClose: () => Toggling.off(hotspot)\n                });\n              }\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            onSpace: triggerExecute,\n            onEnter: triggerExecute,\n            onDown: (comp, _se) => {\n              if (Dropdown.isOpen(comp)) {\n                const sandbox = Coupling.getCoupled(comp, 'sandbox');\n                switchToMenu(sandbox);\n              } else {\n                Dropdown.open(comp);\n              }\n              return Optional.some(true);\n            },\n            onEscape: (comp, _se) => {\n              if (Dropdown.isOpen(comp)) {\n                Dropdown.close(comp);\n                return Optional.some(true);\n              } else {\n                return Optional.none();\n              }\n            }\n          }),\n          Focusing.config({})\n        ]),\n        events: events$a(Optional.some(action)),\n        eventOrder: {\n          ...detail.eventOrder,\n          [execute$5()]: [\n            'disabling',\n            'toggling',\n            'alloy.base.behaviour'\n          ]\n        },\n        apis,\n        domModification: {\n          attributes: {\n            'aria-haspopup': 'true',\n            ...detail.role.fold(() => ({}), role => ({ role })),\n            ...detail.dom.tag === 'button' ? { type: lookupAttr('type').getOr('button') } : {}\n          }\n        }\n      };\n    };\n    const Dropdown = composite({\n      name: 'Dropdown',\n      configFields: schema$k(),\n      partFields: parts$e(),\n      factory: factory$i,\n      apis: {\n        open: (apis, comp) => apis.open(comp),\n        refetch: (apis, comp) => apis.refetch(comp),\n        expand: (apis, comp) => apis.expand(comp),\n        close: (apis, comp) => apis.close(comp),\n        isOpen: (apis, comp) => apis.isOpen(comp),\n        repositionMenus: (apis, comp) => apis.repositionMenus(comp)\n      }\n    });\n\n    const identifyMenuLayout = searchMode => {\n      switch (searchMode.searchMode) {\n      case 'no-search': {\n          return { menuType: 'normal' };\n        }\n      default: {\n          return {\n            menuType: 'searchable',\n            searchMode\n          };\n        }\n      }\n    };\n    const handleRefetchTrigger = originalSandboxComp => {\n      const dropdown = Representing.getValue(originalSandboxComp);\n      const optSearcherState = findWithinSandbox(originalSandboxComp).map(saveState);\n      Dropdown.refetch(dropdown).get(() => {\n        const newSandboxComp = Coupling.getCoupled(dropdown, 'sandbox');\n        optSearcherState.each(searcherState => findWithinSandbox(newSandboxComp).each(inputComp => restoreState(inputComp, searcherState)));\n      });\n    };\n    const handleRedirectToMenuItem = (sandboxComp, se) => {\n      getActiveMenuItemFrom(sandboxComp).each(activeItem => {\n        retargetAndDispatchWith(sandboxComp, activeItem.element, se.event.eventType, se.event.interactionEvent);\n      });\n    };\n    const getActiveMenuItemFrom = sandboxComp => {\n      return Sandboxing.getState(sandboxComp).bind(Highlighting.getHighlighted).bind(Highlighting.getHighlighted);\n    };\n    const getSearchResults = activeMenuComp => {\n      return has(activeMenuComp.element, searchResultsClass) ? Optional.some(activeMenuComp.element) : descendant(activeMenuComp.element, '.' + searchResultsClass);\n    };\n    const updateAriaOnHighlight = (tmenuComp, menuComp, itemComp) => {\n      findWithinMenu(tmenuComp).each(inputComp => {\n        setActiveDescendant(inputComp, itemComp);\n        const optActiveResults = getSearchResults(menuComp);\n        optActiveResults.each(resultsElem => {\n          getOpt(resultsElem, 'id').each(controlledId => set$9(inputComp.element, 'aria-controls', controlledId));\n        });\n      });\n      set$9(itemComp.element, 'aria-selected', 'true');\n    };\n    const updateAriaOnDehighlight = (tmenuComp, menuComp, itemComp) => {\n      set$9(itemComp.element, 'aria-selected', 'false');\n    };\n    const focusSearchField = tmenuComp => {\n      findWithinMenu(tmenuComp).each(searcherComp => Focusing.focus(searcherComp));\n    };\n    const getSearchPattern = dropdownComp => {\n      const optSandboxComp = Coupling.getExistingCoupled(dropdownComp, 'sandbox');\n      return optSandboxComp.bind(findWithinSandbox).map(saveState).map(state => state.fetchPattern).getOr('');\n    };\n\n    var FocusMode;\n    (function (FocusMode) {\n      FocusMode[FocusMode['ContentFocus'] = 0] = 'ContentFocus';\n      FocusMode[FocusMode['UiFocus'] = 1] = 'UiFocus';\n    }(FocusMode || (FocusMode = {})));\n    const createMenuItemFromBridge = (item, itemResponse, backstage, menuHasIcons, isHorizontalMenu) => {\n      const providersBackstage = backstage.shared.providers;\n      const parseForHorizontalMenu = menuitem => !isHorizontalMenu ? menuitem : {\n        ...menuitem,\n        shortcut: Optional.none(),\n        icon: menuitem.text.isSome() ? Optional.none() : menuitem.icon\n      };\n      switch (item.type) {\n      case 'menuitem':\n        return createMenuItem(item).fold(handleError, d => Optional.some(normal(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons)));\n      case 'nestedmenuitem':\n        return createNestedMenuItem(item).fold(handleError, d => Optional.some(nested(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons, isHorizontalMenu)));\n      case 'togglemenuitem':\n        return createToggleMenuItem(item).fold(handleError, d => Optional.some(toggle$1(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons)));\n      case 'separator':\n        return createSeparatorMenuItem(item).fold(handleError, d => Optional.some(separator$3(d)));\n      case 'fancymenuitem':\n        return createFancyMenuItem(item).fold(handleError, d => fancy(d, backstage));\n      default: {\n          console.error('Unknown item in general menu', item);\n          return Optional.none();\n        }\n      }\n    };\n    const createAutocompleteItems = (items, matchText, onItemValueHandler, columns, itemResponse, sharedBackstage, highlightOn) => {\n      const renderText = columns === 1;\n      const renderIcons = !renderText || menuHasIcons(items);\n      return cat(map$2(items, item => {\n        switch (item.type) {\n        case 'separator':\n          return createSeparatorItem(item).fold(handleError, d => Optional.some(separator$3(d)));\n        case 'cardmenuitem':\n          return createCardMenuItem(item).fold(handleError, d => Optional.some(card({\n            ...d,\n            onAction: api => {\n              d.onAction(api);\n              onItemValueHandler(d.value, d.meta);\n            }\n          }, itemResponse, sharedBackstage, {\n            itemBehaviours: tooltipBehaviour(d.meta, sharedBackstage),\n            cardText: {\n              matchText,\n              highlightOn\n            }\n          })));\n        case 'autocompleteitem':\n        default:\n          return createAutocompleterItem(item).fold(handleError, d => Optional.some(autocomplete(d, matchText, renderText, 'normal', onItemValueHandler, itemResponse, sharedBackstage, renderIcons)));\n        }\n      }));\n    };\n    const createPartialMenu = (value, items, itemResponse, backstage, isHorizontalMenu, searchMode) => {\n      const hasIcons = menuHasIcons(items);\n      const alloyItems = cat(map$2(items, item => {\n        const itemHasIcon = i => isHorizontalMenu ? !has$2(i, 'text') : hasIcons;\n        const createItem = i => createMenuItemFromBridge(i, itemResponse, backstage, itemHasIcon(i), isHorizontalMenu);\n        if (item.type === 'nestedmenuitem' && item.getSubmenuItems().length <= 0) {\n          return createItem({\n            ...item,\n            enabled: false\n          });\n        } else {\n          return createItem(item);\n        }\n      }));\n      const menuLayout = identifyMenuLayout(searchMode);\n      const createPartial = isHorizontalMenu ? createHorizontalPartialMenuWithAlloyItems : createPartialMenuWithAlloyItems;\n      return createPartial(value, hasIcons, alloyItems, 1, menuLayout);\n    };\n    const createTieredDataFrom = partialMenu => tieredMenu.singleData(partialMenu.value, partialMenu);\n    const createInlineMenuFrom = (partialMenu, columns, focusMode, presets) => {\n      const movement = deriveMenuMovement(columns, presets);\n      const menuMarkers = markers(presets);\n      return {\n        data: createTieredDataFrom({\n          ...partialMenu,\n          movement,\n          menuBehaviours: SimpleBehaviours.unnamedEvents(columns !== 'auto' ? [] : [runOnAttached((comp, _se) => {\n              detectSize(comp, 4, menuMarkers.item).each(({numColumns, numRows}) => {\n                Keying.setGridSize(comp, numRows, numColumns);\n              });\n            })])\n        }),\n        menu: {\n          markers: markers(presets),\n          fakeFocus: focusMode === FocusMode.ContentFocus\n        }\n      };\n    };\n\n    const getAutocompleterRange = (dom, initRange) => {\n      return detect(SugarElement.fromDom(initRange.startContainer)).map(elm => {\n        const range = dom.createRng();\n        range.selectNode(elm.dom);\n        return range;\n      });\n    };\n    const register$b = (editor, sharedBackstage) => {\n      const processingAction = Cell(false);\n      const activeState = Cell(false);\n      const autocompleter = build$1(InlineView.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-autocompleter']\n        },\n        components: [],\n        fireDismissalEventInstead: {},\n        inlineBehaviours: derive$1([config('dismissAutocompleter', [run$1(dismissRequested(), () => cancelIfNecessary())])]),\n        lazySink: sharedBackstage.getSink\n      }));\n      const isMenuOpen = () => InlineView.isOpen(autocompleter);\n      const isActive = activeState.get;\n      const hideIfNecessary = () => {\n        if (isMenuOpen()) {\n          InlineView.hide(autocompleter);\n        }\n      };\n      const getMenu = () => InlineView.getContent(autocompleter).bind(tmenu => {\n        return get$h(tmenu.components(), 0);\n      });\n      const cancelIfNecessary = () => editor.execCommand('mceAutocompleterClose');\n      const getCombinedItems = matches => {\n        const columns = findMap(matches, m => Optional.from(m.columns)).getOr(1);\n        return bind$3(matches, match => {\n          const choices = match.items;\n          return createAutocompleteItems(choices, match.matchText, (itemValue, itemMeta) => {\n            const nr = editor.selection.getRng();\n            getAutocompleterRange(editor.dom, nr).each(range => {\n              const autocompleterApi = {\n                hide: () => cancelIfNecessary(),\n                reload: fetchOptions => {\n                  hideIfNecessary();\n                  editor.execCommand('mceAutocompleterReload', false, { fetchOptions });\n                }\n              };\n              processingAction.set(true);\n              match.onAction(autocompleterApi, range, itemValue, itemMeta);\n              processingAction.set(false);\n            });\n          }, columns, ItemResponse$1.BUBBLE_TO_SANDBOX, sharedBackstage, match.highlightOn);\n        });\n      };\n      const display = (lookupData, items) => {\n        findIn(SugarElement.fromDom(editor.getBody())).each(element => {\n          const columns = findMap(lookupData, ld => Optional.from(ld.columns)).getOr(1);\n          InlineView.showMenuAt(autocompleter, {\n            anchor: {\n              type: 'node',\n              root: SugarElement.fromDom(editor.getBody()),\n              node: Optional.from(element)\n            }\n          }, createInlineMenuFrom(createPartialMenuWithAlloyItems('autocompleter-value', true, items, columns, { menuType: 'normal' }), columns, FocusMode.ContentFocus, 'normal'));\n        });\n        getMenu().each(Highlighting.highlightFirst);\n      };\n      const updateDisplay = lookupData => {\n        const combinedItems = getCombinedItems(lookupData);\n        if (combinedItems.length > 0) {\n          display(lookupData, combinedItems);\n        } else {\n          hideIfNecessary();\n        }\n      };\n      editor.on('AutocompleterStart', ({lookupData}) => {\n        activeState.set(true);\n        processingAction.set(false);\n        updateDisplay(lookupData);\n      });\n      editor.on('AutocompleterUpdate', ({lookupData}) => updateDisplay(lookupData));\n      editor.on('AutocompleterEnd', () => {\n        hideIfNecessary();\n        activeState.set(false);\n        processingAction.set(false);\n      });\n      const autocompleterUiApi = {\n        cancelIfNecessary,\n        isMenuOpen,\n        isActive,\n        isProcessingAction: processingAction.get,\n        getMenu\n      };\n      AutocompleterEditorEvents.setup(autocompleterUiApi, editor);\n    };\n    const Autocompleter = { register: register$b };\n\n    const closest = (scope, selector, isRoot) => closest$1(scope, selector, isRoot).isSome();\n\n    const DelayedFunction = (fun, delay) => {\n      let ref = null;\n      const schedule = (...args) => {\n        ref = setTimeout(() => {\n          fun.apply(null, args);\n          ref = null;\n        }, delay);\n      };\n      const cancel = () => {\n        if (ref !== null) {\n          clearTimeout(ref);\n          ref = null;\n        }\n      };\n      return {\n        cancel,\n        schedule\n      };\n    };\n\n    const SIGNIFICANT_MOVE = 5;\n    const LONGPRESS_DELAY = 400;\n    const getTouch = event => {\n      const raw = event.raw;\n      if (raw.touches === undefined || raw.touches.length !== 1) {\n        return Optional.none();\n      }\n      return Optional.some(raw.touches[0]);\n    };\n    const isFarEnough = (touch, data) => {\n      const distX = Math.abs(touch.clientX - data.x);\n      const distY = Math.abs(touch.clientY - data.y);\n      return distX > SIGNIFICANT_MOVE || distY > SIGNIFICANT_MOVE;\n    };\n    const monitor = settings => {\n      const startData = value$2();\n      const longpressFired = Cell(false);\n      const longpress$1 = DelayedFunction(event => {\n        settings.triggerEvent(longpress(), event);\n        longpressFired.set(true);\n      }, LONGPRESS_DELAY);\n      const handleTouchstart = event => {\n        getTouch(event).each(touch => {\n          longpress$1.cancel();\n          const data = {\n            x: touch.clientX,\n            y: touch.clientY,\n            target: event.target\n          };\n          longpress$1.schedule(event);\n          longpressFired.set(false);\n          startData.set(data);\n        });\n        return Optional.none();\n      };\n      const handleTouchmove = event => {\n        longpress$1.cancel();\n        getTouch(event).each(touch => {\n          startData.on(data => {\n            if (isFarEnough(touch, data)) {\n              startData.clear();\n            }\n          });\n        });\n        return Optional.none();\n      };\n      const handleTouchend = event => {\n        longpress$1.cancel();\n        const isSame = data => eq(data.target, event.target);\n        return startData.get().filter(isSame).map(_data => {\n          if (longpressFired.get()) {\n            event.prevent();\n            return false;\n          } else {\n            return settings.triggerEvent(tap(), event);\n          }\n        });\n      };\n      const handlers = wrapAll([\n        {\n          key: touchstart(),\n          value: handleTouchstart\n        },\n        {\n          key: touchmove(),\n          value: handleTouchmove\n        },\n        {\n          key: touchend(),\n          value: handleTouchend\n        }\n      ]);\n      const fireIfReady = (event, type) => get$g(handlers, type).bind(handler => handler(event));\n      return { fireIfReady };\n    };\n\n    const isDangerous = event => {\n      const keyEv = event.raw;\n      return keyEv.which === BACKSPACE[0] && !contains$2([\n        'input',\n        'textarea'\n      ], name$3(event.target)) && !closest(event.target, '[contenteditable=\"true\"]');\n    };\n    const setup$d = (container, rawSettings) => {\n      const settings = {\n        stopBackspace: true,\n        ...rawSettings\n      };\n      const pointerEvents = [\n        'touchstart',\n        'touchmove',\n        'touchend',\n        'touchcancel',\n        'gesturestart',\n        'mousedown',\n        'mouseup',\n        'mouseover',\n        'mousemove',\n        'mouseout',\n        'click'\n      ];\n      const tapEvent = monitor(settings);\n      const simpleEvents = map$2(pointerEvents.concat([\n        'selectstart',\n        'input',\n        'contextmenu',\n        'change',\n        'transitionend',\n        'transitioncancel',\n        'drag',\n        'dragstart',\n        'dragend',\n        'dragenter',\n        'dragleave',\n        'dragover',\n        'drop',\n        'keyup'\n      ]), type => bind(container, type, event => {\n        tapEvent.fireIfReady(event, type).each(tapStopped => {\n          if (tapStopped) {\n            event.kill();\n          }\n        });\n        const stopped = settings.triggerEvent(type, event);\n        if (stopped) {\n          event.kill();\n        }\n      }));\n      const pasteTimeout = value$2();\n      const onPaste = bind(container, 'paste', event => {\n        tapEvent.fireIfReady(event, 'paste').each(tapStopped => {\n          if (tapStopped) {\n            event.kill();\n          }\n        });\n        const stopped = settings.triggerEvent('paste', event);\n        if (stopped) {\n          event.kill();\n        }\n        pasteTimeout.set(setTimeout(() => {\n          settings.triggerEvent(postPaste(), event);\n        }, 0));\n      });\n      const onKeydown = bind(container, 'keydown', event => {\n        const stopped = settings.triggerEvent('keydown', event);\n        if (stopped) {\n          event.kill();\n        } else if (settings.stopBackspace && isDangerous(event)) {\n          event.prevent();\n        }\n      });\n      const onFocusIn = bind(container, 'focusin', event => {\n        const stopped = settings.triggerEvent('focusin', event);\n        if (stopped) {\n          event.kill();\n        }\n      });\n      const focusoutTimeout = value$2();\n      const onFocusOut = bind(container, 'focusout', event => {\n        const stopped = settings.triggerEvent('focusout', event);\n        if (stopped) {\n          event.kill();\n        }\n        focusoutTimeout.set(setTimeout(() => {\n          settings.triggerEvent(postBlur(), event);\n        }, 0));\n      });\n      const unbind = () => {\n        each$1(simpleEvents, e => {\n          e.unbind();\n        });\n        onKeydown.unbind();\n        onFocusIn.unbind();\n        onFocusOut.unbind();\n        onPaste.unbind();\n        pasteTimeout.on(clearTimeout);\n        focusoutTimeout.on(clearTimeout);\n      };\n      return { unbind };\n    };\n\n    const derive = (rawEvent, rawTarget) => {\n      const source = get$g(rawEvent, 'target').getOr(rawTarget);\n      return Cell(source);\n    };\n\n    const fromSource = (event, source) => {\n      const stopper = Cell(false);\n      const cutter = Cell(false);\n      const stop = () => {\n        stopper.set(true);\n      };\n      const cut = () => {\n        cutter.set(true);\n      };\n      return {\n        stop,\n        cut,\n        isStopped: stopper.get,\n        isCut: cutter.get,\n        event,\n        setSource: source.set,\n        getSource: source.get\n      };\n    };\n    const fromExternal = event => {\n      const stopper = Cell(false);\n      const stop = () => {\n        stopper.set(true);\n      };\n      return {\n        stop,\n        cut: noop,\n        isStopped: stopper.get,\n        isCut: never,\n        event,\n        setSource: die('Cannot set source of a broadcasted event'),\n        getSource: die('Cannot get source of a broadcasted event')\n      };\n    };\n\n    const adt$1 = Adt.generate([\n      { stopped: [] },\n      { resume: ['element'] },\n      { complete: [] }\n    ]);\n    const doTriggerHandler = (lookup, eventType, rawEvent, target, source, logger) => {\n      const handler = lookup(eventType, target);\n      const simulatedEvent = fromSource(rawEvent, source);\n      return handler.fold(() => {\n        logger.logEventNoHandlers(eventType, target);\n        return adt$1.complete();\n      }, handlerInfo => {\n        const descHandler = handlerInfo.descHandler;\n        const eventHandler = getCurried(descHandler);\n        eventHandler(simulatedEvent);\n        if (simulatedEvent.isStopped()) {\n          logger.logEventStopped(eventType, handlerInfo.element, descHandler.purpose);\n          return adt$1.stopped();\n        } else if (simulatedEvent.isCut()) {\n          logger.logEventCut(eventType, handlerInfo.element, descHandler.purpose);\n          return adt$1.complete();\n        } else {\n          return parent(handlerInfo.element).fold(() => {\n            logger.logNoParent(eventType, handlerInfo.element, descHandler.purpose);\n            return adt$1.complete();\n          }, parent => {\n            logger.logEventResponse(eventType, handlerInfo.element, descHandler.purpose);\n            return adt$1.resume(parent);\n          });\n        }\n      });\n    };\n    const doTriggerOnUntilStopped = (lookup, eventType, rawEvent, rawTarget, source, logger) => doTriggerHandler(lookup, eventType, rawEvent, rawTarget, source, logger).fold(always, parent => doTriggerOnUntilStopped(lookup, eventType, rawEvent, parent, source, logger), never);\n    const triggerHandler = (lookup, eventType, rawEvent, target, logger) => {\n      const source = derive(rawEvent, target);\n      return doTriggerHandler(lookup, eventType, rawEvent, target, source, logger);\n    };\n    const broadcast = (listeners, rawEvent, _logger) => {\n      const simulatedEvent = fromExternal(rawEvent);\n      each$1(listeners, listener => {\n        const descHandler = listener.descHandler;\n        const handler = getCurried(descHandler);\n        handler(simulatedEvent);\n      });\n      return simulatedEvent.isStopped();\n    };\n    const triggerUntilStopped = (lookup, eventType, rawEvent, logger) => triggerOnUntilStopped(lookup, eventType, rawEvent, rawEvent.target, logger);\n    const triggerOnUntilStopped = (lookup, eventType, rawEvent, rawTarget, logger) => {\n      const source = derive(rawEvent, rawTarget);\n      return doTriggerOnUntilStopped(lookup, eventType, rawEvent, rawTarget, source, logger);\n    };\n\n    const eventHandler = (element, descHandler) => ({\n      element,\n      descHandler\n    });\n    const broadcastHandler = (id, handler) => ({\n      id,\n      descHandler: handler\n    });\n    const EventRegistry = () => {\n      const registry = {};\n      const registerId = (extraArgs, id, events) => {\n        each(events, (v, k) => {\n          const handlers = registry[k] !== undefined ? registry[k] : {};\n          handlers[id] = curryArgs(v, extraArgs);\n          registry[k] = handlers;\n        });\n      };\n      const findHandler = (handlers, elem) => read$1(elem).bind(id => get$g(handlers, id)).map(descHandler => eventHandler(elem, descHandler));\n      const filterByType = type => get$g(registry, type).map(handlers => mapToArray(handlers, (f, id) => broadcastHandler(id, f))).getOr([]);\n      const find = (isAboveRoot, type, target) => get$g(registry, type).bind(handlers => closest$4(target, elem => findHandler(handlers, elem), isAboveRoot));\n      const unregisterId = id => {\n        each(registry, (handlersById, _eventName) => {\n          if (has$2(handlersById, id)) {\n            delete handlersById[id];\n          }\n        });\n      };\n      return {\n        registerId,\n        unregisterId,\n        filterByType,\n        find\n      };\n    };\n\n    const Registry = () => {\n      const events = EventRegistry();\n      const components = {};\n      const readOrTag = component => {\n        const elem = component.element;\n        return read$1(elem).getOrThunk(() => write('uid-', component.element));\n      };\n      const failOnDuplicate = (component, tagId) => {\n        const conflict = components[tagId];\n        if (conflict === component) {\n          unregister(component);\n        } else {\n          throw new Error('The tagId \"' + tagId + '\" is already used by: ' + element(conflict.element) + '\\nCannot use it for: ' + element(component.element) + '\\n' + 'The conflicting element is' + (inBody(conflict.element) ? ' ' : ' not ') + 'already in the DOM');\n        }\n      };\n      const register = component => {\n        const tagId = readOrTag(component);\n        if (hasNonNullableKey(components, tagId)) {\n          failOnDuplicate(component, tagId);\n        }\n        const extraArgs = [component];\n        events.registerId(extraArgs, tagId, component.events);\n        components[tagId] = component;\n      };\n      const unregister = component => {\n        read$1(component.element).each(tagId => {\n          delete components[tagId];\n          events.unregisterId(tagId);\n        });\n      };\n      const filter = type => events.filterByType(type);\n      const find = (isAboveRoot, type, target) => events.find(isAboveRoot, type, target);\n      const getById = id => get$g(components, id);\n      return {\n        find,\n        filter,\n        register,\n        unregister,\n        getById\n      };\n    };\n\n    const factory$h = detail => {\n      const {attributes, ...domWithoutAttributes} = detail.dom;\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'div',\n          attributes: {\n            role: 'presentation',\n            ...attributes\n          },\n          ...domWithoutAttributes\n        },\n        components: detail.components,\n        behaviours: get$3(detail.containerBehaviours),\n        events: detail.events,\n        domModification: detail.domModification,\n        eventOrder: detail.eventOrder\n      };\n    };\n    const Container = single({\n      name: 'Container',\n      factory: factory$h,\n      configFields: [\n        defaulted('components', []),\n        field('containerBehaviours', []),\n        defaulted('events', {}),\n        defaulted('domModification', {}),\n        defaulted('eventOrder', {})\n      ]\n    });\n\n    const takeover = root => {\n      const isAboveRoot = el => parent(root.element).fold(always, parent => eq(el, parent));\n      const registry = Registry();\n      const lookup = (eventName, target) => registry.find(isAboveRoot, eventName, target);\n      const domEvents = setup$d(root.element, {\n        triggerEvent: (eventName, event) => {\n          return monitorEvent(eventName, event.target, logger => triggerUntilStopped(lookup, eventName, event, logger));\n        }\n      });\n      const systemApi = {\n        debugInfo: constant$1('real'),\n        triggerEvent: (eventName, target, data) => {\n          monitorEvent(eventName, target, logger => triggerOnUntilStopped(lookup, eventName, data, target, logger));\n        },\n        triggerFocus: (target, originator) => {\n          read$1(target).fold(() => {\n            focus$3(target);\n          }, _alloyId => {\n            monitorEvent(focus$4(), target, logger => {\n              triggerHandler(lookup, focus$4(), {\n                originator,\n                kill: noop,\n                prevent: noop,\n                target\n              }, target, logger);\n              return false;\n            });\n          });\n        },\n        triggerEscape: (comp, simulatedEvent) => {\n          systemApi.triggerEvent('keydown', comp.element, simulatedEvent.event);\n        },\n        getByUid: uid => {\n          return getByUid(uid);\n        },\n        getByDom: elem => {\n          return getByDom(elem);\n        },\n        build: build$1,\n        buildOrPatch: buildOrPatch,\n        addToGui: c => {\n          add(c);\n        },\n        removeFromGui: c => {\n          remove(c);\n        },\n        addToWorld: c => {\n          addToWorld(c);\n        },\n        removeFromWorld: c => {\n          removeFromWorld(c);\n        },\n        broadcast: message => {\n          broadcast$1(message);\n        },\n        broadcastOn: (channels, message) => {\n          broadcastOn(channels, message);\n        },\n        broadcastEvent: (eventName, event) => {\n          broadcastEvent(eventName, event);\n        },\n        isConnected: always\n      };\n      const addToWorld = component => {\n        component.connect(systemApi);\n        if (!isText(component.element)) {\n          registry.register(component);\n          each$1(component.components(), addToWorld);\n          systemApi.triggerEvent(systemInit(), component.element, { target: component.element });\n        }\n      };\n      const removeFromWorld = component => {\n        if (!isText(component.element)) {\n          each$1(component.components(), removeFromWorld);\n          registry.unregister(component);\n        }\n        component.disconnect();\n      };\n      const add = component => {\n        attach(root, component);\n      };\n      const remove = component => {\n        detach(component);\n      };\n      const destroy = () => {\n        domEvents.unbind();\n        remove$5(root.element);\n      };\n      const broadcastData = data => {\n        const receivers = registry.filter(receive());\n        each$1(receivers, receiver => {\n          const descHandler = receiver.descHandler;\n          const handler = getCurried(descHandler);\n          handler(data);\n        });\n      };\n      const broadcast$1 = message => {\n        broadcastData({\n          universal: true,\n          data: message\n        });\n      };\n      const broadcastOn = (channels, message) => {\n        broadcastData({\n          universal: false,\n          channels,\n          data: message\n        });\n      };\n      const broadcastEvent = (eventName, event) => {\n        const listeners = registry.filter(eventName);\n        return broadcast(listeners, event);\n      };\n      const getByUid = uid => registry.getById(uid).fold(() => Result.error(new Error('Could not find component with uid: \"' + uid + '\" in system.')), Result.value);\n      const getByDom = elem => {\n        const uid = read$1(elem).getOr('not found');\n        return getByUid(uid);\n      };\n      addToWorld(root);\n      return {\n        root,\n        element: root.element,\n        destroy,\n        add,\n        remove,\n        getByUid,\n        getByDom,\n        addToWorld,\n        removeFromWorld,\n        broadcast: broadcast$1,\n        broadcastOn,\n        broadcastEvent\n      };\n    };\n\n    const renderBar = (spec, backstage) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-bar',\n          'tox-form__controls-h-stack'\n        ]\n      },\n      components: map$2(spec.items, backstage.interpreter)\n    });\n\n    const schema$j = constant$1([\n      defaulted('prefix', 'form-field'),\n      field('fieldBehaviours', [\n        Composing,\n        Representing\n      ])\n    ]);\n    const parts$d = constant$1([\n      optional({\n        schema: [required$1('dom')],\n        name: 'label'\n      }),\n      optional({\n        factory: {\n          sketch: spec => {\n            return {\n              uid: spec.uid,\n              dom: {\n                tag: 'span',\n                styles: { display: 'none' },\n                attributes: { 'aria-hidden': 'true' },\n                innerHtml: spec.text\n              }\n            };\n          }\n        },\n        schema: [required$1('text')],\n        name: 'aria-descriptor'\n      }),\n      required({\n        factory: {\n          sketch: spec => {\n            const excludeFactory = exclude(spec, ['factory']);\n            return spec.factory.sketch(excludeFactory);\n          }\n        },\n        schema: [required$1('factory')],\n        name: 'field'\n      })\n    ]);\n\n    const factory$g = (detail, components, _spec, _externals) => {\n      const behaviours = augment(detail.fieldBehaviours, [\n        Composing.config({\n          find: container => {\n            return getPart(container, detail, 'field');\n          }\n        }),\n        Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: field => {\n              return Composing.getCurrent(field).bind(Representing.getValue);\n            },\n            setValue: (field, value) => {\n              Composing.getCurrent(field).each(current => {\n                Representing.setValue(current, value);\n              });\n            }\n          }\n        })\n      ]);\n      const events = derive$2([runOnAttached((component, _simulatedEvent) => {\n          const ps = getParts(component, detail, [\n            'label',\n            'field',\n            'aria-descriptor'\n          ]);\n          ps.field().each(field => {\n            const id = generate$6(detail.prefix);\n            ps.label().each(label => {\n              set$9(label.element, 'for', id);\n              set$9(field.element, 'id', id);\n            });\n            ps['aria-descriptor']().each(descriptor => {\n              const descriptorId = generate$6(detail.prefix);\n              set$9(descriptor.element, 'id', descriptorId);\n              set$9(field.element, 'aria-describedby', descriptorId);\n            });\n          });\n        })]);\n      const apis = {\n        getField: container => getPart(container, detail, 'field'),\n        getLabel: container => getPart(container, detail, 'label')\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours,\n        events,\n        apis\n      };\n    };\n    const FormField = composite({\n      name: 'FormField',\n      configFields: schema$j(),\n      partFields: parts$d(),\n      factory: factory$g,\n      apis: {\n        getField: (apis, comp) => apis.getField(comp),\n        getLabel: (apis, comp) => apis.getLabel(comp)\n      }\n    });\n\n    const exhibit$2 = (base, tabConfig) => nu$7({\n      attributes: wrapAll([{\n          key: tabConfig.tabAttr,\n          value: 'true'\n        }])\n    });\n\n    var ActiveTabstopping = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$2\n    });\n\n    var TabstopSchema = [defaulted('tabAttr', 'data-alloy-tabstop')];\n\n    const Tabstopping = create$3({\n      fields: TabstopSchema,\n      name: 'tabstopping',\n      active: ActiveTabstopping\n    });\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.html.Entities');\n\n    const renderFormFieldWith = (pLabel, pField, extraClasses, extraBehaviours) => {\n      const spec = renderFormFieldSpecWith(pLabel, pField, extraClasses, extraBehaviours);\n      return FormField.sketch(spec);\n    };\n    const renderFormField = (pLabel, pField) => renderFormFieldWith(pLabel, pField, [], []);\n    const renderFormFieldSpecWith = (pLabel, pField, extraClasses, extraBehaviours) => ({\n      dom: renderFormFieldDomWith(extraClasses),\n      components: pLabel.toArray().concat([pField]),\n      fieldBehaviours: derive$1(extraBehaviours)\n    });\n    const renderFormFieldDom = () => renderFormFieldDomWith([]);\n    const renderFormFieldDomWith = extraClasses => ({\n      tag: 'div',\n      classes: ['tox-form__group'].concat(extraClasses)\n    });\n    const renderLabel$2 = (label, providersBackstage) => FormField.parts.label({\n      dom: {\n        tag: 'label',\n        classes: ['tox-label']\n      },\n      components: [text$1(providersBackstage.translate(label))]\n    });\n\n    const formChangeEvent = generate$6('form-component-change');\n    const formCloseEvent = generate$6('form-close');\n    const formCancelEvent = generate$6('form-cancel');\n    const formActionEvent = generate$6('form-action');\n    const formSubmitEvent = generate$6('form-submit');\n    const formBlockEvent = generate$6('form-block');\n    const formUnblockEvent = generate$6('form-unblock');\n    const formTabChangeEvent = generate$6('form-tabchange');\n    const formResizeEvent = generate$6('form-resize');\n\n    const renderCollection = (spec, providersBackstage, initialData) => {\n      const pLabel = spec.label.map(label => renderLabel$2(label, providersBackstage));\n      const runOnItem = f => (comp, se) => {\n        closest$1(se.event.target, '[data-collection-item-value]').each(target => {\n          f(comp, se, target, get$f(target, 'data-collection-item-value'));\n        });\n      };\n      const setContents = (comp, items) => {\n        const htmlLines = map$2(items, item => {\n          const itemText = global$8.translate(item.text);\n          const textContent = spec.columns === 1 ? `<div class=\"tox-collection__item-label\">${ itemText }</div>` : '';\n          const iconContent = `<div class=\"tox-collection__item-icon\">${ item.icon }</div>`;\n          const mapItemName = {\n            '_': ' ',\n            ' - ': ' ',\n            '-': ' '\n          };\n          const ariaLabel = itemText.replace(/\\_| \\- |\\-/g, match => mapItemName[match]);\n          const disabledClass = providersBackstage.isDisabled() ? ' tox-collection__item--state-disabled' : '';\n          return `<div class=\"tox-collection__item${ disabledClass }\" tabindex=\"-1\" data-collection-item-value=\"${ global$3.encodeAllRaw(item.value) }\" title=\"${ ariaLabel }\" aria-label=\"${ ariaLabel }\">${ iconContent }${ textContent }</div>`;\n        });\n        const chunks = spec.columns !== 'auto' && spec.columns > 1 ? chunk$1(htmlLines, spec.columns) : [htmlLines];\n        const html = map$2(chunks, ch => `<div class=\"tox-collection__group\">${ ch.join('') }</div>`);\n        set$6(comp.element, html.join(''));\n      };\n      const onClick = runOnItem((comp, se, tgt, itemValue) => {\n        se.stop();\n        if (!providersBackstage.isDisabled()) {\n          emitWith(comp, formActionEvent, {\n            name: spec.name,\n            value: itemValue\n          });\n        }\n      });\n      const collectionEvents = [\n        run$1(mouseover(), runOnItem((comp, se, tgt) => {\n          focus$3(tgt);\n        })),\n        run$1(click(), onClick),\n        run$1(tap(), onClick),\n        run$1(focusin(), runOnItem((comp, se, tgt) => {\n          descendant(comp.element, '.' + activeClass).each(currentActive => {\n            remove$2(currentActive, activeClass);\n          });\n          add$2(tgt, activeClass);\n        })),\n        run$1(focusout(), runOnItem(comp => {\n          descendant(comp.element, '.' + activeClass).each(currentActive => {\n            remove$2(currentActive, activeClass);\n          });\n        })),\n        runOnExecute$1(runOnItem((comp, se, tgt, itemValue) => {\n          emitWith(comp, formActionEvent, {\n            name: spec.name,\n            value: itemValue\n          });\n        }))\n      ];\n      const iterCollectionItems = (comp, applyAttributes) => map$2(descendants(comp.element, '.tox-collection__item'), applyAttributes);\n      const pField = FormField.parts.field({\n        dom: {\n          tag: 'div',\n          classes: ['tox-collection'].concat(spec.columns !== 1 ? ['tox-collection--grid'] : ['tox-collection--list'])\n        },\n        components: [],\n        factory: { sketch: identity },\n        behaviours: derive$1([\n          Disabling.config({\n            disabled: providersBackstage.isDisabled,\n            onDisabled: comp => {\n              iterCollectionItems(comp, childElm => {\n                add$2(childElm, 'tox-collection__item--state-disabled');\n                set$9(childElm, 'aria-disabled', true);\n              });\n            },\n            onEnabled: comp => {\n              iterCollectionItems(comp, childElm => {\n                remove$2(childElm, 'tox-collection__item--state-disabled');\n                remove$7(childElm, 'aria-disabled');\n              });\n            }\n          }),\n          receivingConfig(),\n          Replacing.config({}),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: initialData.getOr([])\n            },\n            onSetValue: (comp, items) => {\n              setContents(comp, items);\n              if (spec.columns === 'auto') {\n                detectSize(comp, 5, 'tox-collection__item').each(({numRows, numColumns}) => {\n                  Keying.setGridSize(comp, numRows, numColumns);\n                });\n              }\n              emit(comp, formResizeEvent);\n            }\n          }),\n          Tabstopping.config({}),\n          Keying.config(deriveCollectionMovement(spec.columns, 'normal')),\n          config('collection-events', collectionEvents)\n        ]),\n        eventOrder: {\n          [execute$5()]: [\n            'disabling',\n            'alloy.base.behaviour',\n            'collection-events'\n          ]\n        }\n      });\n      const extraClasses = ['tox-form__group--collection'];\n      return renderFormFieldWith(pLabel, pField, extraClasses, []);\n    };\n\n    const ariaElements = [\n      'input',\n      'textarea'\n    ];\n    const isAriaElement = elem => {\n      const name = name$3(elem);\n      return contains$2(ariaElements, name);\n    };\n    const markValid = (component, invalidConfig) => {\n      const elem = invalidConfig.getRoot(component).getOr(component.element);\n      remove$2(elem, invalidConfig.invalidClass);\n      invalidConfig.notify.each(notifyInfo => {\n        if (isAriaElement(component.element)) {\n          set$9(component.element, 'aria-invalid', false);\n        }\n        notifyInfo.getContainer(component).each(container => {\n          set$6(container, notifyInfo.validHtml);\n        });\n        notifyInfo.onValid(component);\n      });\n    };\n    const markInvalid = (component, invalidConfig, invalidState, text) => {\n      const elem = invalidConfig.getRoot(component).getOr(component.element);\n      add$2(elem, invalidConfig.invalidClass);\n      invalidConfig.notify.each(notifyInfo => {\n        if (isAriaElement(component.element)) {\n          set$9(component.element, 'aria-invalid', true);\n        }\n        notifyInfo.getContainer(component).each(container => {\n          set$6(container, text);\n        });\n        notifyInfo.onInvalid(component, text);\n      });\n    };\n    const query = (component, invalidConfig, _invalidState) => invalidConfig.validator.fold(() => Future.pure(Result.value(true)), validatorInfo => validatorInfo.validate(component));\n    const run = (component, invalidConfig, invalidState) => {\n      invalidConfig.notify.each(notifyInfo => {\n        notifyInfo.onValidate(component);\n      });\n      return query(component, invalidConfig).map(valid => {\n        if (component.getSystem().isConnected()) {\n          return valid.fold(err => {\n            markInvalid(component, invalidConfig, invalidState, err);\n            return Result.error(err);\n          }, v => {\n            markValid(component, invalidConfig);\n            return Result.value(v);\n          });\n        } else {\n          return Result.error('No longer in system');\n        }\n      });\n    };\n    const isInvalid = (component, invalidConfig) => {\n      const elem = invalidConfig.getRoot(component).getOr(component.element);\n      return has(elem, invalidConfig.invalidClass);\n    };\n\n    var InvalidateApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        markValid: markValid,\n        markInvalid: markInvalid,\n        query: query,\n        run: run,\n        isInvalid: isInvalid\n    });\n\n    const events$8 = (invalidConfig, invalidState) => invalidConfig.validator.map(validatorInfo => derive$2([run$1(validatorInfo.onEvent, component => {\n        run(component, invalidConfig, invalidState).get(identity);\n      })].concat(validatorInfo.validateOnLoad ? [runOnAttached(component => {\n        run(component, invalidConfig, invalidState).get(noop);\n      })] : []))).getOr({});\n\n    var ActiveInvalidate = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$8\n    });\n\n    var InvalidateSchema = [\n      required$1('invalidClass'),\n      defaulted('getRoot', Optional.none),\n      optionObjOf('notify', [\n        defaulted('aria', 'alert'),\n        defaulted('getContainer', Optional.none),\n        defaulted('validHtml', ''),\n        onHandler('onValid'),\n        onHandler('onInvalid'),\n        onHandler('onValidate')\n      ]),\n      optionObjOf('validator', [\n        required$1('validate'),\n        defaulted('onEvent', 'input'),\n        defaulted('validateOnLoad', true)\n      ])\n    ];\n\n    const Invalidating = create$3({\n      fields: InvalidateSchema,\n      name: 'invalidating',\n      active: ActiveInvalidate,\n      apis: InvalidateApis,\n      extra: {\n        validation: validator => {\n          return component => {\n            const v = Representing.getValue(component);\n            return Future.pure(validator(v));\n          };\n        }\n      }\n    });\n\n    const exhibit$1 = () => nu$7({\n      styles: {\n        '-webkit-user-select': 'none',\n        'user-select': 'none',\n        '-ms-user-select': 'none',\n        '-moz-user-select': '-moz-none'\n      },\n      attributes: { unselectable: 'on' }\n    });\n    const events$7 = () => derive$2([abort(selectstart(), always)]);\n\n    var ActiveUnselecting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$7,\n        exhibit: exhibit$1\n    });\n\n    const Unselecting = create$3({\n      fields: [],\n      name: 'unselecting',\n      active: ActiveUnselecting\n    });\n\n    const renderPanelButton = (spec, sharedBackstage) => Dropdown.sketch({\n      dom: spec.dom,\n      components: spec.components,\n      toggleClass: 'mce-active',\n      dropdownBehaviours: derive$1([\n        DisablingConfigs.button(sharedBackstage.providers.isDisabled),\n        receivingConfig(),\n        Unselecting.config({}),\n        Tabstopping.config({})\n      ]),\n      layouts: spec.layouts,\n      sandboxClasses: ['tox-dialog__popups'],\n      lazySink: sharedBackstage.getSink,\n      fetch: comp => Future.nu(callback => spec.fetch(callback)).map(items => Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'), items, value => {\n        spec.onItemAction(comp, value);\n      }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, never, sharedBackstage.providers), { movement: deriveMenuMovement(spec.columns, spec.presets) })))),\n      parts: { menu: part(false, 1, spec.presets) }\n    });\n\n    const colorInputChangeEvent = generate$6('color-input-change');\n    const colorSwatchChangeEvent = generate$6('color-swatch-change');\n    const colorPickerCancelEvent = generate$6('color-picker-cancel');\n    const renderColorInput = (spec, sharedBackstage, colorInputBackstage, initialData) => {\n      const pField = FormField.parts.field({\n        factory: Input,\n        inputClasses: ['tox-textfield'],\n        data: initialData,\n        onSetValue: c => Invalidating.run(c).get(noop),\n        inputBehaviours: derive$1([\n          Disabling.config({ disabled: sharedBackstage.providers.isDisabled }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Invalidating.config({\n            invalidClass: 'tox-textbox-field-invalid',\n            getRoot: comp => parentElement(comp.element),\n            notify: {\n              onValid: comp => {\n                const val = Representing.getValue(comp);\n                emitWith(comp, colorInputChangeEvent, { color: val });\n              }\n            },\n            validator: {\n              validateOnLoad: false,\n              validate: input => {\n                const inputValue = Representing.getValue(input);\n                if (inputValue.length === 0) {\n                  return Future.pure(Result.value(true));\n                } else {\n                  const span = SugarElement.fromTag('span');\n                  set$8(span, 'background-color', inputValue);\n                  const res = getRaw(span, 'background-color').fold(() => Result.error('blah'), _ => Result.value(inputValue));\n                  return Future.pure(res);\n                }\n              }\n            }\n          })\n        ]),\n        selectOnFocus: false\n      });\n      const pLabel = spec.label.map(label => renderLabel$2(label, sharedBackstage.providers));\n      const emitSwatchChange = (colorBit, value) => {\n        emitWith(colorBit, colorSwatchChangeEvent, { value });\n      };\n      const onItemAction = (comp, value) => {\n        memColorButton.getOpt(comp).each(colorBit => {\n          if (value === 'custom') {\n            colorInputBackstage.colorPicker(valueOpt => {\n              valueOpt.fold(() => emit(colorBit, colorPickerCancelEvent), value => {\n                emitSwatchChange(colorBit, value);\n                addColor(value);\n              });\n            }, '#ffffff');\n          } else if (value === 'remove') {\n            emitSwatchChange(colorBit, '');\n          } else {\n            emitSwatchChange(colorBit, value);\n          }\n        });\n      };\n      const memColorButton = record(renderPanelButton({\n        dom: {\n          tag: 'span',\n          attributes: { 'aria-label': sharedBackstage.providers.translate('Color swatch') }\n        },\n        layouts: {\n          onRtl: () => [\n            southwest$2,\n            southeast$2,\n            south$2\n          ],\n          onLtr: () => [\n            southeast$2,\n            southwest$2,\n            south$2\n          ]\n        },\n        components: [],\n        fetch: getFetch$1(colorInputBackstage.getColors(), colorInputBackstage.hasCustomColors()),\n        columns: colorInputBackstage.getColorCols(),\n        presets: 'color',\n        onItemAction\n      }, sharedBackstage));\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: pLabel.toArray().concat([{\n            dom: {\n              tag: 'div',\n              classes: ['tox-color-input']\n            },\n            components: [\n              pField,\n              memColorButton.asSpec()\n            ]\n          }]),\n        fieldBehaviours: derive$1([config('form-field-events', [\n            run$1(colorInputChangeEvent, (comp, se) => {\n              memColorButton.getOpt(comp).each(colorButton => {\n                set$8(colorButton.element, 'background-color', se.event.color);\n              });\n              emitWith(comp, formChangeEvent, { name: spec.name });\n            }),\n            run$1(colorSwatchChangeEvent, (comp, se) => {\n              FormField.getField(comp).each(field => {\n                Representing.setValue(field, se.event.value);\n                Composing.getCurrent(comp).each(Focusing.focus);\n              });\n            }),\n            run$1(colorPickerCancelEvent, (comp, _se) => {\n              FormField.getField(comp).each(_field => {\n                Composing.getCurrent(comp).each(Focusing.focus);\n              });\n            })\n          ])])\n      });\n    };\n\n    const labelPart = optional({\n      schema: [required$1('dom')],\n      name: 'label'\n    });\n    const edgePart = name => optional({\n      name: '' + name + '-edge',\n      overrides: detail => {\n        const action = detail.model.manager.edgeActions[name];\n        return action.fold(() => ({}), a => ({\n          events: derive$2([\n            runActionExtra(touchstart(), (comp, se, d) => a(comp, d), [detail]),\n            runActionExtra(mousedown(), (comp, se, d) => a(comp, d), [detail]),\n            runActionExtra(mousemove(), (comp, se, det) => {\n              if (det.mouseIsDown.get()) {\n                a(comp, det);\n              }\n            }, [detail])\n          ])\n        }));\n      }\n    });\n    const tlEdgePart = edgePart('top-left');\n    const tedgePart = edgePart('top');\n    const trEdgePart = edgePart('top-right');\n    const redgePart = edgePart('right');\n    const brEdgePart = edgePart('bottom-right');\n    const bedgePart = edgePart('bottom');\n    const blEdgePart = edgePart('bottom-left');\n    const ledgePart = edgePart('left');\n    const thumbPart = required({\n      name: 'thumb',\n      defaults: constant$1({ dom: { styles: { position: 'absolute' } } }),\n      overrides: detail => {\n        return {\n          events: derive$2([\n            redirectToPart(touchstart(), detail, 'spectrum'),\n            redirectToPart(touchmove(), detail, 'spectrum'),\n            redirectToPart(touchend(), detail, 'spectrum'),\n            redirectToPart(mousedown(), detail, 'spectrum'),\n            redirectToPart(mousemove(), detail, 'spectrum'),\n            redirectToPart(mouseup(), detail, 'spectrum')\n          ])\n        };\n      }\n    });\n    const spectrumPart = required({\n      schema: [customField('mouseIsDown', () => Cell(false))],\n      name: 'spectrum',\n      overrides: detail => {\n        const modelDetail = detail.model;\n        const model = modelDetail.manager;\n        const setValueFrom = (component, simulatedEvent) => model.getValueFromEvent(simulatedEvent).map(value => model.setValueFrom(component, detail, value));\n        return {\n          behaviours: derive$1([\n            Keying.config({\n              mode: 'special',\n              onLeft: spectrum => model.onLeft(spectrum, detail),\n              onRight: spectrum => model.onRight(spectrum, detail),\n              onUp: spectrum => model.onUp(spectrum, detail),\n              onDown: spectrum => model.onDown(spectrum, detail)\n            }),\n            Focusing.config({})\n          ]),\n          events: derive$2([\n            run$1(touchstart(), setValueFrom),\n            run$1(touchmove(), setValueFrom),\n            run$1(mousedown(), setValueFrom),\n            run$1(mousemove(), (spectrum, se) => {\n              if (detail.mouseIsDown.get()) {\n                setValueFrom(spectrum, se);\n              }\n            })\n          ])\n        };\n      }\n    });\n    var SliderParts = [\n      labelPart,\n      ledgePart,\n      redgePart,\n      tedgePart,\n      bedgePart,\n      tlEdgePart,\n      trEdgePart,\n      blEdgePart,\n      brEdgePart,\n      thumbPart,\n      spectrumPart\n    ];\n\n    const _sliderChangeEvent = 'slider.change.value';\n    const sliderChangeEvent = constant$1(_sliderChangeEvent);\n    const isTouchEvent$2 = evt => evt.type.indexOf('touch') !== -1;\n    const getEventSource = simulatedEvent => {\n      const evt = simulatedEvent.event.raw;\n      if (isTouchEvent$2(evt)) {\n        const touchEvent = evt;\n        return touchEvent.touches !== undefined && touchEvent.touches.length === 1 ? Optional.some(touchEvent.touches[0]).map(t => SugarPosition(t.clientX, t.clientY)) : Optional.none();\n      } else {\n        const mouseEvent = evt;\n        return mouseEvent.clientX !== undefined ? Optional.some(mouseEvent).map(me => SugarPosition(me.clientX, me.clientY)) : Optional.none();\n      }\n    };\n\n    const t = 'top', r = 'right', b = 'bottom', l = 'left';\n    const minX = detail => detail.model.minX;\n    const minY = detail => detail.model.minY;\n    const min1X = detail => detail.model.minX - 1;\n    const min1Y = detail => detail.model.minY - 1;\n    const maxX = detail => detail.model.maxX;\n    const maxY = detail => detail.model.maxY;\n    const max1X = detail => detail.model.maxX + 1;\n    const max1Y = detail => detail.model.maxY + 1;\n    const range = (detail, max, min) => max(detail) - min(detail);\n    const xRange = detail => range(detail, maxX, minX);\n    const yRange = detail => range(detail, maxY, minY);\n    const halfX = detail => xRange(detail) / 2;\n    const halfY = detail => yRange(detail) / 2;\n    const step = detail => detail.stepSize;\n    const snap = detail => detail.snapToGrid;\n    const snapStart = detail => detail.snapStart;\n    const rounded = detail => detail.rounded;\n    const hasEdge = (detail, edgeName) => detail[edgeName + '-edge'] !== undefined;\n    const hasLEdge = detail => hasEdge(detail, l);\n    const hasREdge = detail => hasEdge(detail, r);\n    const hasTEdge = detail => hasEdge(detail, t);\n    const hasBEdge = detail => hasEdge(detail, b);\n    const currentValue = detail => detail.model.value.get();\n\n    const xyValue = (x, y) => ({\n      x,\n      y\n    });\n    const fireSliderChange$3 = (component, value) => {\n      emitWith(component, sliderChangeEvent(), { value });\n    };\n    const setToTLEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(min1X(detail), min1Y(detail)));\n    };\n    const setToTEdge = (edge, detail) => {\n      fireSliderChange$3(edge, min1Y(detail));\n    };\n    const setToTEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(halfX(detail), min1Y(detail)));\n    };\n    const setToTREdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(max1X(detail), min1Y(detail)));\n    };\n    const setToREdge = (edge, detail) => {\n      fireSliderChange$3(edge, max1X(detail));\n    };\n    const setToREdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(max1X(detail), halfY(detail)));\n    };\n    const setToBREdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(max1X(detail), max1Y(detail)));\n    };\n    const setToBEdge = (edge, detail) => {\n      fireSliderChange$3(edge, max1Y(detail));\n    };\n    const setToBEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(halfX(detail), max1Y(detail)));\n    };\n    const setToBLEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(min1X(detail), max1Y(detail)));\n    };\n    const setToLEdge = (edge, detail) => {\n      fireSliderChange$3(edge, min1X(detail));\n    };\n    const setToLEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(min1X(detail), halfY(detail)));\n    };\n\n    const reduceBy = (value, min, max, step) => {\n      if (value < min) {\n        return value;\n      } else if (value > max) {\n        return max;\n      } else if (value === min) {\n        return min - 1;\n      } else {\n        return Math.max(min, value - step);\n      }\n    };\n    const increaseBy = (value, min, max, step) => {\n      if (value > max) {\n        return value;\n      } else if (value < min) {\n        return min;\n      } else if (value === max) {\n        return max + 1;\n      } else {\n        return Math.min(max, value + step);\n      }\n    };\n    const capValue = (value, min, max) => Math.max(min, Math.min(max, value));\n    const snapValueOf = (value, min, max, step, snapStart) => snapStart.fold(() => {\n      const initValue = value - min;\n      const extraValue = Math.round(initValue / step) * step;\n      return capValue(min + extraValue, min - 1, max + 1);\n    }, start => {\n      const remainder = (value - start) % step;\n      const adjustment = Math.round(remainder / step);\n      const rawSteps = Math.floor((value - start) / step);\n      const maxSteps = Math.floor((max - start) / step);\n      const numSteps = Math.min(maxSteps, rawSteps + adjustment);\n      const r = start + numSteps * step;\n      return Math.max(start, r);\n    });\n    const findOffsetOf = (value, min, max) => Math.min(max, Math.max(value, min)) - min;\n    const findValueOf = args => {\n      const {min, max, range, value, step, snap, snapStart, rounded, hasMinEdge, hasMaxEdge, minBound, maxBound, screenRange} = args;\n      const capMin = hasMinEdge ? min - 1 : min;\n      const capMax = hasMaxEdge ? max + 1 : max;\n      if (value < minBound) {\n        return capMin;\n      } else if (value > maxBound) {\n        return capMax;\n      } else {\n        const offset = findOffsetOf(value, minBound, maxBound);\n        const newValue = capValue(offset / screenRange * range + min, capMin, capMax);\n        if (snap && newValue >= min && newValue <= max) {\n          return snapValueOf(newValue, min, max, step, snapStart);\n        } else if (rounded) {\n          return Math.round(newValue);\n        } else {\n          return newValue;\n        }\n      }\n    };\n    const findOffsetOfValue$2 = args => {\n      const {min, max, range, value, hasMinEdge, hasMaxEdge, maxBound, maxOffset, centerMinEdge, centerMaxEdge} = args;\n      if (value < min) {\n        return hasMinEdge ? 0 : centerMinEdge;\n      } else if (value > max) {\n        return hasMaxEdge ? maxBound : centerMaxEdge;\n      } else {\n        return (value - min) / range * maxOffset;\n      }\n    };\n\n    const top = 'top', right = 'right', bottom = 'bottom', left = 'left', width = 'width', height = 'height';\n    const getBounds = component => component.element.dom.getBoundingClientRect();\n    const getBoundsProperty = (bounds, property) => bounds[property];\n    const getMinXBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, left);\n    };\n    const getMaxXBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, right);\n    };\n    const getMinYBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, top);\n    };\n    const getMaxYBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, bottom);\n    };\n    const getXScreenRange = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, width);\n    };\n    const getYScreenRange = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, height);\n    };\n    const getCenterOffsetOf = (componentMinEdge, componentMaxEdge, spectrumMinEdge) => (componentMinEdge + componentMaxEdge) / 2 - spectrumMinEdge;\n    const getXCenterOffSetOf = (component, spectrum) => {\n      const componentBounds = getBounds(component);\n      const spectrumBounds = getBounds(spectrum);\n      const componentMinEdge = getBoundsProperty(componentBounds, left);\n      const componentMaxEdge = getBoundsProperty(componentBounds, right);\n      const spectrumMinEdge = getBoundsProperty(spectrumBounds, left);\n      return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n    };\n    const getYCenterOffSetOf = (component, spectrum) => {\n      const componentBounds = getBounds(component);\n      const spectrumBounds = getBounds(spectrum);\n      const componentMinEdge = getBoundsProperty(componentBounds, top);\n      const componentMaxEdge = getBoundsProperty(componentBounds, bottom);\n      const spectrumMinEdge = getBoundsProperty(spectrumBounds, top);\n      return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n    };\n\n    const fireSliderChange$2 = (spectrum, value) => {\n      emitWith(spectrum, sliderChangeEvent(), { value });\n    };\n    const findValueOfOffset$1 = (spectrum, detail, left) => {\n      const args = {\n        min: minX(detail),\n        max: maxX(detail),\n        range: xRange(detail),\n        value: left,\n        step: step(detail),\n        snap: snap(detail),\n        snapStart: snapStart(detail),\n        rounded: rounded(detail),\n        hasMinEdge: hasLEdge(detail),\n        hasMaxEdge: hasREdge(detail),\n        minBound: getMinXBounds(spectrum),\n        maxBound: getMaxXBounds(spectrum),\n        screenRange: getXScreenRange(spectrum)\n      };\n      return findValueOf(args);\n    };\n    const setValueFrom$2 = (spectrum, detail, value) => {\n      const xValue = findValueOfOffset$1(spectrum, detail, value);\n      const sliderVal = xValue;\n      fireSliderChange$2(spectrum, sliderVal);\n      return xValue;\n    };\n    const setToMin$2 = (spectrum, detail) => {\n      const min = minX(detail);\n      fireSliderChange$2(spectrum, min);\n    };\n    const setToMax$2 = (spectrum, detail) => {\n      const max = maxX(detail);\n      fireSliderChange$2(spectrum, max);\n    };\n    const moveBy$2 = (direction, spectrum, detail) => {\n      const f = direction > 0 ? increaseBy : reduceBy;\n      const xValue = f(currentValue(detail), minX(detail), maxX(detail), step(detail));\n      fireSliderChange$2(spectrum, xValue);\n      return Optional.some(xValue);\n    };\n    const handleMovement$2 = direction => (spectrum, detail) => moveBy$2(direction, spectrum, detail).map(always);\n    const getValueFromEvent$2 = simulatedEvent => {\n      const pos = getEventSource(simulatedEvent);\n      return pos.map(p => p.left);\n    };\n    const findOffsetOfValue$1 = (spectrum, detail, value, minEdge, maxEdge) => {\n      const minOffset = 0;\n      const maxOffset = getXScreenRange(spectrum);\n      const centerMinEdge = minEdge.bind(edge => Optional.some(getXCenterOffSetOf(edge, spectrum))).getOr(minOffset);\n      const centerMaxEdge = maxEdge.bind(edge => Optional.some(getXCenterOffSetOf(edge, spectrum))).getOr(maxOffset);\n      const args = {\n        min: minX(detail),\n        max: maxX(detail),\n        range: xRange(detail),\n        value,\n        hasMinEdge: hasLEdge(detail),\n        hasMaxEdge: hasREdge(detail),\n        minBound: getMinXBounds(spectrum),\n        minOffset,\n        maxBound: getMaxXBounds(spectrum),\n        maxOffset,\n        centerMinEdge,\n        centerMaxEdge\n      };\n      return findOffsetOfValue$2(args);\n    };\n    const findPositionOfValue$1 = (slider, spectrum, value, minEdge, maxEdge, detail) => {\n      const offset = findOffsetOfValue$1(spectrum, detail, value, minEdge, maxEdge);\n      return getMinXBounds(spectrum) - getMinXBounds(slider) + offset;\n    };\n    const setPositionFromValue$2 = (slider, thumb, detail, edges) => {\n      const value = currentValue(detail);\n      const pos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value, edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n      const thumbRadius = get$c(thumb.element) / 2;\n      set$8(thumb.element, 'left', pos - thumbRadius + 'px');\n    };\n    const onLeft$2 = handleMovement$2(-1);\n    const onRight$2 = handleMovement$2(1);\n    const onUp$2 = Optional.none;\n    const onDown$2 = Optional.none;\n    const edgeActions$2 = {\n      'top-left': Optional.none(),\n      'top': Optional.none(),\n      'top-right': Optional.none(),\n      'right': Optional.some(setToREdge),\n      'bottom-right': Optional.none(),\n      'bottom': Optional.none(),\n      'bottom-left': Optional.none(),\n      'left': Optional.some(setToLEdge)\n    };\n\n    var HorizontalModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom$2,\n        setToMin: setToMin$2,\n        setToMax: setToMax$2,\n        findValueOfOffset: findValueOfOffset$1,\n        getValueFromEvent: getValueFromEvent$2,\n        findPositionOfValue: findPositionOfValue$1,\n        setPositionFromValue: setPositionFromValue$2,\n        onLeft: onLeft$2,\n        onRight: onRight$2,\n        onUp: onUp$2,\n        onDown: onDown$2,\n        edgeActions: edgeActions$2\n    });\n\n    const fireSliderChange$1 = (spectrum, value) => {\n      emitWith(spectrum, sliderChangeEvent(), { value });\n    };\n    const findValueOfOffset = (spectrum, detail, top) => {\n      const args = {\n        min: minY(detail),\n        max: maxY(detail),\n        range: yRange(detail),\n        value: top,\n        step: step(detail),\n        snap: snap(detail),\n        snapStart: snapStart(detail),\n        rounded: rounded(detail),\n        hasMinEdge: hasTEdge(detail),\n        hasMaxEdge: hasBEdge(detail),\n        minBound: getMinYBounds(spectrum),\n        maxBound: getMaxYBounds(spectrum),\n        screenRange: getYScreenRange(spectrum)\n      };\n      return findValueOf(args);\n    };\n    const setValueFrom$1 = (spectrum, detail, value) => {\n      const yValue = findValueOfOffset(spectrum, detail, value);\n      const sliderVal = yValue;\n      fireSliderChange$1(spectrum, sliderVal);\n      return yValue;\n    };\n    const setToMin$1 = (spectrum, detail) => {\n      const min = minY(detail);\n      fireSliderChange$1(spectrum, min);\n    };\n    const setToMax$1 = (spectrum, detail) => {\n      const max = maxY(detail);\n      fireSliderChange$1(spectrum, max);\n    };\n    const moveBy$1 = (direction, spectrum, detail) => {\n      const f = direction > 0 ? increaseBy : reduceBy;\n      const yValue = f(currentValue(detail), minY(detail), maxY(detail), step(detail));\n      fireSliderChange$1(spectrum, yValue);\n      return Optional.some(yValue);\n    };\n    const handleMovement$1 = direction => (spectrum, detail) => moveBy$1(direction, spectrum, detail).map(always);\n    const getValueFromEvent$1 = simulatedEvent => {\n      const pos = getEventSource(simulatedEvent);\n      return pos.map(p => {\n        return p.top;\n      });\n    };\n    const findOffsetOfValue = (spectrum, detail, value, minEdge, maxEdge) => {\n      const minOffset = 0;\n      const maxOffset = getYScreenRange(spectrum);\n      const centerMinEdge = minEdge.bind(edge => Optional.some(getYCenterOffSetOf(edge, spectrum))).getOr(minOffset);\n      const centerMaxEdge = maxEdge.bind(edge => Optional.some(getYCenterOffSetOf(edge, spectrum))).getOr(maxOffset);\n      const args = {\n        min: minY(detail),\n        max: maxY(detail),\n        range: yRange(detail),\n        value,\n        hasMinEdge: hasTEdge(detail),\n        hasMaxEdge: hasBEdge(detail),\n        minBound: getMinYBounds(spectrum),\n        minOffset,\n        maxBound: getMaxYBounds(spectrum),\n        maxOffset,\n        centerMinEdge,\n        centerMaxEdge\n      };\n      return findOffsetOfValue$2(args);\n    };\n    const findPositionOfValue = (slider, spectrum, value, minEdge, maxEdge, detail) => {\n      const offset = findOffsetOfValue(spectrum, detail, value, minEdge, maxEdge);\n      return getMinYBounds(spectrum) - getMinYBounds(slider) + offset;\n    };\n    const setPositionFromValue$1 = (slider, thumb, detail, edges) => {\n      const value = currentValue(detail);\n      const pos = findPositionOfValue(slider, edges.getSpectrum(slider), value, edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n      const thumbRadius = get$d(thumb.element) / 2;\n      set$8(thumb.element, 'top', pos - thumbRadius + 'px');\n    };\n    const onLeft$1 = Optional.none;\n    const onRight$1 = Optional.none;\n    const onUp$1 = handleMovement$1(-1);\n    const onDown$1 = handleMovement$1(1);\n    const edgeActions$1 = {\n      'top-left': Optional.none(),\n      'top': Optional.some(setToTEdge),\n      'top-right': Optional.none(),\n      'right': Optional.none(),\n      'bottom-right': Optional.none(),\n      'bottom': Optional.some(setToBEdge),\n      'bottom-left': Optional.none(),\n      'left': Optional.none()\n    };\n\n    var VerticalModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom$1,\n        setToMin: setToMin$1,\n        setToMax: setToMax$1,\n        findValueOfOffset: findValueOfOffset,\n        getValueFromEvent: getValueFromEvent$1,\n        findPositionOfValue: findPositionOfValue,\n        setPositionFromValue: setPositionFromValue$1,\n        onLeft: onLeft$1,\n        onRight: onRight$1,\n        onUp: onUp$1,\n        onDown: onDown$1,\n        edgeActions: edgeActions$1\n    });\n\n    const fireSliderChange = (spectrum, value) => {\n      emitWith(spectrum, sliderChangeEvent(), { value });\n    };\n    const sliderValue = (x, y) => ({\n      x,\n      y\n    });\n    const setValueFrom = (spectrum, detail, value) => {\n      const xValue = findValueOfOffset$1(spectrum, detail, value.left);\n      const yValue = findValueOfOffset(spectrum, detail, value.top);\n      const val = sliderValue(xValue, yValue);\n      fireSliderChange(spectrum, val);\n      return val;\n    };\n    const moveBy = (direction, isVerticalMovement, spectrum, detail) => {\n      const f = direction > 0 ? increaseBy : reduceBy;\n      const xValue = isVerticalMovement ? currentValue(detail).x : f(currentValue(detail).x, minX(detail), maxX(detail), step(detail));\n      const yValue = !isVerticalMovement ? currentValue(detail).y : f(currentValue(detail).y, minY(detail), maxY(detail), step(detail));\n      fireSliderChange(spectrum, sliderValue(xValue, yValue));\n      return Optional.some(xValue);\n    };\n    const handleMovement = (direction, isVerticalMovement) => (spectrum, detail) => moveBy(direction, isVerticalMovement, spectrum, detail).map(always);\n    const setToMin = (spectrum, detail) => {\n      const mX = minX(detail);\n      const mY = minY(detail);\n      fireSliderChange(spectrum, sliderValue(mX, mY));\n    };\n    const setToMax = (spectrum, detail) => {\n      const mX = maxX(detail);\n      const mY = maxY(detail);\n      fireSliderChange(spectrum, sliderValue(mX, mY));\n    };\n    const getValueFromEvent = simulatedEvent => getEventSource(simulatedEvent);\n    const setPositionFromValue = (slider, thumb, detail, edges) => {\n      const value = currentValue(detail);\n      const xPos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value.x, edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n      const yPos = findPositionOfValue(slider, edges.getSpectrum(slider), value.y, edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n      const thumbXRadius = get$c(thumb.element) / 2;\n      const thumbYRadius = get$d(thumb.element) / 2;\n      set$8(thumb.element, 'left', xPos - thumbXRadius + 'px');\n      set$8(thumb.element, 'top', yPos - thumbYRadius + 'px');\n    };\n    const onLeft = handleMovement(-1, false);\n    const onRight = handleMovement(1, false);\n    const onUp = handleMovement(-1, true);\n    const onDown = handleMovement(1, true);\n    const edgeActions = {\n      'top-left': Optional.some(setToTLEdgeXY),\n      'top': Optional.some(setToTEdgeXY),\n      'top-right': Optional.some(setToTREdgeXY),\n      'right': Optional.some(setToREdgeXY),\n      'bottom-right': Optional.some(setToBREdgeXY),\n      'bottom': Optional.some(setToBEdgeXY),\n      'bottom-left': Optional.some(setToBLEdgeXY),\n      'left': Optional.some(setToLEdgeXY)\n    };\n\n    var TwoDModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom,\n        setToMin: setToMin,\n        setToMax: setToMax,\n        getValueFromEvent: getValueFromEvent,\n        setPositionFromValue: setPositionFromValue,\n        onLeft: onLeft,\n        onRight: onRight,\n        onUp: onUp,\n        onDown: onDown,\n        edgeActions: edgeActions\n    });\n\n    const SliderSchema = [\n      defaulted('stepSize', 1),\n      defaulted('onChange', noop),\n      defaulted('onChoose', noop),\n      defaulted('onInit', noop),\n      defaulted('onDragStart', noop),\n      defaulted('onDragEnd', noop),\n      defaulted('snapToGrid', false),\n      defaulted('rounded', true),\n      option$3('snapStart'),\n      requiredOf('model', choose$1('mode', {\n        x: [\n          defaulted('minX', 0),\n          defaulted('maxX', 100),\n          customField('value', spec => Cell(spec.mode.minX)),\n          required$1('getInitialValue'),\n          output$1('manager', HorizontalModel)\n        ],\n        y: [\n          defaulted('minY', 0),\n          defaulted('maxY', 100),\n          customField('value', spec => Cell(spec.mode.minY)),\n          required$1('getInitialValue'),\n          output$1('manager', VerticalModel)\n        ],\n        xy: [\n          defaulted('minX', 0),\n          defaulted('maxX', 100),\n          defaulted('minY', 0),\n          defaulted('maxY', 100),\n          customField('value', spec => Cell({\n            x: spec.mode.minX,\n            y: spec.mode.minY\n          })),\n          required$1('getInitialValue'),\n          output$1('manager', TwoDModel)\n        ]\n      })),\n      field('sliderBehaviours', [\n        Keying,\n        Representing\n      ]),\n      customField('mouseIsDown', () => Cell(false))\n    ];\n\n    const sketch$2 = (detail, components, _spec, _externals) => {\n      const getThumb = component => getPartOrDie(component, detail, 'thumb');\n      const getSpectrum = component => getPartOrDie(component, detail, 'spectrum');\n      const getLeftEdge = component => getPart(component, detail, 'left-edge');\n      const getRightEdge = component => getPart(component, detail, 'right-edge');\n      const getTopEdge = component => getPart(component, detail, 'top-edge');\n      const getBottomEdge = component => getPart(component, detail, 'bottom-edge');\n      const modelDetail = detail.model;\n      const model = modelDetail.manager;\n      const refresh = (slider, thumb) => {\n        model.setPositionFromValue(slider, thumb, detail, {\n          getLeftEdge,\n          getRightEdge,\n          getTopEdge,\n          getBottomEdge,\n          getSpectrum\n        });\n      };\n      const setValue = (slider, newValue) => {\n        modelDetail.value.set(newValue);\n        const thumb = getThumb(slider);\n        refresh(slider, thumb);\n      };\n      const changeValue = (slider, newValue) => {\n        setValue(slider, newValue);\n        const thumb = getThumb(slider);\n        detail.onChange(slider, thumb, newValue);\n        return Optional.some(true);\n      };\n      const resetToMin = slider => {\n        model.setToMin(slider, detail);\n      };\n      const resetToMax = slider => {\n        model.setToMax(slider, detail);\n      };\n      const choose = slider => {\n        const fireOnChoose = () => {\n          getPart(slider, detail, 'thumb').each(thumb => {\n            const value = modelDetail.value.get();\n            detail.onChoose(slider, thumb, value);\n          });\n        };\n        const wasDown = detail.mouseIsDown.get();\n        detail.mouseIsDown.set(false);\n        if (wasDown) {\n          fireOnChoose();\n        }\n      };\n      const onDragStart = (slider, simulatedEvent) => {\n        simulatedEvent.stop();\n        detail.mouseIsDown.set(true);\n        detail.onDragStart(slider, getThumb(slider));\n      };\n      const onDragEnd = (slider, simulatedEvent) => {\n        simulatedEvent.stop();\n        detail.onDragEnd(slider, getThumb(slider));\n        choose(slider);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.sliderBehaviours, [\n          Keying.config({\n            mode: 'special',\n            focusIn: slider => {\n              return getPart(slider, detail, 'spectrum').map(Keying.focusIn).map(always);\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: _ => {\n                return modelDetail.value.get();\n              },\n              setValue\n            }\n          }),\n          Receiving.config({ channels: { [mouseReleased()]: { onReceive: choose } } })\n        ]),\n        events: derive$2([\n          run$1(sliderChangeEvent(), (slider, simulatedEvent) => {\n            changeValue(slider, simulatedEvent.event.value);\n          }),\n          runOnAttached((slider, _simulatedEvent) => {\n            const getInitial = modelDetail.getInitialValue();\n            modelDetail.value.set(getInitial);\n            const thumb = getThumb(slider);\n            refresh(slider, thumb);\n            const spectrum = getSpectrum(slider);\n            detail.onInit(slider, thumb, spectrum, modelDetail.value.get());\n          }),\n          run$1(touchstart(), onDragStart),\n          run$1(touchend(), onDragEnd),\n          run$1(mousedown(), onDragStart),\n          run$1(mouseup(), onDragEnd)\n        ]),\n        apis: {\n          resetToMin,\n          resetToMax,\n          setValue,\n          refresh\n        },\n        domModification: { styles: { position: 'relative' } }\n      };\n    };\n\n    const Slider = composite({\n      name: 'Slider',\n      configFields: SliderSchema,\n      partFields: SliderParts,\n      factory: sketch$2,\n      apis: {\n        setValue: (apis, slider, value) => {\n          apis.setValue(slider, value);\n        },\n        resetToMin: (apis, slider) => {\n          apis.resetToMin(slider);\n        },\n        resetToMax: (apis, slider) => {\n          apis.resetToMax(slider);\n        },\n        refresh: (apis, slider) => {\n          apis.refresh(slider);\n        }\n      }\n    });\n\n    const fieldsUpdate = generate$6('rgb-hex-update');\n    const sliderUpdate = generate$6('slider-update');\n    const paletteUpdate = generate$6('palette-update');\n\n    const sliderFactory = (translate, getClass) => {\n      const spectrum = Slider.parts.spectrum({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider-spectrum')],\n          attributes: { role: 'presentation' }\n        }\n      });\n      const thumb = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider-thumb')],\n          attributes: { role: 'presentation' }\n        }\n      });\n      return Slider.sketch({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider')],\n          attributes: { role: 'presentation' }\n        },\n        rounded: false,\n        model: {\n          mode: 'y',\n          getInitialValue: constant$1(0)\n        },\n        components: [\n          spectrum,\n          thumb\n        ],\n        sliderBehaviours: derive$1([Focusing.config({})]),\n        onChange: (slider, _thumb, value) => {\n          emitWith(slider, sliderUpdate, { value });\n        }\n      });\n    };\n\n    const owner$1 = 'form';\n    const schema$i = [field('formBehaviours', [Representing])];\n    const getPartName$1 = name => '<alloy.field.' + name + '>';\n    const sketch$1 = fSpec => {\n      const parts = (() => {\n        const record = [];\n        const field = (name, config) => {\n          record.push(name);\n          return generateOne$1(owner$1, getPartName$1(name), config);\n        };\n        return {\n          field,\n          record: constant$1(record)\n        };\n      })();\n      const spec = fSpec(parts);\n      const partNames = parts.record();\n      const fieldParts = map$2(partNames, n => required({\n        name: n,\n        pname: getPartName$1(n)\n      }));\n      return composite$1(owner$1, schema$i, fieldParts, make$4, spec);\n    };\n    const toResult = (o, e) => o.fold(() => Result.error(e), Result.value);\n    const make$4 = (detail, components) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components,\n      behaviours: augment(detail.formBehaviours, [Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: form => {\n              const resPs = getAllParts(form, detail);\n              return map$1(resPs, (resPThunk, pName) => resPThunk().bind(v => {\n                const opt = Composing.getCurrent(v);\n                return toResult(opt, new Error(`Cannot find a current component to extract the value from for form part '${ pName }': ` + element(v.element)));\n              }).map(Representing.getValue));\n            },\n            setValue: (form, values) => {\n              each(values, (newValue, key) => {\n                getPart(form, detail, key).each(wrapper => {\n                  Composing.getCurrent(wrapper).each(field => {\n                    Representing.setValue(field, newValue);\n                  });\n                });\n              });\n            }\n          }\n        })]),\n      apis: {\n        getField: (form, key) => {\n          return getPart(form, detail, key).bind(Composing.getCurrent);\n        }\n      }\n    });\n    const Form = {\n      getField: makeApi((apis, component, key) => apis.getField(component, key)),\n      sketch: sketch$1\n    };\n\n    const validInput = generate$6('valid-input');\n    const invalidInput = generate$6('invalid-input');\n    const validatingInput = generate$6('validating-input');\n    const translatePrefix = 'colorcustom.rgb.';\n    const rgbFormFactory = (translate, getClass, onValidHexx, onInvalidHexx) => {\n      const invalidation = (label, isValid) => Invalidating.config({\n        invalidClass: getClass('invalid'),\n        notify: {\n          onValidate: comp => {\n            emitWith(comp, validatingInput, { type: label });\n          },\n          onValid: comp => {\n            emitWith(comp, validInput, {\n              type: label,\n              value: Representing.getValue(comp)\n            });\n          },\n          onInvalid: comp => {\n            emitWith(comp, invalidInput, {\n              type: label,\n              value: Representing.getValue(comp)\n            });\n          }\n        },\n        validator: {\n          validate: comp => {\n            const value = Representing.getValue(comp);\n            const res = isValid(value) ? Result.value(true) : Result.error(translate('aria.input.invalid'));\n            return Future.pure(res);\n          },\n          validateOnLoad: false\n        }\n      });\n      const renderTextField = (isValid, name, label, description, data) => {\n        const helptext = translate(translatePrefix + 'range');\n        const pLabel = FormField.parts.label({\n          dom: {\n            tag: 'label',\n            attributes: { 'aria-label': description }\n          },\n          components: [text$1(label)]\n        });\n        const pField = FormField.parts.field({\n          data,\n          factory: Input,\n          inputAttributes: {\n            type: 'text',\n            ...name === 'hex' ? { 'aria-live': 'polite' } : {}\n          },\n          inputClasses: [getClass('textfield')],\n          inputBehaviours: derive$1([\n            invalidation(name, isValid),\n            Tabstopping.config({})\n          ]),\n          onSetValue: input => {\n            if (Invalidating.isInvalid(input)) {\n              const run = Invalidating.run(input);\n              run.get(noop);\n            }\n          }\n        });\n        const comps = [\n          pLabel,\n          pField\n        ];\n        const concats = name !== 'hex' ? [FormField.parts['aria-descriptor']({ text: helptext })] : [];\n        const components = comps.concat(concats);\n        return {\n          dom: {\n            tag: 'div',\n            attributes: { role: 'presentation' }\n          },\n          components\n        };\n      };\n      const copyRgbToHex = (form, rgba) => {\n        const hex = fromRgba(rgba);\n        Form.getField(form, 'hex').each(hexField => {\n          if (!Focusing.isFocused(hexField)) {\n            Representing.setValue(form, { hex: hex.value });\n          }\n        });\n        return hex;\n      };\n      const copyRgbToForm = (form, rgb) => {\n        const red = rgb.red;\n        const green = rgb.green;\n        const blue = rgb.blue;\n        Representing.setValue(form, {\n          red,\n          green,\n          blue\n        });\n      };\n      const memPreview = record({\n        dom: {\n          tag: 'div',\n          classes: [getClass('rgba-preview')],\n          styles: { 'background-color': 'white' },\n          attributes: { role: 'presentation' }\n        }\n      });\n      const updatePreview = (anyInSystem, hex) => {\n        memPreview.getOpt(anyInSystem).each(preview => {\n          set$8(preview.element, 'background-color', '#' + hex.value);\n        });\n      };\n      const factory = () => {\n        const state = {\n          red: Cell(Optional.some(255)),\n          green: Cell(Optional.some(255)),\n          blue: Cell(Optional.some(255)),\n          hex: Cell(Optional.some('ffffff'))\n        };\n        const copyHexToRgb = (form, hex) => {\n          const rgb = fromHex(hex);\n          copyRgbToForm(form, rgb);\n          setValueRgb(rgb);\n        };\n        const get = prop => state[prop].get();\n        const set = (prop, value) => {\n          state[prop].set(value);\n        };\n        const getValueRgb = () => get('red').bind(red => get('green').bind(green => get('blue').map(blue => rgbaColour(red, green, blue, 1))));\n        const setValueRgb = rgb => {\n          const red = rgb.red;\n          const green = rgb.green;\n          const blue = rgb.blue;\n          set('red', Optional.some(red));\n          set('green', Optional.some(green));\n          set('blue', Optional.some(blue));\n        };\n        const onInvalidInput = (form, simulatedEvent) => {\n          const data = simulatedEvent.event;\n          if (data.type !== 'hex') {\n            set(data.type, Optional.none());\n          } else {\n            onInvalidHexx(form);\n          }\n        };\n        const onValidHex = (form, value) => {\n          onValidHexx(form);\n          const hex = hexColour(value);\n          set('hex', Optional.some(value));\n          const rgb = fromHex(hex);\n          copyRgbToForm(form, rgb);\n          setValueRgb(rgb);\n          emitWith(form, fieldsUpdate, { hex });\n          updatePreview(form, hex);\n        };\n        const onValidRgb = (form, prop, value) => {\n          const val = parseInt(value, 10);\n          set(prop, Optional.some(val));\n          getValueRgb().each(rgb => {\n            const hex = copyRgbToHex(form, rgb);\n            emitWith(form, fieldsUpdate, { hex });\n            updatePreview(form, hex);\n          });\n        };\n        const isHexInputEvent = data => data.type === 'hex';\n        const onValidInput = (form, simulatedEvent) => {\n          const data = simulatedEvent.event;\n          if (isHexInputEvent(data)) {\n            onValidHex(form, data.value);\n          } else {\n            onValidRgb(form, data.type, data.value);\n          }\n        };\n        const formPartStrings = key => ({\n          label: translate(translatePrefix + key + '.label'),\n          description: translate(translatePrefix + key + '.description')\n        });\n        const redStrings = formPartStrings('red');\n        const greenStrings = formPartStrings('green');\n        const blueStrings = formPartStrings('blue');\n        const hexStrings = formPartStrings('hex');\n        return deepMerge(Form.sketch(parts => ({\n          dom: {\n            tag: 'form',\n            classes: [getClass('rgb-form')],\n            attributes: { 'aria-label': translate('aria.color.picker') }\n          },\n          components: [\n            parts.field('red', FormField.sketch(renderTextField(isRgbaComponent, 'red', redStrings.label, redStrings.description, 255))),\n            parts.field('green', FormField.sketch(renderTextField(isRgbaComponent, 'green', greenStrings.label, greenStrings.description, 255))),\n            parts.field('blue', FormField.sketch(renderTextField(isRgbaComponent, 'blue', blueStrings.label, blueStrings.description, 255))),\n            parts.field('hex', FormField.sketch(renderTextField(isHexString, 'hex', hexStrings.label, hexStrings.description, 'ffffff'))),\n            memPreview.asSpec()\n          ],\n          formBehaviours: derive$1([\n            Invalidating.config({ invalidClass: getClass('form-invalid') }),\n            config('rgb-form-events', [\n              run$1(validInput, onValidInput),\n              run$1(invalidInput, onInvalidInput),\n              run$1(validatingInput, onInvalidInput)\n            ])\n          ])\n        })), {\n          apis: {\n            updateHex: (form, hex) => {\n              Representing.setValue(form, { hex: hex.value });\n              copyHexToRgb(form, hex);\n              updatePreview(form, hex);\n            }\n          }\n        });\n      };\n      const rgbFormSketcher = single({\n        factory,\n        name: 'RgbForm',\n        configFields: [],\n        apis: {\n          updateHex: (apis, form, hex) => {\n            apis.updateHex(form, hex);\n          }\n        },\n        extraApis: {}\n      });\n      return rgbFormSketcher;\n    };\n\n    const paletteFactory = (_translate, getClass) => {\n      const spectrumPart = Slider.parts.spectrum({\n        dom: {\n          tag: 'canvas',\n          attributes: { role: 'presentation' },\n          classes: [getClass('sv-palette-spectrum')]\n        }\n      });\n      const thumbPart = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          attributes: { role: 'presentation' },\n          classes: [getClass('sv-palette-thumb')],\n          innerHtml: `<div class=${ getClass('sv-palette-inner-thumb') } role=\"presentation\"></div>`\n        }\n      });\n      const setColour = (canvas, rgba) => {\n        const {width, height} = canvas;\n        const ctx = canvas.getContext('2d');\n        if (ctx === null) {\n          return;\n        }\n        ctx.fillStyle = rgba;\n        ctx.fillRect(0, 0, width, height);\n        const grdWhite = ctx.createLinearGradient(0, 0, width, 0);\n        grdWhite.addColorStop(0, 'rgba(255,255,255,1)');\n        grdWhite.addColorStop(1, 'rgba(255,255,255,0)');\n        ctx.fillStyle = grdWhite;\n        ctx.fillRect(0, 0, width, height);\n        const grdBlack = ctx.createLinearGradient(0, 0, 0, height);\n        grdBlack.addColorStop(0, 'rgba(0,0,0,0)');\n        grdBlack.addColorStop(1, 'rgba(0,0,0,1)');\n        ctx.fillStyle = grdBlack;\n        ctx.fillRect(0, 0, width, height);\n      };\n      const setPaletteHue = (slider, hue) => {\n        const canvas = slider.components()[0].element.dom;\n        const hsv = hsvColour(hue, 100, 100);\n        const rgba = fromHsv(hsv);\n        setColour(canvas, toString(rgba));\n      };\n      const setPaletteThumb = (slider, hex) => {\n        const hsv = fromRgb(fromHex(hex));\n        Slider.setValue(slider, {\n          x: hsv.saturation,\n          y: 100 - hsv.value\n        });\n      };\n      const factory = _detail => {\n        const getInitialValue = constant$1({\n          x: 0,\n          y: 0\n        });\n        const onChange = (slider, _thumb, value) => {\n          emitWith(slider, paletteUpdate, { value });\n        };\n        const onInit = (_slider, _thumb, spectrum, _value) => {\n          setColour(spectrum.element.dom, toString(red));\n        };\n        const sliderBehaviours = derive$1([\n          Composing.config({ find: Optional.some }),\n          Focusing.config({})\n        ]);\n        return Slider.sketch({\n          dom: {\n            tag: 'div',\n            attributes: { role: 'presentation' },\n            classes: [getClass('sv-palette')]\n          },\n          model: {\n            mode: 'xy',\n            getInitialValue\n          },\n          rounded: false,\n          components: [\n            spectrumPart,\n            thumbPart\n          ],\n          onChange,\n          onInit,\n          sliderBehaviours\n        });\n      };\n      const saturationBrightnessPaletteSketcher = single({\n        factory,\n        name: 'SaturationBrightnessPalette',\n        configFields: [],\n        apis: {\n          setHue: (_apis, slider, hue) => {\n            setPaletteHue(slider, hue);\n          },\n          setThumb: (_apis, slider, hex) => {\n            setPaletteThumb(slider, hex);\n          }\n        },\n        extraApis: {}\n      });\n      return saturationBrightnessPaletteSketcher;\n    };\n\n    const makeFactory = (translate, getClass) => {\n      const factory = detail => {\n        const rgbForm = rgbFormFactory(translate, getClass, detail.onValidHex, detail.onInvalidHex);\n        const sbPalette = paletteFactory(translate, getClass);\n        const hueSliderToDegrees = hue => (100 - hue) / 100 * 360;\n        const hueDegreesToSlider = hue => 100 - hue / 360 * 100;\n        const state = {\n          paletteRgba: Cell(red),\n          paletteHue: Cell(0)\n        };\n        const memSlider = record(sliderFactory(translate, getClass));\n        const memPalette = record(sbPalette.sketch({}));\n        const memRgb = record(rgbForm.sketch({}));\n        const updatePalette = (anyInSystem, _hex, hue) => {\n          memPalette.getOpt(anyInSystem).each(palette => {\n            sbPalette.setHue(palette, hue);\n          });\n        };\n        const updateFields = (anyInSystem, hex) => {\n          memRgb.getOpt(anyInSystem).each(form => {\n            rgbForm.updateHex(form, hex);\n          });\n        };\n        const updateSlider = (anyInSystem, _hex, hue) => {\n          memSlider.getOpt(anyInSystem).each(slider => {\n            Slider.setValue(slider, hueDegreesToSlider(hue));\n          });\n        };\n        const updatePaletteThumb = (anyInSystem, hex) => {\n          memPalette.getOpt(anyInSystem).each(palette => {\n            sbPalette.setThumb(palette, hex);\n          });\n        };\n        const updateState = (hex, hue) => {\n          const rgba = fromHex(hex);\n          state.paletteRgba.set(rgba);\n          state.paletteHue.set(hue);\n        };\n        const runUpdates = (anyInSystem, hex, hue, updates) => {\n          updateState(hex, hue);\n          each$1(updates, update => {\n            update(anyInSystem, hex, hue);\n          });\n        };\n        const onPaletteUpdate = () => {\n          const updates = [updateFields];\n          return (form, simulatedEvent) => {\n            const value = simulatedEvent.event.value;\n            const oldHue = state.paletteHue.get();\n            const newHsv = hsvColour(oldHue, value.x, 100 - value.y);\n            const newHex = hsvToHex(newHsv);\n            runUpdates(form, newHex, oldHue, updates);\n          };\n        };\n        const onSliderUpdate = () => {\n          const updates = [\n            updatePalette,\n            updateFields\n          ];\n          return (form, simulatedEvent) => {\n            const hue = hueSliderToDegrees(simulatedEvent.event.value);\n            const oldRgb = state.paletteRgba.get();\n            const oldHsv = fromRgb(oldRgb);\n            const newHsv = hsvColour(hue, oldHsv.saturation, oldHsv.value);\n            const newHex = hsvToHex(newHsv);\n            runUpdates(form, newHex, hue, updates);\n          };\n        };\n        const onFieldsUpdate = () => {\n          const updates = [\n            updatePalette,\n            updateSlider,\n            updatePaletteThumb\n          ];\n          return (form, simulatedEvent) => {\n            const hex = simulatedEvent.event.hex;\n            const hsv = hexToHsv(hex);\n            runUpdates(form, hex, hsv.hue, updates);\n          };\n        };\n        return {\n          uid: detail.uid,\n          dom: detail.dom,\n          components: [\n            memPalette.asSpec(),\n            memSlider.asSpec(),\n            memRgb.asSpec()\n          ],\n          behaviours: derive$1([\n            config('colour-picker-events', [\n              run$1(fieldsUpdate, onFieldsUpdate()),\n              run$1(paletteUpdate, onPaletteUpdate()),\n              run$1(sliderUpdate, onSliderUpdate())\n            ]),\n            Composing.config({ find: comp => memRgb.getOpt(comp) }),\n            Keying.config({ mode: 'acyclic' })\n          ])\n        };\n      };\n      const colourPickerSketcher = single({\n        name: 'ColourPicker',\n        configFields: [\n          required$1('dom'),\n          defaulted('onValidHex', noop),\n          defaulted('onInvalidHex', noop)\n        ],\n        factory\n      });\n      return colourPickerSketcher;\n    };\n\n    const self = () => Composing.config({ find: Optional.some });\n    const memento$1 = mem => Composing.config({ find: mem.getOpt });\n    const childAt = index => Composing.config({ find: comp => child$2(comp.element, index).bind(element => comp.getSystem().getByDom(element).toOptional()) });\n    const ComposingConfigs = {\n      self,\n      memento: memento$1,\n      childAt\n    };\n\n    const processors = objOf([\n      defaulted('preprocess', identity),\n      defaulted('postprocess', identity)\n    ]);\n    const memento = (mem, rawProcessors) => {\n      const ps = asRawOrDie$1('RepresentingConfigs.memento processors', processors, rawProcessors);\n      return Representing.config({\n        store: {\n          mode: 'manual',\n          getValue: comp => {\n            const other = mem.get(comp);\n            const rawValue = Representing.getValue(other);\n            return ps.postprocess(rawValue);\n          },\n          setValue: (comp, rawValue) => {\n            const newValue = ps.preprocess(rawValue);\n            const other = mem.get(comp);\n            Representing.setValue(other, newValue);\n          }\n        }\n      });\n    };\n    const withComp = (optInitialValue, getter, setter) => Representing.config({\n      store: {\n        mode: 'manual',\n        ...optInitialValue.map(initialValue => ({ initialValue })).getOr({}),\n        getValue: getter,\n        setValue: setter\n      }\n    });\n    const withElement = (initialValue, getter, setter) => withComp(initialValue, c => getter(c.element), (c, v) => setter(c.element, v));\n    const domValue = optInitialValue => withElement(optInitialValue, get$6, set$5);\n    const domHtml = optInitialValue => withElement(optInitialValue, get$9, set$6);\n    const memory = initialValue => Representing.config({\n      store: {\n        mode: 'memory',\n        initialValue\n      }\n    });\n    const RepresentingConfigs = {\n      memento,\n      withElement,\n      withComp,\n      domValue,\n      domHtml,\n      memory\n    };\n\n    const english = {\n      'colorcustom.rgb.red.label': 'R',\n      'colorcustom.rgb.red.description': 'Red component',\n      'colorcustom.rgb.green.label': 'G',\n      'colorcustom.rgb.green.description': 'Green component',\n      'colorcustom.rgb.blue.label': 'B',\n      'colorcustom.rgb.blue.description': 'Blue component',\n      'colorcustom.rgb.hex.label': '#',\n      'colorcustom.rgb.hex.description': 'Hex color code',\n      'colorcustom.rgb.range': 'Range 0 to 255',\n      'aria.color.picker': 'Color Picker',\n      'aria.input.invalid': 'Invalid input'\n    };\n    const translate$1 = providerBackstage => key => {\n      return providerBackstage.translate(english[key]);\n    };\n    const renderColorPicker = (_spec, providerBackstage, initialData) => {\n      const getClass = key => 'tox-' + key;\n      const colourPickerFactory = makeFactory(translate$1(providerBackstage), getClass);\n      const onValidHex = form => {\n        emitWith(form, formActionEvent, {\n          name: 'hex-valid',\n          value: true\n        });\n      };\n      const onInvalidHex = form => {\n        emitWith(form, formActionEvent, {\n          name: 'hex-valid',\n          value: false\n        });\n      };\n      const memPicker = record(colourPickerFactory.sketch({\n        dom: {\n          tag: 'div',\n          classes: [getClass('color-picker-container')],\n          attributes: { role: 'presentation' }\n        },\n        onValidHex,\n        onInvalidHex\n      }));\n      return {\n        dom: { tag: 'div' },\n        components: [memPicker.asSpec()],\n        behaviours: derive$1([\n          RepresentingConfigs.withComp(initialData, comp => {\n            const picker = memPicker.get(comp);\n            const optRgbForm = Composing.getCurrent(picker);\n            const optHex = optRgbForm.bind(rgbForm => {\n              const formValues = Representing.getValue(rgbForm);\n              return formValues.hex;\n            });\n            return optHex.map(hex => '#' + hex).getOr('');\n          }, (comp, newValue) => {\n            const pattern = /^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/;\n            const valOpt = Optional.from(pattern.exec(newValue)).bind(matches => get$h(matches, 1));\n            const picker = memPicker.get(comp);\n            const optRgbForm = Composing.getCurrent(picker);\n            optRgbForm.fold(() => {\n              console.log('Can not find form');\n            }, rgbForm => {\n              Representing.setValue(rgbForm, { hex: valOpt.getOr('') });\n              Form.getField(rgbForm, 'hex').each(hexField => {\n                emit(hexField, input());\n              });\n            });\n          }),\n          ComposingConfigs.self()\n        ])\n      };\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.Resource');\n\n    const isOldCustomEditor = spec => has$2(spec, 'init');\n    const renderCustomEditor = spec => {\n      const editorApi = value$2();\n      const memReplaced = record({ dom: { tag: spec.tag } });\n      const initialValue = value$2();\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-custom-editor']\n        },\n        behaviours: derive$1([\n          config('custom-editor-events', [runOnAttached(component => {\n              memReplaced.getOpt(component).each(ta => {\n                (isOldCustomEditor(spec) ? spec.init(ta.element.dom) : global$2.load(spec.scriptId, spec.scriptUrl).then(init => init(ta.element.dom, spec.settings))).then(ea => {\n                  initialValue.on(cvalue => {\n                    ea.setValue(cvalue);\n                  });\n                  initialValue.clear();\n                  editorApi.set(ea);\n                });\n              });\n            })]),\n          RepresentingConfigs.withComp(Optional.none(), () => editorApi.get().fold(() => initialValue.get().getOr(''), ed => ed.getValue()), (component, value) => {\n            editorApi.get().fold(() => initialValue.set(value), ed => ed.setValue(value));\n          }),\n          ComposingConfigs.self()\n        ]),\n        components: [memReplaced.asSpec()]\n      };\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const filterByExtension = (files, providersBackstage) => {\n      const allowedImageFileTypes = global$1.explode(providersBackstage.getOption('images_file_types'));\n      const isFileInAllowedTypes = file => exists(allowedImageFileTypes, type => endsWith(file.name.toLowerCase(), `.${ type.toLowerCase() }`));\n      return filter$2(from(files), isFileInAllowedTypes);\n    };\n    const renderDropZone = (spec, providersBackstage, initialData) => {\n      const stopper = (_, se) => {\n        se.stop();\n      };\n      const sequence = actions => (comp, se) => {\n        each$1(actions, a => {\n          a(comp, se);\n        });\n      };\n      const onDrop = (comp, se) => {\n        var _a;\n        if (!Disabling.isDisabled(comp)) {\n          const transferEvent = se.event.raw;\n          handleFiles(comp, (_a = transferEvent.dataTransfer) === null || _a === void 0 ? void 0 : _a.files);\n        }\n      };\n      const onSelect = (component, simulatedEvent) => {\n        const input = simulatedEvent.event.raw.target;\n        handleFiles(component, input.files);\n      };\n      const handleFiles = (component, files) => {\n        if (files) {\n          Representing.setValue(component, filterByExtension(files, providersBackstage));\n          emitWith(component, formChangeEvent, { name: spec.name });\n        }\n      };\n      const memInput = record({\n        dom: {\n          tag: 'input',\n          attributes: {\n            type: 'file',\n            accept: 'image/*'\n          },\n          styles: { display: 'none' }\n        },\n        behaviours: derive$1([config('input-file-events', [\n            cutter(click()),\n            cutter(tap())\n          ])])\n      });\n      const renderField = s => ({\n        uid: s.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-dropzone-container']\n        },\n        behaviours: derive$1([\n          RepresentingConfigs.memory(initialData.getOr([])),\n          ComposingConfigs.self(),\n          Disabling.config({}),\n          Toggling.config({\n            toggleClass: 'dragenter',\n            toggleOnExecute: false\n          }),\n          config('dropzone-events', [\n            run$1('dragenter', sequence([\n              stopper,\n              Toggling.toggle\n            ])),\n            run$1('dragleave', sequence([\n              stopper,\n              Toggling.toggle\n            ])),\n            run$1('dragover', stopper),\n            run$1('drop', sequence([\n              stopper,\n              onDrop\n            ])),\n            run$1(change(), onSelect)\n          ])\n        ]),\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dropzone'],\n              styles: {}\n            },\n            components: [\n              {\n                dom: { tag: 'p' },\n                components: [text$1(providersBackstage.translate('Drop an image here'))]\n              },\n              Button.sketch({\n                dom: {\n                  tag: 'button',\n                  styles: { position: 'relative' },\n                  classes: [\n                    'tox-button',\n                    'tox-button--secondary'\n                  ]\n                },\n                components: [\n                  text$1(providersBackstage.translate('Browse for an image')),\n                  memInput.asSpec()\n                ],\n                action: comp => {\n                  const inputComp = memInput.get(comp);\n                  inputComp.element.dom.click();\n                },\n                buttonBehaviours: derive$1([\n                  Tabstopping.config({}),\n                  DisablingConfigs.button(providersBackstage.isDisabled),\n                  receivingConfig()\n                ])\n              })\n            ]\n          }]\n      });\n      const pLabel = spec.label.map(label => renderLabel$2(label, providersBackstage));\n      const pField = FormField.parts.field({ factory: { sketch: renderField } });\n      return renderFormFieldWith(pLabel, pField, ['tox-form__group--stretched'], []);\n    };\n\n    const renderGrid = (spec, backstage) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-form__grid',\n          `tox-form__grid--${ spec.columns }col`\n        ]\n      },\n      components: map$2(spec.items, backstage.interpreter)\n    });\n\n    const beforeObject = generate$6('alloy-fake-before-tabstop');\n    const afterObject = generate$6('alloy-fake-after-tabstop');\n    const craftWithClasses = classes => {\n      return {\n        dom: {\n          tag: 'div',\n          styles: {\n            width: '1px',\n            height: '1px',\n            outline: 'none'\n          },\n          attributes: { tabindex: '0' },\n          classes\n        },\n        behaviours: derive$1([\n          Focusing.config({ ignore: true }),\n          Tabstopping.config({})\n        ])\n      };\n    };\n    const craft = spec => {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-navobj']\n        },\n        components: [\n          craftWithClasses([beforeObject]),\n          spec,\n          craftWithClasses([afterObject])\n        ],\n        behaviours: derive$1([ComposingConfigs.childAt(1)])\n      };\n    };\n    const triggerTab = (placeholder, shiftKey) => {\n      emitWith(placeholder, keydown(), {\n        raw: {\n          which: 9,\n          shiftKey\n        }\n      });\n    };\n    const onFocus = (container, targetComp) => {\n      const target = targetComp.element;\n      if (has(target, beforeObject)) {\n        triggerTab(container, true);\n      } else if (has(target, afterObject)) {\n        triggerTab(container, false);\n      }\n    };\n    const isPseudoStop = element => {\n      return closest(element, [\n        '.' + beforeObject,\n        '.' + afterObject\n      ].join(','), never);\n    };\n\n    const getDynamicSource = initialData => {\n      const cachedValue = Cell(initialData.getOr(''));\n      return {\n        getValue: _frameComponent => cachedValue.get(),\n        setValue: (frameComponent, html) => {\n          if (cachedValue.get() !== html) {\n            set$9(frameComponent.element, 'srcdoc', html);\n          }\n          cachedValue.set(html);\n        }\n      };\n    };\n    const renderIFrame = (spec, providersBackstage, initialData) => {\n      const isSandbox = spec.sandboxed;\n      const isTransparent = spec.transparent;\n      const baseClass = 'tox-dialog__iframe';\n      const attributes = {\n        ...spec.label.map(title => ({ title })).getOr({}),\n        ...initialData.map(html => ({ srcdoc: html })).getOr({}),\n        ...isSandbox ? { sandbox: 'allow-scripts allow-same-origin' } : {}\n      };\n      const sourcing = getDynamicSource(initialData);\n      const pLabel = spec.label.map(label => renderLabel$2(label, providersBackstage));\n      const factory = newSpec => craft({\n        uid: newSpec.uid,\n        dom: {\n          tag: 'iframe',\n          attributes,\n          classes: isTransparent ? [baseClass] : [\n            baseClass,\n            `${ baseClass }--opaque`\n          ]\n        },\n        behaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({}),\n          RepresentingConfigs.withComp(initialData, sourcing.getValue, sourcing.setValue)\n        ])\n      });\n      const pField = FormField.parts.field({ factory: { sketch: factory } });\n      return renderFormFieldWith(pLabel, pField, ['tox-form__group--stretched'], []);\n    };\n\n    const image = image => new Promise((resolve, reject) => {\n      const loaded = () => {\n        destroy();\n        resolve(image);\n      };\n      const listeners = [\n        bind(image, 'load', loaded),\n        bind(image, 'error', () => {\n          destroy();\n          reject('Unable to load data from image: ' + image.dom.src);\n        })\n      ];\n      const destroy = () => each$1(listeners, l => l.unbind());\n      if (image.dom.complete) {\n        loaded();\n      }\n    });\n\n    const calculateImagePosition = (panelWidth, panelHeight, imageWidth, imageHeight, zoom) => {\n      const width = imageWidth * zoom;\n      const height = imageHeight * zoom;\n      const left = Math.max(0, panelWidth / 2 - width / 2);\n      const top = Math.max(0, panelHeight / 2 - height / 2);\n      return {\n        left: left.toString() + 'px',\n        top: top.toString() + 'px',\n        width: width.toString() + 'px',\n        height: height.toString() + 'px'\n      };\n    };\n    const zoomToFit = (panel, width, height) => {\n      const panelW = get$c(panel);\n      const panelH = get$d(panel);\n      return Math.min(panelW / width, panelH / height, 1);\n    };\n    const renderImagePreview = (spec, initialData) => {\n      const cachedData = Cell(initialData.getOr({ url: '' }));\n      const memImage = record({\n        dom: {\n          tag: 'img',\n          classes: ['tox-imagepreview__image'],\n          attributes: initialData.map(data => ({ src: data.url })).getOr({})\n        }\n      });\n      const memContainer = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-imagepreview__container'],\n          attributes: { role: 'presentation' }\n        },\n        components: [memImage.asSpec()]\n      });\n      const setValue = (frameComponent, data) => {\n        const translatedData = { url: data.url };\n        data.zoom.each(z => translatedData.zoom = z);\n        data.cachedWidth.each(z => translatedData.cachedWidth = z);\n        data.cachedHeight.each(z => translatedData.cachedHeight = z);\n        cachedData.set(translatedData);\n        const applyFramePositioning = () => {\n          const {cachedWidth, cachedHeight, zoom} = translatedData;\n          if (!isUndefined(cachedWidth) && !isUndefined(cachedHeight)) {\n            if (isUndefined(zoom)) {\n              const z = zoomToFit(frameComponent.element, cachedWidth, cachedHeight);\n              translatedData.zoom = z;\n            }\n            const position = calculateImagePosition(get$c(frameComponent.element), get$d(frameComponent.element), cachedWidth, cachedHeight, translatedData.zoom);\n            memContainer.getOpt(frameComponent).each(container => {\n              setAll(container.element, position);\n            });\n          }\n        };\n        memImage.getOpt(frameComponent).each(imageComponent => {\n          const img = imageComponent.element;\n          if (data.url !== get$f(img, 'src')) {\n            set$9(img, 'src', data.url);\n            remove$2(frameComponent.element, 'tox-imagepreview__loaded');\n          }\n          applyFramePositioning();\n          image(img).then(img => {\n            if (frameComponent.getSystem().isConnected()) {\n              add$2(frameComponent.element, 'tox-imagepreview__loaded');\n              translatedData.cachedWidth = img.dom.naturalWidth;\n              translatedData.cachedHeight = img.dom.naturalHeight;\n              applyFramePositioning();\n            }\n          });\n        });\n      };\n      const styles = {};\n      spec.height.each(h => styles.height = h);\n      const fakeValidatedData = initialData.map(d => ({\n        url: d.url,\n        zoom: Optional.from(d.zoom),\n        cachedWidth: Optional.from(d.cachedWidth),\n        cachedHeight: Optional.from(d.cachedHeight)\n      }));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-imagepreview'],\n          styles,\n          attributes: { role: 'presentation' }\n        },\n        components: [memContainer.asSpec()],\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          RepresentingConfigs.withComp(fakeValidatedData, () => cachedData.get(), setValue)\n        ])\n      };\n    };\n\n    const renderLabel$1 = (spec, backstageShared) => {\n      const label = {\n        dom: {\n          tag: 'label',\n          classes: ['tox-label']\n        },\n        components: [text$1(backstageShared.providers.translate(spec.label))]\n      };\n      const comps = map$2(spec.items, backstageShared.interpreter);\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: [\n          label,\n          ...comps\n        ],\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          Replacing.config({}),\n          RepresentingConfigs.domHtml(Optional.none()),\n          Keying.config({ mode: 'acyclic' })\n        ])\n      };\n    };\n\n    const internalToolbarButtonExecute = generate$6('toolbar.button.execute');\n    const onToolbarButtonExecute = info => runOnExecute$1((comp, _simulatedEvent) => {\n      runWithApi(info, comp)(itemApi => {\n        emitWith(comp, internalToolbarButtonExecute, { buttonApi: itemApi });\n        info.onAction(itemApi);\n      });\n    });\n    const toolbarButtonEventOrder = {\n      [execute$5()]: [\n        'disabling',\n        'alloy.base.behaviour',\n        'toggling',\n        'toolbar-button-events'\n      ]\n    };\n\n    const renderIcon = (iconName, iconsProvider, behaviours) => render$3(iconName, {\n      tag: 'span',\n      classes: [\n        'tox-icon',\n        'tox-tbtn__icon-wrap'\n      ],\n      behaviours\n    }, iconsProvider);\n    const renderIconFromPack = (iconName, iconsProvider) => renderIcon(iconName, iconsProvider, []);\n    const renderReplaceableIconFromPack = (iconName, iconsProvider) => renderIcon(iconName, iconsProvider, [Replacing.config({})]);\n    const renderLabel = (text, prefix, providersBackstage) => ({\n      dom: {\n        tag: 'span',\n        classes: [`${ prefix }__select-label`]\n      },\n      components: [text$1(providersBackstage.translate(text))],\n      behaviours: derive$1([Replacing.config({})])\n    });\n\n    const updateMenuText = generate$6('update-menu-text');\n    const updateMenuIcon = generate$6('update-menu-icon');\n    const renderCommonDropdown = (spec, prefix, sharedBackstage) => {\n      const editorOffCell = Cell(noop);\n      const optMemDisplayText = spec.text.map(text => record(renderLabel(text, prefix, sharedBackstage.providers)));\n      const optMemDisplayIcon = spec.icon.map(iconName => record(renderReplaceableIconFromPack(iconName, sharedBackstage.providers.icons)));\n      const onLeftOrRightInMenu = (comp, se) => {\n        const dropdown = Representing.getValue(comp);\n        Focusing.focus(dropdown);\n        emitWith(dropdown, 'keydown', { raw: se.event.raw });\n        Dropdown.close(dropdown);\n        return Optional.some(true);\n      };\n      const role = spec.role.fold(() => ({}), role => ({ role }));\n      const tooltipAttributes = spec.tooltip.fold(() => ({}), tooltip => {\n        const translatedTooltip = sharedBackstage.providers.translate(tooltip);\n        return {\n          'title': translatedTooltip,\n          'aria-label': translatedTooltip\n        };\n      });\n      const iconSpec = render$3('chevron-down', {\n        tag: 'div',\n        classes: [`${ prefix }__select-chevron`]\n      }, sharedBackstage.providers.icons);\n      const memDropdown = record(Dropdown.sketch({\n        ...spec.uid ? { uid: spec.uid } : {},\n        ...role,\n        dom: {\n          tag: 'button',\n          classes: [\n            prefix,\n            `${ prefix }--select`\n          ].concat(map$2(spec.classes, c => `${ prefix }--${ c }`)),\n          attributes: { ...tooltipAttributes }\n        },\n        components: componentRenderPipeline([\n          optMemDisplayIcon.map(mem => mem.asSpec()),\n          optMemDisplayText.map(mem => mem.asSpec()),\n          Optional.some(iconSpec)\n        ]),\n        matchWidth: true,\n        useMinWidth: true,\n        onOpen: (anchor, dropdownComp, tmenuComp) => {\n          if (spec.searchable) {\n            focusSearchField(tmenuComp);\n          }\n        },\n        dropdownBehaviours: derive$1([\n          ...spec.dropdownBehaviours,\n          DisablingConfigs.button(() => spec.disabled || sharedBackstage.providers.isDisabled()),\n          receivingConfig(),\n          Unselecting.config({}),\n          Replacing.config({}),\n          config('dropdown-events', [\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell)\n          ]),\n          config('menubutton-update-display-text', [\n            run$1(updateMenuText, (comp, se) => {\n              optMemDisplayText.bind(mem => mem.getOpt(comp)).each(displayText => {\n                Replacing.set(displayText, [text$1(sharedBackstage.providers.translate(se.event.text))]);\n              });\n            }),\n            run$1(updateMenuIcon, (comp, se) => {\n              optMemDisplayIcon.bind(mem => mem.getOpt(comp)).each(displayIcon => {\n                Replacing.set(displayIcon, [renderReplaceableIconFromPack(se.event.icon, sharedBackstage.providers.icons)]);\n              });\n            })\n          ])\n        ]),\n        eventOrder: deepMerge(toolbarButtonEventOrder, {\n          mousedown: [\n            'focusing',\n            'alloy.base.behaviour',\n            'item-type-events',\n            'normal-dropdown-events'\n          ]\n        }),\n        sandboxBehaviours: derive$1([\n          Keying.config({\n            mode: 'special',\n            onLeft: onLeftOrRightInMenu,\n            onRight: onLeftOrRightInMenu\n          }),\n          config('dropdown-sandbox-events', [\n            run$1(refetchTriggerEvent, (originalSandboxComp, se) => {\n              handleRefetchTrigger(originalSandboxComp);\n              se.stop();\n            }),\n            run$1(redirectMenuItemInteractionEvent, (sandboxComp, se) => {\n              handleRedirectToMenuItem(sandboxComp, se);\n              se.stop();\n            })\n          ])\n        ]),\n        lazySink: sharedBackstage.getSink,\n        toggleClass: `${ prefix }--active`,\n        parts: {\n          menu: {\n            ...part(false, spec.columns, spec.presets),\n            fakeFocus: spec.searchable,\n            onHighlightItem: updateAriaOnHighlight,\n            onCollapseMenu: (tmenuComp, itemCompCausingCollapse, nowActiveMenuComp) => {\n              Highlighting.getHighlighted(nowActiveMenuComp).each(itemComp => {\n                updateAriaOnHighlight(tmenuComp, nowActiveMenuComp, itemComp);\n              });\n            },\n            onDehighlightItem: updateAriaOnDehighlight\n          }\n        },\n        fetch: comp => Future.nu(curry(spec.fetch, comp))\n      }));\n      return memDropdown.asSpec();\n    };\n\n    const isMenuItemReference = item => isString(item);\n    const isSeparator$2 = item => item.type === 'separator';\n    const isExpandingMenuItem = item => has$2(item, 'getSubmenuItems');\n    const separator$2 = { type: 'separator' };\n    const unwrapReferences = (items, menuItems) => {\n      const realItems = foldl(items, (acc, item) => {\n        if (isMenuItemReference(item)) {\n          if (item === '') {\n            return acc;\n          } else if (item === '|') {\n            return acc.length > 0 && !isSeparator$2(acc[acc.length - 1]) ? acc.concat([separator$2]) : acc;\n          } else if (has$2(menuItems, item.toLowerCase())) {\n            return acc.concat([menuItems[item.toLowerCase()]]);\n          } else {\n            return acc;\n          }\n        } else {\n          return acc.concat([item]);\n        }\n      }, []);\n      if (realItems.length > 0 && isSeparator$2(realItems[realItems.length - 1])) {\n        realItems.pop();\n      }\n      return realItems;\n    };\n    const getFromExpandingItem = (item, menuItems) => {\n      const submenuItems = item.getSubmenuItems();\n      const rest = expand(submenuItems, menuItems);\n      const newMenus = deepMerge(rest.menus, { [item.value]: rest.items });\n      const newExpansions = deepMerge(rest.expansions, { [item.value]: item.value });\n      return {\n        item,\n        menus: newMenus,\n        expansions: newExpansions\n      };\n    };\n    const generateValueIfRequired = item => {\n      const itemValue = get$g(item, 'value').getOrThunk(() => generate$6('generated-menu-item'));\n      return deepMerge({ value: itemValue }, item);\n    };\n    const expand = (items, menuItems) => {\n      const realItems = unwrapReferences(isString(items) ? items.split(' ') : items, menuItems);\n      return foldr(realItems, (acc, item) => {\n        if (isExpandingMenuItem(item)) {\n          const itemWithValue = generateValueIfRequired(item);\n          const newData = getFromExpandingItem(itemWithValue, menuItems);\n          return {\n            menus: deepMerge(acc.menus, newData.menus),\n            items: [\n              newData.item,\n              ...acc.items\n            ],\n            expansions: deepMerge(acc.expansions, newData.expansions)\n          };\n        } else {\n          return {\n            ...acc,\n            items: [\n              item,\n              ...acc.items\n            ]\n          };\n        }\n      }, {\n        menus: {},\n        expansions: {},\n        items: []\n      });\n    };\n\n    const getSearchModeForField = settings => {\n      return settings.search.fold(() => ({ searchMode: 'no-search' }), searchSettings => ({\n        searchMode: 'search-with-field',\n        placeholder: searchSettings.placeholder\n      }));\n    };\n    const getSearchModeForResults = settings => {\n      return settings.search.fold(() => ({ searchMode: 'no-search' }), _ => ({ searchMode: 'search-with-results' }));\n    };\n    const build = (items, itemResponse, backstage, settings) => {\n      const primary = generate$6('primary-menu');\n      const data = expand(items, backstage.shared.providers.menuItems());\n      if (data.items.length === 0) {\n        return Optional.none();\n      }\n      const mainMenuSearchMode = getSearchModeForField(settings);\n      const mainMenu = createPartialMenu(primary, data.items, itemResponse, backstage, settings.isHorizontalMenu, mainMenuSearchMode);\n      const submenuSearchMode = getSearchModeForResults(settings);\n      const submenus = map$1(data.menus, (menuItems, menuName) => createPartialMenu(menuName, menuItems, itemResponse, backstage, false, submenuSearchMode));\n      const menus = deepMerge(submenus, wrap$1(primary, mainMenu));\n      return Optional.from(tieredMenu.tieredData(primary, menus, data.expansions));\n    };\n\n    const isSingleListItem = item => !has$2(item, 'items');\n    const dataAttribute = 'data-value';\n    const fetchItems = (dropdownComp, name, items, selectedValue) => map$2(items, item => {\n      if (!isSingleListItem(item)) {\n        return {\n          type: 'nestedmenuitem',\n          text: item.text,\n          getSubmenuItems: () => fetchItems(dropdownComp, name, item.items, selectedValue)\n        };\n      } else {\n        return {\n          type: 'togglemenuitem',\n          text: item.text,\n          value: item.value,\n          active: item.value === selectedValue,\n          onAction: () => {\n            Representing.setValue(dropdownComp, item.value);\n            emitWith(dropdownComp, formChangeEvent, { name });\n            Focusing.focus(dropdownComp);\n          }\n        };\n      }\n    });\n    const findItemByValue = (items, value) => findMap(items, item => {\n      if (!isSingleListItem(item)) {\n        return findItemByValue(item.items, value);\n      } else {\n        return someIf(item.value === value, item);\n      }\n    });\n    const renderListBox = (spec, backstage, initialData) => {\n      const providersBackstage = backstage.shared.providers;\n      const initialItem = initialData.bind(value => findItemByValue(spec.items, value)).orThunk(() => head(spec.items).filter(isSingleListItem));\n      const pLabel = spec.label.map(label => renderLabel$2(label, providersBackstage));\n      const pField = FormField.parts.field({\n        dom: {},\n        factory: {\n          sketch: sketchSpec => renderCommonDropdown({\n            uid: sketchSpec.uid,\n            text: initialItem.map(item => item.text),\n            icon: Optional.none(),\n            tooltip: spec.label,\n            role: Optional.none(),\n            fetch: (comp, callback) => {\n              const items = fetchItems(comp, spec.name, spec.items, Representing.getValue(comp));\n              callback(build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n                isHorizontalMenu: false,\n                search: Optional.none()\n              }));\n            },\n            onSetup: constant$1(noop),\n            getApi: constant$1({}),\n            columns: 1,\n            presets: 'normal',\n            classes: [],\n            dropdownBehaviours: [\n              Tabstopping.config({}),\n              RepresentingConfigs.withComp(initialItem.map(item => item.value), comp => get$f(comp.element, dataAttribute), (comp, data) => {\n                findItemByValue(spec.items, data).each(item => {\n                  set$9(comp.element, dataAttribute, item.value);\n                  emitWith(comp, updateMenuText, { text: item.text });\n                });\n              })\n            ]\n          }, 'tox-listbox', backstage.shared)\n        }\n      });\n      const listBoxWrap = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-listboxfield']\n        },\n        components: [pField]\n      };\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: flatten([\n          pLabel.toArray(),\n          [listBoxWrap]\n        ]),\n        fieldBehaviours: derive$1([Disabling.config({\n            disabled: constant$1(!spec.enabled),\n            onDisabled: comp => {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          })])\n      });\n    };\n\n    const renderPanel = (spec, backstage) => ({\n      dom: {\n        tag: 'div',\n        classes: spec.classes\n      },\n      components: map$2(spec.items, backstage.shared.interpreter)\n    });\n\n    const factory$f = (detail, _spec) => {\n      const options = map$2(detail.options, option => ({\n        dom: {\n          tag: 'option',\n          value: option.value,\n          innerHtml: option.text\n        }\n      }));\n      const initialValues = detail.data.map(v => wrap$1('initialValue', v)).getOr({});\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'select',\n          classes: detail.selectClasses,\n          attributes: detail.selectAttributes\n        },\n        components: options,\n        behaviours: augment(detail.selectBehaviours, [\n          Focusing.config({}),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: select => {\n                return get$6(select.element);\n              },\n              setValue: (select, newValue) => {\n                const found = find$5(detail.options, opt => opt.value === newValue);\n                if (found.isSome()) {\n                  set$5(select.element, newValue);\n                }\n              },\n              ...initialValues\n            }\n          })\n        ])\n      };\n    };\n    const HtmlSelect = single({\n      name: 'HtmlSelect',\n      configFields: [\n        required$1('options'),\n        field('selectBehaviours', [\n          Focusing,\n          Representing\n        ]),\n        defaulted('selectClasses', []),\n        defaulted('selectAttributes', {}),\n        option$3('data')\n      ],\n      factory: factory$f\n    });\n\n    const renderSelectBox = (spec, providersBackstage, initialData) => {\n      const translatedOptions = map$2(spec.items, item => ({\n        text: providersBackstage.translate(item.text),\n        value: item.value\n      }));\n      const pLabel = spec.label.map(label => renderLabel$2(label, providersBackstage));\n      const pField = FormField.parts.field({\n        dom: {},\n        ...initialData.map(data => ({ data })).getOr({}),\n        selectAttributes: { size: spec.size },\n        options: translatedOptions,\n        factory: HtmlSelect,\n        selectBehaviours: derive$1([\n          Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() }),\n          Tabstopping.config({}),\n          config('selectbox-change', [run$1(change(), (component, _) => {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })])\n        ])\n      });\n      const chevron = spec.size > 1 ? Optional.none() : Optional.some(render$3('chevron-down', {\n        tag: 'div',\n        classes: ['tox-selectfield__icon-js']\n      }, providersBackstage.icons));\n      const selectWrap = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-selectfield']\n        },\n        components: flatten([\n          [pField],\n          chevron.toArray()\n        ])\n      };\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: flatten([\n          pLabel.toArray(),\n          [selectWrap]\n        ]),\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: () => !spec.enabled || providersBackstage.isDisabled(),\n            onDisabled: comp => {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig()\n        ])\n      });\n    };\n\n    const schema$h = constant$1([\n      defaulted('field1Name', 'field1'),\n      defaulted('field2Name', 'field2'),\n      onStrictHandler('onLockedChange'),\n      markers$1(['lockClass']),\n      defaulted('locked', false),\n      SketchBehaviours.field('coupledFieldBehaviours', [\n        Composing,\n        Representing\n      ])\n    ]);\n    const getField = (comp, detail, partName) => getPart(comp, detail, partName).bind(Composing.getCurrent);\n    const coupledPart = (selfName, otherName) => required({\n      factory: FormField,\n      name: selfName,\n      overrides: detail => {\n        return {\n          fieldBehaviours: derive$1([config('coupled-input-behaviour', [run$1(input(), me => {\n                getField(me, detail, otherName).each(other => {\n                  getPart(me, detail, 'lock').each(lock => {\n                    if (Toggling.isOn(lock)) {\n                      detail.onLockedChange(me, other, lock);\n                    }\n                  });\n                });\n              })])])\n        };\n      }\n    });\n    const parts$c = constant$1([\n      coupledPart('field1', 'field2'),\n      coupledPart('field2', 'field1'),\n      required({\n        factory: Button,\n        schema: [required$1('dom')],\n        name: 'lock',\n        overrides: detail => {\n          return {\n            buttonBehaviours: derive$1([Toggling.config({\n                selected: detail.locked,\n                toggleClass: detail.markers.lockClass,\n                aria: { mode: 'pressed' }\n              })])\n          };\n        }\n      })\n    ]);\n\n    const factory$e = (detail, components, _spec, _externals) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components,\n      behaviours: SketchBehaviours.augment(detail.coupledFieldBehaviours, [\n        Composing.config({ find: Optional.some }),\n        Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: comp => {\n              const parts = getPartsOrDie(comp, detail, [\n                'field1',\n                'field2'\n              ]);\n              return {\n                [detail.field1Name]: Representing.getValue(parts.field1()),\n                [detail.field2Name]: Representing.getValue(parts.field2())\n              };\n            },\n            setValue: (comp, value) => {\n              const parts = getPartsOrDie(comp, detail, [\n                'field1',\n                'field2'\n              ]);\n              if (hasNonNullableKey(value, detail.field1Name)) {\n                Representing.setValue(parts.field1(), value[detail.field1Name]);\n              }\n              if (hasNonNullableKey(value, detail.field2Name)) {\n                Representing.setValue(parts.field2(), value[detail.field2Name]);\n              }\n            }\n          }\n        })\n      ]),\n      apis: {\n        getField1: component => getPart(component, detail, 'field1'),\n        getField2: component => getPart(component, detail, 'field2'),\n        getLock: component => getPart(component, detail, 'lock')\n      }\n    });\n    const FormCoupledInputs = composite({\n      name: 'FormCoupledInputs',\n      configFields: schema$h(),\n      partFields: parts$c(),\n      factory: factory$e,\n      apis: {\n        getField1: (apis, component) => apis.getField1(component),\n        getField2: (apis, component) => apis.getField2(component),\n        getLock: (apis, component) => apis.getLock(component)\n      }\n    });\n\n    const formatSize = size => {\n      const unitDec = {\n        '': 0,\n        'px': 0,\n        'pt': 1,\n        'mm': 1,\n        'pc': 2,\n        'ex': 2,\n        'em': 2,\n        'ch': 2,\n        'rem': 2,\n        'cm': 3,\n        'in': 4,\n        '%': 4\n      };\n      const maxDecimal = unit => unit in unitDec ? unitDec[unit] : 1;\n      let numText = size.value.toFixed(maxDecimal(size.unit));\n      if (numText.indexOf('.') !== -1) {\n        numText = numText.replace(/\\.?0*$/, '');\n      }\n      return numText + size.unit;\n    };\n    const parseSize = sizeText => {\n      const numPattern = /^\\s*(\\d+(?:\\.\\d+)?)\\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\\s*$/;\n      const match = numPattern.exec(sizeText);\n      if (match !== null) {\n        const value = parseFloat(match[1]);\n        const unit = match[2];\n        return Result.value({\n          value,\n          unit\n        });\n      } else {\n        return Result.error(sizeText);\n      }\n    };\n    const convertUnit = (size, unit) => {\n      const inInch = {\n        '': 96,\n        'px': 96,\n        'pt': 72,\n        'cm': 2.54,\n        'pc': 12,\n        'mm': 25.4,\n        'in': 1\n      };\n      const supported = u => has$2(inInch, u);\n      if (size.unit === unit) {\n        return Optional.some(size.value);\n      } else if (supported(size.unit) && supported(unit)) {\n        if (inInch[size.unit] === inInch[unit]) {\n          return Optional.some(size.value);\n        } else {\n          return Optional.some(size.value / inInch[size.unit] * inInch[unit]);\n        }\n      } else {\n        return Optional.none();\n      }\n    };\n    const noSizeConversion = _input => Optional.none();\n    const ratioSizeConversion = (scale, unit) => size => convertUnit(size, unit).map(value => ({\n      value: value * scale,\n      unit\n    }));\n    const makeRatioConverter = (currentFieldText, otherFieldText) => {\n      const cValue = parseSize(currentFieldText).toOptional();\n      const oValue = parseSize(otherFieldText).toOptional();\n      return lift2(cValue, oValue, (cSize, oSize) => convertUnit(cSize, oSize.unit).map(val => oSize.value / val).map(r => ratioSizeConversion(r, oSize.unit)).getOr(noSizeConversion)).getOr(noSizeConversion);\n    };\n\n    const renderSizeInput = (spec, providersBackstage) => {\n      let converter = noSizeConversion;\n      const ratioEvent = generate$6('ratio-event');\n      const makeIcon = iconName => render$3(iconName, {\n        tag: 'span',\n        classes: [\n          'tox-icon',\n          'tox-lock-icon__' + iconName\n        ]\n      }, providersBackstage.icons);\n      const pLock = FormCoupledInputs.parts.lock({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-lock',\n            'tox-button',\n            'tox-button--naked',\n            'tox-button--icon'\n          ],\n          attributes: { title: providersBackstage.translate(spec.label.getOr('Constrain proportions')) }\n        },\n        components: [\n          makeIcon('lock'),\n          makeIcon('unlock')\n        ],\n        buttonBehaviours: derive$1([\n          Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() }),\n          receivingConfig(),\n          Tabstopping.config({})\n        ])\n      });\n      const formGroup = components => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components\n      });\n      const getFieldPart = isField1 => FormField.parts.field({\n        factory: Input,\n        inputClasses: ['tox-textfield'],\n        inputBehaviours: derive$1([\n          Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          config('size-input-events', [\n            run$1(focusin(), (component, _simulatedEvent) => {\n              emitWith(component, ratioEvent, { isField1 });\n            }),\n            run$1(change(), (component, _simulatedEvent) => {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })\n          ])\n        ]),\n        selectOnFocus: false\n      });\n      const getLabel = label => ({\n        dom: {\n          tag: 'label',\n          classes: ['tox-label']\n        },\n        components: [text$1(providersBackstage.translate(label))]\n      });\n      const widthField = FormCoupledInputs.parts.field1(formGroup([\n        FormField.parts.label(getLabel('Width')),\n        getFieldPart(true)\n      ]));\n      const heightField = FormCoupledInputs.parts.field2(formGroup([\n        FormField.parts.label(getLabel('Height')),\n        getFieldPart(false)\n      ]));\n      return FormCoupledInputs.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-form__controls-h-stack']\n            },\n            components: [\n              widthField,\n              heightField,\n              formGroup([\n                getLabel(nbsp),\n                pLock\n              ])\n            ]\n          }],\n        field1Name: 'width',\n        field2Name: 'height',\n        locked: true,\n        markers: { lockClass: 'tox-locked' },\n        onLockedChange: (current, other, _lock) => {\n          parseSize(Representing.getValue(current)).each(size => {\n            converter(size).each(newSize => {\n              Representing.setValue(other, formatSize(newSize));\n            });\n          });\n        },\n        coupledFieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: () => !spec.enabled || providersBackstage.isDisabled(),\n            onDisabled: comp => {\n              FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.disable);\n              FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.disable);\n              FormCoupledInputs.getLock(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.enable);\n              FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.enable);\n              FormCoupledInputs.getLock(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig(),\n          config('size-input-events2', [run$1(ratioEvent, (component, simulatedEvent) => {\n              const isField1 = simulatedEvent.event.isField1;\n              const optCurrent = isField1 ? FormCoupledInputs.getField1(component) : FormCoupledInputs.getField2(component);\n              const optOther = isField1 ? FormCoupledInputs.getField2(component) : FormCoupledInputs.getField1(component);\n              const value1 = optCurrent.map(Representing.getValue).getOr('');\n              const value2 = optOther.map(Representing.getValue).getOr('');\n              converter = makeRatioConverter(value1, value2);\n            })])\n        ])\n      });\n    };\n\n    const renderSlider = (spec, providerBackstage, initialData) => {\n      const labelPart = Slider.parts.label({\n        dom: {\n          tag: 'label',\n          classes: ['tox-label']\n        },\n        components: [text$1(providerBackstage.translate(spec.label))]\n      });\n      const spectrum = Slider.parts.spectrum({\n        dom: {\n          tag: 'div',\n          classes: ['tox-slider__rail'],\n          attributes: { role: 'presentation' }\n        }\n      });\n      const thumb = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          classes: ['tox-slider__handle'],\n          attributes: { role: 'presentation' }\n        }\n      });\n      return Slider.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-slider'],\n          attributes: { role: 'presentation' }\n        },\n        model: {\n          mode: 'x',\n          minX: spec.min,\n          maxX: spec.max,\n          getInitialValue: constant$1(initialData.getOrThunk(() => (Math.abs(spec.max) - Math.abs(spec.min)) / 2))\n        },\n        components: [\n          labelPart,\n          spectrum,\n          thumb\n        ],\n        sliderBehaviours: derive$1([\n          ComposingConfigs.self(),\n          Focusing.config({})\n        ]),\n        onChoose: (component, thumb, value) => {\n          emitWith(component, formChangeEvent, {\n            name: spec.name,\n            value\n          });\n        }\n      });\n    };\n\n    const renderTable = (spec, providersBackstage) => {\n      const renderTh = text => ({\n        dom: {\n          tag: 'th',\n          innerHtml: providersBackstage.translate(text)\n        }\n      });\n      const renderHeader = header => ({\n        dom: { tag: 'thead' },\n        components: [{\n            dom: { tag: 'tr' },\n            components: map$2(header, renderTh)\n          }]\n      });\n      const renderTd = text => ({\n        dom: {\n          tag: 'td',\n          innerHtml: providersBackstage.translate(text)\n        }\n      });\n      const renderTr = row => ({\n        dom: { tag: 'tr' },\n        components: map$2(row, renderTd)\n      });\n      const renderRows = rows => ({\n        dom: { tag: 'tbody' },\n        components: map$2(rows, renderTr)\n      });\n      return {\n        dom: {\n          tag: 'table',\n          classes: ['tox-dialog__table']\n        },\n        components: [\n          renderHeader(spec.header),\n          renderRows(spec.cells)\n        ],\n        behaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({})\n        ])\n      };\n    };\n\n    const renderTextField = (spec, providersBackstage) => {\n      const pLabel = spec.label.map(label => renderLabel$2(label, providersBackstage));\n      const baseInputBehaviours = [\n        Disabling.config({ disabled: () => spec.disabled || providersBackstage.isDisabled() }),\n        receivingConfig(),\n        Keying.config({\n          mode: 'execution',\n          useEnter: spec.multiline !== true,\n          useControlEnter: spec.multiline === true,\n          execute: comp => {\n            emit(comp, formSubmitEvent);\n            return Optional.some(true);\n          }\n        }),\n        config('textfield-change', [\n          run$1(input(), (component, _) => {\n            emitWith(component, formChangeEvent, { name: spec.name });\n          }),\n          run$1(postPaste(), (component, _) => {\n            emitWith(component, formChangeEvent, { name: spec.name });\n          })\n        ]),\n        Tabstopping.config({})\n      ];\n      const validatingBehaviours = spec.validation.map(vl => Invalidating.config({\n        getRoot: input => {\n          return parentElement(input.element);\n        },\n        invalidClass: 'tox-invalid',\n        validator: {\n          validate: input => {\n            const v = Representing.getValue(input);\n            const result = vl.validator(v);\n            return Future.pure(result === true ? Result.value(v) : Result.error(result));\n          },\n          validateOnLoad: vl.validateOnLoad\n        }\n      })).toArray();\n      const placeholder = spec.placeholder.fold(constant$1({}), p => ({ placeholder: providersBackstage.translate(p) }));\n      const inputMode = spec.inputMode.fold(constant$1({}), mode => ({ inputmode: mode }));\n      const inputAttributes = {\n        ...placeholder,\n        ...inputMode\n      };\n      const pField = FormField.parts.field({\n        tag: spec.multiline === true ? 'textarea' : 'input',\n        ...spec.data.map(data => ({ data })).getOr({}),\n        inputAttributes,\n        inputClasses: [spec.classname],\n        inputBehaviours: derive$1(flatten([\n          baseInputBehaviours,\n          validatingBehaviours\n        ])),\n        selectOnFocus: false,\n        factory: Input\n      });\n      const extraClasses = spec.flex ? ['tox-form__group--stretched'] : [];\n      const extraClasses2 = extraClasses.concat(spec.maximized ? ['tox-form-group--maximize'] : []);\n      const extraBehaviours = [\n        Disabling.config({\n          disabled: () => spec.disabled || providersBackstage.isDisabled(),\n          onDisabled: comp => {\n            FormField.getField(comp).each(Disabling.disable);\n          },\n          onEnabled: comp => {\n            FormField.getField(comp).each(Disabling.enable);\n          }\n        }),\n        receivingConfig()\n      ];\n      return renderFormFieldWith(pLabel, pField, extraClasses2, extraBehaviours);\n    };\n    const renderInput = (spec, providersBackstage, initialData) => renderTextField({\n      name: spec.name,\n      multiline: false,\n      label: spec.label,\n      inputMode: spec.inputMode,\n      placeholder: spec.placeholder,\n      flex: false,\n      disabled: !spec.enabled,\n      classname: 'tox-textfield',\n      validation: Optional.none(),\n      maximized: spec.maximized,\n      data: initialData\n    }, providersBackstage);\n    const renderTextarea = (spec, providersBackstage, initialData) => renderTextField({\n      name: spec.name,\n      multiline: true,\n      label: spec.label,\n      inputMode: Optional.none(),\n      placeholder: spec.placeholder,\n      flex: true,\n      disabled: !spec.enabled,\n      classname: 'tox-textarea',\n      validation: Optional.none(),\n      maximized: spec.maximized,\n      data: initialData\n    }, providersBackstage);\n\n    const events$6 = (streamConfig, streamState) => {\n      const streams = streamConfig.stream.streams;\n      const processor = streams.setup(streamConfig, streamState);\n      return derive$2([\n        run$1(streamConfig.event, processor),\n        runOnDetached(() => streamState.cancel())\n      ].concat(streamConfig.cancelEvent.map(e => [run$1(e, () => streamState.cancel())]).getOr([])));\n    };\n\n    var ActiveStreaming = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$6\n    });\n\n    const first = (fn, rate) => {\n      let timer = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      const throttle = (...args) => {\n        if (isNull(timer)) {\n          timer = setTimeout(() => {\n            timer = null;\n            fn.apply(null, args);\n          }, rate);\n        }\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n    const last = (fn, rate) => {\n      let timer = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      const throttle = (...args) => {\n        cancel();\n        timer = setTimeout(() => {\n          timer = null;\n          fn.apply(null, args);\n        }, rate);\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n\n    const throttle = _config => {\n      const state = Cell(null);\n      const readState = () => ({ timer: state.get() !== null ? 'set' : 'unset' });\n      const setTimer = t => {\n        state.set(t);\n      };\n      const cancel = () => {\n        const t = state.get();\n        if (t !== null) {\n          t.cancel();\n        }\n      };\n      return nu$8({\n        readState,\n        setTimer,\n        cancel\n      });\n    };\n    const init$9 = spec => spec.stream.streams.state(spec);\n\n    var StreamingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        throttle: throttle,\n        init: init$9\n    });\n\n    const setup$c = (streamInfo, streamState) => {\n      const sInfo = streamInfo.stream;\n      const throttler = last(streamInfo.onStream, sInfo.delay);\n      streamState.setTimer(throttler);\n      return (component, simulatedEvent) => {\n        throttler.throttle(component, simulatedEvent);\n        if (sInfo.stopEvent) {\n          simulatedEvent.stop();\n        }\n      };\n    };\n    var StreamingSchema = [\n      requiredOf('stream', choose$1('mode', {\n        throttle: [\n          required$1('delay'),\n          defaulted('stopEvent', true),\n          output$1('streams', {\n            setup: setup$c,\n            state: throttle\n          })\n        ]\n      })),\n      defaulted('event', 'input'),\n      option$3('cancelEvent'),\n      onStrictHandler('onStream')\n    ];\n\n    const Streaming = create$3({\n      fields: StreamingSchema,\n      name: 'streaming',\n      active: ActiveStreaming,\n      state: StreamingState\n    });\n\n    const setValueFromItem = (model, input, item) => {\n      const itemData = Representing.getValue(item);\n      Representing.setValue(input, itemData);\n      setCursorAtEnd(input);\n    };\n    const setSelectionOn = (input, f) => {\n      const el = input.element;\n      const value = get$6(el);\n      const node = el.dom;\n      if (get$f(el, 'type') !== 'number') {\n        f(node, value);\n      }\n    };\n    const setCursorAtEnd = input => {\n      setSelectionOn(input, (node, value) => node.setSelectionRange(value.length, value.length));\n    };\n    const setSelectionToEnd = (input, startOffset) => {\n      setSelectionOn(input, (node, value) => node.setSelectionRange(startOffset, value.length));\n    };\n    const attemptSelectOver = (model, input, item) => {\n      if (!model.selectsOver) {\n        return Optional.none();\n      } else {\n        const currentValue = Representing.getValue(input);\n        const inputDisplay = model.getDisplayText(currentValue);\n        const itemValue = Representing.getValue(item);\n        const itemDisplay = model.getDisplayText(itemValue);\n        return itemDisplay.indexOf(inputDisplay) === 0 ? Optional.some(() => {\n          setValueFromItem(model, input, item);\n          setSelectionToEnd(input, inputDisplay.length);\n        }) : Optional.none();\n      }\n    };\n\n    const itemExecute = constant$1('alloy.typeahead.itemexecute');\n\n    const make$3 = (detail, components, spec, externals) => {\n      const navigateList = (comp, simulatedEvent, highlighter) => {\n        detail.previewing.set(false);\n        const sandbox = Coupling.getCoupled(comp, 'sandbox');\n        if (Sandboxing.isOpen(sandbox)) {\n          Composing.getCurrent(sandbox).each(menu => {\n            Highlighting.getHighlighted(menu).fold(() => {\n              highlighter(menu);\n            }, () => {\n              dispatchEvent(sandbox, menu.element, 'keydown', simulatedEvent);\n            });\n          });\n        } else {\n          const onOpenSync = sandbox => {\n            Composing.getCurrent(sandbox).each(highlighter);\n          };\n          open(detail, mapFetch(comp), comp, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n        }\n      };\n      const focusBehaviours$1 = focusBehaviours(detail);\n      const mapFetch = comp => tdata => tdata.map(data => {\n        const menus = values(data.menus);\n        const items = bind$3(menus, menu => filter$2(menu.items, item => item.type === 'item'));\n        const repState = Representing.getState(comp);\n        repState.update(map$2(items, item => item.data));\n        return data;\n      });\n      const getActiveMenu = sandboxComp => Composing.getCurrent(sandboxComp);\n      const typeaheadCustomEvents = 'typeaheadevents';\n      const behaviours = [\n        Focusing.config({}),\n        Representing.config({\n          onSetValue: detail.onSetValue,\n          store: {\n            mode: 'dataset',\n            getDataKey: comp => get$6(comp.element),\n            getFallbackEntry: itemString => ({\n              value: itemString,\n              meta: {}\n            }),\n            setValue: (comp, data) => {\n              set$5(comp.element, detail.model.getDisplayText(data));\n            },\n            ...detail.initialData.map(d => wrap$1('initialValue', d)).getOr({})\n          }\n        }),\n        Streaming.config({\n          stream: {\n            mode: 'throttle',\n            delay: detail.responseTime,\n            stopEvent: false\n          },\n          onStream: (component, _simulatedEvent) => {\n            const sandbox = Coupling.getCoupled(component, 'sandbox');\n            const focusInInput = Focusing.isFocused(component);\n            if (focusInInput) {\n              if (get$6(component.element).length >= detail.minChars) {\n                const previousValue = getActiveMenu(sandbox).bind(activeMenu => Highlighting.getHighlighted(activeMenu).map(Representing.getValue));\n                detail.previewing.set(true);\n                const onOpenSync = _sandbox => {\n                  getActiveMenu(sandbox).each(activeMenu => {\n                    previousValue.fold(() => {\n                      if (detail.model.selectsOver) {\n                        Highlighting.highlightFirst(activeMenu);\n                      }\n                    }, pv => {\n                      Highlighting.highlightBy(activeMenu, item => {\n                        const itemData = Representing.getValue(item);\n                        return itemData.value === pv.value;\n                      });\n                      Highlighting.getHighlighted(activeMenu).orThunk(() => {\n                        Highlighting.highlightFirst(activeMenu);\n                        return Optional.none();\n                      });\n                    });\n                  });\n                };\n                open(detail, mapFetch(component), component, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightJustMenu).get(noop);\n              }\n            }\n          },\n          cancelEvent: typeaheadCancel()\n        }),\n        Keying.config({\n          mode: 'special',\n          onDown: (comp, simulatedEvent) => {\n            navigateList(comp, simulatedEvent, Highlighting.highlightFirst);\n            return Optional.some(true);\n          },\n          onEscape: comp => {\n            const sandbox = Coupling.getCoupled(comp, 'sandbox');\n            if (Sandboxing.isOpen(sandbox)) {\n              Sandboxing.close(sandbox);\n              return Optional.some(true);\n            }\n            return Optional.none();\n          },\n          onUp: (comp, simulatedEvent) => {\n            navigateList(comp, simulatedEvent, Highlighting.highlightLast);\n            return Optional.some(true);\n          },\n          onEnter: comp => {\n            const sandbox = Coupling.getCoupled(comp, 'sandbox');\n            const sandboxIsOpen = Sandboxing.isOpen(sandbox);\n            if (sandboxIsOpen && !detail.previewing.get()) {\n              return getActiveMenu(sandbox).bind(activeMenu => Highlighting.getHighlighted(activeMenu)).map(item => {\n                emitWith(comp, itemExecute(), { item });\n                return true;\n              });\n            } else {\n              const currentValue = Representing.getValue(comp);\n              emit(comp, typeaheadCancel());\n              detail.onExecute(sandbox, comp, currentValue);\n              if (sandboxIsOpen) {\n                Sandboxing.close(sandbox);\n              }\n              return Optional.some(true);\n            }\n          }\n        }),\n        Toggling.config({\n          toggleClass: detail.markers.openClass,\n          aria: { mode: 'expanded' }\n        }),\n        Coupling.config({\n          others: {\n            sandbox: hotspot => {\n              return makeSandbox$1(detail, hotspot, {\n                onOpen: () => Toggling.on(hotspot),\n                onClose: () => Toggling.off(hotspot)\n              });\n            }\n          }\n        }),\n        config(typeaheadCustomEvents, [\n          runOnAttached(typeaheadComp => {\n            detail.lazyTypeaheadComp.set(Optional.some(typeaheadComp));\n          }),\n          runOnDetached(_typeaheadComp => {\n            detail.lazyTypeaheadComp.set(Optional.none());\n          }),\n          runOnExecute$1(comp => {\n            const onOpenSync = noop;\n            togglePopup(detail, mapFetch(comp), comp, externals, onOpenSync, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n          }),\n          run$1(itemExecute(), (comp, se) => {\n            const sandbox = Coupling.getCoupled(comp, 'sandbox');\n            setValueFromItem(detail.model, comp, se.event.item);\n            emit(comp, typeaheadCancel());\n            detail.onItemExecute(comp, sandbox, se.event.item, Representing.getValue(comp));\n            Sandboxing.close(sandbox);\n            setCursorAtEnd(comp);\n          })\n        ].concat(detail.dismissOnBlur ? [run$1(postBlur(), typeahead => {\n            const sandbox = Coupling.getCoupled(typeahead, 'sandbox');\n            if (search(sandbox.element).isNone()) {\n              Sandboxing.close(sandbox);\n            }\n          })] : []))\n      ];\n      const eventOrder = {\n        [detachedFromDom()]: [\n          Representing.name(),\n          Streaming.name(),\n          typeaheadCustomEvents\n        ],\n        ...detail.eventOrder\n      };\n      return {\n        uid: detail.uid,\n        dom: dom(deepMerge(detail, {\n          inputAttributes: {\n            'role': 'combobox',\n            'aria-autocomplete': 'list',\n            'aria-haspopup': 'true'\n          }\n        })),\n        behaviours: {\n          ...focusBehaviours$1,\n          ...augment(detail.typeaheadBehaviours, behaviours)\n        },\n        eventOrder\n      };\n    };\n\n    const schema$g = constant$1([\n      option$3('lazySink'),\n      required$1('fetch'),\n      defaulted('minChars', 5),\n      defaulted('responseTime', 1000),\n      onHandler('onOpen'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      defaulted('layouts', Optional.none()),\n      defaulted('eventOrder', {}),\n      defaultedObjOf('model', {}, [\n        defaulted('getDisplayText', itemData => itemData.meta !== undefined && itemData.meta.text !== undefined ? itemData.meta.text : itemData.value),\n        defaulted('selectsOver', true),\n        defaulted('populateFromBrowse', true)\n      ]),\n      onHandler('onSetValue'),\n      onKeyboardHandler('onExecute'),\n      onHandler('onItemExecute'),\n      defaulted('inputClasses', []),\n      defaulted('inputAttributes', {}),\n      defaulted('inputStyles', {}),\n      defaulted('matchWidth', true),\n      defaulted('useMinWidth', false),\n      defaulted('dismissOnBlur', true),\n      markers$1(['openClass']),\n      option$3('initialData'),\n      field('typeaheadBehaviours', [\n        Focusing,\n        Representing,\n        Streaming,\n        Keying,\n        Toggling,\n        Coupling\n      ]),\n      customField('lazyTypeaheadComp', () => Cell(Optional.none)),\n      customField('previewing', () => Cell(true))\n    ].concat(schema$l()).concat(sandboxFields()));\n    const parts$b = constant$1([external({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        overrides: detail => {\n          return {\n            fakeFocus: true,\n            onHighlightItem: (_tmenu, menu, item) => {\n              if (!detail.previewing.get()) {\n                detail.lazyTypeaheadComp.get().each(input => {\n                  if (detail.model.populateFromBrowse) {\n                    setValueFromItem(detail.model, input, item);\n                  }\n                });\n              } else {\n                detail.lazyTypeaheadComp.get().each(input => {\n                  attemptSelectOver(detail.model, input, item).fold(() => {\n                    if (detail.model.selectsOver) {\n                      Highlighting.dehighlight(menu, item);\n                      detail.previewing.set(true);\n                    } else {\n                      detail.previewing.set(false);\n                    }\n                  }, selectOverTextInInput => {\n                    selectOverTextInInput();\n                    detail.previewing.set(false);\n                  });\n                });\n              }\n            },\n            onExecute: (_menu, item) => {\n              return detail.lazyTypeaheadComp.get().map(typeahead => {\n                emitWith(typeahead, itemExecute(), { item });\n                return true;\n              });\n            },\n            onHover: (menu, item) => {\n              detail.previewing.set(false);\n              detail.lazyTypeaheadComp.get().each(input => {\n                if (detail.model.populateFromBrowse) {\n                  setValueFromItem(detail.model, input, item);\n                }\n              });\n            }\n          };\n        }\n      })]);\n\n    const Typeahead = composite({\n      name: 'Typeahead',\n      configFields: schema$g(),\n      partFields: parts$b(),\n      factory: make$3\n    });\n\n    const wrap = delegate => {\n      const toCached = () => {\n        return wrap(delegate.toCached());\n      };\n      const bindFuture = f => {\n        return wrap(delegate.bind(resA => resA.fold(err => Future.pure(Result.error(err)), a => f(a))));\n      };\n      const bindResult = f => {\n        return wrap(delegate.map(resA => resA.bind(f)));\n      };\n      const mapResult = f => {\n        return wrap(delegate.map(resA => resA.map(f)));\n      };\n      const mapError = f => {\n        return wrap(delegate.map(resA => resA.mapError(f)));\n      };\n      const foldResult = (whenError, whenValue) => {\n        return delegate.map(res => res.fold(whenError, whenValue));\n      };\n      const withTimeout = (timeout, errorThunk) => {\n        return wrap(Future.nu(callback => {\n          let timedOut = false;\n          const timer = setTimeout(() => {\n            timedOut = true;\n            callback(Result.error(errorThunk()));\n          }, timeout);\n          delegate.get(result => {\n            if (!timedOut) {\n              clearTimeout(timer);\n              callback(result);\n            }\n          });\n        }));\n      };\n      return {\n        ...delegate,\n        toCached,\n        bindFuture,\n        bindResult,\n        mapResult,\n        mapError,\n        foldResult,\n        withTimeout\n      };\n    };\n    const nu$1 = worker => {\n      return wrap(Future.nu(worker));\n    };\n    const value = value => {\n      return wrap(Future.pure(Result.value(value)));\n    };\n    const error = error => {\n      return wrap(Future.pure(Result.error(error)));\n    };\n    const fromResult = result => {\n      return wrap(Future.pure(result));\n    };\n    const fromFuture = future => {\n      return wrap(future.map(Result.value));\n    };\n    const fromPromise = promise => {\n      return nu$1(completer => {\n        promise.then(value => {\n          completer(Result.value(value));\n        }, error => {\n          completer(Result.error(error));\n        });\n      });\n    };\n    const FutureResult = {\n      nu: nu$1,\n      wrap,\n      pure: value,\n      value,\n      error,\n      fromResult,\n      fromFuture,\n      fromPromise\n    };\n\n    const getMenuButtonApi = component => ({\n      isEnabled: () => !Disabling.isDisabled(component),\n      setEnabled: state => Disabling.set(component, !state),\n      setActive: state => {\n        const elm = component.element;\n        if (state) {\n          add$2(elm, 'tox-tbtn--enabled');\n          set$9(elm, 'aria-pressed', true);\n        } else {\n          remove$2(elm, 'tox-tbtn--enabled');\n          remove$7(elm, 'aria-pressed');\n        }\n      },\n      isActive: () => has(component.element, 'tox-tbtn--enabled')\n    });\n    const renderMenuButton = (spec, prefix, backstage, role) => {\n      return renderCommonDropdown({\n        text: spec.text,\n        icon: spec.icon,\n        tooltip: spec.tooltip,\n        searchable: spec.search.isSome(),\n        role,\n        fetch: (dropdownComp, callback) => {\n          const fetchContext = { pattern: spec.search.isSome() ? getSearchPattern(dropdownComp) : '' };\n          spec.fetch(items => {\n            callback(build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n              isHorizontalMenu: false,\n              search: spec.search\n            }));\n          }, fetchContext);\n        },\n        onSetup: spec.onSetup,\n        getApi: getMenuButtonApi,\n        columns: 1,\n        presets: 'normal',\n        classes: [],\n        dropdownBehaviours: [Tabstopping.config({})]\n      }, prefix, backstage.shared);\n    };\n    const getFetch = (items, getButton, backstage) => {\n      const getMenuItemAction = item => api => {\n        const newValue = !api.isActive();\n        api.setActive(newValue);\n        item.storage.set(newValue);\n        backstage.shared.getSink().each(sink => {\n          getButton().getOpt(sink).each(orig => {\n            focus$3(orig.element);\n            emitWith(orig, formActionEvent, {\n              name: item.name,\n              value: item.storage.get()\n            });\n          });\n        });\n      };\n      const getMenuItemSetup = item => api => {\n        api.setActive(item.storage.get());\n      };\n      return success => {\n        success(map$2(items, item => {\n          const text = item.text.fold(() => ({}), text => ({ text }));\n          return {\n            type: item.type,\n            active: false,\n            ...text,\n            onAction: getMenuItemAction(item),\n            onSetup: getMenuItemSetup(item)\n          };\n        }));\n      };\n    };\n\n    const renderCommonSpec = (spec, actionOpt, extraBehaviours = [], dom, components, providersBackstage) => {\n      const action = actionOpt.fold(() => ({}), action => ({ action }));\n      const common = {\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(() => !spec.enabled || providersBackstage.isDisabled()),\n          receivingConfig(),\n          Tabstopping.config({}),\n          config('button press', [\n            preventDefault('click'),\n            preventDefault('mousedown')\n          ])\n        ].concat(extraBehaviours)),\n        eventOrder: {\n          click: [\n            'button press',\n            'alloy.base.behaviour'\n          ],\n          mousedown: [\n            'button press',\n            'alloy.base.behaviour'\n          ]\n        },\n        ...action\n      };\n      const domFinal = deepMerge(common, { dom });\n      return deepMerge(domFinal, { components });\n    };\n    const renderIconButtonSpec = (spec, action, providersBackstage, extraBehaviours = []) => {\n      const tooltipAttributes = spec.tooltip.map(tooltip => ({\n        'aria-label': providersBackstage.translate(tooltip),\n        'title': providersBackstage.translate(tooltip)\n      })).getOr({});\n      const dom = {\n        tag: 'button',\n        classes: ['tox-tbtn'],\n        attributes: tooltipAttributes\n      };\n      const icon = spec.icon.map(iconName => renderIconFromPack(iconName, providersBackstage.icons));\n      const components = componentRenderPipeline([icon]);\n      return renderCommonSpec(spec, action, extraBehaviours, dom, components, providersBackstage);\n    };\n    const calculateClassesFromButtonType = buttonType => {\n      switch (buttonType) {\n      case 'primary':\n        return ['tox-button'];\n      case 'toolbar':\n        return ['tox-tbtn'];\n      case 'secondary':\n      default:\n        return [\n          'tox-button',\n          'tox-button--secondary'\n        ];\n      }\n    };\n    const renderButtonSpec = (spec, action, providersBackstage, extraBehaviours = [], extraClasses = []) => {\n      const translatedText = providersBackstage.translate(spec.text);\n      const icon = spec.icon.map(iconName => renderIconFromPack(iconName, providersBackstage.icons));\n      const components = [icon.getOrThunk(() => text$1(translatedText))];\n      const buttonType = spec.buttonType.getOr(!spec.primary && !spec.borderless ? 'secondary' : 'primary');\n      const baseClasses = calculateClassesFromButtonType(buttonType);\n      const classes = [\n        ...baseClasses,\n        ...icon.isSome() ? ['tox-button--icon'] : [],\n        ...spec.borderless ? ['tox-button--naked'] : [],\n        ...extraClasses\n      ];\n      const dom = {\n        tag: 'button',\n        classes,\n        attributes: { title: translatedText }\n      };\n      return renderCommonSpec(spec, action, extraBehaviours, dom, components, providersBackstage);\n    };\n    const renderButton = (spec, action, providersBackstage, extraBehaviours = [], extraClasses = []) => {\n      const buttonSpec = renderButtonSpec(spec, Optional.some(action), providersBackstage, extraBehaviours, extraClasses);\n      return Button.sketch(buttonSpec);\n    };\n    const getAction = (name, buttonType) => comp => {\n      if (buttonType === 'custom') {\n        emitWith(comp, formActionEvent, {\n          name,\n          value: {}\n        });\n      } else if (buttonType === 'submit') {\n        emit(comp, formSubmitEvent);\n      } else if (buttonType === 'cancel') {\n        emit(comp, formCancelEvent);\n      } else {\n        console.error('Unknown button type: ', buttonType);\n      }\n    };\n    const isMenuFooterButtonSpec = (spec, buttonType) => buttonType === 'menu';\n    const isNormalFooterButtonSpec = (spec, buttonType) => buttonType === 'custom' || buttonType === 'cancel' || buttonType === 'submit';\n    const renderFooterButton = (spec, buttonType, backstage) => {\n      if (isMenuFooterButtonSpec(spec, buttonType)) {\n        const getButton = () => memButton;\n        const menuButtonSpec = spec;\n        const fixedSpec = {\n          ...spec,\n          type: 'menubutton',\n          search: Optional.none(),\n          onSetup: api => {\n            api.setEnabled(spec.enabled);\n            return noop;\n          },\n          fetch: getFetch(menuButtonSpec.items, getButton, backstage)\n        };\n        const memButton = record(renderMenuButton(fixedSpec, 'tox-tbtn', backstage, Optional.none()));\n        return memButton.asSpec();\n      } else if (isNormalFooterButtonSpec(spec, buttonType)) {\n        const action = getAction(spec.name, buttonType);\n        const buttonSpec = {\n          ...spec,\n          borderless: false\n        };\n        return renderButton(buttonSpec, action, backstage.shared.providers, []);\n      } else {\n        console.error('Unknown footer button type: ', buttonType);\n        throw new Error('Unknown footer button type');\n      }\n    };\n    const renderDialogButton = (spec, providersBackstage) => {\n      const action = getAction(spec.name, 'custom');\n      return renderFormField(Optional.none(), FormField.parts.field({\n        factory: Button,\n        ...renderButtonSpec(spec, Optional.some(action), providersBackstage, [\n          RepresentingConfigs.memory(''),\n          ComposingConfigs.self()\n        ])\n      }));\n    };\n\n    const separator$1 = { type: 'separator' };\n    const toMenuItem = target => ({\n      type: 'menuitem',\n      value: target.url,\n      text: target.title,\n      meta: { attach: target.attach },\n      onAction: noop\n    });\n    const staticMenuItem = (title, url) => ({\n      type: 'menuitem',\n      value: url,\n      text: title,\n      meta: { attach: undefined },\n      onAction: noop\n    });\n    const toMenuItems = targets => map$2(targets, toMenuItem);\n    const filterLinkTargets = (type, targets) => filter$2(targets, target => target.type === type);\n    const filteredTargets = (type, targets) => toMenuItems(filterLinkTargets(type, targets));\n    const headerTargets = linkInfo => filteredTargets('header', linkInfo.targets);\n    const anchorTargets = linkInfo => filteredTargets('anchor', linkInfo.targets);\n    const anchorTargetTop = linkInfo => Optional.from(linkInfo.anchorTop).map(url => staticMenuItem('<top>', url)).toArray();\n    const anchorTargetBottom = linkInfo => Optional.from(linkInfo.anchorBottom).map(url => staticMenuItem('<bottom>', url)).toArray();\n    const historyTargets = history => map$2(history, url => staticMenuItem(url, url));\n    const joinMenuLists = items => {\n      return foldl(items, (a, b) => {\n        const bothEmpty = a.length === 0 || b.length === 0;\n        return bothEmpty ? a.concat(b) : a.concat(separator$1, b);\n      }, []);\n    };\n    const filterByQuery = (term, menuItems) => {\n      const lowerCaseTerm = term.toLowerCase();\n      return filter$2(menuItems, item => {\n        var _a;\n        const text = item.meta !== undefined && item.meta.text !== undefined ? item.meta.text : item.text;\n        const value = (_a = item.value) !== null && _a !== void 0 ? _a : '';\n        return contains$1(text.toLowerCase(), lowerCaseTerm) || contains$1(value.toLowerCase(), lowerCaseTerm);\n      });\n    };\n\n    const getItems = (fileType, input, urlBackstage) => {\n      const urlInputValue = Representing.getValue(input);\n      const term = urlInputValue.meta.text !== undefined ? urlInputValue.meta.text : urlInputValue.value;\n      const info = urlBackstage.getLinkInformation();\n      return info.fold(() => [], linkInfo => {\n        const history = filterByQuery(term, historyTargets(urlBackstage.getHistory(fileType)));\n        return fileType === 'file' ? joinMenuLists([\n          history,\n          filterByQuery(term, headerTargets(linkInfo)),\n          filterByQuery(term, flatten([\n            anchorTargetTop(linkInfo),\n            anchorTargets(linkInfo),\n            anchorTargetBottom(linkInfo)\n          ]))\n        ]) : history;\n      });\n    };\n    const errorId = generate$6('aria-invalid');\n    const renderUrlInput = (spec, backstage, urlBackstage, initialData) => {\n      const providersBackstage = backstage.shared.providers;\n      const updateHistory = component => {\n        const urlEntry = Representing.getValue(component);\n        urlBackstage.addToHistory(urlEntry.value, spec.filetype);\n      };\n      const typeaheadSpec = {\n        ...initialData.map(initialData => ({ initialData })).getOr({}),\n        dismissOnBlur: true,\n        inputClasses: ['tox-textfield'],\n        sandboxClasses: ['tox-dialog__popups'],\n        inputAttributes: {\n          'aria-errormessage': errorId,\n          'type': 'url'\n        },\n        minChars: 0,\n        responseTime: 0,\n        fetch: input => {\n          const items = getItems(spec.filetype, input, urlBackstage);\n          const tdata = build(items, ItemResponse$1.BUBBLE_TO_SANDBOX, backstage, {\n            isHorizontalMenu: false,\n            search: Optional.none()\n          });\n          return Future.pure(tdata);\n        },\n        getHotspot: comp => memUrlBox.getOpt(comp),\n        onSetValue: (comp, _newValue) => {\n          if (comp.hasConfigured(Invalidating)) {\n            Invalidating.run(comp).get(noop);\n          }\n        },\n        typeaheadBehaviours: derive$1([\n          ...urlBackstage.getValidationHandler().map(handler => Invalidating.config({\n            getRoot: comp => parentElement(comp.element),\n            invalidClass: 'tox-control-wrap--status-invalid',\n            notify: {\n              onInvalid: (comp, err) => {\n                memInvalidIcon.getOpt(comp).each(invalidComp => {\n                  set$9(invalidComp.element, 'title', providersBackstage.translate(err));\n                });\n              }\n            },\n            validator: {\n              validate: input => {\n                const urlEntry = Representing.getValue(input);\n                return FutureResult.nu(completer => {\n                  handler({\n                    type: spec.filetype,\n                    url: urlEntry.value\n                  }, validation => {\n                    if (validation.status === 'invalid') {\n                      const err = Result.error(validation.message);\n                      completer(err);\n                    } else {\n                      const val = Result.value(validation.message);\n                      completer(val);\n                    }\n                  });\n                });\n              },\n              validateOnLoad: false\n            }\n          })).toArray(),\n          Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() }),\n          Tabstopping.config({}),\n          config('urlinput-events', [\n            run$1(input(), comp => {\n              const currentValue = get$6(comp.element);\n              const trimmedValue = currentValue.trim();\n              if (trimmedValue !== currentValue) {\n                set$5(comp.element, trimmedValue);\n              }\n              if (spec.filetype === 'file') {\n                emitWith(comp, formChangeEvent, { name: spec.name });\n              }\n            }),\n            run$1(change(), comp => {\n              emitWith(comp, formChangeEvent, { name: spec.name });\n              updateHistory(comp);\n            }),\n            run$1(postPaste(), comp => {\n              emitWith(comp, formChangeEvent, { name: spec.name });\n              updateHistory(comp);\n            })\n          ])\n        ]),\n        eventOrder: {\n          [input()]: [\n            'streaming',\n            'urlinput-events',\n            'invalidating'\n          ]\n        },\n        model: {\n          getDisplayText: itemData => itemData.value,\n          selectsOver: false,\n          populateFromBrowse: false\n        },\n        markers: { openClass: 'tox-textfield--popup-open' },\n        lazySink: backstage.shared.getSink,\n        parts: { menu: part(false, 1, 'normal') },\n        onExecute: (_menu, component, _entry) => {\n          emitWith(component, formSubmitEvent, {});\n        },\n        onItemExecute: (typeahead, _sandbox, _item, _value) => {\n          updateHistory(typeahead);\n          emitWith(typeahead, formChangeEvent, { name: spec.name });\n        }\n      };\n      const pField = FormField.parts.field({\n        ...typeaheadSpec,\n        factory: Typeahead\n      });\n      const pLabel = spec.label.map(label => renderLabel$2(label, providersBackstage));\n      const makeIcon = (name, errId, icon = name, label = name) => render$3(icon, {\n        tag: 'div',\n        classes: [\n          'tox-icon',\n          'tox-control-wrap__status-icon-' + name\n        ],\n        attributes: {\n          'title': providersBackstage.translate(label),\n          'aria-live': 'polite',\n          ...errId.fold(() => ({}), id => ({ id }))\n        }\n      }, providersBackstage.icons);\n      const memInvalidIcon = record(makeIcon('invalid', Optional.some(errorId), 'warning'));\n      const memStatus = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-control-wrap__status-icon-wrap']\n        },\n        components: [memInvalidIcon.asSpec()]\n      });\n      const optUrlPicker = urlBackstage.getUrlPicker(spec.filetype);\n      const browseUrlEvent = generate$6('browser.url.event');\n      const memUrlBox = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-control-wrap']\n        },\n        components: [\n          pField,\n          memStatus.asSpec()\n        ],\n        behaviours: derive$1([Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() })])\n      });\n      const memUrlPickerButton = record(renderButton({\n        name: spec.name,\n        icon: Optional.some('browse'),\n        text: spec.label.getOr(''),\n        enabled: spec.enabled,\n        primary: false,\n        buttonType: Optional.none(),\n        borderless: true\n      }, component => emit(component, browseUrlEvent), providersBackstage, [], ['tox-browse-url']));\n      const controlHWrapper = () => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__controls-h-stack']\n        },\n        components: flatten([\n          [memUrlBox.asSpec()],\n          optUrlPicker.map(() => memUrlPickerButton.asSpec()).toArray()\n        ])\n      });\n      const openUrlPicker = comp => {\n        Composing.getCurrent(comp).each(field => {\n          const componentData = Representing.getValue(field);\n          const urlData = {\n            fieldname: spec.name,\n            ...componentData\n          };\n          optUrlPicker.each(picker => {\n            picker(urlData).get(chosenData => {\n              Representing.setValue(field, chosenData);\n              emitWith(comp, formChangeEvent, { name: spec.name });\n            });\n          });\n        });\n      };\n      return FormField.sketch({\n        dom: renderFormFieldDom(),\n        components: pLabel.toArray().concat([controlHWrapper()]),\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: () => !spec.enabled || providersBackstage.isDisabled(),\n            onDisabled: comp => {\n              FormField.getField(comp).each(Disabling.disable);\n              memUrlPickerButton.getOpt(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormField.getField(comp).each(Disabling.enable);\n              memUrlPickerButton.getOpt(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig(),\n          config('url-input-events', [run$1(browseUrlEvent, openUrlPicker)])\n        ])\n      });\n    };\n\n    const renderAlertBanner = (spec, providersBackstage) => Container.sketch({\n      dom: {\n        tag: 'div',\n        attributes: { role: 'alert' },\n        classes: [\n          'tox-notification',\n          'tox-notification--in',\n          `tox-notification--${ spec.level }`\n        ]\n      },\n      components: [\n        {\n          dom: {\n            tag: 'div',\n            classes: ['tox-notification__icon']\n          },\n          components: [Button.sketch({\n              dom: {\n                tag: 'button',\n                classes: [\n                  'tox-button',\n                  'tox-button--naked',\n                  'tox-button--icon'\n                ],\n                innerHtml: get$2(spec.icon, providersBackstage.icons),\n                attributes: { title: providersBackstage.translate(spec.iconTooltip) }\n              },\n              action: comp => {\n                emitWith(comp, formActionEvent, {\n                  name: 'alert-banner',\n                  value: spec.url\n                });\n              },\n              buttonBehaviours: derive$1([addFocusableBehaviour()])\n            })]\n        },\n        {\n          dom: {\n            tag: 'div',\n            classes: ['tox-notification__body'],\n            innerHtml: providersBackstage.translate(spec.text)\n          }\n        }\n      ]\n    });\n\n    const set$1 = (element, status) => {\n      element.dom.checked = status;\n    };\n    const get$1 = element => element.dom.checked;\n\n    const renderCheckbox = (spec, providerBackstage, initialData) => {\n      const toggleCheckboxHandler = comp => {\n        comp.element.dom.click();\n        return Optional.some(true);\n      };\n      const pField = FormField.parts.field({\n        factory: { sketch: identity },\n        dom: {\n          tag: 'input',\n          classes: ['tox-checkbox__input'],\n          attributes: { type: 'checkbox' }\n        },\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          Disabling.config({ disabled: () => !spec.enabled || providerBackstage.isDisabled() }),\n          Tabstopping.config({}),\n          Focusing.config({}),\n          RepresentingConfigs.withElement(initialData, get$1, set$1),\n          Keying.config({\n            mode: 'special',\n            onEnter: toggleCheckboxHandler,\n            onSpace: toggleCheckboxHandler,\n            stopSpaceKeyup: true\n          }),\n          config('checkbox-events', [run$1(change(), (component, _) => {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })])\n        ])\n      });\n      const pLabel = FormField.parts.label({\n        dom: {\n          tag: 'span',\n          classes: ['tox-checkbox__label']\n        },\n        components: [text$1(providerBackstage.translate(spec.label))],\n        behaviours: derive$1([Unselecting.config({})])\n      });\n      const makeIcon = className => {\n        const iconName = className === 'checked' ? 'selected' : 'unselected';\n        return render$3(iconName, {\n          tag: 'span',\n          classes: [\n            'tox-icon',\n            'tox-checkbox-icon__' + className\n          ]\n        }, providerBackstage.icons);\n      };\n      const memIcons = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-checkbox__icons']\n        },\n        components: [\n          makeIcon('checked'),\n          makeIcon('unchecked')\n        ]\n      });\n      return FormField.sketch({\n        dom: {\n          tag: 'label',\n          classes: ['tox-checkbox']\n        },\n        components: [\n          pField,\n          memIcons.asSpec(),\n          pLabel\n        ],\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: () => !spec.enabled || providerBackstage.isDisabled(),\n            disableClass: 'tox-checkbox--disabled',\n            onDisabled: comp => {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig()\n        ])\n      });\n    };\n\n    const renderHtmlPanel = spec => {\n      if (spec.presets === 'presentation') {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group'],\n            innerHtml: spec.html\n          }\n        });\n      } else {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group'],\n            innerHtml: spec.html,\n            attributes: { role: 'document' }\n          },\n          containerBehaviours: derive$1([\n            Tabstopping.config({}),\n            Focusing.config({})\n          ])\n        });\n      }\n    };\n\n    const make$2 = render => {\n      return (parts, spec, dialogData, backstage) => get$g(spec, 'name').fold(() => render(spec, backstage, Optional.none()), fieldName => parts.field(fieldName, render(spec, backstage, get$g(dialogData, fieldName))));\n    };\n    const makeIframe = render => (parts, spec, dialogData, backstage) => {\n      const iframeSpec = deepMerge(spec, { source: 'dynamic' });\n      return make$2(render)(parts, iframeSpec, dialogData, backstage);\n    };\n    const factories = {\n      bar: make$2((spec, backstage) => renderBar(spec, backstage.shared)),\n      collection: make$2((spec, backstage, data) => renderCollection(spec, backstage.shared.providers, data)),\n      alertbanner: make$2((spec, backstage) => renderAlertBanner(spec, backstage.shared.providers)),\n      input: make$2((spec, backstage, data) => renderInput(spec, backstage.shared.providers, data)),\n      textarea: make$2((spec, backstage, data) => renderTextarea(spec, backstage.shared.providers, data)),\n      label: make$2((spec, backstage) => renderLabel$1(spec, backstage.shared)),\n      iframe: makeIframe((spec, backstage, data) => renderIFrame(spec, backstage.shared.providers, data)),\n      button: make$2((spec, backstage) => renderDialogButton(spec, backstage.shared.providers)),\n      checkbox: make$2((spec, backstage, data) => renderCheckbox(spec, backstage.shared.providers, data)),\n      colorinput: make$2((spec, backstage, data) => renderColorInput(spec, backstage.shared, backstage.colorinput, data)),\n      colorpicker: make$2((spec, backstage, data) => renderColorPicker(spec, backstage.shared.providers, data)),\n      dropzone: make$2((spec, backstage, data) => renderDropZone(spec, backstage.shared.providers, data)),\n      grid: make$2((spec, backstage) => renderGrid(spec, backstage.shared)),\n      listbox: make$2((spec, backstage, data) => renderListBox(spec, backstage, data)),\n      selectbox: make$2((spec, backstage, data) => renderSelectBox(spec, backstage.shared.providers, data)),\n      sizeinput: make$2((spec, backstage) => renderSizeInput(spec, backstage.shared.providers)),\n      slider: make$2((spec, backstage, data) => renderSlider(spec, backstage.shared.providers, data)),\n      urlinput: make$2((spec, backstage, data) => renderUrlInput(spec, backstage, backstage.urlinput, data)),\n      customeditor: make$2(renderCustomEditor),\n      htmlpanel: make$2(renderHtmlPanel),\n      imagepreview: make$2((spec, _, data) => renderImagePreview(spec, data)),\n      table: make$2((spec, backstage) => renderTable(spec, backstage.shared.providers)),\n      panel: make$2((spec, backstage) => renderPanel(spec, backstage))\n    };\n    const noFormParts = {\n      field: (_name, spec) => spec,\n      record: constant$1([])\n    };\n    const interpretInForm = (parts, spec, dialogData, oldBackstage) => {\n      const newBackstage = deepMerge(oldBackstage, { shared: { interpreter: childSpec => interpretParts(parts, childSpec, dialogData, newBackstage) } });\n      return interpretParts(parts, spec, dialogData, newBackstage);\n    };\n    const interpretParts = (parts, spec, dialogData, backstage) => get$g(factories, spec.type).fold(() => {\n      console.error(`Unknown factory type \"${ spec.type }\", defaulting to container: `, spec);\n      return spec;\n    }, factory => factory(parts, spec, dialogData, backstage));\n    const interpretWithoutForm = (spec, dialogData, backstage) => interpretParts(noFormParts, spec, dialogData, backstage);\n\n    const labelPrefix = 'layout-inset';\n    const westEdgeX = anchor => anchor.x;\n    const middleX = (anchor, element) => anchor.x + anchor.width / 2 - element.width / 2;\n    const eastEdgeX = (anchor, element) => anchor.x + anchor.width - element.width;\n    const northY = anchor => anchor.y;\n    const southY = (anchor, element) => anchor.y + anchor.height - element.height;\n    const centreY = (anchor, element) => anchor.y + anchor.height / 2 - element.height / 2;\n    const southwest = (anchor, element, bubbles) => nu$6(eastEdgeX(anchor, element), southY(anchor, element), bubbles.insetSouthwest(), northwest$3(), 'southwest', boundsRestriction(anchor, {\n      right: 0,\n      bottom: 3\n    }), labelPrefix);\n    const southeast = (anchor, element, bubbles) => nu$6(westEdgeX(anchor), southY(anchor, element), bubbles.insetSoutheast(), northeast$3(), 'southeast', boundsRestriction(anchor, {\n      left: 1,\n      bottom: 3\n    }), labelPrefix);\n    const northwest = (anchor, element, bubbles) => nu$6(eastEdgeX(anchor, element), northY(anchor), bubbles.insetNorthwest(), southwest$3(), 'northwest', boundsRestriction(anchor, {\n      right: 0,\n      top: 2\n    }), labelPrefix);\n    const northeast = (anchor, element, bubbles) => nu$6(westEdgeX(anchor), northY(anchor), bubbles.insetNortheast(), southeast$3(), 'northeast', boundsRestriction(anchor, {\n      left: 1,\n      top: 2\n    }), labelPrefix);\n    const north = (anchor, element, bubbles) => nu$6(middleX(anchor, element), northY(anchor), bubbles.insetNorth(), south$3(), 'north', boundsRestriction(anchor, { top: 2 }), labelPrefix);\n    const south = (anchor, element, bubbles) => nu$6(middleX(anchor, element), southY(anchor, element), bubbles.insetSouth(), north$3(), 'south', boundsRestriction(anchor, { bottom: 3 }), labelPrefix);\n    const east = (anchor, element, bubbles) => nu$6(eastEdgeX(anchor, element), centreY(anchor, element), bubbles.insetEast(), west$3(), 'east', boundsRestriction(anchor, { right: 0 }), labelPrefix);\n    const west = (anchor, element, bubbles) => nu$6(westEdgeX(anchor), centreY(anchor, element), bubbles.insetWest(), east$3(), 'west', boundsRestriction(anchor, { left: 1 }), labelPrefix);\n    const lookupPreserveLayout = lastPlacement => {\n      switch (lastPlacement) {\n      case 'north':\n        return north;\n      case 'northeast':\n        return northeast;\n      case 'northwest':\n        return northwest;\n      case 'south':\n        return south;\n      case 'southeast':\n        return southeast;\n      case 'southwest':\n        return southwest;\n      case 'east':\n        return east;\n      case 'west':\n        return west;\n      }\n    };\n    const preserve = (anchor, element, bubbles, placee, bounds) => {\n      const layout = getPlacement(placee).map(lookupPreserveLayout).getOr(north);\n      return layout(anchor, element, bubbles, placee, bounds);\n    };\n    const lookupFlippedLayout = lastPlacement => {\n      switch (lastPlacement) {\n      case 'north':\n        return south;\n      case 'northeast':\n        return southeast;\n      case 'northwest':\n        return southwest;\n      case 'south':\n        return north;\n      case 'southeast':\n        return northeast;\n      case 'southwest':\n        return northwest;\n      case 'east':\n        return west;\n      case 'west':\n        return east;\n      }\n    };\n    const flip = (anchor, element, bubbles, placee, bounds) => {\n      const layout = getPlacement(placee).map(lookupFlippedLayout).getOr(north);\n      return layout(anchor, element, bubbles, placee, bounds);\n    };\n\n    const bubbleAlignments$2 = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: [],\n      alignRight: [],\n      right: [],\n      left: [],\n      bottom: [],\n      top: []\n    };\n    const getInlineDialogAnchor = (contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor) => {\n      const bubbleSize = 12;\n      const overrides = { maxHeightFunction: expandable$1() };\n      const editableAreaAnchor = () => ({\n        type: 'node',\n        root: getContentContainer(getRootNode(contentAreaElement())),\n        node: Optional.from(contentAreaElement()),\n        bubble: nu$5(bubbleSize, bubbleSize, bubbleAlignments$2),\n        layouts: {\n          onRtl: () => [northeast],\n          onLtr: () => [northwest]\n        },\n        overrides\n      });\n      const standardAnchor = () => ({\n        type: 'hotspot',\n        hotspot: lazyAnchorbar(),\n        bubble: nu$5(-bubbleSize, bubbleSize, bubbleAlignments$2),\n        layouts: {\n          onRtl: () => [southeast$2],\n          onLtr: () => [southwest$2]\n        },\n        overrides\n      });\n      return () => lazyUseEditableAreaAnchor() ? editableAreaAnchor() : standardAnchor();\n    };\n    const getBannerAnchor = (contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor) => {\n      const editableAreaAnchor = () => ({\n        type: 'node',\n        root: getContentContainer(getRootNode(contentAreaElement())),\n        node: Optional.from(contentAreaElement()),\n        layouts: {\n          onRtl: () => [north],\n          onLtr: () => [north]\n        }\n      });\n      const standardAnchor = () => ({\n        type: 'hotspot',\n        hotspot: lazyAnchorbar(),\n        layouts: {\n          onRtl: () => [south$2],\n          onLtr: () => [south$2]\n        }\n      });\n      return () => lazyUseEditableAreaAnchor() ? editableAreaAnchor() : standardAnchor();\n    };\n    const getCursorAnchor = (editor, bodyElement) => () => ({\n      type: 'selection',\n      root: bodyElement(),\n      getSelection: () => {\n        const rng = editor.selection.getRng();\n        return Optional.some(SimSelection.range(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset));\n      }\n    });\n    const getNodeAnchor$1 = bodyElement => element => ({\n      type: 'node',\n      root: bodyElement(),\n      node: element\n    });\n    const getAnchors = (editor, lazyAnchorbar, isToolbarTop) => {\n      const useFixedToolbarContainer = useFixedContainer(editor);\n      const bodyElement = () => SugarElement.fromDom(editor.getBody());\n      const contentAreaElement = () => SugarElement.fromDom(editor.getContentAreaContainer());\n      const lazyUseEditableAreaAnchor = () => useFixedToolbarContainer || !isToolbarTop();\n      return {\n        inlineDialog: getInlineDialogAnchor(contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor),\n        banner: getBannerAnchor(contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor),\n        cursor: getCursorAnchor(editor, bodyElement),\n        node: getNodeAnchor$1(bodyElement)\n      };\n    };\n\n    const colorPicker = editor => (callback, value) => {\n      const dialog = colorPickerDialog(editor);\n      dialog(callback, value);\n    };\n    const hasCustomColors = editor => () => hasCustomColors$1(editor);\n    const getColors = editor => () => getColors$2(editor);\n    const getColorCols = editor => () => getColorCols$1(editor);\n    const ColorInputBackstage = editor => ({\n      colorPicker: colorPicker(editor),\n      hasCustomColors: hasCustomColors(editor),\n      getColors: getColors(editor),\n      getColorCols: getColorCols(editor)\n    });\n\n    const isDraggableModal = editor => () => isDraggableModal$1(editor);\n    const DialogBackstage = editor => ({ isDraggableModal: isDraggableModal(editor) });\n\n    const HeaderBackstage = editor => {\n      const mode = Cell(isToolbarLocationBottom(editor) ? 'bottom' : 'top');\n      return {\n        isPositionedAtTop: () => mode.get() === 'top',\n        getDockingMode: mode.get,\n        setDockingMode: mode.set\n      };\n    };\n\n    const isNestedFormat = format => hasNonNullableKey(format, 'items');\n    const isFormatReference = format => hasNonNullableKey(format, 'format');\n    const defaultStyleFormats = [\n      {\n        title: 'Headings',\n        items: [\n          {\n            title: 'Heading 1',\n            format: 'h1'\n          },\n          {\n            title: 'Heading 2',\n            format: 'h2'\n          },\n          {\n            title: 'Heading 3',\n            format: 'h3'\n          },\n          {\n            title: 'Heading 4',\n            format: 'h4'\n          },\n          {\n            title: 'Heading 5',\n            format: 'h5'\n          },\n          {\n            title: 'Heading 6',\n            format: 'h6'\n          }\n        ]\n      },\n      {\n        title: 'Inline',\n        items: [\n          {\n            title: 'Bold',\n            format: 'bold'\n          },\n          {\n            title: 'Italic',\n            format: 'italic'\n          },\n          {\n            title: 'Underline',\n            format: 'underline'\n          },\n          {\n            title: 'Strikethrough',\n            format: 'strikethrough'\n          },\n          {\n            title: 'Superscript',\n            format: 'superscript'\n          },\n          {\n            title: 'Subscript',\n            format: 'subscript'\n          },\n          {\n            title: 'Code',\n            format: 'code'\n          }\n        ]\n      },\n      {\n        title: 'Blocks',\n        items: [\n          {\n            title: 'Paragraph',\n            format: 'p'\n          },\n          {\n            title: 'Blockquote',\n            format: 'blockquote'\n          },\n          {\n            title: 'Div',\n            format: 'div'\n          },\n          {\n            title: 'Pre',\n            format: 'pre'\n          }\n        ]\n      },\n      {\n        title: 'Align',\n        items: [\n          {\n            title: 'Left',\n            format: 'alignleft'\n          },\n          {\n            title: 'Center',\n            format: 'aligncenter'\n          },\n          {\n            title: 'Right',\n            format: 'alignright'\n          },\n          {\n            title: 'Justify',\n            format: 'alignjustify'\n          }\n        ]\n      }\n    ];\n    const isNestedFormats = format => has$2(format, 'items');\n    const isBlockFormat = format => has$2(format, 'block');\n    const isInlineFormat = format => has$2(format, 'inline');\n    const isSelectorFormat = format => has$2(format, 'selector');\n    const mapFormats = userFormats => foldl(userFormats, (acc, fmt) => {\n      if (isNestedFormats(fmt)) {\n        const result = mapFormats(fmt.items);\n        return {\n          customFormats: acc.customFormats.concat(result.customFormats),\n          formats: acc.formats.concat([{\n              title: fmt.title,\n              items: result.formats\n            }])\n        };\n      } else if (isInlineFormat(fmt) || isBlockFormat(fmt) || isSelectorFormat(fmt)) {\n        const formatName = isString(fmt.name) ? fmt.name : fmt.title.toLowerCase();\n        const formatNameWithPrefix = `custom-${ formatName }`;\n        return {\n          customFormats: acc.customFormats.concat([{\n              name: formatNameWithPrefix,\n              format: fmt\n            }]),\n          formats: acc.formats.concat([{\n              title: fmt.title,\n              format: formatNameWithPrefix,\n              icon: fmt.icon\n            }])\n        };\n      } else {\n        return {\n          ...acc,\n          formats: acc.formats.concat(fmt)\n        };\n      }\n    }, {\n      customFormats: [],\n      formats: []\n    });\n    const registerCustomFormats = (editor, userFormats) => {\n      const result = mapFormats(userFormats);\n      const registerFormats = customFormats => {\n        each$1(customFormats, fmt => {\n          if (!editor.formatter.has(fmt.name)) {\n            editor.formatter.register(fmt.name, fmt.format);\n          }\n        });\n      };\n      if (editor.formatter) {\n        registerFormats(result.customFormats);\n      } else {\n        editor.on('init', () => {\n          registerFormats(result.customFormats);\n        });\n      }\n      return result.formats;\n    };\n    const getStyleFormats = editor => getUserStyleFormats(editor).map(userFormats => {\n      const registeredUserFormats = registerCustomFormats(editor, userFormats);\n      return shouldMergeStyleFormats(editor) ? defaultStyleFormats.concat(registeredUserFormats) : registeredUserFormats;\n    }).getOr(defaultStyleFormats);\n\n    const isSeparator$1 = format => {\n      const keys$1 = keys(format);\n      return keys$1.length === 1 && contains$2(keys$1, 'title');\n    };\n    const processBasic = (item, isSelectedFor, getPreviewFor) => ({\n      ...item,\n      type: 'formatter',\n      isSelected: isSelectedFor(item.format),\n      getStylePreview: getPreviewFor(item.format)\n    });\n    const register$a = (editor, formats, isSelectedFor, getPreviewFor) => {\n      const enrichSupported = item => processBasic(item, isSelectedFor, getPreviewFor);\n      const enrichMenu = item => {\n        const newItems = doEnrich(item.items);\n        return {\n          ...item,\n          type: 'submenu',\n          getStyleItems: constant$1(newItems)\n        };\n      };\n      const enrichCustom = item => {\n        const formatName = isString(item.name) ? item.name : generate$6(item.title);\n        const formatNameWithPrefix = `custom-${ formatName }`;\n        const newItem = {\n          ...item,\n          type: 'formatter',\n          format: formatNameWithPrefix,\n          isSelected: isSelectedFor(formatNameWithPrefix),\n          getStylePreview: getPreviewFor(formatNameWithPrefix)\n        };\n        editor.formatter.register(formatName, newItem);\n        return newItem;\n      };\n      const doEnrich = items => map$2(items, item => {\n        if (isNestedFormat(item)) {\n          return enrichMenu(item);\n        } else if (isFormatReference(item)) {\n          return enrichSupported(item);\n        } else if (isSeparator$1(item)) {\n          return {\n            ...item,\n            type: 'separator'\n          };\n        } else {\n          return enrichCustom(item);\n        }\n      });\n      return doEnrich(formats);\n    };\n\n    const init$8 = editor => {\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = format => () => {\n        const fmt = editor.formatter.get(format);\n        return fmt !== undefined ? Optional.some({\n          tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n          styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n        }) : Optional.none();\n      };\n      const settingsFormats = Cell([]);\n      const eventsFormats = Cell([]);\n      const replaceSettings = Cell(false);\n      editor.on('PreInit', _e => {\n        const formats = getStyleFormats(editor);\n        const enriched = register$a(editor, formats, isSelectedFor, getPreviewFor);\n        settingsFormats.set(enriched);\n      });\n      editor.on('addStyleModifications', e => {\n        const modifications = register$a(editor, e.items, isSelectedFor, getPreviewFor);\n        eventsFormats.set(modifications);\n        replaceSettings.set(e.replace);\n      });\n      const getData = () => {\n        const fromSettings = replaceSettings.get() ? [] : settingsFormats.get();\n        const fromEvents = eventsFormats.get();\n        return fromSettings.concat(fromEvents);\n      };\n      return { getData };\n    };\n\n    const isElement = node => isNonNullable(node) && node.nodeType === 1;\n    const trim = global$1.trim;\n    const hasContentEditableState = value => {\n      return node => {\n        if (isElement(node)) {\n          if (node.contentEditable === value) {\n            return true;\n          }\n          if (node.getAttribute('data-mce-contenteditable') === value) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    const isContentEditableTrue = hasContentEditableState('true');\n    const isContentEditableFalse = hasContentEditableState('false');\n    const create = (type, title, url, level, attach) => ({\n      type,\n      title,\n      url,\n      level,\n      attach\n    });\n    const isChildOfContentEditableTrue = node => {\n      let tempNode = node;\n      while (tempNode = tempNode.parentNode) {\n        const value = tempNode.contentEditable;\n        if (value && value !== 'inherit') {\n          return isContentEditableTrue(tempNode);\n        }\n      }\n      return false;\n    };\n    const select = (selector, root) => {\n      return map$2(descendants(SugarElement.fromDom(root), selector), element => {\n        return element.dom;\n      });\n    };\n    const getElementText = elm => {\n      return elm.innerText || elm.textContent;\n    };\n    const getOrGenerateId = elm => {\n      return elm.id ? elm.id : generate$6('h');\n    };\n    const isAnchor = elm => {\n      return elm && elm.nodeName === 'A' && (elm.id || elm.name) !== undefined;\n    };\n    const isValidAnchor = elm => {\n      return isAnchor(elm) && isEditable(elm);\n    };\n    const isHeader = elm => {\n      return elm && /^(H[1-6])$/.test(elm.nodeName);\n    };\n    const isEditable = elm => {\n      return isChildOfContentEditableTrue(elm) && !isContentEditableFalse(elm);\n    };\n    const isValidHeader = elm => {\n      return isHeader(elm) && isEditable(elm);\n    };\n    const getLevel = elm => {\n      return isHeader(elm) ? parseInt(elm.nodeName.substr(1), 10) : 0;\n    };\n    const headerTarget = elm => {\n      var _a;\n      const headerId = getOrGenerateId(elm);\n      const attach = () => {\n        elm.id = headerId;\n      };\n      return create('header', (_a = getElementText(elm)) !== null && _a !== void 0 ? _a : '', '#' + headerId, getLevel(elm), attach);\n    };\n    const anchorTarget = elm => {\n      const anchorId = elm.id || elm.name;\n      const anchorText = getElementText(elm);\n      return create('anchor', anchorText ? anchorText : '#' + anchorId, '#' + anchorId, 0, noop);\n    };\n    const getHeaderTargets = elms => {\n      return map$2(filter$2(elms, isValidHeader), headerTarget);\n    };\n    const getAnchorTargets = elms => {\n      return map$2(filter$2(elms, isValidAnchor), anchorTarget);\n    };\n    const getTargetElements = elm => {\n      const elms = select('h1,h2,h3,h4,h5,h6,a:not([href])', elm);\n      return elms;\n    };\n    const hasTitle = target => {\n      return trim(target.title).length > 0;\n    };\n    const find = elm => {\n      const elms = getTargetElements(elm);\n      return filter$2(getHeaderTargets(elms).concat(getAnchorTargets(elms)), hasTitle);\n    };\n    const LinkTargets = { find };\n\n    const STORAGE_KEY = 'tinymce-url-history';\n    const HISTORY_LENGTH = 5;\n    const isHttpUrl = url => isString(url) && /^https?/.test(url);\n    const isArrayOfUrl = a => isArray(a) && a.length <= HISTORY_LENGTH && forall(a, isHttpUrl);\n    const isRecordOfUrlArray = r => isObject(r) && find$4(r, value => !isArrayOfUrl(value)).isNone();\n    const getAllHistory = () => {\n      const unparsedHistory = global$4.getItem(STORAGE_KEY);\n      if (unparsedHistory === null) {\n        return {};\n      }\n      let history;\n      try {\n        history = JSON.parse(unparsedHistory);\n      } catch (e) {\n        if (e instanceof SyntaxError) {\n          console.log('Local storage ' + STORAGE_KEY + ' was not valid JSON', e);\n          return {};\n        }\n        throw e;\n      }\n      if (!isRecordOfUrlArray(history)) {\n        console.log('Local storage ' + STORAGE_KEY + ' was not valid format', history);\n        return {};\n      }\n      return history;\n    };\n    const setAllHistory = history => {\n      if (!isRecordOfUrlArray(history)) {\n        throw new Error('Bad format for history:\\n' + JSON.stringify(history));\n      }\n      global$4.setItem(STORAGE_KEY, JSON.stringify(history));\n    };\n    const getHistory = fileType => {\n      const history = getAllHistory();\n      return get$g(history, fileType).getOr([]);\n    };\n    const addToHistory = (url, fileType) => {\n      if (!isHttpUrl(url)) {\n        return;\n      }\n      const history = getAllHistory();\n      const items = get$g(history, fileType).getOr([]);\n      const itemsWithoutUrl = filter$2(items, item => item !== url);\n      history[fileType] = [url].concat(itemsWithoutUrl).slice(0, HISTORY_LENGTH);\n      setAllHistory(history);\n    };\n\n    const isTruthy = value => !!value;\n    const makeMap = value => map$1(global$1.makeMap(value, /[, ]/), isTruthy);\n    const getPicker = editor => Optional.from(getFilePickerCallback(editor));\n    const getPickerTypes = editor => {\n      const optFileTypes = Optional.from(getFilePickerTypes(editor)).filter(isTruthy).map(makeMap);\n      return getPicker(editor).fold(never, _picker => optFileTypes.fold(always, types => keys(types).length > 0 ? types : false));\n    };\n    const getPickerSetting = (editor, filetype) => {\n      const pickerTypes = getPickerTypes(editor);\n      if (isBoolean(pickerTypes)) {\n        return pickerTypes ? getPicker(editor) : Optional.none();\n      } else {\n        return pickerTypes[filetype] ? getPicker(editor) : Optional.none();\n      }\n    };\n    const getUrlPicker = (editor, filetype) => getPickerSetting(editor, filetype).map(picker => entry => Future.nu(completer => {\n      const handler = (value, meta) => {\n        if (!isString(value)) {\n          throw new Error('Expected value to be string');\n        }\n        if (meta !== undefined && !isObject(meta)) {\n          throw new Error('Expected meta to be a object');\n        }\n        const r = {\n          value,\n          meta\n        };\n        completer(r);\n      };\n      const meta = {\n        filetype,\n        fieldname: entry.fieldname,\n        ...Optional.from(entry.meta).getOr({})\n      };\n      picker.call(editor, handler, entry.value, meta);\n    }));\n    const getTextSetting = value => Optional.from(value).filter(isString).getOrUndefined();\n    const getLinkInformation = editor => {\n      if (!useTypeaheadUrls(editor)) {\n        return Optional.none();\n      }\n      return Optional.some({\n        targets: LinkTargets.find(editor.getBody()),\n        anchorTop: getTextSetting(getAnchorTop(editor)),\n        anchorBottom: getTextSetting(getAnchorBottom(editor))\n      });\n    };\n    const getValidationHandler = editor => Optional.from(getFilePickerValidatorHandler(editor));\n    const UrlInputBackstage = editor => ({\n      getHistory,\n      addToHistory,\n      getLinkInformation: () => getLinkInformation(editor),\n      getValidationHandler: () => getValidationHandler(editor),\n      getUrlPicker: filetype => getUrlPicker(editor, filetype)\n    });\n\n    const init$7 = (lazySink, editor, lazyAnchorbar) => {\n      const contextMenuState = Cell(false);\n      const toolbar = HeaderBackstage(editor);\n      const backstage = {\n        shared: {\n          providers: {\n            icons: () => editor.ui.registry.getAll().icons,\n            menuItems: () => editor.ui.registry.getAll().menuItems,\n            translate: global$8.translate,\n            isDisabled: () => editor.mode.isReadOnly() || !editor.ui.isEnabled(),\n            getOption: editor.options.get\n          },\n          interpreter: s => interpretWithoutForm(s, {}, backstage),\n          anchors: getAnchors(editor, lazyAnchorbar, toolbar.isPositionedAtTop),\n          header: toolbar,\n          getSink: lazySink\n        },\n        urlinput: UrlInputBackstage(editor),\n        styles: init$8(editor),\n        colorinput: ColorInputBackstage(editor),\n        dialog: DialogBackstage(editor),\n        isContextMenuOpen: () => contextMenuState.get(),\n        setContextMenuState: state => contextMenuState.set(state)\n      };\n      return backstage;\n    };\n\n    const setup$b = (editor, mothership, uiMothership) => {\n      const broadcastEvent = (name, evt) => {\n        each$1([\n          mothership,\n          uiMothership\n        ], ship => {\n          ship.broadcastEvent(name, evt);\n        });\n      };\n      const broadcastOn = (channel, message) => {\n        each$1([\n          mothership,\n          uiMothership\n        ], ship => {\n          ship.broadcastOn([channel], message);\n        });\n      };\n      const fireDismissPopups = evt => broadcastOn(dismissPopups(), { target: evt.target });\n      const doc = getDocument();\n      const onTouchstart = bind(doc, 'touchstart', fireDismissPopups);\n      const onTouchmove = bind(doc, 'touchmove', evt => broadcastEvent(documentTouchmove(), evt));\n      const onTouchend = bind(doc, 'touchend', evt => broadcastEvent(documentTouchend(), evt));\n      const onMousedown = bind(doc, 'mousedown', fireDismissPopups);\n      const onMouseup = bind(doc, 'mouseup', evt => {\n        if (evt.raw.button === 0) {\n          broadcastOn(mouseReleased(), { target: evt.target });\n        }\n      });\n      const onContentClick = raw => broadcastOn(dismissPopups(), { target: SugarElement.fromDom(raw.target) });\n      const onContentMouseup = raw => {\n        if (raw.button === 0) {\n          broadcastOn(mouseReleased(), { target: SugarElement.fromDom(raw.target) });\n        }\n      };\n      const onContentMousedown = () => {\n        each$1(editor.editorManager.get(), loopEditor => {\n          if (editor !== loopEditor) {\n            loopEditor.dispatch('DismissPopups', { relatedTarget: editor });\n          }\n        });\n      };\n      const onWindowScroll = evt => broadcastEvent(windowScroll(), fromRawEvent(evt));\n      const onWindowResize = evt => {\n        broadcastOn(repositionPopups(), {});\n        broadcastEvent(windowResize(), fromRawEvent(evt));\n      };\n      const onEditorResize = () => broadcastOn(repositionPopups(), {});\n      const onEditorProgress = evt => {\n        if (evt.state) {\n          broadcastOn(dismissPopups(), { target: SugarElement.fromDom(editor.getContainer()) });\n        }\n      };\n      const onDismissPopups = event => {\n        broadcastOn(dismissPopups(), { target: SugarElement.fromDom(event.relatedTarget.getContainer()) });\n      };\n      editor.on('PostRender', () => {\n        editor.on('click', onContentClick);\n        editor.on('tap', onContentClick);\n        editor.on('mouseup', onContentMouseup);\n        editor.on('mousedown', onContentMousedown);\n        editor.on('ScrollWindow', onWindowScroll);\n        editor.on('ResizeWindow', onWindowResize);\n        editor.on('ResizeEditor', onEditorResize);\n        editor.on('AfterProgressState', onEditorProgress);\n        editor.on('DismissPopups', onDismissPopups);\n      });\n      editor.on('remove', () => {\n        editor.off('click', onContentClick);\n        editor.off('tap', onContentClick);\n        editor.off('mouseup', onContentMouseup);\n        editor.off('mousedown', onContentMousedown);\n        editor.off('ScrollWindow', onWindowScroll);\n        editor.off('ResizeWindow', onWindowResize);\n        editor.off('ResizeEditor', onEditorResize);\n        editor.off('AfterProgressState', onEditorProgress);\n        editor.off('DismissPopups', onDismissPopups);\n        onMousedown.unbind();\n        onTouchstart.unbind();\n        onTouchmove.unbind();\n        onTouchend.unbind();\n        onMouseup.unbind();\n      });\n      editor.on('detach', () => {\n        detachSystem(mothership);\n        detachSystem(uiMothership);\n        mothership.destroy();\n        uiMothership.destroy();\n      });\n    };\n\n    const parts$a = AlloyParts;\n    const partType = PartType;\n\n    const schema$f = constant$1([\n      defaulted('shell', false),\n      required$1('makeItem'),\n      defaulted('setupItem', noop),\n      SketchBehaviours.field('listBehaviours', [Replacing])\n    ]);\n    const customListDetail = () => ({ behaviours: derive$1([Replacing.config({})]) });\n    const itemsPart = optional({\n      name: 'items',\n      overrides: customListDetail\n    });\n    const parts$9 = constant$1([itemsPart]);\n    const name = constant$1('CustomList');\n\n    const factory$d = (detail, components, _spec, _external) => {\n      const setItems = (list, items) => {\n        getListContainer(list).fold(() => {\n          console.error('Custom List was defined to not be a shell, but no item container was specified in components');\n          throw new Error('Custom List was defined to not be a shell, but no item container was specified in components');\n        }, container => {\n          const itemComps = Replacing.contents(container);\n          const numListsRequired = items.length;\n          const numListsToAdd = numListsRequired - itemComps.length;\n          const itemsToAdd = numListsToAdd > 0 ? range$2(numListsToAdd, () => detail.makeItem()) : [];\n          const itemsToRemove = itemComps.slice(numListsRequired);\n          each$1(itemsToRemove, item => Replacing.remove(container, item));\n          each$1(itemsToAdd, item => Replacing.append(container, item));\n          const builtLists = Replacing.contents(container);\n          each$1(builtLists, (item, i) => {\n            detail.setupItem(list, item, items[i], i);\n          });\n        });\n      };\n      const extra = detail.shell ? {\n        behaviours: [Replacing.config({})],\n        components: []\n      } : {\n        behaviours: [],\n        components\n      };\n      const getListContainer = component => detail.shell ? Optional.some(component) : getPart(component, detail, 'items');\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: extra.components,\n        behaviours: augment(detail.listBehaviours, extra.behaviours),\n        apis: { setItems }\n      };\n    };\n    const CustomList = composite({\n      name: name(),\n      configFields: schema$f(),\n      partFields: parts$9(),\n      factory: factory$d,\n      apis: {\n        setItems: (apis, list, items) => {\n          apis.setItems(list, items);\n        }\n      }\n    });\n\n    const schema$e = constant$1([\n      required$1('dom'),\n      defaulted('shell', true),\n      field('toolbarBehaviours', [Replacing])\n    ]);\n    const enhanceGroups = () => ({ behaviours: derive$1([Replacing.config({})]) });\n    const parts$8 = constant$1([optional({\n        name: 'groups',\n        overrides: enhanceGroups\n      })]);\n\n    const factory$c = (detail, components, _spec, _externals) => {\n      const setGroups = (toolbar, groups) => {\n        getGroupContainer(toolbar).fold(() => {\n          console.error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n          throw new Error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n        }, container => {\n          Replacing.set(container, groups);\n        });\n      };\n      const getGroupContainer = component => detail.shell ? Optional.some(component) : getPart(component, detail, 'groups');\n      const extra = detail.shell ? {\n        behaviours: [Replacing.config({})],\n        components: []\n      } : {\n        behaviours: [],\n        components\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: extra.components,\n        behaviours: augment(detail.toolbarBehaviours, extra.behaviours),\n        apis: { setGroups },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    const Toolbar = composite({\n      name: 'Toolbar',\n      configFields: schema$e(),\n      partFields: parts$8(),\n      factory: factory$c,\n      apis: {\n        setGroups: (apis, toolbar, groups) => {\n          apis.setGroups(toolbar, groups);\n        }\n      }\n    });\n\n    const setup$a = noop;\n    const isDocked$2 = never;\n    const getBehaviours$1 = constant$1([]);\n\n    var StaticHeader = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setup: setup$a,\n        isDocked: isDocked$2,\n        getBehaviours: getBehaviours$1\n    });\n\n    const getOffsetParent = element => {\n      const isFixed = is$1(getRaw(element, 'position'), 'fixed');\n      const offsetParent$1 = isFixed ? Optional.none() : offsetParent(element);\n      return offsetParent$1.orThunk(() => {\n        const marker = SugarElement.fromTag('span');\n        return parent(element).bind(parent => {\n          append$2(parent, marker);\n          const offsetParent$1 = offsetParent(marker);\n          remove$5(marker);\n          return offsetParent$1;\n        });\n      });\n    };\n    const getOrigin = element => getOffsetParent(element).map(absolute$3).getOrThunk(() => SugarPosition(0, 0));\n\n    const morphAdt = Adt.generate([\n      { static: [] },\n      { absolute: ['positionCss'] },\n      { fixed: ['positionCss'] }\n    ]);\n    const appear = (component, contextualInfo) => {\n      const elem = component.element;\n      add$2(elem, contextualInfo.transitionClass);\n      remove$2(elem, contextualInfo.fadeOutClass);\n      add$2(elem, contextualInfo.fadeInClass);\n      contextualInfo.onShow(component);\n    };\n    const disappear = (component, contextualInfo) => {\n      const elem = component.element;\n      add$2(elem, contextualInfo.transitionClass);\n      remove$2(elem, contextualInfo.fadeInClass);\n      add$2(elem, contextualInfo.fadeOutClass);\n      contextualInfo.onHide(component);\n    };\n    const isPartiallyVisible = (box, viewport) => box.y < viewport.bottom && box.bottom > viewport.y;\n    const isTopCompletelyVisible = (box, viewport) => box.y >= viewport.y;\n    const isBottomCompletelyVisible = (box, viewport) => box.bottom <= viewport.bottom;\n    const isVisibleForModes = (modes, box, viewport) => forall(modes, mode => {\n      switch (mode) {\n      case 'bottom':\n        return isBottomCompletelyVisible(box, viewport);\n      case 'top':\n        return isTopCompletelyVisible(box, viewport);\n      }\n    });\n    const getPrior = (elem, state) => state.getInitialPos().map(pos => bounds(pos.bounds.x, pos.bounds.y, get$c(elem), get$d(elem)));\n    const storePrior = (elem, box, state) => {\n      state.setInitialPos({\n        style: getAllRaw(elem),\n        position: get$e(elem, 'position') || 'static',\n        bounds: box\n      });\n    };\n    const revertToOriginal = (elem, box, state) => state.getInitialPos().bind(position => {\n      state.clearInitialPos();\n      switch (position.position) {\n      case 'static':\n        return Optional.some(morphAdt.static());\n      case 'absolute':\n        const offsetBox = getOffsetParent(elem).map(box$1).getOrThunk(() => box$1(body()));\n        return Optional.some(morphAdt.absolute(NuPositionCss('absolute', get$g(position.style, 'left').map(_left => box.x - offsetBox.x), get$g(position.style, 'top').map(_top => box.y - offsetBox.y), get$g(position.style, 'right').map(_right => offsetBox.right - box.right), get$g(position.style, 'bottom').map(_bottom => offsetBox.bottom - box.bottom))));\n      default:\n        return Optional.none();\n      }\n    });\n    const morphToOriginal = (elem, viewport, state) => getPrior(elem, state).filter(box => isVisibleForModes(state.getModes(), box, viewport)).bind(box => revertToOriginal(elem, box, state));\n    const morphToFixed = (elem, viewport, state) => {\n      const box = box$1(elem);\n      if (!isVisibleForModes(state.getModes(), box, viewport)) {\n        storePrior(elem, box, state);\n        const winBox = win();\n        const left = box.x - winBox.x;\n        const top = viewport.y - winBox.y;\n        const bottom = winBox.bottom - viewport.bottom;\n        const isTop = box.y <= viewport.y;\n        return Optional.some(morphAdt.fixed(NuPositionCss('fixed', Optional.some(left), isTop ? Optional.some(top) : Optional.none(), Optional.none(), !isTop ? Optional.some(bottom) : Optional.none())));\n      } else {\n        return Optional.none();\n      }\n    };\n    const getMorph = (component, viewport, state) => {\n      const elem = component.element;\n      const isDocked = is$1(getRaw(elem, 'position'), 'fixed');\n      return isDocked ? morphToOriginal(elem, viewport, state) : morphToFixed(elem, viewport, state);\n    };\n    const getMorphToOriginal = (component, state) => {\n      const elem = component.element;\n      return getPrior(elem, state).bind(box => revertToOriginal(elem, box, state));\n    };\n\n    const morphToStatic = (component, config, state) => {\n      state.setDocked(false);\n      each$1([\n        'left',\n        'right',\n        'top',\n        'bottom',\n        'position'\n      ], prop => remove$6(component.element, prop));\n      config.onUndocked(component);\n    };\n    const morphToCoord = (component, config, state, position) => {\n      const isDocked = position.position === 'fixed';\n      state.setDocked(isDocked);\n      applyPositionCss(component.element, position);\n      const method = isDocked ? config.onDocked : config.onUndocked;\n      method(component);\n    };\n    const updateVisibility = (component, config, state, viewport, morphToDocked = false) => {\n      config.contextual.each(contextInfo => {\n        contextInfo.lazyContext(component).each(box => {\n          const isVisible = isPartiallyVisible(box, viewport);\n          if (isVisible !== state.isVisible()) {\n            state.setVisible(isVisible);\n            if (morphToDocked && !isVisible) {\n              add$1(component.element, [contextInfo.fadeOutClass]);\n              contextInfo.onHide(component);\n            } else {\n              const method = isVisible ? appear : disappear;\n              method(component, contextInfo);\n            }\n          }\n        });\n      });\n    };\n    const refreshInternal = (component, config, state) => {\n      const viewport = config.lazyViewport(component);\n      const isDocked = state.isDocked();\n      if (isDocked) {\n        updateVisibility(component, config, state, viewport);\n      }\n      getMorph(component, viewport, state).each(morph => {\n        morph.fold(() => morphToStatic(component, config, state), position => morphToCoord(component, config, state, position), position => {\n          updateVisibility(component, config, state, viewport, true);\n          morphToCoord(component, config, state, position);\n        });\n      });\n    };\n    const resetInternal = (component, config, state) => {\n      const elem = component.element;\n      state.setDocked(false);\n      getMorphToOriginal(component, state).each(morph => {\n        morph.fold(() => morphToStatic(component, config, state), position => morphToCoord(component, config, state, position), noop);\n      });\n      state.setVisible(true);\n      config.contextual.each(contextInfo => {\n        remove$1(elem, [\n          contextInfo.fadeInClass,\n          contextInfo.fadeOutClass,\n          contextInfo.transitionClass\n        ]);\n        contextInfo.onShow(component);\n      });\n      refresh$4(component, config, state);\n    };\n    const refresh$4 = (component, config, state) => {\n      if (component.getSystem().isConnected()) {\n        refreshInternal(component, config, state);\n      }\n    };\n    const reset = (component, config, state) => {\n      if (state.isDocked()) {\n        resetInternal(component, config, state);\n      }\n    };\n    const isDocked$1 = (component, config, state) => state.isDocked();\n    const setModes = (component, config, state, modes) => state.setModes(modes);\n    const getModes = (component, config, state) => state.getModes();\n\n    var DockingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        refresh: refresh$4,\n        reset: reset,\n        isDocked: isDocked$1,\n        getModes: getModes,\n        setModes: setModes\n    });\n\n    const events$5 = (dockInfo, dockState) => derive$2([\n      runOnSource(transitionend(), (component, simulatedEvent) => {\n        dockInfo.contextual.each(contextInfo => {\n          if (has(component.element, contextInfo.transitionClass)) {\n            remove$1(component.element, [\n              contextInfo.transitionClass,\n              contextInfo.fadeInClass\n            ]);\n            const notify = dockState.isVisible() ? contextInfo.onShown : contextInfo.onHidden;\n            notify(component);\n          }\n          simulatedEvent.stop();\n        });\n      }),\n      run$1(windowScroll(), (component, _) => {\n        refresh$4(component, dockInfo, dockState);\n      }),\n      run$1(windowResize(), (component, _) => {\n        reset(component, dockInfo, dockState);\n      })\n    ]);\n\n    var ActiveDocking = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$5\n    });\n\n    var DockingSchema = [\n      optionObjOf('contextual', [\n        requiredString('fadeInClass'),\n        requiredString('fadeOutClass'),\n        requiredString('transitionClass'),\n        requiredFunction('lazyContext'),\n        onHandler('onShow'),\n        onHandler('onShown'),\n        onHandler('onHide'),\n        onHandler('onHidden')\n      ]),\n      defaultedFunction('lazyViewport', win),\n      defaultedArrayOf('modes', [\n        'top',\n        'bottom'\n      ], string),\n      onHandler('onDocked'),\n      onHandler('onUndocked')\n    ];\n\n    const init$6 = spec => {\n      const docked = Cell(false);\n      const visible = Cell(true);\n      const initialBounds = value$2();\n      const modes = Cell(spec.modes);\n      const readState = () => `docked:  ${ docked.get() }, visible: ${ visible.get() }, modes: ${ modes.get().join(',') }`;\n      return nu$8({\n        isDocked: docked.get,\n        setDocked: docked.set,\n        getInitialPos: initialBounds.get,\n        setInitialPos: initialBounds.set,\n        clearInitialPos: initialBounds.clear,\n        isVisible: visible.get,\n        setVisible: visible.set,\n        getModes: modes.get,\n        setModes: modes.set,\n        readState\n      });\n    };\n\n    var DockingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$6\n    });\n\n    const Docking = create$3({\n      fields: DockingSchema,\n      name: 'docking',\n      active: ActiveDocking,\n      apis: DockingApis,\n      state: DockingState\n    });\n\n    const toolbarHeightChange = constant$1(generate$6('toolbar-height-change'));\n\n    const visibility = {\n      fadeInClass: 'tox-editor-dock-fadein',\n      fadeOutClass: 'tox-editor-dock-fadeout',\n      transitionClass: 'tox-editor-dock-transition'\n    };\n    const editorStickyOnClass = 'tox-tinymce--toolbar-sticky-on';\n    const editorStickyOffClass = 'tox-tinymce--toolbar-sticky-off';\n    const scrollFromBehindHeader = (e, containerHeader) => {\n      const doc = owner$4(containerHeader);\n      const win = defaultView(containerHeader);\n      const viewHeight = win.dom.innerHeight;\n      const scrollPos = get$b(doc);\n      const markerElement = SugarElement.fromDom(e.elm);\n      const markerPos = absolute$2(markerElement);\n      const markerHeight = get$d(markerElement);\n      const markerTop = markerPos.y;\n      const markerBottom = markerTop + markerHeight;\n      const editorHeaderPos = absolute$3(containerHeader);\n      const editorHeaderHeight = get$d(containerHeader);\n      const editorHeaderTop = editorHeaderPos.top;\n      const editorHeaderBottom = editorHeaderTop + editorHeaderHeight;\n      const editorHeaderDockedAtTop = Math.abs(editorHeaderTop - scrollPos.top) < 2;\n      const editorHeaderDockedAtBottom = Math.abs(editorHeaderBottom - (scrollPos.top + viewHeight)) < 2;\n      if (editorHeaderDockedAtTop && markerTop < editorHeaderBottom) {\n        to(scrollPos.left, markerTop - editorHeaderHeight, doc);\n      } else if (editorHeaderDockedAtBottom && markerBottom > editorHeaderTop) {\n        const y = markerTop - viewHeight + markerHeight + editorHeaderHeight;\n        to(scrollPos.left, y, doc);\n      }\n    };\n    const isDockedMode = (header, mode) => contains$2(Docking.getModes(header), mode);\n    const updateIframeContentFlow = header => {\n      const getOccupiedHeight = elm => getOuter$2(elm) + (parseInt(get$e(elm, 'margin-top'), 10) || 0) + (parseInt(get$e(elm, 'margin-bottom'), 10) || 0);\n      const elm = header.element;\n      parentElement(elm).each(parentElem => {\n        const padding = 'padding-' + Docking.getModes(header)[0];\n        if (Docking.isDocked(header)) {\n          const parentWidth = get$c(parentElem);\n          set$8(elm, 'width', parentWidth + 'px');\n          set$8(parentElem, padding, getOccupiedHeight(elm) + 'px');\n        } else {\n          remove$6(elm, 'width');\n          remove$6(parentElem, padding);\n        }\n      });\n    };\n    const updateSinkVisibility = (sinkElem, visible) => {\n      if (visible) {\n        remove$2(sinkElem, visibility.fadeOutClass);\n        add$1(sinkElem, [\n          visibility.transitionClass,\n          visibility.fadeInClass\n        ]);\n      } else {\n        remove$2(sinkElem, visibility.fadeInClass);\n        add$1(sinkElem, [\n          visibility.fadeOutClass,\n          visibility.transitionClass\n        ]);\n      }\n    };\n    const updateEditorClasses = (editor, docked) => {\n      const editorContainer = SugarElement.fromDom(editor.getContainer());\n      if (docked) {\n        add$2(editorContainer, editorStickyOnClass);\n        remove$2(editorContainer, editorStickyOffClass);\n      } else {\n        add$2(editorContainer, editorStickyOffClass);\n        remove$2(editorContainer, editorStickyOnClass);\n      }\n    };\n    const restoreFocus = (headerElem, focusedElem) => {\n      const ownerDoc = owner$4(focusedElem);\n      active$1(ownerDoc).filter(activeElm => !eq(focusedElem, activeElm)).filter(activeElm => eq(activeElm, SugarElement.fromDom(ownerDoc.dom.body)) || contains(headerElem, activeElm)).each(() => focus$3(focusedElem));\n    };\n    const findFocusedElem = (rootElm, lazySink) => search(rootElm).orThunk(() => lazySink().toOptional().bind(sink => search(sink.element)));\n    const setup$9 = (editor, sharedBackstage, lazyHeader) => {\n      if (!editor.inline) {\n        if (!sharedBackstage.header.isPositionedAtTop()) {\n          editor.on('ResizeEditor', () => {\n            lazyHeader().each(Docking.reset);\n          });\n        }\n        editor.on('ResizeWindow ResizeEditor', () => {\n          lazyHeader().each(updateIframeContentFlow);\n        });\n        editor.on('SkinLoaded', () => {\n          lazyHeader().each(comp => {\n            Docking.isDocked(comp) ? Docking.reset(comp) : Docking.refresh(comp);\n          });\n        });\n        editor.on('FullscreenStateChanged', () => {\n          lazyHeader().each(Docking.reset);\n        });\n      }\n      editor.on('AfterScrollIntoView', e => {\n        lazyHeader().each(header => {\n          Docking.refresh(header);\n          const headerElem = header.element;\n          if (isVisible(headerElem)) {\n            scrollFromBehindHeader(e, headerElem);\n          }\n        });\n      });\n      editor.on('PostRender', () => {\n        updateEditorClasses(editor, false);\n      });\n    };\n    const isDocked = lazyHeader => lazyHeader().map(Docking.isDocked).getOr(false);\n    const getIframeBehaviours = () => [Receiving.config({ channels: { [toolbarHeightChange()]: { onReceive: updateIframeContentFlow } } })];\n    const getBehaviours = (editor, sharedBackstage) => {\n      const focusedElm = value$2();\n      const lazySink = sharedBackstage.getSink;\n      const runOnSinkElement = f => {\n        lazySink().each(sink => f(sink.element));\n      };\n      const onDockingSwitch = comp => {\n        if (!editor.inline) {\n          updateIframeContentFlow(comp);\n        }\n        updateEditorClasses(editor, Docking.isDocked(comp));\n        comp.getSystem().broadcastOn([repositionPopups()], {});\n        lazySink().each(sink => sink.getSystem().broadcastOn([repositionPopups()], {}));\n      };\n      const additionalBehaviours = editor.inline ? [] : getIframeBehaviours();\n      return [\n        Focusing.config({}),\n        Docking.config({\n          contextual: {\n            lazyContext: comp => {\n              const headerHeight = getOuter$2(comp.element);\n              const container = editor.inline ? editor.getContentAreaContainer() : editor.getContainer();\n              const box = box$1(SugarElement.fromDom(container));\n              const boxHeight = box.height - headerHeight;\n              const topBound = box.y + (isDockedMode(comp, 'top') ? 0 : headerHeight);\n              return Optional.some(bounds(box.x, topBound, box.width, boxHeight));\n            },\n            onShow: () => {\n              runOnSinkElement(elem => updateSinkVisibility(elem, true));\n            },\n            onShown: comp => {\n              runOnSinkElement(elem => remove$1(elem, [\n                visibility.transitionClass,\n                visibility.fadeInClass\n              ]));\n              focusedElm.get().each(elem => {\n                restoreFocus(comp.element, elem);\n                focusedElm.clear();\n              });\n            },\n            onHide: comp => {\n              findFocusedElem(comp.element, lazySink).fold(focusedElm.clear, focusedElm.set);\n              runOnSinkElement(elem => updateSinkVisibility(elem, false));\n            },\n            onHidden: () => {\n              runOnSinkElement(elem => remove$1(elem, [visibility.transitionClass]));\n            },\n            ...visibility\n          },\n          lazyViewport: comp => {\n            const win$1 = win();\n            const offset = getStickyToolbarOffset(editor);\n            const top = win$1.y + (isDockedMode(comp, 'top') ? offset : 0);\n            const height = win$1.height - (isDockedMode(comp, 'bottom') ? offset : 0);\n            return bounds(win$1.x, top, win$1.width, height);\n          },\n          modes: [sharedBackstage.header.getDockingMode()],\n          onDocked: onDockingSwitch,\n          onUndocked: onDockingSwitch\n        }),\n        ...additionalBehaviours\n      ];\n    };\n\n    var StickyHeader = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setup: setup$9,\n        isDocked: isDocked,\n        getBehaviours: getBehaviours\n    });\n\n    const renderHeader = spec => {\n      const editor = spec.editor;\n      const getBehaviours$2 = spec.sticky ? getBehaviours : getBehaviours$1;\n      return {\n        uid: spec.uid,\n        dom: spec.dom,\n        components: spec.components,\n        behaviours: derive$1(getBehaviours$2(editor, spec.sharedBackstage))\n      };\n    };\n\n    const groupToolbarButtonSchema = objOf([\n      type,\n      requiredOf('items', oneOf([\n        arrOfObj([\n          name$1,\n          requiredArrayOf('items', string)\n        ]),\n        string\n      ]))\n    ].concat(baseToolbarButtonFields));\n    const createGroupToolbarButton = spec => asRaw('GroupToolbarButton', groupToolbarButtonSchema, spec);\n\n    const baseMenuButtonFields = [\n      optionString('text'),\n      optionString('tooltip'),\n      optionString('icon'),\n      defaultedOf('search', false, oneOf([\n        boolean,\n        objOf([optionString('placeholder')])\n      ], x => {\n        if (isBoolean(x)) {\n          return x ? Optional.some({ placeholder: Optional.none() }) : Optional.none();\n        } else {\n          return Optional.some(x);\n        }\n      })),\n      requiredFunction('fetch'),\n      defaultedFunction('onSetup', () => noop)\n    ];\n\n    const MenuButtonSchema = objOf([\n      type,\n      ...baseMenuButtonFields\n    ]);\n    const createMenuButton = spec => asRaw('menubutton', MenuButtonSchema, spec);\n\n    const splitButtonSchema = objOf([\n      type,\n      optionalTooltip,\n      optionalIcon,\n      optionalText,\n      optionalSelect,\n      fetch$1,\n      onSetup,\n      defaultedStringEnum('presets', 'normal', [\n        'normal',\n        'color',\n        'listpreview'\n      ]),\n      defaultedColumns(1),\n      onAction,\n      onItemAction\n    ]);\n    const createSplitButton = spec => asRaw('SplitButton', splitButtonSchema, spec);\n\n    const factory$b = (detail, spec) => {\n      const setMenus = (comp, menus) => {\n        const newMenus = map$2(menus, m => {\n          const buttonSpec = {\n            type: 'menubutton',\n            text: m.text,\n            fetch: callback => {\n              callback(m.getItems());\n            }\n          };\n          const internal = createMenuButton(buttonSpec).mapError(errInfo => formatError(errInfo)).getOrDie();\n          return renderMenuButton(internal, 'tox-mbtn', spec.backstage, Optional.some('menuitem'));\n        });\n        Replacing.set(comp, newMenus);\n      };\n      const apis = {\n        focus: Keying.focusIn,\n        setMenus\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: [],\n        behaviours: derive$1([\n          Replacing.config({}),\n          config('menubar-events', [\n            runOnAttached(component => {\n              detail.onSetup(component);\n            }),\n            run$1(mouseover(), (comp, se) => {\n              descendant(comp.element, '.' + 'tox-mbtn--active').each(activeButton => {\n                closest$1(se.event.target, '.' + 'tox-mbtn').each(hoveredButton => {\n                  if (!eq(activeButton, hoveredButton)) {\n                    comp.getSystem().getByDom(activeButton).each(activeComp => {\n                      comp.getSystem().getByDom(hoveredButton).each(hoveredComp => {\n                        Dropdown.expand(hoveredComp);\n                        Dropdown.close(activeComp);\n                        Focusing.focus(hoveredComp);\n                      });\n                    });\n                  }\n                });\n              });\n            }),\n            run$1(focusShifted(), (comp, se) => {\n              se.event.prevFocus.bind(prev => comp.getSystem().getByDom(prev).toOptional()).each(prev => {\n                se.event.newFocus.bind(nu => comp.getSystem().getByDom(nu).toOptional()).each(nu => {\n                  if (Dropdown.isOpen(prev)) {\n                    Dropdown.expand(nu);\n                    Dropdown.close(prev);\n                  }\n                });\n              });\n            })\n          ]),\n          Keying.config({\n            mode: 'flow',\n            selector: '.' + 'tox-mbtn',\n            onEscape: comp => {\n              detail.onEscape(comp);\n              return Optional.some(true);\n            }\n          }),\n          Tabstopping.config({})\n        ]),\n        apis,\n        domModification: { attributes: { role: 'menubar' } }\n      };\n    };\n    var SilverMenubar = single({\n      factory: factory$b,\n      name: 'silver.Menubar',\n      configFields: [\n        required$1('dom'),\n        required$1('uid'),\n        required$1('onEscape'),\n        required$1('backstage'),\n        defaulted('onSetup', noop)\n      ],\n      apis: {\n        focus: (apis, comp) => {\n          apis.focus(comp);\n        },\n        setMenus: (apis, comp, menus) => {\n          apis.setMenus(comp, menus);\n        }\n      }\n    });\n\n    const promotionMessage = '\\u26A1\\ufe0fUpgrade';\n    const promotionLink = 'https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral';\n    const renderPromotion = spec => {\n      return {\n        uid: spec.uid,\n        dom: spec.dom,\n        components: [{\n            dom: {\n              tag: 'a',\n              attributes: {\n                'href': promotionLink,\n                'rel': 'noopener',\n                'target': '_blank',\n                'aria-hidden': 'true'\n              },\n              classes: ['tox-promotion-link'],\n              innerHtml: promotionMessage\n            }\n          }]\n      };\n    };\n\n    const getAnimationRoot = (component, slideConfig) => slideConfig.getAnimationRoot.fold(() => component.element, get => get(component));\n\n    const getDimensionProperty = slideConfig => slideConfig.dimension.property;\n    const getDimension = (slideConfig, elem) => slideConfig.dimension.getDimension(elem);\n    const disableTransitions = (component, slideConfig) => {\n      const root = getAnimationRoot(component, slideConfig);\n      remove$1(root, [\n        slideConfig.shrinkingClass,\n        slideConfig.growingClass\n      ]);\n    };\n    const setShrunk = (component, slideConfig) => {\n      remove$2(component.element, slideConfig.openClass);\n      add$2(component.element, slideConfig.closedClass);\n      set$8(component.element, getDimensionProperty(slideConfig), '0px');\n      reflow(component.element);\n    };\n    const setGrown = (component, slideConfig) => {\n      remove$2(component.element, slideConfig.closedClass);\n      add$2(component.element, slideConfig.openClass);\n      remove$6(component.element, getDimensionProperty(slideConfig));\n    };\n    const doImmediateShrink = (component, slideConfig, slideState, _calculatedSize) => {\n      slideState.setCollapsed();\n      set$8(component.element, getDimensionProperty(slideConfig), getDimension(slideConfig, component.element));\n      disableTransitions(component, slideConfig);\n      setShrunk(component, slideConfig);\n      slideConfig.onStartShrink(component);\n      slideConfig.onShrunk(component);\n    };\n    const doStartShrink = (component, slideConfig, slideState, calculatedSize) => {\n      const size = calculatedSize.getOrThunk(() => getDimension(slideConfig, component.element));\n      slideState.setCollapsed();\n      set$8(component.element, getDimensionProperty(slideConfig), size);\n      reflow(component.element);\n      const root = getAnimationRoot(component, slideConfig);\n      remove$2(root, slideConfig.growingClass);\n      add$2(root, slideConfig.shrinkingClass);\n      setShrunk(component, slideConfig);\n      slideConfig.onStartShrink(component);\n    };\n    const doStartSmartShrink = (component, slideConfig, slideState) => {\n      const size = getDimension(slideConfig, component.element);\n      const shrinker = size === '0px' ? doImmediateShrink : doStartShrink;\n      shrinker(component, slideConfig, slideState, Optional.some(size));\n    };\n    const doStartGrow = (component, slideConfig, slideState) => {\n      const root = getAnimationRoot(component, slideConfig);\n      const wasShrinking = has(root, slideConfig.shrinkingClass);\n      const beforeSize = getDimension(slideConfig, component.element);\n      setGrown(component, slideConfig);\n      const fullSize = getDimension(slideConfig, component.element);\n      const startPartialGrow = () => {\n        set$8(component.element, getDimensionProperty(slideConfig), beforeSize);\n        reflow(component.element);\n      };\n      const startCompleteGrow = () => {\n        setShrunk(component, slideConfig);\n      };\n      const setStartSize = wasShrinking ? startPartialGrow : startCompleteGrow;\n      setStartSize();\n      remove$2(root, slideConfig.shrinkingClass);\n      add$2(root, slideConfig.growingClass);\n      setGrown(component, slideConfig);\n      set$8(component.element, getDimensionProperty(slideConfig), fullSize);\n      slideState.setExpanded();\n      slideConfig.onStartGrow(component);\n    };\n    const refresh$3 = (component, slideConfig, slideState) => {\n      if (slideState.isExpanded()) {\n        remove$6(component.element, getDimensionProperty(slideConfig));\n        const fullSize = getDimension(slideConfig, component.element);\n        set$8(component.element, getDimensionProperty(slideConfig), fullSize);\n      }\n    };\n    const grow = (component, slideConfig, slideState) => {\n      if (!slideState.isExpanded()) {\n        doStartGrow(component, slideConfig, slideState);\n      }\n    };\n    const shrink = (component, slideConfig, slideState) => {\n      if (slideState.isExpanded()) {\n        doStartSmartShrink(component, slideConfig, slideState);\n      }\n    };\n    const immediateShrink = (component, slideConfig, slideState) => {\n      if (slideState.isExpanded()) {\n        doImmediateShrink(component, slideConfig, slideState);\n      }\n    };\n    const hasGrown = (component, slideConfig, slideState) => slideState.isExpanded();\n    const hasShrunk = (component, slideConfig, slideState) => slideState.isCollapsed();\n    const isGrowing = (component, slideConfig, _slideState) => {\n      const root = getAnimationRoot(component, slideConfig);\n      return has(root, slideConfig.growingClass) === true;\n    };\n    const isShrinking = (component, slideConfig, _slideState) => {\n      const root = getAnimationRoot(component, slideConfig);\n      return has(root, slideConfig.shrinkingClass) === true;\n    };\n    const isTransitioning = (component, slideConfig, slideState) => isGrowing(component, slideConfig) || isShrinking(component, slideConfig);\n    const toggleGrow = (component, slideConfig, slideState) => {\n      const f = slideState.isExpanded() ? doStartSmartShrink : doStartGrow;\n      f(component, slideConfig, slideState);\n    };\n    const immediateGrow = (component, slideConfig, slideState) => {\n      if (!slideState.isExpanded()) {\n        setGrown(component, slideConfig);\n        set$8(component.element, getDimensionProperty(slideConfig), getDimension(slideConfig, component.element));\n        disableTransitions(component, slideConfig);\n        slideState.setExpanded();\n        slideConfig.onStartGrow(component);\n        slideConfig.onGrown(component);\n      }\n    };\n\n    var SlidingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        refresh: refresh$3,\n        grow: grow,\n        shrink: shrink,\n        immediateShrink: immediateShrink,\n        hasGrown: hasGrown,\n        hasShrunk: hasShrunk,\n        isGrowing: isGrowing,\n        isShrinking: isShrinking,\n        isTransitioning: isTransitioning,\n        toggleGrow: toggleGrow,\n        disableTransitions: disableTransitions,\n        immediateGrow: immediateGrow\n    });\n\n    const exhibit = (base, slideConfig, _slideState) => {\n      const expanded = slideConfig.expanded;\n      return expanded ? nu$7({\n        classes: [slideConfig.openClass],\n        styles: {}\n      }) : nu$7({\n        classes: [slideConfig.closedClass],\n        styles: wrap$1(slideConfig.dimension.property, '0px')\n      });\n    };\n    const events$4 = (slideConfig, slideState) => derive$2([runOnSource(transitionend(), (component, simulatedEvent) => {\n        const raw = simulatedEvent.event.raw;\n        if (raw.propertyName === slideConfig.dimension.property) {\n          disableTransitions(component, slideConfig);\n          if (slideState.isExpanded()) {\n            remove$6(component.element, slideConfig.dimension.property);\n          }\n          const notify = slideState.isExpanded() ? slideConfig.onGrown : slideConfig.onShrunk;\n          notify(component);\n        }\n      })]);\n\n    var ActiveSliding = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit,\n        events: events$4\n    });\n\n    var SlidingSchema = [\n      required$1('closedClass'),\n      required$1('openClass'),\n      required$1('shrinkingClass'),\n      required$1('growingClass'),\n      option$3('getAnimationRoot'),\n      onHandler('onShrunk'),\n      onHandler('onStartShrink'),\n      onHandler('onGrown'),\n      onHandler('onStartGrow'),\n      defaulted('expanded', false),\n      requiredOf('dimension', choose$1('property', {\n        width: [\n          output$1('property', 'width'),\n          output$1('getDimension', elem => get$c(elem) + 'px')\n        ],\n        height: [\n          output$1('property', 'height'),\n          output$1('getDimension', elem => get$d(elem) + 'px')\n        ]\n      }))\n    ];\n\n    const init$5 = spec => {\n      const state = Cell(spec.expanded);\n      const readState = () => 'expanded: ' + state.get();\n      return nu$8({\n        isExpanded: () => state.get() === true,\n        isCollapsed: () => state.get() === false,\n        setCollapsed: curry(state.set, false),\n        setExpanded: curry(state.set, true),\n        readState\n      });\n    };\n\n    var SlidingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$5\n    });\n\n    const Sliding = create$3({\n      fields: SlidingSchema,\n      name: 'sliding',\n      active: ActiveSliding,\n      apis: SlidingApis,\n      state: SlidingState\n    });\n\n    const owner = 'container';\n    const schema$d = [field('slotBehaviours', [])];\n    const getPartName = name => '<alloy.field.' + name + '>';\n    const sketch = sSpec => {\n      const parts = (() => {\n        const record = [];\n        const slot = (name, config) => {\n          record.push(name);\n          return generateOne$1(owner, getPartName(name), config);\n        };\n        return {\n          slot,\n          record: constant$1(record)\n        };\n      })();\n      const spec = sSpec(parts);\n      const partNames = parts.record();\n      const fieldParts = map$2(partNames, n => required({\n        name: n,\n        pname: getPartName(n)\n      }));\n      return composite$1(owner, schema$d, fieldParts, make$1, spec);\n    };\n    const make$1 = (detail, components) => {\n      const getSlotNames = _ => getAllPartNames(detail);\n      const getSlot = (container, key) => getPart(container, detail, key);\n      const onSlot = (f, def) => (container, key) => getPart(container, detail, key).map(slot => f(slot, key)).getOr(def);\n      const onSlots = f => (container, keys) => {\n        each$1(keys, key => f(container, key));\n      };\n      const doShowing = (comp, _key) => get$f(comp.element, 'aria-hidden') !== 'true';\n      const doShow = (comp, key) => {\n        if (!doShowing(comp)) {\n          const element = comp.element;\n          remove$6(element, 'display');\n          remove$7(element, 'aria-hidden');\n          emitWith(comp, slotVisibility(), {\n            name: key,\n            visible: true\n          });\n        }\n      };\n      const doHide = (comp, key) => {\n        if (doShowing(comp)) {\n          const element = comp.element;\n          set$8(element, 'display', 'none');\n          set$9(element, 'aria-hidden', 'true');\n          emitWith(comp, slotVisibility(), {\n            name: key,\n            visible: false\n          });\n        }\n      };\n      const isShowing = onSlot(doShowing, false);\n      const hideSlot = onSlot(doHide);\n      const hideSlots = onSlots(hideSlot);\n      const hideAllSlots = container => hideSlots(container, getSlotNames());\n      const showSlot = onSlot(doShow);\n      const apis = {\n        getSlotNames,\n        getSlot,\n        isShowing,\n        hideSlot,\n        hideAllSlots,\n        showSlot\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: get$3(detail.slotBehaviours),\n        apis\n      };\n    };\n    const slotApis = map$1({\n      getSlotNames: (apis, c) => apis.getSlotNames(c),\n      getSlot: (apis, c, key) => apis.getSlot(c, key),\n      isShowing: (apis, c, key) => apis.isShowing(c, key),\n      hideSlot: (apis, c, key) => apis.hideSlot(c, key),\n      hideAllSlots: (apis, c) => apis.hideAllSlots(c),\n      showSlot: (apis, c, key) => apis.showSlot(c, key)\n    }, value => makeApi(value));\n    const SlotContainer = {\n      ...slotApis,\n      ...{ sketch }\n    };\n\n    const sidebarSchema = objOf([\n      optionalIcon,\n      optionalTooltip,\n      defaultedFunction('onShow', noop),\n      defaultedFunction('onHide', noop),\n      onSetup\n    ]);\n    const createSidebar = spec => asRaw('sidebar', sidebarSchema, spec);\n\n    const setup$8 = editor => {\n      const {sidebars} = editor.ui.registry.getAll();\n      each$1(keys(sidebars), name => {\n        const spec = sidebars[name];\n        const isActive = () => is$1(Optional.from(editor.queryCommandValue('ToggleSidebar')), name);\n        editor.ui.registry.addToggleButton(name, {\n          icon: spec.icon,\n          tooltip: spec.tooltip,\n          onAction: buttonApi => {\n            editor.execCommand('ToggleSidebar', false, name);\n            buttonApi.setActive(isActive());\n          },\n          onSetup: buttonApi => {\n            buttonApi.setActive(isActive());\n            const handleToggle = () => buttonApi.setActive(isActive());\n            editor.on('ToggleSidebar', handleToggle);\n            return () => {\n              editor.off('ToggleSidebar', handleToggle);\n            };\n          }\n        });\n      });\n    };\n    const getApi = comp => ({ element: () => comp.element.dom });\n    const makePanels = (parts, panelConfigs) => {\n      const specs = map$2(keys(panelConfigs), name => {\n        const spec = panelConfigs[name];\n        const bridged = getOrDie(createSidebar(spec));\n        return {\n          name,\n          getApi,\n          onSetup: bridged.onSetup,\n          onShow: bridged.onShow,\n          onHide: bridged.onHide\n        };\n      });\n      return map$2(specs, spec => {\n        const editorOffCell = Cell(noop);\n        return parts.slot(spec.name, {\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar__pane']\n          },\n          behaviours: SimpleBehaviours.unnamedEvents([\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell),\n            run$1(slotVisibility(), (sidepanel, se) => {\n              const data = se.event;\n              const optSidePanelSpec = find$5(specs, config => config.name === data.name);\n              optSidePanelSpec.each(sidePanelSpec => {\n                const handler = data.visible ? sidePanelSpec.onShow : sidePanelSpec.onHide;\n                handler(sidePanelSpec.getApi(sidepanel));\n              });\n            })\n          ])\n        });\n      });\n    };\n    const makeSidebar = panelConfigs => SlotContainer.sketch(parts => ({\n      dom: {\n        tag: 'div',\n        classes: ['tox-sidebar__pane-container']\n      },\n      components: makePanels(parts, panelConfigs),\n      slotBehaviours: SimpleBehaviours.unnamedEvents([runOnAttached(slotContainer => SlotContainer.hideAllSlots(slotContainer))])\n    }));\n    const setSidebar = (sidebar, panelConfigs, showSidebar) => {\n      const optSlider = Composing.getCurrent(sidebar);\n      optSlider.each(slider => {\n        Replacing.set(slider, [makeSidebar(panelConfigs)]);\n        const configKey = showSidebar === null || showSidebar === void 0 ? void 0 : showSidebar.toLowerCase();\n        if (isString(configKey) && has$2(panelConfigs, configKey)) {\n          Composing.getCurrent(slider).each(slotContainer => {\n            SlotContainer.showSlot(slotContainer, configKey);\n            Sliding.immediateGrow(slider);\n            remove$6(slider.element, 'width');\n          });\n        }\n      });\n    };\n    const toggleSidebar = (sidebar, name) => {\n      const optSlider = Composing.getCurrent(sidebar);\n      optSlider.each(slider => {\n        const optSlotContainer = Composing.getCurrent(slider);\n        optSlotContainer.each(slotContainer => {\n          if (Sliding.hasGrown(slider)) {\n            if (SlotContainer.isShowing(slotContainer, name)) {\n              Sliding.shrink(slider);\n            } else {\n              SlotContainer.hideAllSlots(slotContainer);\n              SlotContainer.showSlot(slotContainer, name);\n            }\n          } else {\n            SlotContainer.hideAllSlots(slotContainer);\n            SlotContainer.showSlot(slotContainer, name);\n            Sliding.grow(slider);\n          }\n        });\n      });\n    };\n    const whichSidebar = sidebar => {\n      const optSlider = Composing.getCurrent(sidebar);\n      return optSlider.bind(slider => {\n        const sidebarOpen = Sliding.isGrowing(slider) || Sliding.hasGrown(slider);\n        if (sidebarOpen) {\n          const optSlotContainer = Composing.getCurrent(slider);\n          return optSlotContainer.bind(slotContainer => find$5(SlotContainer.getSlotNames(slotContainer), name => SlotContainer.isShowing(slotContainer, name)));\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    const fixSize = generate$6('FixSizeEvent');\n    const autoSize = generate$6('AutoSizeEvent');\n    const renderSidebar = spec => ({\n      uid: spec.uid,\n      dom: {\n        tag: 'div',\n        classes: ['tox-sidebar'],\n        attributes: { role: 'complementary' }\n      },\n      components: [{\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar__slider']\n          },\n          components: [],\n          behaviours: derive$1([\n            Tabstopping.config({}),\n            Focusing.config({}),\n            Sliding.config({\n              dimension: { property: 'width' },\n              closedClass: 'tox-sidebar--sliding-closed',\n              openClass: 'tox-sidebar--sliding-open',\n              shrinkingClass: 'tox-sidebar--sliding-shrinking',\n              growingClass: 'tox-sidebar--sliding-growing',\n              onShrunk: slider => {\n                const optSlotContainer = Composing.getCurrent(slider);\n                optSlotContainer.each(SlotContainer.hideAllSlots);\n                emit(slider, autoSize);\n              },\n              onGrown: slider => {\n                emit(slider, autoSize);\n              },\n              onStartGrow: slider => {\n                emitWith(slider, fixSize, { width: getRaw(slider.element, 'width').getOr('') });\n              },\n              onStartShrink: slider => {\n                emitWith(slider, fixSize, { width: get$c(slider.element) + 'px' });\n              }\n            }),\n            Replacing.config({}),\n            Composing.config({\n              find: comp => {\n                const children = Replacing.contents(comp);\n                return head(children);\n              }\n            })\n          ])\n        }],\n      behaviours: derive$1([\n        ComposingConfigs.childAt(0),\n        config('sidebar-sliding-events', [\n          run$1(fixSize, (comp, se) => {\n            set$8(comp.element, 'width', se.event.width);\n          }),\n          run$1(autoSize, (comp, _se) => {\n            remove$6(comp.element, 'width');\n          })\n        ])\n      ])\n    });\n\n    const block = (component, config, state, getBusySpec) => {\n      set$9(component.element, 'aria-busy', true);\n      const root = config.getRoot(component).getOr(component);\n      const blockerBehaviours = derive$1([\n        Keying.config({\n          mode: 'special',\n          onTab: () => Optional.some(true),\n          onShiftTab: () => Optional.some(true)\n        }),\n        Focusing.config({})\n      ]);\n      const blockSpec = getBusySpec(root, blockerBehaviours);\n      const blocker = root.getSystem().build(blockSpec);\n      Replacing.append(root, premade(blocker));\n      if (blocker.hasConfigured(Keying) && config.focus) {\n        Keying.focusIn(blocker);\n      }\n      if (!state.isBlocked()) {\n        config.onBlock(component);\n      }\n      state.blockWith(() => Replacing.remove(root, blocker));\n    };\n    const unblock = (component, config, state) => {\n      remove$7(component.element, 'aria-busy');\n      if (state.isBlocked()) {\n        config.onUnblock(component);\n      }\n      state.clear();\n    };\n\n    var BlockingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        block: block,\n        unblock: unblock\n    });\n\n    var BlockingSchema = [\n      defaultedFunction('getRoot', Optional.none),\n      defaultedBoolean('focus', true),\n      onHandler('onBlock'),\n      onHandler('onUnblock')\n    ];\n\n    const init$4 = () => {\n      const blocker = destroyable();\n      const blockWith = destroy => {\n        blocker.set({ destroy });\n      };\n      return nu$8({\n        readState: blocker.isSet,\n        blockWith,\n        clear: blocker.clear,\n        isBlocked: blocker.isSet\n      });\n    };\n\n    var BlockingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$4\n    });\n\n    const Blocking = create$3({\n      fields: BlockingSchema,\n      name: 'blocking',\n      apis: BlockingApis,\n      state: BlockingState\n    });\n\n    const getAttrs = elem => {\n      const attributes = elem.dom.attributes !== undefined ? elem.dom.attributes : [];\n      return foldl(attributes, (b, attr) => {\n        if (attr.name === 'class') {\n          return b;\n        } else {\n          return {\n            ...b,\n            [attr.name]: attr.value\n          };\n        }\n      }, {});\n    };\n    const getClasses = elem => Array.prototype.slice.call(elem.dom.classList, 0);\n    const fromHtml = html => {\n      const elem = SugarElement.fromHtml(html);\n      const children$1 = children(elem);\n      const attrs = getAttrs(elem);\n      const classes = getClasses(elem);\n      const contents = children$1.length === 0 ? {} : { innerHtml: get$9(elem) };\n      return {\n        tag: name$3(elem),\n        classes,\n        attributes: attrs,\n        ...contents\n      };\n    };\n\n    const getBusySpec$1 = providerBackstage => (_root, _behaviours) => ({\n      dom: {\n        tag: 'div',\n        attributes: {\n          'aria-label': providerBackstage.translate('Loading...'),\n          'tabindex': '0'\n        },\n        classes: ['tox-throbber__busy-spinner']\n      },\n      components: [{ dom: fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>') }]\n    });\n    const focusBusyComponent = throbber => Composing.getCurrent(throbber).each(comp => focus$3(comp.element));\n    const toggleEditorTabIndex = (editor, state) => {\n      const tabIndexAttr = 'tabindex';\n      const dataTabIndexAttr = `data-mce-${ tabIndexAttr }`;\n      Optional.from(editor.iframeElement).map(SugarElement.fromDom).each(iframe => {\n        if (state) {\n          getOpt(iframe, tabIndexAttr).each(tabIndex => set$9(iframe, dataTabIndexAttr, tabIndex));\n          set$9(iframe, tabIndexAttr, -1);\n        } else {\n          remove$7(iframe, tabIndexAttr);\n          getOpt(iframe, dataTabIndexAttr).each(tabIndex => {\n            set$9(iframe, tabIndexAttr, tabIndex);\n            remove$7(iframe, dataTabIndexAttr);\n          });\n        }\n      });\n    };\n    const toggleThrobber = (editor, comp, state, providerBackstage) => {\n      const element = comp.element;\n      toggleEditorTabIndex(editor, state);\n      if (state) {\n        Blocking.block(comp, getBusySpec$1(providerBackstage));\n        remove$6(element, 'display');\n        remove$7(element, 'aria-hidden');\n        if (editor.hasFocus()) {\n          focusBusyComponent(comp);\n        }\n      } else {\n        const throbberFocus = Composing.getCurrent(comp).exists(busyComp => hasFocus(busyComp.element));\n        Blocking.unblock(comp);\n        set$8(element, 'display', 'none');\n        set$9(element, 'aria-hidden', 'true');\n        if (throbberFocus) {\n          editor.focus();\n        }\n      }\n    };\n    const renderThrobber = spec => ({\n      uid: spec.uid,\n      dom: {\n        tag: 'div',\n        attributes: { 'aria-hidden': 'true' },\n        classes: ['tox-throbber'],\n        styles: { display: 'none' }\n      },\n      behaviours: derive$1([\n        Replacing.config({}),\n        Blocking.config({ focus: false }),\n        Composing.config({ find: comp => head(comp.components()) })\n      ]),\n      components: []\n    });\n    const isFocusEvent = event => event.type === 'focusin';\n    const isPasteBinTarget = event => {\n      if (isFocusEvent(event)) {\n        const node = event.composed ? head(event.composedPath()) : Optional.from(event.target);\n        return node.map(SugarElement.fromDom).filter(isElement$1).exists(targetElm => has(targetElm, 'mce-pastebin'));\n      } else {\n        return false;\n      }\n    };\n    const setup$7 = (editor, lazyThrobber, sharedBackstage) => {\n      const throbberState = Cell(false);\n      const timer = value$2();\n      const stealFocus = e => {\n        if (throbberState.get() && !isPasteBinTarget(e)) {\n          e.preventDefault();\n          focusBusyComponent(lazyThrobber());\n          editor.editorManager.setActive(editor);\n        }\n      };\n      if (!editor.inline) {\n        editor.on('PreInit', () => {\n          editor.dom.bind(editor.getWin(), 'focusin', stealFocus);\n          editor.on('BeforeExecCommand', e => {\n            if (e.command.toLowerCase() === 'mcefocus' && e.value !== true) {\n              stealFocus(e);\n            }\n          });\n        });\n      }\n      const toggle = state => {\n        if (state !== throbberState.get()) {\n          throbberState.set(state);\n          toggleThrobber(editor, lazyThrobber(), state, sharedBackstage.providers);\n          fireAfterProgressState(editor, state);\n        }\n      };\n      editor.on('ProgressState', e => {\n        timer.on(clearTimeout);\n        if (isNumber(e.time)) {\n          const timerId = global$9.setEditorTimeout(editor, () => toggle(e.state), e.time);\n          timer.set(timerId);\n        } else {\n          toggle(e.state);\n          timer.clear();\n        }\n      });\n    };\n\n    const generate$1 = (xs, f) => {\n      const init = {\n        len: 0,\n        list: []\n      };\n      const r = foldl(xs, (b, a) => {\n        const value = f(a, b.len);\n        return value.fold(constant$1(b), v => ({\n          len: v.finish,\n          list: b.list.concat([v])\n        }));\n      }, init);\n      return r.list;\n    };\n\n    const output = (within, extra, withinWidth) => ({\n      within,\n      extra,\n      withinWidth\n    });\n    const apportion = (units, total, len) => {\n      const parray = generate$1(units, (unit, current) => {\n        const width = len(unit);\n        return Optional.some({\n          element: unit,\n          start: current,\n          finish: current + width,\n          width\n        });\n      });\n      const within = filter$2(parray, unit => unit.finish <= total);\n      const withinWidth = foldr(within, (acc, el) => acc + el.width, 0);\n      const extra = parray.slice(within.length);\n      return {\n        within,\n        extra,\n        withinWidth\n      };\n    };\n    const toUnit = parray => map$2(parray, unit => unit.element);\n    const fitLast = (within, extra, withinWidth) => {\n      const fits = toUnit(within.concat(extra));\n      return output(fits, [], withinWidth);\n    };\n    const overflow = (within, extra, overflower, withinWidth) => {\n      const fits = toUnit(within).concat([overflower]);\n      return output(fits, toUnit(extra), withinWidth);\n    };\n    const fitAll = (within, extra, withinWidth) => output(toUnit(within), [], withinWidth);\n    const tryFit = (total, units, len) => {\n      const divide = apportion(units, total, len);\n      return divide.extra.length === 0 ? Optional.some(divide) : Optional.none();\n    };\n    const partition = (total, units, len, overflower) => {\n      const divide = tryFit(total, units, len).getOrThunk(() => apportion(units, total - len(overflower), len));\n      const within = divide.within;\n      const extra = divide.extra;\n      const withinWidth = divide.withinWidth;\n      if (extra.length === 1 && extra[0].width <= len(overflower)) {\n        return fitLast(within, extra, withinWidth);\n      } else if (extra.length >= 1) {\n        return overflow(within, extra, overflower, withinWidth);\n      } else {\n        return fitAll(within, extra, withinWidth);\n      }\n    };\n\n    const setGroups$1 = (toolbar, storedGroups) => {\n      const bGroups = map$2(storedGroups, g => premade(g));\n      Toolbar.setGroups(toolbar, bGroups);\n    };\n    const findFocusedComp = comps => findMap(comps, comp => search(comp.element).bind(focusedElm => comp.getSystem().getByDom(focusedElm).toOptional()));\n    const refresh$2 = (toolbar, detail, setOverflow) => {\n      const builtGroups = detail.builtGroups.get();\n      if (builtGroups.length === 0) {\n        return;\n      }\n      const primary = getPartOrDie(toolbar, detail, 'primary');\n      const overflowGroup = Coupling.getCoupled(toolbar, 'overflowGroup');\n      set$8(primary.element, 'visibility', 'hidden');\n      const groups = builtGroups.concat([overflowGroup]);\n      const focusedComp = findFocusedComp(groups);\n      setOverflow([]);\n      setGroups$1(primary, groups);\n      const availableWidth = get$c(primary.element);\n      const overflows = partition(availableWidth, detail.builtGroups.get(), comp => get$c(comp.element), overflowGroup);\n      if (overflows.extra.length === 0) {\n        Replacing.remove(primary, overflowGroup);\n        setOverflow([]);\n      } else {\n        setGroups$1(primary, overflows.within);\n        setOverflow(overflows.extra);\n      }\n      remove$6(primary.element, 'visibility');\n      reflow(primary.element);\n      focusedComp.each(Focusing.focus);\n    };\n\n    const schema$c = constant$1([\n      field('splitToolbarBehaviours', [Coupling]),\n      customField('builtGroups', () => Cell([]))\n    ]);\n\n    const schema$b = constant$1([\n      markers$1(['overflowToggledClass']),\n      optionFunction('getOverflowBounds'),\n      required$1('lazySink'),\n      customField('overflowGroups', () => Cell([]))\n    ].concat(schema$c()));\n    const parts$7 = constant$1([\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'primary'\n      }),\n      external({\n        schema: schema$e(),\n        name: 'overflow'\n      }),\n      external({ name: 'overflow-button' }),\n      external({ name: 'overflow-group' })\n    ]);\n\n    const expandable = constant$1((element, available) => {\n      setMax(element, Math.floor(available));\n    });\n\n    const schema$a = constant$1([\n      markers$1(['toggledClass']),\n      required$1('lazySink'),\n      requiredFunction('fetch'),\n      optionFunction('getBounds'),\n      optionObjOf('fireDismissalEventInstead', [defaulted('event', dismissRequested())]),\n      schema$y()\n    ]);\n    const parts$6 = constant$1([\n      external({\n        name: 'button',\n        overrides: detail => ({\n          dom: { attributes: { 'aria-haspopup': 'true' } },\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleClass: detail.markers.toggledClass,\n              aria: { mode: 'expanded' },\n              toggleOnExecute: false\n            })])\n        })\n      }),\n      external({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'toolbar',\n        overrides: detail => {\n          return {\n            toolbarBehaviours: derive$1([Keying.config({\n                mode: 'cyclic',\n                onEscape: comp => {\n                  getPart(comp, detail, 'button').each(Focusing.focus);\n                  return Optional.none();\n                }\n              })])\n          };\n        }\n      })\n    ]);\n\n    const toggle = (button, externals) => {\n      const toolbarSandbox = Coupling.getCoupled(button, 'toolbarSandbox');\n      if (Sandboxing.isOpen(toolbarSandbox)) {\n        Sandboxing.close(toolbarSandbox);\n      } else {\n        Sandboxing.open(toolbarSandbox, externals.toolbar());\n      }\n    };\n    const position = (button, toolbar, detail, layouts) => {\n      const bounds = detail.getBounds.map(bounder => bounder());\n      const sink = detail.lazySink(button).getOrDie();\n      Positioning.positionWithinBounds(sink, toolbar, {\n        anchor: {\n          type: 'hotspot',\n          hotspot: button,\n          layouts,\n          overrides: { maxWidthFunction: expandable() }\n        }\n      }, bounds);\n    };\n    const setGroups = (button, toolbar, detail, layouts, groups) => {\n      Toolbar.setGroups(toolbar, groups);\n      position(button, toolbar, detail, layouts);\n      Toggling.on(button);\n    };\n    const makeSandbox = (button, spec, detail) => {\n      const ariaControls = manager();\n      const onOpen = (sandbox, toolbar) => {\n        detail.fetch().get(groups => {\n          setGroups(button, toolbar, detail, spec.layouts, groups);\n          ariaControls.link(button.element);\n          Keying.focusIn(toolbar);\n        });\n      };\n      const onClose = () => {\n        Toggling.off(button);\n        Focusing.focus(button);\n        ariaControls.unlink(button.element);\n      };\n      return {\n        dom: {\n          tag: 'div',\n          attributes: { id: ariaControls.id }\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'special',\n            onEscape: comp => {\n              Sandboxing.close(comp);\n              return Optional.some(true);\n            }\n          }),\n          Sandboxing.config({\n            onOpen,\n            onClose,\n            isPartOf: (container, data, queryElem) => {\n              return isPartOf$1(data, queryElem) || isPartOf$1(button, queryElem);\n            },\n            getAttachPoint: () => {\n              return detail.lazySink(button).getOrDie();\n            }\n          }),\n          Receiving.config({\n            channels: {\n              ...receivingChannel$1({\n                isExtraPart: never,\n                ...detail.fireDismissalEventInstead.map(fe => ({ fireEventInstead: { event: fe.event } })).getOr({})\n              }),\n              ...receivingChannel({\n                doReposition: () => {\n                  Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(toolbar => {\n                    position(button, toolbar, detail, spec.layouts);\n                  });\n                }\n              })\n            }\n          })\n        ])\n      };\n    };\n    const factory$a = (detail, components, spec, externals) => ({\n      ...Button.sketch({\n        ...externals.button(),\n        action: button => {\n          toggle(button, externals);\n        },\n        buttonBehaviours: SketchBehaviours.augment({ dump: externals.button().buttonBehaviours }, [Coupling.config({\n            others: {\n              toolbarSandbox: button => {\n                return makeSandbox(button, spec, detail);\n              }\n            }\n          })])\n      }),\n      apis: {\n        setGroups: (button, groups) => {\n          Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(toolbar => {\n            setGroups(button, toolbar, detail, spec.layouts, groups);\n          });\n        },\n        reposition: button => {\n          Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(toolbar => {\n            position(button, toolbar, detail, spec.layouts);\n          });\n        },\n        toggle: button => {\n          toggle(button, externals);\n        },\n        getToolbar: button => {\n          return Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox'));\n        },\n        isOpen: button => {\n          return Sandboxing.isOpen(Coupling.getCoupled(button, 'toolbarSandbox'));\n        }\n      }\n    });\n    const FloatingToolbarButton = composite({\n      name: 'FloatingToolbarButton',\n      factory: factory$a,\n      configFields: schema$a(),\n      partFields: parts$6(),\n      apis: {\n        setGroups: (apis, button, groups) => {\n          apis.setGroups(button, groups);\n        },\n        reposition: (apis, button) => {\n          apis.reposition(button);\n        },\n        toggle: (apis, button) => {\n          apis.toggle(button);\n        },\n        getToolbar: (apis, button) => apis.getToolbar(button),\n        isOpen: (apis, button) => apis.isOpen(button)\n      }\n    });\n\n    const schema$9 = constant$1([\n      required$1('items'),\n      markers$1(['itemSelector']),\n      field('tgroupBehaviours', [Keying])\n    ]);\n    const parts$5 = constant$1([group({\n        name: 'items',\n        unit: 'item'\n      })]);\n\n    const factory$9 = (detail, components, _spec, _externals) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components,\n      behaviours: augment(detail.tgroupBehaviours, [Keying.config({\n          mode: 'flow',\n          selector: detail.markers.itemSelector\n        })]),\n      domModification: { attributes: { role: 'toolbar' } }\n    });\n    const ToolbarGroup = composite({\n      name: 'ToolbarGroup',\n      configFields: schema$9(),\n      partFields: parts$5(),\n      factory: factory$9\n    });\n\n    const buildGroups = comps => map$2(comps, g => premade(g));\n    const refresh$1 = (toolbar, memFloatingToolbarButton, detail) => {\n      refresh$2(toolbar, detail, overflowGroups => {\n        detail.overflowGroups.set(overflowGroups);\n        memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton => {\n          FloatingToolbarButton.setGroups(floatingToolbarButton, buildGroups(overflowGroups));\n        });\n      });\n    };\n    const factory$8 = (detail, components, spec, externals) => {\n      const memFloatingToolbarButton = record(FloatingToolbarButton.sketch({\n        fetch: () => Future.nu(resolve => {\n          resolve(buildGroups(detail.overflowGroups.get()));\n        }),\n        layouts: {\n          onLtr: () => [\n            southwest$2,\n            southeast$2\n          ],\n          onRtl: () => [\n            southeast$2,\n            southwest$2\n          ],\n          onBottomLtr: () => [\n            northwest$2,\n            northeast$2\n          ],\n          onBottomRtl: () => [\n            northeast$2,\n            northwest$2\n          ]\n        },\n        getBounds: spec.getOverflowBounds,\n        lazySink: detail.lazySink,\n        fireDismissalEventInstead: {},\n        markers: { toggledClass: detail.markers.overflowToggledClass },\n        parts: {\n          button: externals['overflow-button'](),\n          toolbar: externals.overflow()\n        }\n      }));\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.splitToolbarBehaviours, [Coupling.config({\n            others: {\n              overflowGroup: () => {\n                return ToolbarGroup.sketch({\n                  ...externals['overflow-group'](),\n                  items: [memFloatingToolbarButton.asSpec()]\n                });\n              }\n            }\n          })]),\n        apis: {\n          setGroups: (toolbar, groups) => {\n            detail.builtGroups.set(map$2(groups, toolbar.getSystem().build));\n            refresh$1(toolbar, memFloatingToolbarButton, detail);\n          },\n          refresh: toolbar => refresh$1(toolbar, memFloatingToolbarButton, detail),\n          toggle: toolbar => {\n            memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton => {\n              FloatingToolbarButton.toggle(floatingToolbarButton);\n            });\n          },\n          isOpen: toolbar => memFloatingToolbarButton.getOpt(toolbar).map(FloatingToolbarButton.isOpen).getOr(false),\n          reposition: toolbar => {\n            memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton => {\n              FloatingToolbarButton.reposition(floatingToolbarButton);\n            });\n          },\n          getOverflow: toolbar => memFloatingToolbarButton.getOpt(toolbar).bind(FloatingToolbarButton.getToolbar)\n        },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    const SplitFloatingToolbar = composite({\n      name: 'SplitFloatingToolbar',\n      configFields: schema$b(),\n      partFields: parts$7(),\n      factory: factory$8,\n      apis: {\n        setGroups: (apis, toolbar, groups) => {\n          apis.setGroups(toolbar, groups);\n        },\n        refresh: (apis, toolbar) => {\n          apis.refresh(toolbar);\n        },\n        reposition: (apis, toolbar) => {\n          apis.reposition(toolbar);\n        },\n        toggle: (apis, toolbar) => {\n          apis.toggle(toolbar);\n        },\n        isOpen: (apis, toolbar) => apis.isOpen(toolbar),\n        getOverflow: (apis, toolbar) => apis.getOverflow(toolbar)\n      }\n    });\n\n    const schema$8 = constant$1([\n      markers$1([\n        'closedClass',\n        'openClass',\n        'shrinkingClass',\n        'growingClass',\n        'overflowToggledClass'\n      ]),\n      onHandler('onOpened'),\n      onHandler('onClosed')\n    ].concat(schema$c()));\n    const parts$4 = constant$1([\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'primary'\n      }),\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'overflow',\n        overrides: detail => {\n          return {\n            toolbarBehaviours: derive$1([\n              Sliding.config({\n                dimension: { property: 'height' },\n                closedClass: detail.markers.closedClass,\n                openClass: detail.markers.openClass,\n                shrinkingClass: detail.markers.shrinkingClass,\n                growingClass: detail.markers.growingClass,\n                onShrunk: comp => {\n                  getPart(comp, detail, 'overflow-button').each(button => {\n                    Toggling.off(button);\n                    Focusing.focus(button);\n                  });\n                  detail.onClosed(comp);\n                },\n                onGrown: comp => {\n                  Keying.focusIn(comp);\n                  detail.onOpened(comp);\n                },\n                onStartGrow: comp => {\n                  getPart(comp, detail, 'overflow-button').each(Toggling.on);\n                }\n              }),\n              Keying.config({\n                mode: 'acyclic',\n                onEscape: comp => {\n                  getPart(comp, detail, 'overflow-button').each(Focusing.focus);\n                  return Optional.some(true);\n                }\n              })\n            ])\n          };\n        }\n      }),\n      external({\n        name: 'overflow-button',\n        overrides: detail => ({\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleClass: detail.markers.overflowToggledClass,\n              aria: { mode: 'pressed' },\n              toggleOnExecute: false\n            })])\n        })\n      }),\n      external({ name: 'overflow-group' })\n    ]);\n\n    const isOpen = (toolbar, detail) => getPart(toolbar, detail, 'overflow').map(Sliding.hasGrown).getOr(false);\n    const toggleToolbar = (toolbar, detail) => {\n      getPart(toolbar, detail, 'overflow-button').bind(() => getPart(toolbar, detail, 'overflow')).each(overf => {\n        refresh(toolbar, detail);\n        Sliding.toggleGrow(overf);\n      });\n    };\n    const refresh = (toolbar, detail) => {\n      getPart(toolbar, detail, 'overflow').each(overflow => {\n        refresh$2(toolbar, detail, groups => {\n          const builtGroups = map$2(groups, g => premade(g));\n          Toolbar.setGroups(overflow, builtGroups);\n        });\n        getPart(toolbar, detail, 'overflow-button').each(button => {\n          if (Sliding.hasGrown(overflow)) {\n            Toggling.on(button);\n          }\n        });\n        Sliding.refresh(overflow);\n      });\n    };\n    const factory$7 = (detail, components, spec, externals) => {\n      const toolbarToggleEvent = 'alloy.toolbar.toggle';\n      const doSetGroups = (toolbar, groups) => {\n        const built = map$2(groups, toolbar.getSystem().build);\n        detail.builtGroups.set(built);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.splitToolbarBehaviours, [\n          Coupling.config({\n            others: {\n              overflowGroup: toolbar => {\n                return ToolbarGroup.sketch({\n                  ...externals['overflow-group'](),\n                  items: [Button.sketch({\n                      ...externals['overflow-button'](),\n                      action: _button => {\n                        emit(toolbar, toolbarToggleEvent);\n                      }\n                    })]\n                });\n              }\n            }\n          }),\n          config('toolbar-toggle-events', [run$1(toolbarToggleEvent, toolbar => {\n              toggleToolbar(toolbar, detail);\n            })])\n        ]),\n        apis: {\n          setGroups: (toolbar, groups) => {\n            doSetGroups(toolbar, groups);\n            refresh(toolbar, detail);\n          },\n          refresh: toolbar => refresh(toolbar, detail),\n          toggle: toolbar => toggleToolbar(toolbar, detail),\n          isOpen: toolbar => isOpen(toolbar, detail)\n        },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    const SplitSlidingToolbar = composite({\n      name: 'SplitSlidingToolbar',\n      configFields: schema$8(),\n      partFields: parts$4(),\n      factory: factory$7,\n      apis: {\n        setGroups: (apis, toolbar, groups) => {\n          apis.setGroups(toolbar, groups);\n        },\n        refresh: (apis, toolbar) => {\n          apis.refresh(toolbar);\n        },\n        toggle: (apis, toolbar) => {\n          apis.toggle(toolbar);\n        },\n        isOpen: (apis, toolbar) => apis.isOpen(toolbar)\n      }\n    });\n\n    const renderToolbarGroupCommon = toolbarGroup => {\n      const attributes = toolbarGroup.title.fold(() => ({}), title => ({ attributes: { title } }));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__group'],\n          ...attributes\n        },\n        components: [ToolbarGroup.parts.items({})],\n        items: toolbarGroup.items,\n        markers: { itemSelector: '*:not(.tox-split-button) > .tox-tbtn:not([disabled]), ' + '.tox-split-button:not([disabled]), ' + '.tox-toolbar-nav-js:not([disabled])' },\n        tgroupBehaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({})\n        ])\n      };\n    };\n    const renderToolbarGroup = toolbarGroup => ToolbarGroup.sketch(renderToolbarGroupCommon(toolbarGroup));\n    const getToolbarBehaviours = (toolbarSpec, modeName) => {\n      const onAttached = runOnAttached(component => {\n        const groups = map$2(toolbarSpec.initGroups, renderToolbarGroup);\n        Toolbar.setGroups(component, groups);\n      });\n      return derive$1([\n        DisablingConfigs.toolbarButton(toolbarSpec.providers.isDisabled),\n        receivingConfig(),\n        Keying.config({\n          mode: modeName,\n          onEscape: toolbarSpec.onEscape,\n          selector: '.tox-toolbar__group'\n        }),\n        config('toolbar-events', [onAttached])\n      ]);\n    };\n    const renderMoreToolbarCommon = toolbarSpec => {\n      const modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n      return {\n        uid: toolbarSpec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar-overlord']\n        },\n        parts: {\n          'overflow-group': renderToolbarGroupCommon({\n            title: Optional.none(),\n            items: []\n          }),\n          'overflow-button': renderIconButtonSpec({\n            name: 'more',\n            icon: Optional.some('more-drawer'),\n            enabled: true,\n            tooltip: Optional.some('More...'),\n            primary: false,\n            buttonType: Optional.none(),\n            borderless: false\n          }, Optional.none(), toolbarSpec.providers)\n        },\n        splitToolbarBehaviours: getToolbarBehaviours(toolbarSpec, modeName)\n      };\n    };\n    const renderFloatingMoreToolbar = toolbarSpec => {\n      const baseSpec = renderMoreToolbarCommon(toolbarSpec);\n      const overflowXOffset = 4;\n      const primary = SplitFloatingToolbar.parts.primary({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__primary']\n        }\n      });\n      return SplitFloatingToolbar.sketch({\n        ...baseSpec,\n        lazySink: toolbarSpec.getSink,\n        getOverflowBounds: () => {\n          const headerElem = toolbarSpec.moreDrawerData.lazyHeader().element;\n          const headerBounds = absolute$2(headerElem);\n          const docElem = documentElement(headerElem);\n          const docBounds = absolute$2(docElem);\n          const height = Math.max(docElem.dom.scrollHeight, docBounds.height);\n          return bounds(headerBounds.x + overflowXOffset, docBounds.y, headerBounds.width - overflowXOffset * 2, height);\n        },\n        parts: {\n          ...baseSpec.parts,\n          overflow: {\n            dom: {\n              tag: 'div',\n              classes: ['tox-toolbar__overflow'],\n              attributes: toolbarSpec.attributes\n            }\n          }\n        },\n        components: [primary],\n        markers: { overflowToggledClass: 'tox-tbtn--enabled' }\n      });\n    };\n    const renderSlidingMoreToolbar = toolbarSpec => {\n      const primary = SplitSlidingToolbar.parts.primary({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__primary']\n        }\n      });\n      const overflow = SplitSlidingToolbar.parts.overflow({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__overflow']\n        }\n      });\n      const baseSpec = renderMoreToolbarCommon(toolbarSpec);\n      return SplitSlidingToolbar.sketch({\n        ...baseSpec,\n        components: [\n          primary,\n          overflow\n        ],\n        markers: {\n          openClass: 'tox-toolbar__overflow--open',\n          closedClass: 'tox-toolbar__overflow--closed',\n          growingClass: 'tox-toolbar__overflow--growing',\n          shrinkingClass: 'tox-toolbar__overflow--shrinking',\n          overflowToggledClass: 'tox-tbtn--enabled'\n        },\n        onOpened: comp => {\n          comp.getSystem().broadcastOn([toolbarHeightChange()], { type: 'opened' });\n        },\n        onClosed: comp => {\n          comp.getSystem().broadcastOn([toolbarHeightChange()], { type: 'closed' });\n        }\n      });\n    };\n    const renderToolbar = toolbarSpec => {\n      const modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n      return Toolbar.sketch({\n        uid: toolbarSpec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar'].concat(toolbarSpec.type === ToolbarMode$1.scrolling ? ['tox-toolbar--scrolling'] : [])\n        },\n        components: [Toolbar.parts.groups({})],\n        toolbarBehaviours: getToolbarBehaviours(toolbarSpec, modeName)\n      });\n    };\n\n    const factory$6 = (detail, components, _spec) => {\n      const apis = {\n        getSocket: comp => {\n          return parts$a.getPart(comp, detail, 'socket');\n        },\n        setSidebar: (comp, panelConfigs, showSidebar) => {\n          parts$a.getPart(comp, detail, 'sidebar').each(sidebar => setSidebar(sidebar, panelConfigs, showSidebar));\n        },\n        toggleSidebar: (comp, name) => {\n          parts$a.getPart(comp, detail, 'sidebar').each(sidebar => toggleSidebar(sidebar, name));\n        },\n        whichSidebar: comp => {\n          return parts$a.getPart(comp, detail, 'sidebar').bind(whichSidebar).getOrNull();\n        },\n        getHeader: comp => {\n          return parts$a.getPart(comp, detail, 'header');\n        },\n        getToolbar: comp => {\n          return parts$a.getPart(comp, detail, 'toolbar');\n        },\n        setToolbar: (comp, groups) => {\n          parts$a.getPart(comp, detail, 'toolbar').each(toolbar => {\n            const renderedGroups = map$2(groups, renderToolbarGroup);\n            toolbar.getApis().setGroups(toolbar, renderedGroups);\n          });\n        },\n        setToolbars: (comp, toolbars) => {\n          parts$a.getPart(comp, detail, 'multiple-toolbar').each(mToolbar => {\n            const renderedToolbars = map$2(toolbars, g => map$2(g, renderToolbarGroup));\n            CustomList.setItems(mToolbar, renderedToolbars);\n          });\n        },\n        refreshToolbar: comp => {\n          const toolbar = parts$a.getPart(comp, detail, 'toolbar');\n          toolbar.each(toolbar => toolbar.getApis().refresh(toolbar));\n        },\n        toggleToolbarDrawer: comp => {\n          parts$a.getPart(comp, detail, 'toolbar').each(toolbar => {\n            mapFrom(toolbar.getApis().toggle, toggle => toggle(toolbar));\n          });\n        },\n        isToolbarDrawerToggled: comp => {\n          return parts$a.getPart(comp, detail, 'toolbar').bind(toolbar => Optional.from(toolbar.getApis().isOpen).map(isOpen => isOpen(toolbar))).getOr(false);\n        },\n        getThrobber: comp => {\n          return parts$a.getPart(comp, detail, 'throbber');\n        },\n        focusToolbar: comp => {\n          const optToolbar = parts$a.getPart(comp, detail, 'toolbar').orThunk(() => parts$a.getPart(comp, detail, 'multiple-toolbar'));\n          optToolbar.each(toolbar => {\n            Keying.focusIn(toolbar);\n          });\n        },\n        setMenubar: (comp, menus) => {\n          parts$a.getPart(comp, detail, 'menubar').each(menubar => {\n            SilverMenubar.setMenus(menubar, menus);\n          });\n        },\n        focusMenubar: comp => {\n          parts$a.getPart(comp, detail, 'menubar').each(menubar => {\n            SilverMenubar.focus(menubar);\n          });\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        apis,\n        behaviours: detail.behaviours\n      };\n    };\n    const partMenubar = partType.optional({\n      factory: SilverMenubar,\n      name: 'menubar',\n      schema: [required$1('backstage')]\n    });\n    const toolbarFactory = spec => {\n      if (spec.type === ToolbarMode$1.sliding) {\n        return renderSlidingMoreToolbar;\n      } else if (spec.type === ToolbarMode$1.floating) {\n        return renderFloatingMoreToolbar;\n      } else {\n        return renderToolbar;\n      }\n    };\n    const partMultipleToolbar = partType.optional({\n      factory: {\n        sketch: spec => CustomList.sketch({\n          uid: spec.uid,\n          dom: spec.dom,\n          listBehaviours: derive$1([Keying.config({\n              mode: 'acyclic',\n              selector: '.tox-toolbar'\n            })]),\n          makeItem: () => renderToolbar({\n            type: spec.type,\n            uid: generate$6('multiple-toolbar-item'),\n            cyclicKeying: false,\n            initGroups: [],\n            providers: spec.providers,\n            onEscape: () => {\n              spec.onEscape();\n              return Optional.some(true);\n            }\n          }),\n          setupItem: (_mToolbar, tc, data, _index) => {\n            Toolbar.setGroups(tc, data);\n          },\n          shell: true\n        })\n      },\n      name: 'multiple-toolbar',\n      schema: [\n        required$1('dom'),\n        required$1('onEscape')\n      ]\n    });\n    const partToolbar = partType.optional({\n      factory: {\n        sketch: spec => {\n          const renderer = toolbarFactory(spec);\n          const toolbarSpec = {\n            type: spec.type,\n            uid: spec.uid,\n            onEscape: () => {\n              spec.onEscape();\n              return Optional.some(true);\n            },\n            cyclicKeying: false,\n            initGroups: [],\n            getSink: spec.getSink,\n            providers: spec.providers,\n            moreDrawerData: {\n              lazyToolbar: spec.lazyToolbar,\n              lazyMoreButton: spec.lazyMoreButton,\n              lazyHeader: spec.lazyHeader\n            },\n            attributes: spec.attributes\n          };\n          return renderer(toolbarSpec);\n        }\n      },\n      name: 'toolbar',\n      schema: [\n        required$1('dom'),\n        required$1('onEscape'),\n        required$1('getSink')\n      ]\n    });\n    const partHeader = partType.optional({\n      factory: { sketch: renderHeader },\n      name: 'header',\n      schema: [required$1('dom')]\n    });\n    const partPromotion = partType.optional({\n      factory: { sketch: renderPromotion },\n      name: 'promotion',\n      schema: [required$1('dom')]\n    });\n    const partSocket = partType.optional({\n      name: 'socket',\n      schema: [required$1('dom')]\n    });\n    const partSidebar = partType.optional({\n      factory: { sketch: renderSidebar },\n      name: 'sidebar',\n      schema: [required$1('dom')]\n    });\n    const partThrobber = partType.optional({\n      factory: { sketch: renderThrobber },\n      name: 'throbber',\n      schema: [required$1('dom')]\n    });\n    var OuterContainer = composite({\n      name: 'OuterContainer',\n      factory: factory$6,\n      configFields: [\n        required$1('dom'),\n        required$1('behaviours')\n      ],\n      partFields: [\n        partHeader,\n        partMenubar,\n        partToolbar,\n        partMultipleToolbar,\n        partSocket,\n        partSidebar,\n        partPromotion,\n        partThrobber\n      ],\n      apis: {\n        getSocket: (apis, comp) => {\n          return apis.getSocket(comp);\n        },\n        setSidebar: (apis, comp, panelConfigs, showSidebar) => {\n          apis.setSidebar(comp, panelConfigs, showSidebar);\n        },\n        toggleSidebar: (apis, comp, name) => {\n          apis.toggleSidebar(comp, name);\n        },\n        whichSidebar: (apis, comp) => {\n          return apis.whichSidebar(comp);\n        },\n        getHeader: (apis, comp) => {\n          return apis.getHeader(comp);\n        },\n        getToolbar: (apis, comp) => {\n          return apis.getToolbar(comp);\n        },\n        setToolbar: (apis, comp, groups) => {\n          apis.setToolbar(comp, groups);\n        },\n        setToolbars: (apis, comp, toolbars) => {\n          apis.setToolbars(comp, toolbars);\n        },\n        refreshToolbar: (apis, comp) => {\n          return apis.refreshToolbar(comp);\n        },\n        toggleToolbarDrawer: (apis, comp) => {\n          apis.toggleToolbarDrawer(comp);\n        },\n        isToolbarDrawerToggled: (apis, comp) => {\n          return apis.isToolbarDrawerToggled(comp);\n        },\n        getThrobber: (apis, comp) => {\n          return apis.getThrobber(comp);\n        },\n        setMenubar: (apis, comp, menus) => {\n          apis.setMenubar(comp, menus);\n        },\n        focusMenubar: (apis, comp) => {\n          apis.focusMenubar(comp);\n        },\n        focusToolbar: (apis, comp) => {\n          apis.focusToolbar(comp);\n        }\n      }\n    });\n\n    const defaultMenubar = 'file edit view insert format tools table help';\n    const defaultMenus = {\n      file: {\n        title: 'File',\n        items: 'newdocument restoredraft | preview | export print | deleteallconversations'\n      },\n      edit: {\n        title: 'Edit',\n        items: 'undo redo | cut copy paste pastetext | selectall | searchreplace'\n      },\n      view: {\n        title: 'View',\n        items: 'code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments'\n      },\n      insert: {\n        title: 'Insert',\n        items: 'image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime'\n      },\n      format: {\n        title: 'Format',\n        items: 'bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat'\n      },\n      tools: {\n        title: 'Tools',\n        items: 'spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code wordcount'\n      },\n      table: {\n        title: 'Table',\n        items: 'inserttable | cell row column | advtablesort | tableprops deletetable'\n      },\n      help: {\n        title: 'Help',\n        items: 'help'\n      }\n    };\n    const make = (menu, registry, editor) => {\n      const removedMenuItems = getRemovedMenuItems(editor).split(/[ ,]/);\n      return {\n        text: menu.title,\n        getItems: () => bind$3(menu.items, i => {\n          const itemName = i.toLowerCase();\n          if (itemName.trim().length === 0) {\n            return [];\n          } else if (exists(removedMenuItems, removedMenuItem => removedMenuItem === itemName)) {\n            return [];\n          } else if (itemName === 'separator' || itemName === '|') {\n            return [{ type: 'separator' }];\n          } else if (registry.menuItems[itemName]) {\n            return [registry.menuItems[itemName]];\n          } else {\n            return [];\n          }\n        })\n      };\n    };\n    const parseItemsString = items => {\n      return items.split(' ');\n    };\n    const identifyMenus = (editor, registry) => {\n      const rawMenuData = {\n        ...defaultMenus,\n        ...registry.menus\n      };\n      const userDefinedMenus = keys(registry.menus).length > 0;\n      const menubar = registry.menubar === undefined || registry.menubar === true ? parseItemsString(defaultMenubar) : parseItemsString(registry.menubar === false ? '' : registry.menubar);\n      const validMenus = filter$2(menubar, menuName => {\n        const isDefaultMenu = has$2(defaultMenus, menuName);\n        if (userDefinedMenus) {\n          return isDefaultMenu || get$g(registry.menus, menuName).exists(menu => has$2(menu, 'items'));\n        } else {\n          return isDefaultMenu;\n        }\n      });\n      const menus = map$2(validMenus, menuName => {\n        const menuData = rawMenuData[menuName];\n        return make({\n          title: menuData.title,\n          items: parseItemsString(menuData.items)\n        }, registry, editor);\n      });\n      return filter$2(menus, menu => {\n        const isNotSeparator = item => isString(item) || item.type !== 'separator';\n        return menu.getItems().length > 0 && exists(menu.getItems(), isNotSeparator);\n      });\n    };\n\n    const fireSkinLoaded = editor => {\n      const done = () => {\n        editor._skinLoaded = true;\n        fireSkinLoaded$1(editor);\n      };\n      return () => {\n        if (editor.initialized) {\n          done();\n        } else {\n          editor.on('init', done);\n        }\n      };\n    };\n    const fireSkinLoadError = (editor, err) => () => fireSkinLoadError$1(editor, { message: err });\n\n    const loadStylesheet = (editor, stylesheetUrl, styleSheetLoader) => {\n      editor.on('remove', () => styleSheetLoader.unload(stylesheetUrl));\n      return styleSheetLoader.load(stylesheetUrl);\n    };\n    const loadUiSkins = (editor, skinUrl) => {\n      const skinUiCss = skinUrl + '/skin.min.css';\n      return loadStylesheet(editor, skinUiCss, editor.ui.styleSheetLoader);\n    };\n    const loadShadowDomUiSkins = (editor, skinUrl) => {\n      const isInShadowRoot$1 = isInShadowRoot(SugarElement.fromDom(editor.getElement()));\n      if (isInShadowRoot$1) {\n        const shadowDomSkinCss = skinUrl + '/skin.shadowdom.min.css';\n        return loadStylesheet(editor, shadowDomSkinCss, global$7.DOM.styleSheetLoader);\n      } else {\n        return Promise.resolve();\n      }\n    };\n    const loadSkin = (isInline, editor) => {\n      const skinUrl = getSkinUrl(editor);\n      if (skinUrl) {\n        editor.contentCSS.push(skinUrl + (isInline ? '/content.inline' : '/content') + '.min.css');\n      }\n      if (!isSkinDisabled(editor) && isString(skinUrl)) {\n        Promise.all([\n          loadUiSkins(editor, skinUrl),\n          loadShadowDomUiSkins(editor, skinUrl)\n        ]).then(fireSkinLoaded(editor), fireSkinLoadError(editor, 'Skin could not be loaded'));\n      } else {\n        fireSkinLoaded(editor)();\n      }\n    };\n    const iframe = curry(loadSkin, false);\n    const inline = curry(loadSkin, true);\n\n    const onSetupFormatToggle = (editor, name) => api => {\n      const boundCallback = unbindable();\n      const init = () => {\n        api.setActive(editor.formatter.match(name));\n        const binding = editor.formatter.formatChanged(name, api.setActive);\n        boundCallback.set(binding);\n      };\n      editor.initialized ? init() : editor.once('init', init);\n      return () => {\n        editor.off('init', init);\n        boundCallback.clear();\n      };\n    };\n    const onSetupEvent = (editor, event, f) => api => {\n      const handleEvent = () => f(api);\n      const init = () => {\n        f(api);\n        editor.on(event, handleEvent);\n      };\n      editor.initialized ? init() : editor.once('init', init);\n      return () => {\n        editor.off('init', init);\n        editor.off(event, handleEvent);\n      };\n    };\n    const onActionToggleFormat$1 = editor => rawItem => () => {\n      editor.undoManager.transact(() => {\n        editor.focus();\n        editor.execCommand('mceToggleFormat', false, rawItem.format);\n      });\n    };\n    const onActionExecCommand = (editor, command) => () => editor.execCommand(command);\n\n    const generateSelectItems = (_editor, backstage, spec) => {\n      const generateItem = (rawItem, response, invalid, value) => {\n        const translatedText = backstage.shared.providers.translate(rawItem.title);\n        if (rawItem.type === 'separator') {\n          return Optional.some({\n            type: 'separator',\n            text: translatedText\n          });\n        } else if (rawItem.type === 'submenu') {\n          const items = bind$3(rawItem.getStyleItems(), si => validate(si, response, value));\n          if (response === 0 && items.length <= 0) {\n            return Optional.none();\n          } else {\n            return Optional.some({\n              type: 'nestedmenuitem',\n              text: translatedText,\n              enabled: items.length > 0,\n              getSubmenuItems: () => bind$3(rawItem.getStyleItems(), si => validate(si, response, value))\n            });\n          }\n        } else {\n          return Optional.some({\n            type: 'togglemenuitem',\n            text: translatedText,\n            icon: rawItem.icon,\n            active: rawItem.isSelected(value),\n            enabled: !invalid,\n            onAction: spec.onAction(rawItem),\n            ...rawItem.getStylePreview().fold(() => ({}), preview => ({ meta: { style: preview } }))\n          });\n        }\n      };\n      const validate = (item, response, value) => {\n        const invalid = item.type === 'formatter' && spec.isInvalid(item);\n        if (response === 0) {\n          return invalid ? [] : generateItem(item, response, false, value).toArray();\n        } else {\n          return generateItem(item, response, invalid, value).toArray();\n        }\n      };\n      const validateItems = preItems => {\n        const value = spec.getCurrentValue();\n        const response = spec.shouldHide ? 0 : 1;\n        return bind$3(preItems, item => validate(item, response, value));\n      };\n      const getFetch = (backstage, getStyleItems) => (comp, callback) => {\n        const preItems = getStyleItems();\n        const items = validateItems(preItems);\n        const menu = build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n          isHorizontalMenu: false,\n          search: Optional.none()\n        });\n        callback(menu);\n      };\n      return {\n        validateItems,\n        getFetch\n      };\n    };\n    const createMenuItems = (editor, backstage, spec) => {\n      const dataset = spec.dataset;\n      const getStyleItems = dataset.type === 'basic' ? () => map$2(dataset.data, d => processBasic(d, spec.isSelectedFor, spec.getPreviewFor)) : dataset.getData;\n      return {\n        items: generateSelectItems(editor, backstage, spec),\n        getStyleItems\n      };\n    };\n    const createSelectButton = (editor, backstage, spec) => {\n      const {items, getStyleItems} = createMenuItems(editor, backstage, spec);\n      const getApi = comp => ({ getComponent: constant$1(comp) });\n      const onSetup = onSetupEvent(editor, 'NodeChange', api => {\n        const comp = api.getComponent();\n        spec.updateText(comp);\n      });\n      return renderCommonDropdown({\n        text: spec.icon.isSome() ? Optional.none() : spec.text,\n        icon: spec.icon,\n        tooltip: Optional.from(spec.tooltip),\n        role: Optional.none(),\n        fetch: items.getFetch(backstage, getStyleItems),\n        onSetup,\n        getApi,\n        columns: 1,\n        presets: 'normal',\n        classes: spec.icon.isSome() ? [] : ['bespoke'],\n        dropdownBehaviours: []\n      }, 'tox-tbtn', backstage.shared);\n    };\n\n    const process = rawFormats => map$2(rawFormats, item => {\n      let title = item, format = item;\n      const values = item.split('=');\n      if (values.length > 1) {\n        title = values[0];\n        format = values[1];\n      }\n      return {\n        title,\n        format\n      };\n    });\n    const buildBasicStaticDataset = data => ({\n      type: 'basic',\n      data\n    });\n    var Delimiter;\n    (function (Delimiter) {\n      Delimiter[Delimiter['SemiColon'] = 0] = 'SemiColon';\n      Delimiter[Delimiter['Space'] = 1] = 'Space';\n    }(Delimiter || (Delimiter = {})));\n    const split = (rawFormats, delimiter) => {\n      if (delimiter === Delimiter.SemiColon) {\n        return rawFormats.replace(/;$/, '').split(';');\n      } else {\n        return rawFormats.split(' ');\n      }\n    };\n    const buildBasicSettingsDataset = (editor, settingName, delimiter) => {\n      const rawFormats = editor.options.get(settingName);\n      const data = process(split(rawFormats, delimiter));\n      return {\n        type: 'basic',\n        data\n      };\n    };\n\n    const alignMenuItems = [\n      {\n        title: 'Left',\n        icon: 'align-left',\n        format: 'alignleft',\n        command: 'JustifyLeft'\n      },\n      {\n        title: 'Center',\n        icon: 'align-center',\n        format: 'aligncenter',\n        command: 'JustifyCenter'\n      },\n      {\n        title: 'Right',\n        icon: 'align-right',\n        format: 'alignright',\n        command: 'JustifyRight'\n      },\n      {\n        title: 'Justify',\n        icon: 'align-justify',\n        format: 'alignjustify',\n        command: 'JustifyFull'\n      }\n    ];\n    const getSpec$4 = editor => {\n      const getMatchingValue = () => find$5(alignMenuItems, item => editor.formatter.match(item.format));\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = _format => Optional.none;\n      const updateSelectMenuIcon = comp => {\n        const match = getMatchingValue();\n        const alignment = match.fold(constant$1('left'), item => item.title.toLowerCase());\n        emitWith(comp, updateMenuIcon, { icon: `align-${ alignment }` });\n      };\n      const dataset = buildBasicStaticDataset(alignMenuItems);\n      const onAction = rawItem => () => find$5(alignMenuItems, item => item.format === rawItem.format).each(item => editor.execCommand(item.command));\n      return {\n        tooltip: 'Align',\n        text: Optional.none(),\n        icon: Optional.some('align-left'),\n        isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor,\n        onAction,\n        updateText: updateSelectMenuIcon,\n        dataset,\n        shouldHide: false,\n        isInvalid: item => !editor.formatter.canApply(item.format)\n      };\n    };\n    const createAlignButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$4(editor));\n    const createAlignMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(editor, backstage, getSpec$4(editor));\n      editor.ui.registry.addNestedMenuItem('align', {\n        text: backstage.shared.providers.translate('Align'),\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const findNearest = (editor, getStyles) => {\n      const styles = getStyles();\n      const formats = map$2(styles, style => style.format);\n      return Optional.from(editor.formatter.closest(formats)).bind(fmt => find$5(styles, data => data.format === fmt)).orThunk(() => someIf(editor.formatter.match('p'), {\n        title: 'Paragraph',\n        format: 'p'\n      }));\n    };\n\n    const getSpec$3 = editor => {\n      const fallbackFormat = 'Paragraph';\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = format => () => {\n        const fmt = editor.formatter.get(format);\n        if (fmt) {\n          return Optional.some({\n            tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n            styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n          });\n        } else {\n          return Optional.none();\n        }\n      };\n      const updateSelectMenuText = comp => {\n        const detectedFormat = findNearest(editor, () => dataset.data);\n        const text = detectedFormat.fold(constant$1(fallbackFormat), fmt => fmt.title);\n        emitWith(comp, updateMenuText, { text });\n      };\n      const dataset = buildBasicSettingsDataset(editor, 'block_formats', Delimiter.SemiColon);\n      return {\n        tooltip: 'Blocks',\n        text: Optional.some(fallbackFormat),\n        icon: Optional.none(),\n        isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor,\n        onAction: onActionToggleFormat$1(editor),\n        updateText: updateSelectMenuText,\n        dataset,\n        shouldHide: false,\n        isInvalid: item => !editor.formatter.canApply(item.format)\n      };\n    };\n    const createBlocksButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$3(editor));\n    const createBlocksMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(editor, backstage, getSpec$3(editor));\n      editor.ui.registry.addNestedMenuItem('blocks', {\n        text: 'Blocks',\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const systemStackFonts = [\n      '-apple-system',\n      'Segoe UI',\n      'Roboto',\n      'Helvetica Neue',\n      'sans-serif'\n    ];\n    const splitFonts = fontFamily => {\n      const fonts = fontFamily.split(/\\s*,\\s*/);\n      return map$2(fonts, font => font.replace(/^['\"]+|['\"]+$/g, ''));\n    };\n    const isSystemFontStack = fontFamily => {\n      const matchesSystemStack = () => {\n        const fonts = splitFonts(fontFamily.toLowerCase());\n        return forall(systemStackFonts, font => fonts.indexOf(font.toLowerCase()) > -1);\n      };\n      return fontFamily.indexOf('-apple-system') === 0 && matchesSystemStack();\n    };\n    const getSpec$2 = editor => {\n      const systemFont = 'System Font';\n      const getMatchingValue = () => {\n        const getFirstFont = fontFamily => fontFamily ? splitFonts(fontFamily)[0] : '';\n        const fontFamily = editor.queryCommandValue('FontName');\n        const items = dataset.data;\n        const font = fontFamily ? fontFamily.toLowerCase() : '';\n        const matchOpt = find$5(items, item => {\n          const format = item.format;\n          return format.toLowerCase() === font || getFirstFont(format).toLowerCase() === getFirstFont(font).toLowerCase();\n        }).orThunk(() => {\n          return someIf(isSystemFontStack(font), {\n            title: systemFont,\n            format: font\n          });\n        });\n        return {\n          matchOpt,\n          font: fontFamily\n        };\n      };\n      const isSelectedFor = item => valueOpt => valueOpt.exists(value => value.format === item);\n      const getCurrentValue = () => {\n        const {matchOpt} = getMatchingValue();\n        return matchOpt;\n      };\n      const getPreviewFor = item => () => Optional.some({\n        tag: 'div',\n        styles: item.indexOf('dings') === -1 ? { 'font-family': item } : {}\n      });\n      const onAction = rawItem => () => {\n        editor.undoManager.transact(() => {\n          editor.focus();\n          editor.execCommand('FontName', false, rawItem.format);\n        });\n      };\n      const updateSelectMenuText = comp => {\n        const {matchOpt, font} = getMatchingValue();\n        const text = matchOpt.fold(constant$1(font), item => item.title);\n        emitWith(comp, updateMenuText, { text });\n      };\n      const dataset = buildBasicSettingsDataset(editor, 'font_family_formats', Delimiter.SemiColon);\n      return {\n        tooltip: 'Fonts',\n        text: Optional.some(systemFont),\n        icon: Optional.none(),\n        isSelectedFor,\n        getCurrentValue,\n        getPreviewFor,\n        onAction,\n        updateText: updateSelectMenuText,\n        dataset,\n        shouldHide: false,\n        isInvalid: never\n      };\n    };\n    const createFontFamilyButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$2(editor));\n    const createFontFamilyMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(editor, backstage, getSpec$2(editor));\n      editor.ui.registry.addNestedMenuItem('fontfamily', {\n        text: backstage.shared.providers.translate('Fonts'),\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const legacyFontSizes = {\n      '8pt': '1',\n      '10pt': '2',\n      '12pt': '3',\n      '14pt': '4',\n      '18pt': '5',\n      '24pt': '6',\n      '36pt': '7'\n    };\n    const keywordFontSizes = {\n      'xx-small': '7pt',\n      'x-small': '8pt',\n      'small': '10pt',\n      'medium': '12pt',\n      'large': '14pt',\n      'x-large': '18pt',\n      'xx-large': '24pt'\n    };\n    const round = (number, precision) => {\n      const factor = Math.pow(10, precision);\n      return Math.round(number * factor) / factor;\n    };\n    const toPt = (fontSize, precision) => {\n      if (/[0-9.]+px$/.test(fontSize)) {\n        return round(parseInt(fontSize, 10) * 72 / 96, precision || 0) + 'pt';\n      } else {\n        return get$g(keywordFontSizes, fontSize).getOr(fontSize);\n      }\n    };\n    const toLegacy = fontSize => get$g(legacyFontSizes, fontSize).getOr('');\n    const getSpec$1 = editor => {\n      const getMatchingValue = () => {\n        let matchOpt = Optional.none();\n        const items = dataset.data;\n        const fontSize = editor.queryCommandValue('FontSize');\n        if (fontSize) {\n          for (let precision = 3; matchOpt.isNone() && precision >= 0; precision--) {\n            const pt = toPt(fontSize, precision);\n            const legacy = toLegacy(pt);\n            matchOpt = find$5(items, item => item.format === fontSize || item.format === pt || item.format === legacy);\n          }\n        }\n        return {\n          matchOpt,\n          size: fontSize\n        };\n      };\n      const isSelectedFor = item => valueOpt => valueOpt.exists(value => value.format === item);\n      const getCurrentValue = () => {\n        const {matchOpt} = getMatchingValue();\n        return matchOpt;\n      };\n      const getPreviewFor = constant$1(Optional.none);\n      const onAction = rawItem => () => {\n        editor.undoManager.transact(() => {\n          editor.focus();\n          editor.execCommand('FontSize', false, rawItem.format);\n        });\n      };\n      const updateSelectMenuText = comp => {\n        const {matchOpt, size} = getMatchingValue();\n        const text = matchOpt.fold(constant$1(size), match => match.title);\n        emitWith(comp, updateMenuText, { text });\n      };\n      const dataset = buildBasicSettingsDataset(editor, 'font_size_formats', Delimiter.Space);\n      return {\n        tooltip: 'Font sizes',\n        text: Optional.some('12pt'),\n        icon: Optional.none(),\n        isSelectedFor,\n        getPreviewFor,\n        getCurrentValue,\n        onAction,\n        updateText: updateSelectMenuText,\n        dataset,\n        shouldHide: false,\n        isInvalid: never\n      };\n    };\n    const createFontSizeButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$1(editor));\n    const createFontSizeMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(editor, backstage, getSpec$1(editor));\n      editor.ui.registry.addNestedMenuItem('fontsize', {\n        text: 'Font sizes',\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const getSpec = (editor, dataset) => {\n      const fallbackFormat = 'Paragraph';\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = format => () => {\n        const fmt = editor.formatter.get(format);\n        return fmt !== undefined ? Optional.some({\n          tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n          styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n        }) : Optional.none();\n      };\n      const updateSelectMenuText = comp => {\n        const getFormatItems = fmt => {\n          if (isNestedFormat(fmt)) {\n            return bind$3(fmt.items, getFormatItems);\n          } else if (isFormatReference(fmt)) {\n            return [{\n                title: fmt.title,\n                format: fmt.format\n              }];\n          } else {\n            return [];\n          }\n        };\n        const flattenedItems = bind$3(getStyleFormats(editor), getFormatItems);\n        const detectedFormat = findNearest(editor, constant$1(flattenedItems));\n        const text = detectedFormat.fold(constant$1(fallbackFormat), fmt => fmt.title);\n        emitWith(comp, updateMenuText, { text });\n      };\n      return {\n        tooltip: 'Formats',\n        text: Optional.some(fallbackFormat),\n        icon: Optional.none(),\n        isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor,\n        onAction: onActionToggleFormat$1(editor),\n        updateText: updateSelectMenuText,\n        shouldHide: shouldAutoHideStyleFormats(editor),\n        isInvalid: item => !editor.formatter.canApply(item.format),\n        dataset\n      };\n    };\n    const createStylesButton = (editor, backstage) => {\n      const dataset = {\n        type: 'advanced',\n        ...backstage.styles\n      };\n      return createSelectButton(editor, backstage, getSpec(editor, dataset));\n    };\n    const createStylesMenu = (editor, backstage) => {\n      const dataset = {\n        type: 'advanced',\n        ...backstage.styles\n      };\n      const menuItems = createMenuItems(editor, backstage, getSpec(editor, dataset));\n      editor.ui.registry.addNestedMenuItem('styles', {\n        text: 'Formats',\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const events$3 = (reflectingConfig, reflectingState) => {\n      const update = (component, data) => {\n        reflectingConfig.updateState.each(updateState => {\n          const newState = updateState(component, data);\n          reflectingState.set(newState);\n        });\n        reflectingConfig.renderComponents.each(renderComponents => {\n          const newComponents = renderComponents(data, reflectingState.get());\n          const replacer = reflectingConfig.reuseDom ? withReuse : withoutReuse;\n          replacer(component, newComponents);\n        });\n      };\n      return derive$2([\n        run$1(receive(), (component, message) => {\n          const receivingData = message;\n          if (!receivingData.universal) {\n            const channel = reflectingConfig.channel;\n            if (contains$2(receivingData.channels, channel)) {\n              update(component, receivingData.data);\n            }\n          }\n        }),\n        runOnAttached((comp, _se) => {\n          reflectingConfig.initialData.each(rawData => {\n            update(comp, rawData);\n          });\n        })\n      ]);\n    };\n\n    var ActiveReflecting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$3\n    });\n\n    const getState = (component, replaceConfig, reflectState) => reflectState;\n\n    var ReflectingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getState: getState\n    });\n\n    var ReflectingSchema = [\n      required$1('channel'),\n      option$3('renderComponents'),\n      option$3('updateState'),\n      option$3('initialData'),\n      defaultedBoolean('reuseDom', true)\n    ];\n\n    const init$3 = () => {\n      const cell = Cell(Optional.none());\n      const clear = () => cell.set(Optional.none());\n      const readState = () => cell.get().getOr('none');\n      return {\n        readState,\n        get: cell.get,\n        set: cell.set,\n        clear\n      };\n    };\n\n    var ReflectingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$3\n    });\n\n    const Reflecting = create$3({\n      fields: ReflectingSchema,\n      name: 'reflecting',\n      active: ActiveReflecting,\n      apis: ReflectingApis,\n      state: ReflectingState\n    });\n\n    const schema$7 = constant$1([\n      required$1('toggleClass'),\n      required$1('fetch'),\n      onStrictHandler('onExecute'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      schema$y(),\n      onStrictHandler('onItemExecute'),\n      option$3('lazySink'),\n      required$1('dom'),\n      onHandler('onOpen'),\n      field('splitDropdownBehaviours', [\n        Coupling,\n        Keying,\n        Focusing\n      ]),\n      defaulted('matchWidth', false),\n      defaulted('useMinWidth', false),\n      defaulted('eventOrder', {}),\n      option$3('role')\n    ].concat(sandboxFields()));\n    const arrowPart = required({\n      factory: Button,\n      schema: [required$1('dom')],\n      name: 'arrow',\n      defaults: () => {\n        return { buttonBehaviours: derive$1([Focusing.revoke()]) };\n      },\n      overrides: detail => {\n        return {\n          dom: {\n            tag: 'span',\n            attributes: { role: 'presentation' }\n          },\n          action: arrow => {\n            arrow.getSystem().getByUid(detail.uid).each(emitExecute);\n          },\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleOnExecute: false,\n              toggleClass: detail.toggleClass\n            })])\n        };\n      }\n    });\n    const buttonPart = required({\n      factory: Button,\n      schema: [required$1('dom')],\n      name: 'button',\n      defaults: () => {\n        return { buttonBehaviours: derive$1([Focusing.revoke()]) };\n      },\n      overrides: detail => {\n        return {\n          dom: {\n            tag: 'span',\n            attributes: { role: 'presentation' }\n          },\n          action: btn => {\n            btn.getSystem().getByUid(detail.uid).each(splitDropdown => {\n              detail.onExecute(splitDropdown, btn);\n            });\n          }\n        };\n      }\n    });\n    const parts$3 = constant$1([\n      arrowPart,\n      buttonPart,\n      optional({\n        factory: {\n          sketch: spec => {\n            return {\n              uid: spec.uid,\n              dom: {\n                tag: 'span',\n                styles: { display: 'none' },\n                attributes: { 'aria-hidden': 'true' },\n                innerHtml: spec.text\n              }\n            };\n          }\n        },\n        schema: [required$1('text')],\n        name: 'aria-descriptor'\n      }),\n      external({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        defaults: detail => {\n          return {\n            onExecute: (tmenu, item) => {\n              tmenu.getSystem().getByUid(detail.uid).each(splitDropdown => {\n                detail.onItemExecute(splitDropdown, tmenu, item);\n              });\n            }\n          };\n        }\n      }),\n      partType$1()\n    ]);\n\n    const factory$5 = (detail, components, spec, externals) => {\n      const switchToMenu = sandbox => {\n        Composing.getCurrent(sandbox).each(current => {\n          Highlighting.highlightFirst(current);\n          Keying.focusIn(current);\n        });\n      };\n      const action = component => {\n        const onOpenSync = switchToMenu;\n        togglePopup(detail, identity, component, externals, onOpenSync, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n      };\n      const openMenu = comp => {\n        action(comp);\n        return Optional.some(true);\n      };\n      const executeOnButton = comp => {\n        const button = getPartOrDie(comp, detail, 'button');\n        emitExecute(button);\n        return Optional.some(true);\n      };\n      const buttonEvents = {\n        ...derive$2([runOnAttached((component, _simulatedEvent) => {\n            const ariaDescriptor = getPart(component, detail, 'aria-descriptor');\n            ariaDescriptor.each(descriptor => {\n              const descriptorId = generate$6('aria');\n              set$9(descriptor.element, 'id', descriptorId);\n              set$9(component.element, 'aria-describedby', descriptorId);\n            });\n          })]),\n        ...events$a(Optional.some(action))\n      };\n      const apis = {\n        repositionMenus: comp => {\n          if (Toggling.isOn(comp)) {\n            repositionMenus(comp);\n          }\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        apis,\n        eventOrder: {\n          ...detail.eventOrder,\n          [execute$5()]: [\n            'disabling',\n            'toggling',\n            'alloy.base.behaviour'\n          ]\n        },\n        events: buttonEvents,\n        behaviours: augment(detail.splitDropdownBehaviours, [\n          Coupling.config({\n            others: {\n              sandbox: hotspot => {\n                const arrow = getPartOrDie(hotspot, detail, 'arrow');\n                const extras = {\n                  onOpen: () => {\n                    Toggling.on(arrow);\n                    Toggling.on(hotspot);\n                  },\n                  onClose: () => {\n                    Toggling.off(arrow);\n                    Toggling.off(hotspot);\n                  }\n                };\n                return makeSandbox$1(detail, hotspot, extras);\n              }\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            onSpace: executeOnButton,\n            onEnter: executeOnButton,\n            onDown: openMenu\n          }),\n          Focusing.config({}),\n          Toggling.config({\n            toggleOnExecute: false,\n            aria: { mode: 'expanded' }\n          })\n        ]),\n        domModification: {\n          attributes: {\n            'role': detail.role.getOr('button'),\n            'aria-haspopup': true\n          }\n        }\n      };\n    };\n    const SplitDropdown = composite({\n      name: 'SplitDropdown',\n      configFields: schema$7(),\n      partFields: parts$3(),\n      factory: factory$5,\n      apis: { repositionMenus: (apis, comp) => apis.repositionMenus(comp) }\n    });\n\n    const getButtonApi = component => ({\n      isEnabled: () => !Disabling.isDisabled(component),\n      setEnabled: state => Disabling.set(component, !state)\n    });\n    const getToggleApi = component => ({\n      setActive: state => {\n        Toggling.set(component, state);\n      },\n      isActive: () => Toggling.isOn(component),\n      isEnabled: () => !Disabling.isDisabled(component),\n      setEnabled: state => Disabling.set(component, !state)\n    });\n    const getTooltipAttributes = (tooltip, providersBackstage) => tooltip.map(tooltip => ({\n      'aria-label': providersBackstage.translate(tooltip),\n      'title': providersBackstage.translate(tooltip)\n    })).getOr({});\n    const focusButtonEvent = generate$6('focus-button');\n    const renderCommonStructure = (icon, text, tooltip, receiver, behaviours, providersBackstage) => {\n      return {\n        dom: {\n          tag: 'button',\n          classes: ['tox-tbtn'].concat(text.isSome() ? ['tox-tbtn--select'] : []),\n          attributes: getTooltipAttributes(tooltip, providersBackstage)\n        },\n        components: componentRenderPipeline([\n          icon.map(iconName => renderIconFromPack(iconName, providersBackstage.icons)),\n          text.map(text => renderLabel(text, 'tox-tbtn', providersBackstage))\n        ]),\n        eventOrder: {\n          [mousedown()]: [\n            'focusing',\n            'alloy.base.behaviour',\n            'common-button-display-events'\n          ]\n        },\n        buttonBehaviours: derive$1([\n          DisablingConfigs.toolbarButton(providersBackstage.isDisabled),\n          receivingConfig(),\n          config('common-button-display-events', [run$1(mousedown(), (button, se) => {\n              se.event.prevent();\n              emit(button, focusButtonEvent);\n            })])\n        ].concat(receiver.map(r => Reflecting.config({\n          channel: r,\n          initialData: {\n            icon,\n            text\n          },\n          renderComponents: (data, _state) => componentRenderPipeline([\n            data.icon.map(iconName => renderIconFromPack(iconName, providersBackstage.icons)),\n            data.text.map(text => renderLabel(text, 'tox-tbtn', providersBackstage))\n          ])\n        })).toArray()).concat(behaviours.getOr([])))\n      };\n    };\n    const renderFloatingToolbarButton = (spec, backstage, identifyButtons, attributes) => {\n      const sharedBackstage = backstage.shared;\n      return FloatingToolbarButton.sketch({\n        lazySink: sharedBackstage.getSink,\n        fetch: () => Future.nu(resolve => {\n          resolve(map$2(identifyButtons(spec.items), renderToolbarGroup));\n        }),\n        markers: { toggledClass: 'tox-tbtn--enabled' },\n        parts: {\n          button: renderCommonStructure(spec.icon, spec.text, spec.tooltip, Optional.none(), Optional.none(), sharedBackstage.providers),\n          toolbar: {\n            dom: {\n              tag: 'div',\n              classes: ['tox-toolbar__overflow'],\n              attributes\n            }\n          }\n        }\n      });\n    };\n    const renderCommonToolbarButton = (spec, specialisation, providersBackstage) => {\n      const editorOffCell = Cell(noop);\n      const structure = renderCommonStructure(spec.icon, spec.text, spec.tooltip, Optional.none(), Optional.none(), providersBackstage);\n      return Button.sketch({\n        dom: structure.dom,\n        components: structure.components,\n        eventOrder: toolbarButtonEventOrder,\n        buttonBehaviours: derive$1([\n          config('toolbar-button-events', [\n            onToolbarButtonExecute({\n              onAction: spec.onAction,\n              getApi: specialisation.getApi\n            }),\n            onControlAttached(specialisation, editorOffCell),\n            onControlDetached(specialisation, editorOffCell)\n          ]),\n          DisablingConfigs.toolbarButton(() => !spec.enabled || providersBackstage.isDisabled()),\n          receivingConfig()\n        ].concat(specialisation.toolbarButtonBehaviours))\n      });\n    };\n    const renderToolbarButton = (spec, providersBackstage) => renderToolbarButtonWith(spec, providersBackstage, []);\n    const renderToolbarButtonWith = (spec, providersBackstage, bonusEvents) => renderCommonToolbarButton(spec, {\n      toolbarButtonBehaviours: bonusEvents.length > 0 ? [config('toolbarButtonWith', bonusEvents)] : [],\n      getApi: getButtonApi,\n      onSetup: spec.onSetup\n    }, providersBackstage);\n    const renderToolbarToggleButton = (spec, providersBackstage) => renderToolbarToggleButtonWith(spec, providersBackstage, []);\n    const renderToolbarToggleButtonWith = (spec, providersBackstage, bonusEvents) => renderCommonToolbarButton(spec, {\n      toolbarButtonBehaviours: [\n        Replacing.config({}),\n        Toggling.config({\n          toggleClass: 'tox-tbtn--enabled',\n          aria: { mode: 'pressed' },\n          toggleOnExecute: false\n        })\n      ].concat(bonusEvents.length > 0 ? [config('toolbarToggleButtonWith', bonusEvents)] : []),\n      getApi: getToggleApi,\n      onSetup: spec.onSetup\n    }, providersBackstage);\n    const fetchChoices = (getApi, spec, providersBackstage) => comp => Future.nu(callback => spec.fetch(callback)).map(items => Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'), items, value => {\n      spec.onItemAction(getApi(comp), value);\n    }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, spec.select.getOr(never), providersBackstage), {\n      movement: deriveMenuMovement(spec.columns, spec.presets),\n      menuBehaviours: SimpleBehaviours.unnamedEvents(spec.columns !== 'auto' ? [] : [runOnAttached((comp, _se) => {\n          detectSize(comp, 4, classForPreset(spec.presets)).each(({numRows, numColumns}) => {\n            Keying.setGridSize(comp, numRows, numColumns);\n          });\n        })])\n    }))));\n    const renderSplitButton = (spec, sharedBackstage) => {\n      const displayChannel = generate$6('channel-update-split-dropdown-display');\n      const getApi = comp => ({\n        isEnabled: () => !Disabling.isDisabled(comp),\n        setEnabled: state => Disabling.set(comp, !state),\n        setIconFill: (id, value) => {\n          descendant(comp.element, 'svg path[id=\"' + id + '\"], rect[id=\"' + id + '\"]').each(underlinePath => {\n            set$9(underlinePath, 'fill', value);\n          });\n        },\n        setActive: state => {\n          set$9(comp.element, 'aria-pressed', state);\n          descendant(comp.element, 'span').each(button => {\n            comp.getSystem().getByDom(button).each(buttonComp => Toggling.set(buttonComp, state));\n          });\n        },\n        isActive: () => descendant(comp.element, 'span').exists(button => comp.getSystem().getByDom(button).exists(Toggling.isOn))\n      });\n      const editorOffCell = Cell(noop);\n      const specialisation = {\n        getApi,\n        onSetup: spec.onSetup\n      };\n      return SplitDropdown.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-split-button'],\n          attributes: {\n            'aria-pressed': false,\n            ...getTooltipAttributes(spec.tooltip, sharedBackstage.providers)\n          }\n        },\n        onExecute: button => {\n          spec.onAction(getApi(button));\n        },\n        onItemExecute: (_a, _b, _c) => {\n        },\n        splitDropdownBehaviours: derive$1([\n          DisablingConfigs.splitButton(sharedBackstage.providers.isDisabled),\n          receivingConfig(),\n          config('split-dropdown-events', [\n            run$1(focusButtonEvent, Focusing.focus),\n            onControlAttached(specialisation, editorOffCell),\n            onControlDetached(specialisation, editorOffCell)\n          ]),\n          Unselecting.config({})\n        ]),\n        eventOrder: {\n          [attachedToDom()]: [\n            'alloy.base.behaviour',\n            'split-dropdown-events'\n          ]\n        },\n        toggleClass: 'tox-tbtn--enabled',\n        lazySink: sharedBackstage.getSink,\n        fetch: fetchChoices(getApi, spec, sharedBackstage.providers),\n        parts: { menu: part(false, spec.columns, spec.presets) },\n        components: [\n          SplitDropdown.parts.button(renderCommonStructure(spec.icon, spec.text, Optional.none(), Optional.some(displayChannel), Optional.some([Toggling.config({\n              toggleClass: 'tox-tbtn--enabled',\n              toggleOnExecute: false\n            })]), sharedBackstage.providers)),\n          SplitDropdown.parts.arrow({\n            dom: {\n              tag: 'button',\n              classes: [\n                'tox-tbtn',\n                'tox-split-button__chevron'\n              ],\n              innerHtml: get$2('chevron-down', sharedBackstage.providers.icons)\n            },\n            buttonBehaviours: derive$1([\n              DisablingConfigs.splitButton(sharedBackstage.providers.isDisabled),\n              receivingConfig(),\n              addFocusableBehaviour()\n            ])\n          }),\n          SplitDropdown.parts['aria-descriptor']({ text: sharedBackstage.providers.translate('To open the popup, press Shift+Enter') })\n        ]\n      });\n    };\n\n    const defaultToolbar = [\n      {\n        name: 'history',\n        items: [\n          'undo',\n          'redo'\n        ]\n      },\n      {\n        name: 'styles',\n        items: ['styles']\n      },\n      {\n        name: 'formatting',\n        items: [\n          'bold',\n          'italic'\n        ]\n      },\n      {\n        name: 'alignment',\n        items: [\n          'alignleft',\n          'aligncenter',\n          'alignright',\n          'alignjustify'\n        ]\n      },\n      {\n        name: 'indentation',\n        items: [\n          'outdent',\n          'indent'\n        ]\n      },\n      {\n        name: 'permanent pen',\n        items: ['permanentpen']\n      },\n      {\n        name: 'comments',\n        items: ['addcomment']\n      }\n    ];\n    const renderFromBridge = (bridgeBuilder, render) => (spec, backstage, editor) => {\n      const internal = bridgeBuilder(spec).mapError(errInfo => formatError(errInfo)).getOrDie();\n      return render(internal, backstage, editor);\n    };\n    const types = {\n      button: renderFromBridge(createToolbarButton, (s, backstage) => renderToolbarButton(s, backstage.shared.providers)),\n      togglebutton: renderFromBridge(createToggleButton, (s, backstage) => renderToolbarToggleButton(s, backstage.shared.providers)),\n      menubutton: renderFromBridge(createMenuButton, (s, backstage) => renderMenuButton(s, 'tox-tbtn', backstage, Optional.none())),\n      splitbutton: renderFromBridge(createSplitButton, (s, backstage) => renderSplitButton(s, backstage.shared)),\n      grouptoolbarbutton: renderFromBridge(createGroupToolbarButton, (s, backstage, editor) => {\n        const buttons = editor.ui.registry.getAll().buttons;\n        const identify = toolbar => identifyButtons(editor, {\n          buttons,\n          toolbar,\n          allowToolbarGroups: false\n        }, backstage, Optional.none());\n        const attributes = { [Attribute]: backstage.shared.header.isPositionedAtTop() ? AttributeValue.TopToBottom : AttributeValue.BottomToTop };\n        switch (getToolbarMode(editor)) {\n        case ToolbarMode$1.floating:\n          return renderFloatingToolbarButton(s, backstage, identify, attributes);\n        default:\n          throw new Error('Toolbar groups are only supported when using floating toolbar mode');\n        }\n      })\n    };\n    const extractFrom = (spec, backstage, editor) => get$g(types, spec.type).fold(() => {\n      console.error('skipping button defined by', spec);\n      return Optional.none();\n    }, render => Optional.some(render(spec, backstage, editor)));\n    const bespokeButtons = {\n      styles: createStylesButton,\n      fontsize: createFontSizeButton,\n      fontfamily: createFontFamilyButton,\n      blocks: createBlocksButton,\n      align: createAlignButton\n    };\n    const removeUnusedDefaults = buttons => {\n      const filteredItemGroups = map$2(defaultToolbar, group => {\n        const items = filter$2(group.items, subItem => has$2(buttons, subItem) || has$2(bespokeButtons, subItem));\n        return {\n          name: group.name,\n          items\n        };\n      });\n      return filter$2(filteredItemGroups, group => group.items.length > 0);\n    };\n    const convertStringToolbar = strToolbar => {\n      const groupsStrings = strToolbar.split('|');\n      return map$2(groupsStrings, g => ({ items: g.trim().split(' ') }));\n    };\n    const isToolbarGroupSettingArray = toolbar => isArrayOf(toolbar, t => has$2(t, 'name') && has$2(t, 'items'));\n    const createToolbar = toolbarConfig => {\n      const toolbar = toolbarConfig.toolbar;\n      const buttons = toolbarConfig.buttons;\n      if (toolbar === false) {\n        return [];\n      } else if (toolbar === undefined || toolbar === true) {\n        return removeUnusedDefaults(buttons);\n      } else if (isString(toolbar)) {\n        return convertStringToolbar(toolbar);\n      } else if (isToolbarGroupSettingArray(toolbar)) {\n        return toolbar;\n      } else {\n        console.error('Toolbar type should be string, string[], boolean or ToolbarGroup[]');\n        return [];\n      }\n    };\n    const lookupButton = (editor, buttons, toolbarItem, allowToolbarGroups, backstage, prefixes) => get$g(buttons, toolbarItem.toLowerCase()).orThunk(() => prefixes.bind(ps => findMap(ps, prefix => get$g(buttons, prefix + toolbarItem.toLowerCase())))).fold(() => get$g(bespokeButtons, toolbarItem.toLowerCase()).map(r => r(editor, backstage)), spec => {\n      if (spec.type === 'grouptoolbarbutton' && !allowToolbarGroups) {\n        console.warn(`Ignoring the '${ toolbarItem }' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`);\n        return Optional.none();\n      } else {\n        return extractFrom(spec, backstage, editor);\n      }\n    });\n    const identifyButtons = (editor, toolbarConfig, backstage, prefixes) => {\n      const toolbarGroups = createToolbar(toolbarConfig);\n      const groups = map$2(toolbarGroups, group => {\n        const items = bind$3(group.items, toolbarItem => {\n          return toolbarItem.trim().length === 0 ? [] : lookupButton(editor, toolbarConfig.buttons, toolbarItem, toolbarConfig.allowToolbarGroups, backstage, prefixes).toArray();\n        });\n        return {\n          title: Optional.from(editor.translate(group.name)),\n          items\n        };\n      });\n      return filter$2(groups, group => group.items.length > 0);\n    };\n\n    const setToolbar = (editor, uiComponents, rawUiConfig, backstage) => {\n      const comp = uiComponents.outerContainer;\n      const toolbarConfig = rawUiConfig.toolbar;\n      const toolbarButtonsConfig = rawUiConfig.buttons;\n      if (isArrayOf(toolbarConfig, isString)) {\n        const toolbars = toolbarConfig.map(t => {\n          const config = {\n            toolbar: t,\n            buttons: toolbarButtonsConfig,\n            allowToolbarGroups: rawUiConfig.allowToolbarGroups\n          };\n          return identifyButtons(editor, config, backstage, Optional.none());\n        });\n        OuterContainer.setToolbars(comp, toolbars);\n      } else {\n        OuterContainer.setToolbar(comp, identifyButtons(editor, rawUiConfig, backstage, Optional.none()));\n      }\n    };\n\n    const detection = detect$1();\n    const isiOS12 = detection.os.isiOS() && detection.os.version.major <= 12;\n    const setupEvents$1 = (editor, uiComponents) => {\n      const dom = editor.dom;\n      let contentWindow = editor.getWin();\n      const initialDocEle = editor.getDoc().documentElement;\n      const lastWindowDimensions = Cell(SugarPosition(contentWindow.innerWidth, contentWindow.innerHeight));\n      const lastDocumentDimensions = Cell(SugarPosition(initialDocEle.offsetWidth, initialDocEle.offsetHeight));\n      const resizeWindow = () => {\n        const outer = lastWindowDimensions.get();\n        if (outer.left !== contentWindow.innerWidth || outer.top !== contentWindow.innerHeight) {\n          lastWindowDimensions.set(SugarPosition(contentWindow.innerWidth, contentWindow.innerHeight));\n          fireResizeContent(editor);\n        }\n      };\n      const resizeDocument = () => {\n        const docEle = editor.getDoc().documentElement;\n        const inner = lastDocumentDimensions.get();\n        if (inner.left !== docEle.offsetWidth || inner.top !== docEle.offsetHeight) {\n          lastDocumentDimensions.set(SugarPosition(docEle.offsetWidth, docEle.offsetHeight));\n          fireResizeContent(editor);\n        }\n      };\n      const scroll = e => {\n        fireScrollContent(editor, e);\n      };\n      dom.bind(contentWindow, 'resize', resizeWindow);\n      dom.bind(contentWindow, 'scroll', scroll);\n      const elementLoad = capture(SugarElement.fromDom(editor.getBody()), 'load', resizeDocument);\n      const mothership = uiComponents.uiMothership.element;\n      editor.on('hide', () => {\n        set$8(mothership, 'display', 'none');\n      });\n      editor.on('show', () => {\n        remove$6(mothership, 'display');\n      });\n      editor.on('NodeChange', resizeDocument);\n      editor.on('remove', () => {\n        elementLoad.unbind();\n        dom.unbind(contentWindow, 'resize', resizeWindow);\n        dom.unbind(contentWindow, 'scroll', scroll);\n        contentWindow = null;\n      });\n    };\n    const render$1 = (editor, uiComponents, rawUiConfig, backstage, args) => {\n      const lastToolbarWidth = Cell(0);\n      const outerContainer = uiComponents.outerContainer;\n      iframe(editor);\n      const eTargetNode = SugarElement.fromDom(args.targetNode);\n      const uiRoot = getContentContainer(getRootNode(eTargetNode));\n      attachSystemAfter(eTargetNode, uiComponents.mothership);\n      attachSystem(uiRoot, uiComponents.uiMothership);\n      editor.on('PostRender', () => {\n        OuterContainer.setSidebar(outerContainer, rawUiConfig.sidebar, getSidebarShow(editor));\n        setToolbar(editor, uiComponents, rawUiConfig, backstage);\n        lastToolbarWidth.set(editor.getWin().innerWidth);\n        OuterContainer.setMenubar(outerContainer, identifyMenus(editor, rawUiConfig));\n        setupEvents$1(editor, uiComponents);\n      });\n      const socket = OuterContainer.getSocket(outerContainer).getOrDie('Could not find expected socket element');\n      if (isiOS12) {\n        setAll(socket.element, {\n          'overflow': 'scroll',\n          '-webkit-overflow-scrolling': 'touch'\n        });\n        const limit = first(() => {\n          editor.dispatch('ScrollContent');\n        }, 20);\n        const unbinder = bind(socket.element, 'scroll', limit.throttle);\n        editor.on('remove', unbinder.unbind);\n      }\n      setupReadonlyModeSwitch(editor, uiComponents);\n      editor.addCommand('ToggleSidebar', (_ui, value) => {\n        OuterContainer.toggleSidebar(outerContainer, value);\n        editor.dispatch('ToggleSidebar');\n      });\n      editor.addQueryValueHandler('ToggleSidebar', () => {\n        var _a;\n        return (_a = OuterContainer.whichSidebar(outerContainer)) !== null && _a !== void 0 ? _a : '';\n      });\n      const toolbarMode = getToolbarMode(editor);\n      const refreshDrawer = () => {\n        OuterContainer.refreshToolbar(uiComponents.outerContainer);\n      };\n      if (toolbarMode === ToolbarMode$1.sliding || toolbarMode === ToolbarMode$1.floating) {\n        editor.on('ResizeWindow ResizeEditor ResizeContent', () => {\n          const width = editor.getWin().innerWidth;\n          if (width !== lastToolbarWidth.get()) {\n            refreshDrawer();\n            lastToolbarWidth.set(width);\n          }\n        });\n      }\n      const api = {\n        setEnabled: state => {\n          broadcastReadonly(uiComponents, !state);\n        },\n        isEnabled: () => !Disabling.isDisabled(outerContainer)\n      };\n      return {\n        iframeContainer: socket.element.dom,\n        editorContainer: outerContainer.element.dom,\n        api\n      };\n    };\n\n    var Iframe = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        render: render$1\n    });\n\n    const parseToInt = val => {\n      const re = /^[0-9\\.]+(|px)$/i;\n      if (re.test('' + val)) {\n        return Optional.some(parseInt('' + val, 10));\n      }\n      return Optional.none();\n    };\n    const numToPx = val => isNumber(val) ? val + 'px' : val;\n    const calcCappedSize = (size, minSize, maxSize) => {\n      const minOverride = minSize.filter(min => size < min);\n      const maxOverride = maxSize.filter(max => size > max);\n      return minOverride.or(maxOverride).getOr(size);\n    };\n\n    const getHeight = editor => {\n      const baseHeight = getHeightOption(editor);\n      const minHeight = getMinHeightOption(editor);\n      const maxHeight = getMaxHeightOption(editor);\n      return parseToInt(baseHeight).map(height => calcCappedSize(height, minHeight, maxHeight));\n    };\n    const getHeightWithFallback = editor => {\n      const height = getHeight(editor);\n      return height.getOr(getHeightOption(editor));\n    };\n    const getWidth = editor => {\n      const baseWidth = getWidthOption(editor);\n      const minWidth = getMinWidthOption(editor);\n      const maxWidth = getMaxWidthOption(editor);\n      return parseToInt(baseWidth).map(width => calcCappedSize(width, minWidth, maxWidth));\n    };\n    const getWidthWithFallback = editor => {\n      const width = getWidth(editor);\n      return width.getOr(getWidthOption(editor));\n    };\n\n    const {ToolbarLocation, ToolbarMode} = Options;\n    const InlineHeader = (editor, targetElm, uiComponents, backstage, floatContainer) => {\n      const {uiMothership, outerContainer} = uiComponents;\n      const DOM = global$7.DOM;\n      const useFixedToolbarContainer = useFixedContainer(editor);\n      const isSticky = isStickyToolbar(editor);\n      const editorMaxWidthOpt = getMaxWidthOption(editor).or(getWidth(editor));\n      const headerBackstage = backstage.shared.header;\n      const isPositionedAtTop = headerBackstage.isPositionedAtTop;\n      const toolbarMode = getToolbarMode(editor);\n      const isSplitToolbar = toolbarMode === ToolbarMode.sliding || toolbarMode === ToolbarMode.floating;\n      const visible = Cell(false);\n      const isVisible = () => visible.get() && !editor.removed;\n      const calcToolbarOffset = toolbar => isSplitToolbar ? toolbar.fold(constant$1(0), tbar => tbar.components().length > 1 ? get$d(tbar.components()[1].element) : 0) : 0;\n      const calcMode = container => {\n        switch (getToolbarLocation(editor)) {\n        case ToolbarLocation.auto:\n          const toolbar = OuterContainer.getToolbar(outerContainer);\n          const offset = calcToolbarOffset(toolbar);\n          const toolbarHeight = get$d(container.element) - offset;\n          const targetBounds = box$1(targetElm);\n          const roomAtTop = targetBounds.y > toolbarHeight;\n          if (roomAtTop) {\n            return 'top';\n          } else {\n            const doc = documentElement(targetElm);\n            const docHeight = Math.max(doc.dom.scrollHeight, get$d(doc));\n            const roomAtBottom = targetBounds.bottom < docHeight - toolbarHeight;\n            if (roomAtBottom) {\n              return 'bottom';\n            } else {\n              const winBounds = win();\n              const isRoomAtBottomViewport = winBounds.bottom < targetBounds.bottom - toolbarHeight;\n              return isRoomAtBottomViewport ? 'bottom' : 'top';\n            }\n          }\n        case ToolbarLocation.bottom:\n          return 'bottom';\n        case ToolbarLocation.top:\n        default:\n          return 'top';\n        }\n      };\n      const setupMode = mode => {\n        floatContainer.on(container => {\n          Docking.setModes(container, [mode]);\n          headerBackstage.setDockingMode(mode);\n          const verticalDir = isPositionedAtTop() ? AttributeValue.TopToBottom : AttributeValue.BottomToTop;\n          set$9(container.element, Attribute, verticalDir);\n        });\n      };\n      const updateChromeWidth = () => {\n        floatContainer.on(container => {\n          const maxWidth = editorMaxWidthOpt.getOrThunk(() => {\n            const bodyMargin = parseToInt(get$e(body(), 'margin-left')).getOr(0);\n            return get$c(body()) - absolute$3(targetElm).left + bodyMargin;\n          });\n          set$8(container.element, 'max-width', maxWidth + 'px');\n        });\n      };\n      const updateChromePosition = () => {\n        floatContainer.on(container => {\n          const toolbar = OuterContainer.getToolbar(outerContainer);\n          const offset = calcToolbarOffset(toolbar);\n          const targetBounds = box$1(targetElm);\n          const top = isPositionedAtTop() ? Math.max(targetBounds.y - get$d(container.element) + offset, 0) : targetBounds.bottom;\n          setAll(outerContainer.element, {\n            position: 'absolute',\n            top: Math.round(top) + 'px',\n            left: Math.round(targetBounds.x) + 'px'\n          });\n        });\n      };\n      const repositionPopups$1 = () => {\n        uiMothership.broadcastOn([repositionPopups()], {});\n      };\n      const updateChromeUi = (resetDocking = false) => {\n        if (!isVisible()) {\n          return;\n        }\n        if (!useFixedToolbarContainer) {\n          updateChromeWidth();\n        }\n        if (isSplitToolbar) {\n          OuterContainer.refreshToolbar(outerContainer);\n        }\n        if (!useFixedToolbarContainer) {\n          updateChromePosition();\n        }\n        if (isSticky) {\n          const action = resetDocking ? Docking.reset : Docking.refresh;\n          floatContainer.on(action);\n        }\n        repositionPopups$1();\n      };\n      const updateMode = (updateUi = true) => {\n        if (useFixedToolbarContainer || !isSticky || !isVisible()) {\n          return;\n        }\n        floatContainer.on(container => {\n          const currentMode = headerBackstage.getDockingMode();\n          const newMode = calcMode(container);\n          if (newMode !== currentMode) {\n            setupMode(newMode);\n            if (updateUi) {\n              updateChromeUi(true);\n            }\n          }\n        });\n      };\n      const show = () => {\n        visible.set(true);\n        set$8(outerContainer.element, 'display', 'flex');\n        DOM.addClass(editor.getBody(), 'mce-edit-focus');\n        remove$6(uiMothership.element, 'display');\n        updateMode(false);\n        updateChromeUi();\n      };\n      const hide = () => {\n        visible.set(false);\n        if (uiComponents.outerContainer) {\n          set$8(outerContainer.element, 'display', 'none');\n          DOM.removeClass(editor.getBody(), 'mce-edit-focus');\n        }\n        set$8(uiMothership.element, 'display', 'none');\n      };\n      return {\n        isVisible,\n        isPositionedAtTop,\n        show,\n        hide,\n        update: updateChromeUi,\n        updateMode,\n        repositionPopups: repositionPopups$1\n      };\n    };\n\n    const getTargetPosAndBounds = (targetElm, isToolbarTop) => {\n      const bounds = box$1(targetElm);\n      return {\n        pos: isToolbarTop ? bounds.y : bounds.bottom,\n        bounds\n      };\n    };\n    const setupEvents = (editor, targetElm, ui, toolbarPersist) => {\n      const prevPosAndBounds = Cell(getTargetPosAndBounds(targetElm, ui.isPositionedAtTop()));\n      const resizeContent = e => {\n        const {pos, bounds} = getTargetPosAndBounds(targetElm, ui.isPositionedAtTop());\n        const {\n          pos: prevPos,\n          bounds: prevBounds\n        } = prevPosAndBounds.get();\n        const hasResized = bounds.height !== prevBounds.height || bounds.width !== prevBounds.width;\n        prevPosAndBounds.set({\n          pos,\n          bounds\n        });\n        if (hasResized) {\n          fireResizeContent(editor, e);\n        }\n        if (ui.isVisible()) {\n          if (prevPos !== pos) {\n            ui.update(true);\n          } else if (hasResized) {\n            ui.updateMode();\n            ui.repositionPopups();\n          }\n        }\n      };\n      if (!toolbarPersist) {\n        editor.on('activate', ui.show);\n        editor.on('deactivate', ui.hide);\n      }\n      editor.on('SkinLoaded ResizeWindow', () => ui.update(true));\n      editor.on('NodeChange keydown', e => {\n        requestAnimationFrame(() => resizeContent(e));\n      });\n      editor.on('ScrollWindow', () => ui.updateMode());\n      const elementLoad = unbindable();\n      elementLoad.set(capture(SugarElement.fromDom(editor.getBody()), 'load', e => resizeContent(e.raw)));\n      editor.on('remove', () => {\n        elementLoad.clear();\n      });\n    };\n    const render = (editor, uiComponents, rawUiConfig, backstage, args) => {\n      const {mothership, uiMothership, outerContainer} = uiComponents;\n      const floatContainer = value$2();\n      const targetElm = SugarElement.fromDom(args.targetNode);\n      const ui = InlineHeader(editor, targetElm, uiComponents, backstage, floatContainer);\n      const toolbarPersist = isToolbarPersist(editor);\n      inline(editor);\n      const render = () => {\n        if (floatContainer.isSet()) {\n          ui.show();\n          return;\n        }\n        floatContainer.set(OuterContainer.getHeader(outerContainer).getOrDie());\n        const uiContainer = getUiContainer(editor);\n        attachSystem(uiContainer, mothership);\n        attachSystem(uiContainer, uiMothership);\n        setToolbar(editor, uiComponents, rawUiConfig, backstage);\n        OuterContainer.setMenubar(outerContainer, identifyMenus(editor, rawUiConfig));\n        ui.show();\n        setupEvents(editor, targetElm, ui, toolbarPersist);\n        editor.nodeChanged();\n      };\n      editor.on('show', render);\n      editor.on('hide', ui.hide);\n      if (!toolbarPersist) {\n        editor.on('focus', render);\n        editor.on('blur', ui.hide);\n      }\n      editor.on('init', () => {\n        if (editor.hasFocus() || toolbarPersist) {\n          render();\n        }\n      });\n      setupReadonlyModeSwitch(editor, uiComponents);\n      const api = {\n        show: render,\n        hide: ui.hide,\n        setEnabled: state => {\n          broadcastReadonly(uiComponents, !state);\n        },\n        isEnabled: () => !Disabling.isDisabled(outerContainer)\n      };\n      return {\n        editorContainer: outerContainer.element.dom,\n        api\n      };\n    };\n\n    var Inline = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        render: render\n    });\n\n    const showContextToolbarEvent = 'contexttoolbar-show';\n    const hideContextToolbarEvent = 'contexttoolbar-hide';\n\n    const getFormApi = input => ({\n      hide: () => emit(input, sandboxClose()),\n      getValue: () => Representing.getValue(input)\n    });\n    const runOnExecute = (memInput, original) => run$1(internalToolbarButtonExecute, (comp, se) => {\n      const input = memInput.get(comp);\n      const formApi = getFormApi(input);\n      original.onAction(formApi, se.event.buttonApi);\n    });\n    const renderContextButton = (memInput, button, providers) => {\n      const {primary, ...rest} = button.original;\n      const bridged = getOrDie(createToolbarButton({\n        ...rest,\n        type: 'button',\n        onAction: noop\n      }));\n      return renderToolbarButtonWith(bridged, providers, [runOnExecute(memInput, button)]);\n    };\n    const renderContextToggleButton = (memInput, button, providers) => {\n      const {primary, ...rest} = button.original;\n      const bridged = getOrDie(createToggleButton({\n        ...rest,\n        type: 'togglebutton',\n        onAction: noop\n      }));\n      return renderToolbarToggleButtonWith(bridged, providers, [runOnExecute(memInput, button)]);\n    };\n    const isToggleButton = button => button.type === 'contextformtogglebutton';\n    const generateOne = (memInput, button, providersBackstage) => {\n      if (isToggleButton(button)) {\n        return renderContextToggleButton(memInput, button, providersBackstage);\n      } else {\n        return renderContextButton(memInput, button, providersBackstage);\n      }\n    };\n    const generate = (memInput, buttons, providersBackstage) => {\n      const mementos = map$2(buttons, button => record(generateOne(memInput, button, providersBackstage)));\n      const asSpecs = () => map$2(mementos, mem => mem.asSpec());\n      const findPrimary = compInSystem => findMap(buttons, (button, i) => {\n        if (button.primary) {\n          return Optional.from(mementos[i]).bind(mem => mem.getOpt(compInSystem)).filter(not(Disabling.isDisabled));\n        } else {\n          return Optional.none();\n        }\n      });\n      return {\n        asSpecs,\n        findPrimary\n      };\n    };\n\n    const buildInitGroups = (ctx, providers) => {\n      const inputAttributes = ctx.label.fold(() => ({}), label => ({ 'aria-label': label }));\n      const memInput = record(Input.sketch({\n        inputClasses: [\n          'tox-toolbar-textfield',\n          'tox-toolbar-nav-js'\n        ],\n        data: ctx.initValue(),\n        inputAttributes,\n        selectOnFocus: true,\n        inputBehaviours: derive$1([Keying.config({\n            mode: 'special',\n            onEnter: input => commands.findPrimary(input).map(primary => {\n              emitExecute(primary);\n              return true;\n            }),\n            onLeft: (comp, se) => {\n              se.cut();\n              return Optional.none();\n            },\n            onRight: (comp, se) => {\n              se.cut();\n              return Optional.none();\n            }\n          })])\n      }));\n      const commands = generate(memInput, ctx.commands, providers);\n      return [\n        {\n          title: Optional.none(),\n          items: [memInput.asSpec()]\n        },\n        {\n          title: Optional.none(),\n          items: commands.asSpecs()\n        }\n      ];\n    };\n    const renderContextForm = (toolbarType, ctx, providers) => renderToolbar({\n      type: toolbarType,\n      uid: generate$6('context-toolbar'),\n      initGroups: buildInitGroups(ctx, providers),\n      onEscape: Optional.none,\n      cyclicKeying: true,\n      providers\n    });\n    const ContextForm = {\n      renderContextForm,\n      buildInitGroups\n    };\n\n    const isVerticalOverlap = (a, b, threshold = 0.01) => b.bottom - a.y >= threshold && a.bottom - b.y >= threshold;\n    const getRangeRect = rng => {\n      const rect = rng.getBoundingClientRect();\n      if (rect.height <= 0 && rect.width <= 0) {\n        const leaf$1 = leaf(SugarElement.fromDom(rng.startContainer), rng.startOffset).element;\n        const elm = isText(leaf$1) ? parent(leaf$1) : Optional.some(leaf$1);\n        return elm.filter(isElement$1).map(e => e.dom.getBoundingClientRect()).getOr(rect);\n      } else {\n        return rect;\n      }\n    };\n    const getSelectionBounds = editor => {\n      const rng = editor.selection.getRng();\n      const rect = getRangeRect(rng);\n      if (editor.inline) {\n        const scroll = get$b();\n        return bounds(scroll.left + rect.left, scroll.top + rect.top, rect.width, rect.height);\n      } else {\n        const bodyPos = absolute$2(SugarElement.fromDom(editor.getBody()));\n        return bounds(bodyPos.x + rect.left, bodyPos.y + rect.top, rect.width, rect.height);\n      }\n    };\n    const getAnchorElementBounds = (editor, lastElement) => lastElement.filter(elem => inBody(elem) && isHTMLElement(elem)).map(absolute$2).getOrThunk(() => getSelectionBounds(editor));\n    const getHorizontalBounds = (contentAreaBox, viewportBounds, margin) => {\n      const x = Math.max(contentAreaBox.x + margin, viewportBounds.x);\n      const right = Math.min(contentAreaBox.right - margin, viewportBounds.right);\n      return {\n        x,\n        width: right - x\n      };\n    };\n    const getVerticalBounds = (editor, contentAreaBox, viewportBounds, isToolbarLocationTop, toolbarType, margin) => {\n      const container = SugarElement.fromDom(editor.getContainer());\n      const header = descendant(container, '.tox-editor-header').getOr(container);\n      const headerBox = box$1(header);\n      const isToolbarBelowContentArea = headerBox.y >= contentAreaBox.bottom;\n      const isToolbarAbove = isToolbarLocationTop && !isToolbarBelowContentArea;\n      if (editor.inline && isToolbarAbove) {\n        return {\n          y: Math.max(headerBox.bottom + margin, viewportBounds.y),\n          bottom: viewportBounds.bottom\n        };\n      }\n      if (editor.inline && !isToolbarAbove) {\n        return {\n          y: viewportBounds.y,\n          bottom: Math.min(headerBox.y - margin, viewportBounds.bottom)\n        };\n      }\n      const containerBounds = toolbarType === 'line' ? box$1(container) : contentAreaBox;\n      if (isToolbarAbove) {\n        return {\n          y: Math.max(headerBox.bottom + margin, viewportBounds.y),\n          bottom: Math.min(containerBounds.bottom - margin, viewportBounds.bottom)\n        };\n      }\n      return {\n        y: Math.max(containerBounds.y + margin, viewportBounds.y),\n        bottom: Math.min(headerBox.y - margin, viewportBounds.bottom)\n      };\n    };\n    const getContextToolbarBounds = (editor, sharedBackstage, toolbarType, margin = 0) => {\n      const viewportBounds = getBounds$3(window);\n      const contentAreaBox = box$1(SugarElement.fromDom(editor.getContentAreaContainer()));\n      const toolbarOrMenubarEnabled = isMenubarEnabled(editor) || isToolbarEnabled(editor) || isMultipleToolbars(editor);\n      const {x, width} = getHorizontalBounds(contentAreaBox, viewportBounds, margin);\n      if (editor.inline && !toolbarOrMenubarEnabled) {\n        return bounds(x, viewportBounds.y, width, viewportBounds.height);\n      } else {\n        const isToolbarTop = sharedBackstage.header.isPositionedAtTop();\n        const {y, bottom} = getVerticalBounds(editor, contentAreaBox, viewportBounds, isToolbarTop, toolbarType, margin);\n        return bounds(x, y, width, bottom - y);\n      }\n    };\n\n    const bubbleSize$1 = 12;\n    const bubbleAlignments$1 = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: ['tox-pop--align-left'],\n      alignRight: ['tox-pop--align-right'],\n      right: ['tox-pop--right'],\n      left: ['tox-pop--left'],\n      bottom: ['tox-pop--bottom'],\n      top: ['tox-pop--top'],\n      inset: ['tox-pop--inset']\n    };\n    const anchorOverrides = {\n      maxHeightFunction: expandable$1(),\n      maxWidthFunction: expandable()\n    };\n    const isEntireElementSelected = (editor, elem) => {\n      const rng = editor.selection.getRng();\n      const leaf$1 = leaf(SugarElement.fromDom(rng.startContainer), rng.startOffset);\n      return rng.startContainer === rng.endContainer && rng.startOffset === rng.endOffset - 1 && eq(leaf$1.element, elem);\n    };\n    const preservePosition = (elem, position, f) => {\n      const currentPosition = getRaw(elem, 'position');\n      set$8(elem, 'position', position);\n      const result = f(elem);\n      currentPosition.each(pos => set$8(elem, 'position', pos));\n      return result;\n    };\n    const shouldUseInsetLayouts = position => position === 'node';\n    const determineInsetLayout = (editor, contextbar, elem, data, bounds) => {\n      const selectionBounds = getSelectionBounds(editor);\n      const isSameAnchorElement = data.lastElement().exists(prev => eq(elem, prev));\n      if (isEntireElementSelected(editor, elem)) {\n        return isSameAnchorElement ? preserve : north;\n      } else if (isSameAnchorElement) {\n        return preservePosition(contextbar, data.getMode(), () => {\n          const isOverlapping = isVerticalOverlap(selectionBounds, box$1(contextbar));\n          return isOverlapping && !data.isReposition() ? flip : preserve;\n        });\n      } else {\n        const yBounds = data.getMode() === 'fixed' ? bounds.y + get$b().top : bounds.y;\n        const contextbarHeight = get$d(contextbar) + bubbleSize$1;\n        return yBounds + contextbarHeight <= selectionBounds.y ? north : south;\n      }\n    };\n    const getAnchorSpec$2 = (editor, mobile, data, position) => {\n      const smartInsetLayout = elem => (anchor, element, bubbles, placee, bounds) => {\n        const layout = determineInsetLayout(editor, placee, elem, data, bounds);\n        const newAnchor = {\n          ...anchor,\n          y: bounds.y,\n          height: bounds.height\n        };\n        return {\n          ...layout(newAnchor, element, bubbles, placee, bounds),\n          alwaysFit: true\n        };\n      };\n      const getInsetLayouts = elem => shouldUseInsetLayouts(position) ? [smartInsetLayout(elem)] : [];\n      const desktopAnchorSpecLayouts = {\n        onLtr: elem => [\n          north$2,\n          south$2,\n          northeast$2,\n          southeast$2,\n          northwest$2,\n          southwest$2\n        ].concat(getInsetLayouts(elem)),\n        onRtl: elem => [\n          north$2,\n          south$2,\n          northwest$2,\n          southwest$2,\n          northeast$2,\n          southeast$2\n        ].concat(getInsetLayouts(elem))\n      };\n      const mobileAnchorSpecLayouts = {\n        onLtr: elem => [\n          south$2,\n          southeast$2,\n          southwest$2,\n          northeast$2,\n          northwest$2,\n          north$2\n        ].concat(getInsetLayouts(elem)),\n        onRtl: elem => [\n          south$2,\n          southwest$2,\n          southeast$2,\n          northwest$2,\n          northeast$2,\n          north$2\n        ].concat(getInsetLayouts(elem))\n      };\n      return mobile ? mobileAnchorSpecLayouts : desktopAnchorSpecLayouts;\n    };\n    const getAnchorLayout = (editor, position, isTouch, data) => {\n      if (position === 'line') {\n        return {\n          bubble: nu$5(bubbleSize$1, 0, bubbleAlignments$1),\n          layouts: {\n            onLtr: () => [east$2],\n            onRtl: () => [west$2]\n          },\n          overrides: anchorOverrides\n        };\n      } else {\n        return {\n          bubble: nu$5(0, bubbleSize$1, bubbleAlignments$1, 1 / bubbleSize$1),\n          layouts: getAnchorSpec$2(editor, isTouch, data, position),\n          overrides: anchorOverrides\n        };\n      }\n    };\n\n    const matchTargetWith = (elem, candidates) => {\n      const ctxs = filter$2(candidates, toolbarApi => toolbarApi.predicate(elem.dom));\n      const {pass, fail} = partition$3(ctxs, t => t.type === 'contexttoolbar');\n      return {\n        contextToolbars: pass,\n        contextForms: fail\n      };\n    };\n    const filterByPositionForStartNode = toolbars => {\n      if (toolbars.length <= 1) {\n        return toolbars;\n      } else {\n        const doesPositionExist = value => exists(toolbars, t => t.position === value);\n        const filterToolbarsByPosition = value => filter$2(toolbars, t => t.position === value);\n        const hasSelectionToolbars = doesPositionExist('selection');\n        const hasNodeToolbars = doesPositionExist('node');\n        if (hasSelectionToolbars || hasNodeToolbars) {\n          if (hasNodeToolbars && hasSelectionToolbars) {\n            const nodeToolbars = filterToolbarsByPosition('node');\n            const selectionToolbars = map$2(filterToolbarsByPosition('selection'), t => ({\n              ...t,\n              position: 'node'\n            }));\n            return nodeToolbars.concat(selectionToolbars);\n          } else {\n            return hasSelectionToolbars ? filterToolbarsByPosition('selection') : filterToolbarsByPosition('node');\n          }\n        } else {\n          return filterToolbarsByPosition('line');\n        }\n      }\n    };\n    const filterByPositionForAncestorNode = toolbars => {\n      if (toolbars.length <= 1) {\n        return toolbars;\n      } else {\n        const findPosition = value => find$5(toolbars, t => t.position === value);\n        const basePosition = findPosition('selection').orThunk(() => findPosition('node')).orThunk(() => findPosition('line')).map(t => t.position);\n        return basePosition.fold(() => [], pos => filter$2(toolbars, t => t.position === pos));\n      }\n    };\n    const matchStartNode = (elem, nodeCandidates, editorCandidates) => {\n      const nodeMatches = matchTargetWith(elem, nodeCandidates);\n      if (nodeMatches.contextForms.length > 0) {\n        return Optional.some({\n          elem,\n          toolbars: [nodeMatches.contextForms[0]]\n        });\n      } else {\n        const editorMatches = matchTargetWith(elem, editorCandidates);\n        if (editorMatches.contextForms.length > 0) {\n          return Optional.some({\n            elem,\n            toolbars: [editorMatches.contextForms[0]]\n          });\n        } else if (nodeMatches.contextToolbars.length > 0 || editorMatches.contextToolbars.length > 0) {\n          const toolbars = filterByPositionForStartNode(nodeMatches.contextToolbars.concat(editorMatches.contextToolbars));\n          return Optional.some({\n            elem,\n            toolbars\n          });\n        } else {\n          return Optional.none();\n        }\n      }\n    };\n    const matchAncestor = (isRoot, startNode, scopes) => {\n      if (isRoot(startNode)) {\n        return Optional.none();\n      } else {\n        return ancestor$2(startNode, ancestorElem => {\n          if (isElement$1(ancestorElem)) {\n            const {contextToolbars, contextForms} = matchTargetWith(ancestorElem, scopes.inNodeScope);\n            const toolbars = contextForms.length > 0 ? contextForms : filterByPositionForAncestorNode(contextToolbars);\n            return toolbars.length > 0 ? Optional.some({\n              elem: ancestorElem,\n              toolbars\n            }) : Optional.none();\n          } else {\n            return Optional.none();\n          }\n        }, isRoot);\n      }\n    };\n    const lookup$1 = (scopes, editor) => {\n      const rootElem = SugarElement.fromDom(editor.getBody());\n      const isRoot = elem => eq(elem, rootElem);\n      const isOutsideRoot = startNode => !isRoot(startNode) && !contains(rootElem, startNode);\n      const startNode = SugarElement.fromDom(editor.selection.getNode());\n      if (isOutsideRoot(startNode)) {\n        return Optional.none();\n      }\n      return matchStartNode(startNode, scopes.inNodeScope, scopes.inEditorScope).orThunk(() => matchAncestor(isRoot, startNode, scopes));\n    };\n\n    const categorise = (contextToolbars, navigate) => {\n      const forms = {};\n      const inNodeScope = [];\n      const inEditorScope = [];\n      const formNavigators = {};\n      const lookupTable = {};\n      const registerForm = (key, toolbarSpec) => {\n        const contextForm = getOrDie(createContextForm(toolbarSpec));\n        forms[key] = contextForm;\n        contextForm.launch.map(launch => {\n          formNavigators['form:' + key + ''] = {\n            ...toolbarSpec.launch,\n            type: launch.type === 'contextformtogglebutton' ? 'togglebutton' : 'button',\n            onAction: () => {\n              navigate(contextForm);\n            }\n          };\n        });\n        if (contextForm.scope === 'editor') {\n          inEditorScope.push(contextForm);\n        } else {\n          inNodeScope.push(contextForm);\n        }\n        lookupTable[key] = contextForm;\n      };\n      const registerToolbar = (key, toolbarSpec) => {\n        createContextToolbar(toolbarSpec).each(contextToolbar => {\n          if (toolbarSpec.scope === 'editor') {\n            inEditorScope.push(contextToolbar);\n          } else {\n            inNodeScope.push(contextToolbar);\n          }\n          lookupTable[key] = contextToolbar;\n        });\n      };\n      const keys$1 = keys(contextToolbars);\n      each$1(keys$1, key => {\n        const toolbarApi = contextToolbars[key];\n        if (toolbarApi.type === 'contextform') {\n          registerForm(key, toolbarApi);\n        } else if (toolbarApi.type === 'contexttoolbar') {\n          registerToolbar(key, toolbarApi);\n        }\n      });\n      return {\n        forms,\n        inNodeScope,\n        inEditorScope,\n        lookupTable,\n        formNavigators\n      };\n    };\n\n    const forwardSlideEvent = generate$6('forward-slide');\n    const backSlideEvent = generate$6('backward-slide');\n    const changeSlideEvent = generate$6('change-slide-event');\n    const resizingClass = 'tox-pop--resizing';\n    const renderContextToolbar = spec => {\n      const stack = Cell([]);\n      return InlineView.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-pop']\n        },\n        fireDismissalEventInstead: { event: 'doNotDismissYet' },\n        onShow: comp => {\n          stack.set([]);\n          InlineView.getContent(comp).each(c => {\n            remove$6(c.element, 'visibility');\n          });\n          remove$2(comp.element, resizingClass);\n          remove$6(comp.element, 'width');\n        },\n        inlineBehaviours: derive$1([\n          config('context-toolbar-events', [\n            runOnSource(transitionend(), (comp, se) => {\n              if (se.event.raw.propertyName === 'width') {\n                remove$2(comp.element, resizingClass);\n                remove$6(comp.element, 'width');\n              }\n            }),\n            run$1(changeSlideEvent, (comp, se) => {\n              const elem = comp.element;\n              remove$6(elem, 'width');\n              const currentWidth = get$c(elem);\n              InlineView.setContent(comp, se.event.contents);\n              add$2(elem, resizingClass);\n              const newWidth = get$c(elem);\n              set$8(elem, 'width', currentWidth + 'px');\n              InlineView.getContent(comp).each(newContents => {\n                se.event.focus.bind(f => {\n                  focus$3(f);\n                  return search(elem);\n                }).orThunk(() => {\n                  Keying.focusIn(newContents);\n                  return active$1(getRootNode(elem));\n                });\n              });\n              setTimeout(() => {\n                set$8(comp.element, 'width', newWidth + 'px');\n              }, 0);\n            }),\n            run$1(forwardSlideEvent, (comp, se) => {\n              InlineView.getContent(comp).each(oldContents => {\n                stack.set(stack.get().concat([{\n                    bar: oldContents,\n                    focus: active$1(getRootNode(comp.element))\n                  }]));\n              });\n              emitWith(comp, changeSlideEvent, {\n                contents: se.event.forwardContents,\n                focus: Optional.none()\n              });\n            }),\n            run$1(backSlideEvent, (comp, _se) => {\n              last$1(stack.get()).each(last => {\n                stack.set(stack.get().slice(0, stack.get().length - 1));\n                emitWith(comp, changeSlideEvent, {\n                  contents: premade(last.bar),\n                  focus: last.focus\n                });\n              });\n            })\n          ]),\n          Keying.config({\n            mode: 'special',\n            onEscape: comp => last$1(stack.get()).fold(() => spec.onEscape(), _ => {\n              emit(comp, backSlideEvent);\n              return Optional.some(true);\n            })\n          })\n        ]),\n        lazySink: () => Result.value(spec.sink)\n      });\n    };\n\n    const transitionClass = 'tox-pop--transition';\n    const register$9 = (editor, registryContextToolbars, sink, extras) => {\n      const backstage = extras.backstage;\n      const sharedBackstage = backstage.shared;\n      const isTouch = detect$1().deviceType.isTouch;\n      const lastElement = value$2();\n      const lastTrigger = value$2();\n      const lastContextPosition = value$2();\n      const contextbar = build$1(renderContextToolbar({\n        sink,\n        onEscape: () => {\n          editor.focus();\n          return Optional.some(true);\n        }\n      }));\n      const getBounds = () => {\n        const position = lastContextPosition.get().getOr('node');\n        const margin = shouldUseInsetLayouts(position) ? 1 : 0;\n        return getContextToolbarBounds(editor, sharedBackstage, position, margin);\n      };\n      const canLaunchToolbar = () => {\n        return !editor.removed && !(isTouch() && backstage.isContextMenuOpen());\n      };\n      const isSameLaunchElement = elem => is$1(lift2(elem, lastElement.get(), eq), true);\n      const shouldContextToolbarHide = () => {\n        if (!canLaunchToolbar()) {\n          return true;\n        } else {\n          const contextToolbarBounds = getBounds();\n          const anchorBounds = is$1(lastContextPosition.get(), 'node') ? getAnchorElementBounds(editor, lastElement.get()) : getSelectionBounds(editor);\n          return contextToolbarBounds.height <= 0 || !isVerticalOverlap(anchorBounds, contextToolbarBounds);\n        }\n      };\n      const close = () => {\n        lastElement.clear();\n        lastTrigger.clear();\n        lastContextPosition.clear();\n        InlineView.hide(contextbar);\n      };\n      const hideOrRepositionIfNecessary = () => {\n        if (InlineView.isOpen(contextbar)) {\n          const contextBarEle = contextbar.element;\n          remove$6(contextBarEle, 'display');\n          if (shouldContextToolbarHide()) {\n            set$8(contextBarEle, 'display', 'none');\n          } else {\n            lastTrigger.set(0);\n            InlineView.reposition(contextbar);\n          }\n        }\n      };\n      const wrapInPopDialog = toolbarSpec => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-pop__dialog']\n        },\n        components: [toolbarSpec],\n        behaviours: derive$1([\n          Keying.config({ mode: 'acyclic' }),\n          config('pop-dialog-wrap-events', [\n            runOnAttached(comp => {\n              editor.shortcuts.add('ctrl+F9', 'focus statusbar', () => Keying.focusIn(comp));\n            }),\n            runOnDetached(_comp => {\n              editor.shortcuts.remove('ctrl+F9');\n            })\n          ])\n        ])\n      });\n      const getScopes = cached(() => categorise(registryContextToolbars, toolbarApi => {\n        const alloySpec = buildToolbar([toolbarApi]);\n        emitWith(contextbar, forwardSlideEvent, { forwardContents: wrapInPopDialog(alloySpec) });\n      }));\n      const buildContextToolbarGroups = (allButtons, ctx) => identifyButtons(editor, {\n        buttons: allButtons,\n        toolbar: ctx.items,\n        allowToolbarGroups: false\n      }, extras.backstage, Optional.some(['form:']));\n      const buildContextFormGroups = (ctx, providers) => ContextForm.buildInitGroups(ctx, providers);\n      const buildToolbar = toolbars => {\n        const {buttons} = editor.ui.registry.getAll();\n        const scopes = getScopes();\n        const allButtons = {\n          ...buttons,\n          ...scopes.formNavigators\n        };\n        const toolbarType = getToolbarMode(editor) === ToolbarMode$1.scrolling ? ToolbarMode$1.scrolling : ToolbarMode$1.default;\n        const initGroups = flatten(map$2(toolbars, ctx => ctx.type === 'contexttoolbar' ? buildContextToolbarGroups(allButtons, ctx) : buildContextFormGroups(ctx, sharedBackstage.providers)));\n        return renderToolbar({\n          type: toolbarType,\n          uid: generate$6('context-toolbar'),\n          initGroups,\n          onEscape: Optional.none,\n          cyclicKeying: true,\n          providers: sharedBackstage.providers\n        });\n      };\n      const getAnchor = (position, element) => {\n        const anchorage = position === 'node' ? sharedBackstage.anchors.node(element) : sharedBackstage.anchors.cursor();\n        const anchorLayout = getAnchorLayout(editor, position, isTouch(), {\n          lastElement: lastElement.get,\n          isReposition: () => is$1(lastTrigger.get(), 0),\n          getMode: () => Positioning.getMode(sink)\n        });\n        return deepMerge(anchorage, anchorLayout);\n      };\n      const launchContext = (toolbarApi, elem) => {\n        launchContextToolbar.cancel();\n        if (!canLaunchToolbar()) {\n          return;\n        }\n        const toolbarSpec = buildToolbar(toolbarApi);\n        const position = toolbarApi[0].position;\n        const anchor = getAnchor(position, elem);\n        lastContextPosition.set(position);\n        lastTrigger.set(1);\n        const contextBarEle = contextbar.element;\n        remove$6(contextBarEle, 'display');\n        if (!isSameLaunchElement(elem)) {\n          remove$2(contextBarEle, transitionClass);\n          Positioning.reset(sink, contextbar);\n        }\n        InlineView.showWithinBounds(contextbar, wrapInPopDialog(toolbarSpec), {\n          anchor,\n          transition: {\n            classes: [transitionClass],\n            mode: 'placement'\n          }\n        }, () => Optional.some(getBounds()));\n        elem.fold(lastElement.clear, lastElement.set);\n        if (shouldContextToolbarHide()) {\n          set$8(contextBarEle, 'display', 'none');\n        }\n      };\n      const launchContextToolbar = last(() => {\n        if (!editor.hasFocus() || editor.removed) {\n          return;\n        }\n        if (has(contextbar.element, transitionClass)) {\n          launchContextToolbar.throttle();\n        } else {\n          const scopes = getScopes();\n          lookup$1(scopes, editor).fold(close, info => {\n            launchContext(info.toolbars, Optional.some(info.elem));\n          });\n        }\n      }, 17);\n      editor.on('init', () => {\n        editor.on('remove', close);\n        editor.on('ScrollContent ScrollWindow ObjectResized ResizeEditor longpress', hideOrRepositionIfNecessary);\n        editor.on('click keyup focus SetContent', launchContextToolbar.throttle);\n        editor.on(hideContextToolbarEvent, close);\n        editor.on(showContextToolbarEvent, e => {\n          const scopes = getScopes();\n          get$g(scopes.lookupTable, e.toolbarKey).each(ctx => {\n            launchContext([ctx], someIf(e.target !== editor, e.target));\n            InlineView.getContent(contextbar).each(Keying.focusIn);\n          });\n        });\n        editor.on('focusout', _e => {\n          global$9.setEditorTimeout(editor, () => {\n            if (search(sink.element).isNone() && search(contextbar.element).isNone()) {\n              close();\n            }\n          }, 0);\n        });\n        editor.on('SwitchMode', () => {\n          if (editor.mode.isReadOnly()) {\n            close();\n          }\n        });\n        editor.on('AfterProgressState', event => {\n          if (event.state) {\n            close();\n          } else if (editor.hasFocus()) {\n            launchContextToolbar.throttle();\n          }\n        });\n        editor.on('NodeChange', _e => {\n          search(contextbar.element).fold(launchContextToolbar.throttle, noop);\n        });\n      });\n    };\n\n    const register$8 = editor => {\n      const alignToolbarButtons = [\n        {\n          name: 'alignleft',\n          text: 'Align left',\n          cmd: 'JustifyLeft',\n          icon: 'align-left'\n        },\n        {\n          name: 'aligncenter',\n          text: 'Align center',\n          cmd: 'JustifyCenter',\n          icon: 'align-center'\n        },\n        {\n          name: 'alignright',\n          text: 'Align right',\n          cmd: 'JustifyRight',\n          icon: 'align-right'\n        },\n        {\n          name: 'alignjustify',\n          text: 'Justify',\n          cmd: 'JustifyFull',\n          icon: 'align-justify'\n        }\n      ];\n      each$1(alignToolbarButtons, item => {\n        editor.ui.registry.addToggleButton(item.name, {\n          tooltip: item.text,\n          icon: item.icon,\n          onAction: onActionExecCommand(editor, item.cmd),\n          onSetup: onSetupFormatToggle(editor, item.name)\n        });\n      });\n      editor.ui.registry.addButton('alignnone', {\n        tooltip: 'No alignment',\n        icon: 'align-none',\n        onAction: onActionExecCommand(editor, 'JustifyNone')\n      });\n    };\n\n    const units = {\n      unsupportedLength: [\n        'em',\n        'ex',\n        'cap',\n        'ch',\n        'ic',\n        'rem',\n        'lh',\n        'rlh',\n        'vw',\n        'vh',\n        'vi',\n        'vb',\n        'vmin',\n        'vmax',\n        'cm',\n        'mm',\n        'Q',\n        'in',\n        'pc',\n        'pt',\n        'px'\n      ],\n      fixed: [\n        'px',\n        'pt'\n      ],\n      relative: ['%'],\n      empty: ['']\n    };\n    const pattern = (() => {\n      const decimalDigits = '[0-9]+';\n      const signedInteger = '[+-]?' + decimalDigits;\n      const exponentPart = '[eE]' + signedInteger;\n      const dot = '\\\\.';\n      const opt = input => `(?:${ input })?`;\n      const unsignedDecimalLiteral = [\n        'Infinity',\n        decimalDigits + dot + opt(decimalDigits) + opt(exponentPart),\n        dot + decimalDigits + opt(exponentPart),\n        decimalDigits + opt(exponentPart)\n      ].join('|');\n      const float = `[+-]?(?:${ unsignedDecimalLiteral })`;\n      return new RegExp(`^(${ float })(.*)$`);\n    })();\n    const isUnit = (unit, accepted) => exists(accepted, acc => exists(units[acc], check => unit === check));\n    const parse = (input, accepted) => {\n      const match = Optional.from(pattern.exec(input));\n      return match.bind(array => {\n        const value = Number(array[1]);\n        const unitRaw = array[2];\n        if (isUnit(unitRaw, accepted)) {\n          return Optional.some({\n            value,\n            unit: unitRaw\n          });\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    const normalise = (input, accepted) => parse(input, accepted).map(({value, unit}) => value + unit);\n\n    const registerController = (editor, spec) => {\n      const getMenuItems = () => {\n        const options = spec.getOptions(editor);\n        const initial = spec.getCurrent(editor).map(spec.hash);\n        const current = value$2();\n        return map$2(options, value => ({\n          type: 'togglemenuitem',\n          text: spec.display(value),\n          onSetup: api => {\n            const setActive = active => {\n              if (active) {\n                current.on(oldApi => oldApi.setActive(false));\n                current.set(api);\n              }\n              api.setActive(active);\n            };\n            setActive(is$1(initial, spec.hash(value)));\n            const unbindWatcher = spec.watcher(editor, value, setActive);\n            return () => {\n              current.clear();\n              unbindWatcher();\n            };\n          },\n          onAction: () => spec.setCurrent(editor, value)\n        }));\n      };\n      editor.ui.registry.addMenuButton(spec.name, {\n        tooltip: spec.text,\n        icon: spec.icon,\n        fetch: callback => callback(getMenuItems()),\n        onSetup: spec.onToolbarSetup\n      });\n      editor.ui.registry.addNestedMenuItem(spec.name, {\n        type: 'nestedmenuitem',\n        text: spec.text,\n        getSubmenuItems: getMenuItems,\n        onSetup: spec.onMenuSetup\n      });\n    };\n    const lineHeightSpec = {\n      name: 'lineheight',\n      text: 'Line height',\n      icon: 'line-height',\n      getOptions: getLineHeightFormats,\n      hash: input => normalise(input, [\n        'fixed',\n        'relative',\n        'empty'\n      ]).getOr(input),\n      display: identity,\n      watcher: (editor, value, callback) => editor.formatter.formatChanged('lineheight', callback, false, { value }).unbind,\n      getCurrent: editor => Optional.from(editor.queryCommandValue('LineHeight')),\n      setCurrent: (editor, value) => editor.execCommand('LineHeight', false, value)\n    };\n    const languageSpec = editor => {\n      const settingsOpt = Optional.from(getContentLanguages(editor));\n      return settingsOpt.map(settings => ({\n        name: 'language',\n        text: 'Language',\n        icon: 'language',\n        getOptions: constant$1(settings),\n        hash: input => isUndefined(input.customCode) ? input.code : `${ input.code }/${ input.customCode }`,\n        display: input => input.title,\n        watcher: (editor, value, callback) => {\n          var _a;\n          return editor.formatter.formatChanged('lang', callback, false, {\n            value: value.code,\n            customValue: (_a = value.customCode) !== null && _a !== void 0 ? _a : null\n          }).unbind;\n        },\n        getCurrent: editor => {\n          const node = SugarElement.fromDom(editor.selection.getNode());\n          return closest$4(node, n => Optional.some(n).filter(isElement$1).bind(ele => {\n            const codeOpt = getOpt(ele, 'lang');\n            return codeOpt.map(code => {\n              const customCode = getOpt(ele, 'data-mce-lang').getOrUndefined();\n              return {\n                code,\n                customCode,\n                title: ''\n              };\n            });\n          }));\n        },\n        setCurrent: (editor, lang) => editor.execCommand('Lang', false, lang),\n        onToolbarSetup: api => {\n          const unbinder = unbindable();\n          api.setActive(editor.formatter.match('lang', {}, undefined, true));\n          unbinder.set(editor.formatter.formatChanged('lang', api.setActive, true));\n          return unbinder.clear;\n        }\n      }));\n    };\n    const register$7 = editor => {\n      registerController(editor, lineHeightSpec);\n      languageSpec(editor).each(spec => registerController(editor, spec));\n    };\n\n    const register$6 = (editor, backstage) => {\n      createAlignMenu(editor, backstage);\n      createFontFamilyMenu(editor, backstage);\n      createStylesMenu(editor, backstage);\n      createBlocksMenu(editor, backstage);\n      createFontSizeMenu(editor, backstage);\n    };\n\n    const onSetupOutdentState = editor => onSetupEvent(editor, 'NodeChange', api => {\n      api.setEnabled(editor.queryCommandState('outdent'));\n    });\n    const registerButtons$2 = editor => {\n      editor.ui.registry.addButton('outdent', {\n        tooltip: 'Decrease indent',\n        icon: 'outdent',\n        onSetup: onSetupOutdentState(editor),\n        onAction: onActionExecCommand(editor, 'outdent')\n      });\n      editor.ui.registry.addButton('indent', {\n        tooltip: 'Increase indent',\n        icon: 'indent',\n        onAction: onActionExecCommand(editor, 'indent')\n      });\n    };\n    const register$5 = editor => {\n      registerButtons$2(editor);\n    };\n\n    const makeSetupHandler = (editor, pasteAsText) => api => {\n      api.setActive(pasteAsText.get());\n      const pastePlainTextToggleHandler = e => {\n        pasteAsText.set(e.state);\n        api.setActive(e.state);\n      };\n      editor.on('PastePlainTextToggle', pastePlainTextToggleHandler);\n      return () => editor.off('PastePlainTextToggle', pastePlainTextToggleHandler);\n    };\n    const register$4 = editor => {\n      const pasteAsText = Cell(getPasteAsText(editor));\n      const onAction = () => editor.execCommand('mceTogglePlainTextPaste');\n      editor.ui.registry.addToggleButton('pastetext', {\n        active: false,\n        icon: 'paste-text',\n        tooltip: 'Paste as text',\n        onAction,\n        onSetup: makeSetupHandler(editor, pasteAsText)\n      });\n      editor.ui.registry.addToggleMenuItem('pastetext', {\n        text: 'Paste as text',\n        icon: 'paste-text',\n        onAction,\n        onSetup: makeSetupHandler(editor, pasteAsText)\n      });\n    };\n\n    const onActionToggleFormat = (editor, fmt) => () => {\n      editor.execCommand('mceToggleFormat', false, fmt);\n    };\n    const registerFormatButtons = editor => {\n      global$1.each([\n        {\n          name: 'bold',\n          text: 'Bold',\n          icon: 'bold'\n        },\n        {\n          name: 'italic',\n          text: 'Italic',\n          icon: 'italic'\n        },\n        {\n          name: 'underline',\n          text: 'Underline',\n          icon: 'underline'\n        },\n        {\n          name: 'strikethrough',\n          text: 'Strikethrough',\n          icon: 'strike-through'\n        },\n        {\n          name: 'subscript',\n          text: 'Subscript',\n          icon: 'subscript'\n        },\n        {\n          name: 'superscript',\n          text: 'Superscript',\n          icon: 'superscript'\n        }\n      ], (btn, _idx) => {\n        editor.ui.registry.addToggleButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onSetup: onSetupFormatToggle(editor, btn.name),\n          onAction: onActionToggleFormat(editor, btn.name)\n        });\n      });\n      for (let i = 1; i <= 6; i++) {\n        const name = 'h' + i;\n        editor.ui.registry.addToggleButton(name, {\n          text: name.toUpperCase(),\n          tooltip: 'Heading ' + i,\n          onSetup: onSetupFormatToggle(editor, name),\n          onAction: onActionToggleFormat(editor, name)\n        });\n      }\n    };\n    const registerCommandButtons = editor => {\n      global$1.each([\n        {\n          name: 'cut',\n          text: 'Cut',\n          action: 'Cut',\n          icon: 'cut'\n        },\n        {\n          name: 'copy',\n          text: 'Copy',\n          action: 'Copy',\n          icon: 'copy'\n        },\n        {\n          name: 'paste',\n          text: 'Paste',\n          action: 'Paste',\n          icon: 'paste'\n        },\n        {\n          name: 'help',\n          text: 'Help',\n          action: 'mceHelp',\n          icon: 'help'\n        },\n        {\n          name: 'selectall',\n          text: 'Select all',\n          action: 'SelectAll',\n          icon: 'select-all'\n        },\n        {\n          name: 'newdocument',\n          text: 'New document',\n          action: 'mceNewDocument',\n          icon: 'new-document'\n        },\n        {\n          name: 'removeformat',\n          text: 'Clear formatting',\n          action: 'RemoveFormat',\n          icon: 'remove-formatting'\n        },\n        {\n          name: 'remove',\n          text: 'Remove',\n          action: 'Delete',\n          icon: 'remove'\n        },\n        {\n          name: 'print',\n          text: 'Print',\n          action: 'mcePrint',\n          icon: 'print'\n        },\n        {\n          name: 'hr',\n          text: 'Horizontal line',\n          action: 'InsertHorizontalRule',\n          icon: 'horizontal-rule'\n        }\n      ], btn => {\n        editor.ui.registry.addButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onAction: onActionExecCommand(editor, btn.action)\n        });\n      });\n    };\n    const registerCommandToggleButtons = editor => {\n      global$1.each([{\n          name: 'blockquote',\n          text: 'Blockquote',\n          action: 'mceBlockQuote',\n          icon: 'quote'\n        }], btn => {\n        editor.ui.registry.addToggleButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onAction: onActionExecCommand(editor, btn.action),\n          onSetup: onSetupFormatToggle(editor, btn.name)\n        });\n      });\n    };\n    const registerButtons$1 = editor => {\n      registerFormatButtons(editor);\n      registerCommandButtons(editor);\n      registerCommandToggleButtons(editor);\n    };\n    const registerMenuItems$2 = editor => {\n      global$1.each([\n        {\n          name: 'bold',\n          text: 'Bold',\n          action: 'Bold',\n          icon: 'bold',\n          shortcut: 'Meta+B'\n        },\n        {\n          name: 'italic',\n          text: 'Italic',\n          action: 'Italic',\n          icon: 'italic',\n          shortcut: 'Meta+I'\n        },\n        {\n          name: 'underline',\n          text: 'Underline',\n          action: 'Underline',\n          icon: 'underline',\n          shortcut: 'Meta+U'\n        },\n        {\n          name: 'strikethrough',\n          text: 'Strikethrough',\n          action: 'Strikethrough',\n          icon: 'strike-through'\n        },\n        {\n          name: 'subscript',\n          text: 'Subscript',\n          action: 'Subscript',\n          icon: 'subscript'\n        },\n        {\n          name: 'superscript',\n          text: 'Superscript',\n          action: 'Superscript',\n          icon: 'superscript'\n        },\n        {\n          name: 'removeformat',\n          text: 'Clear formatting',\n          action: 'RemoveFormat',\n          icon: 'remove-formatting'\n        },\n        {\n          name: 'newdocument',\n          text: 'New document',\n          action: 'mceNewDocument',\n          icon: 'new-document'\n        },\n        {\n          name: 'cut',\n          text: 'Cut',\n          action: 'Cut',\n          icon: 'cut',\n          shortcut: 'Meta+X'\n        },\n        {\n          name: 'copy',\n          text: 'Copy',\n          action: 'Copy',\n          icon: 'copy',\n          shortcut: 'Meta+C'\n        },\n        {\n          name: 'paste',\n          text: 'Paste',\n          action: 'Paste',\n          icon: 'paste',\n          shortcut: 'Meta+V'\n        },\n        {\n          name: 'selectall',\n          text: 'Select all',\n          action: 'SelectAll',\n          icon: 'select-all',\n          shortcut: 'Meta+A'\n        },\n        {\n          name: 'print',\n          text: 'Print...',\n          action: 'mcePrint',\n          icon: 'print',\n          shortcut: 'Meta+P'\n        },\n        {\n          name: 'hr',\n          text: 'Horizontal line',\n          action: 'InsertHorizontalRule',\n          icon: 'horizontal-rule'\n        }\n      ], menuitem => {\n        editor.ui.registry.addMenuItem(menuitem.name, {\n          text: menuitem.text,\n          icon: menuitem.icon,\n          shortcut: menuitem.shortcut,\n          onAction: onActionExecCommand(editor, menuitem.action)\n        });\n      });\n      editor.ui.registry.addMenuItem('codeformat', {\n        text: 'Code',\n        icon: 'sourcecode',\n        onAction: onActionToggleFormat(editor, 'code')\n      });\n    };\n    const register$3 = editor => {\n      registerButtons$1(editor);\n      registerMenuItems$2(editor);\n    };\n\n    const onSetupUndoRedoState = (editor, type) => onSetupEvent(editor, 'Undo Redo AddUndo TypingUndo ClearUndos SwitchMode', api => {\n      api.setEnabled(!editor.mode.isReadOnly() && editor.undoManager[type]());\n    });\n    const registerMenuItems$1 = editor => {\n      editor.ui.registry.addMenuItem('undo', {\n        text: 'Undo',\n        icon: 'undo',\n        shortcut: 'Meta+Z',\n        onSetup: onSetupUndoRedoState(editor, 'hasUndo'),\n        onAction: onActionExecCommand(editor, 'undo')\n      });\n      editor.ui.registry.addMenuItem('redo', {\n        text: 'Redo',\n        icon: 'redo',\n        shortcut: 'Meta+Y',\n        onSetup: onSetupUndoRedoState(editor, 'hasRedo'),\n        onAction: onActionExecCommand(editor, 'redo')\n      });\n    };\n    const registerButtons = editor => {\n      editor.ui.registry.addButton('undo', {\n        tooltip: 'Undo',\n        icon: 'undo',\n        enabled: false,\n        onSetup: onSetupUndoRedoState(editor, 'hasUndo'),\n        onAction: onActionExecCommand(editor, 'undo')\n      });\n      editor.ui.registry.addButton('redo', {\n        tooltip: 'Redo',\n        icon: 'redo',\n        enabled: false,\n        onSetup: onSetupUndoRedoState(editor, 'hasRedo'),\n        onAction: onActionExecCommand(editor, 'redo')\n      });\n    };\n    const register$2 = editor => {\n      registerMenuItems$1(editor);\n      registerButtons(editor);\n    };\n\n    const onSetupVisualAidState = editor => onSetupEvent(editor, 'VisualAid', api => {\n      api.setActive(editor.hasVisual);\n    });\n    const registerMenuItems = editor => {\n      editor.ui.registry.addToggleMenuItem('visualaid', {\n        text: 'Visual aids',\n        onSetup: onSetupVisualAidState(editor),\n        onAction: onActionExecCommand(editor, 'mceToggleVisualAid')\n      });\n    };\n    const registerToolbarButton = editor => {\n      editor.ui.registry.addButton('visualaid', {\n        tooltip: 'Visual aids',\n        text: 'Visual aids',\n        onAction: onActionExecCommand(editor, 'mceToggleVisualAid')\n      });\n    };\n    const register$1 = editor => {\n      registerToolbarButton(editor);\n      registerMenuItems(editor);\n    };\n\n    const setup$6 = (editor, backstage) => {\n      register$8(editor);\n      register$3(editor);\n      register$6(editor, backstage);\n      register$2(editor);\n      register$c(editor);\n      register$1(editor);\n      register$5(editor);\n      register$7(editor);\n      register$4(editor);\n    };\n\n    const patchPipeConfig = config => isString(config) ? config.split(/[ ,]/) : config;\n    const option = name => editor => editor.options.get(name);\n    const register = editor => {\n      const registerOption = editor.options.register;\n      registerOption('contextmenu_avoid_overlap', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('contextmenu_never_use_native', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('contextmenu', {\n        processor: value => {\n          if (value === false) {\n            return {\n              value: [],\n              valid: true\n            };\n          } else if (isString(value) || isArrayOf(value, isString)) {\n            return {\n              value: patchPipeConfig(value),\n              valid: true\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be false or a string.'\n            };\n          }\n        },\n        default: 'link linkchecker image editimage table spellchecker configurepermanentpen'\n      });\n    };\n    const shouldNeverUseNative = option('contextmenu_never_use_native');\n    const getAvoidOverlapSelector = option('contextmenu_avoid_overlap');\n    const isContextMenuDisabled = editor => getContextMenu(editor).length === 0;\n    const getContextMenu = editor => {\n      const contextMenus = editor.ui.registry.getAll().contextMenus;\n      const contextMenu = editor.options.get('contextmenu');\n      if (editor.options.isSet('contextmenu')) {\n        return contextMenu;\n      } else {\n        return filter$2(contextMenu, item => has$2(contextMenus, item));\n      }\n    };\n\n    const nu = (x, y) => ({\n      type: 'makeshift',\n      x,\n      y\n    });\n    const transpose = (pos, dx, dy) => {\n      return nu(pos.x + dx, pos.y + dy);\n    };\n    const isTouchEvent$1 = e => e.type === 'longpress' || e.type.indexOf('touch') === 0;\n    const fromPageXY = e => {\n      if (isTouchEvent$1(e)) {\n        const touch = e.touches[0];\n        return nu(touch.pageX, touch.pageY);\n      } else {\n        return nu(e.pageX, e.pageY);\n      }\n    };\n    const fromClientXY = e => {\n      if (isTouchEvent$1(e)) {\n        const touch = e.touches[0];\n        return nu(touch.clientX, touch.clientY);\n      } else {\n        return nu(e.clientX, e.clientY);\n      }\n    };\n    const transposeContentAreaContainer = (element, pos) => {\n      const containerPos = global$7.DOM.getPos(element);\n      return transpose(pos, containerPos.x, containerPos.y);\n    };\n    const getPointAnchor = (editor, e) => {\n      if (e.type === 'contextmenu' || e.type === 'longpress') {\n        if (editor.inline) {\n          return fromPageXY(e);\n        } else {\n          return transposeContentAreaContainer(editor.getContentAreaContainer(), fromClientXY(e));\n        }\n      } else {\n        return getSelectionAnchor(editor);\n      }\n    };\n    const getSelectionAnchor = editor => {\n      return {\n        type: 'selection',\n        root: SugarElement.fromDom(editor.selection.getNode())\n      };\n    };\n    const getNodeAnchor = editor => ({\n      type: 'node',\n      node: Optional.some(SugarElement.fromDom(editor.selection.getNode())),\n      root: SugarElement.fromDom(editor.getBody())\n    });\n    const getAnchorSpec$1 = (editor, e, anchorType) => {\n      switch (anchorType) {\n      case 'node':\n        return getNodeAnchor(editor);\n      case 'point':\n        return getPointAnchor(editor, e);\n      case 'selection':\n        return getSelectionAnchor(editor);\n      }\n    };\n\n    const initAndShow$1 = (editor, e, buildMenu, backstage, contextmenu, anchorType) => {\n      const items = buildMenu();\n      const anchorSpec = getAnchorSpec$1(editor, e, anchorType);\n      build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n        isHorizontalMenu: false,\n        search: Optional.none()\n      }).map(menuData => {\n        e.preventDefault();\n        InlineView.showMenuAt(contextmenu, { anchor: anchorSpec }, {\n          menu: { markers: markers('normal') },\n          data: menuData\n        });\n      });\n    };\n\n    const layouts = {\n      onLtr: () => [\n        south$2,\n        southeast$2,\n        southwest$2,\n        northeast$2,\n        northwest$2,\n        north$2,\n        north,\n        south,\n        northeast,\n        southeast,\n        northwest,\n        southwest\n      ],\n      onRtl: () => [\n        south$2,\n        southwest$2,\n        southeast$2,\n        northwest$2,\n        northeast$2,\n        north$2,\n        north,\n        south,\n        northwest,\n        southwest,\n        northeast,\n        southeast\n      ]\n    };\n    const bubbleSize = 12;\n    const bubbleAlignments = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: ['tox-pop--align-left'],\n      alignRight: ['tox-pop--align-right'],\n      right: ['tox-pop--right'],\n      left: ['tox-pop--left'],\n      bottom: ['tox-pop--bottom'],\n      top: ['tox-pop--top']\n    };\n    const isTouchWithinSelection = (editor, e) => {\n      const selection = editor.selection;\n      if (selection.isCollapsed() || e.touches.length < 1) {\n        return false;\n      } else {\n        const touch = e.touches[0];\n        const rng = selection.getRng();\n        const rngRectOpt = getFirstRect(editor.getWin(), SimSelection.domRange(rng));\n        return rngRectOpt.exists(rngRect => rngRect.left <= touch.clientX && rngRect.right >= touch.clientX && rngRect.top <= touch.clientY && rngRect.bottom >= touch.clientY);\n      }\n    };\n    const setupiOSOverrides = editor => {\n      const originalSelection = editor.selection.getRng();\n      const selectionReset = () => {\n        global$9.setEditorTimeout(editor, () => {\n          editor.selection.setRng(originalSelection);\n        }, 10);\n        unbindEventListeners();\n      };\n      editor.once('touchend', selectionReset);\n      const preventMousedown = e => {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n      };\n      editor.on('mousedown', preventMousedown, true);\n      const clearSelectionReset = () => unbindEventListeners();\n      editor.once('longpresscancel', clearSelectionReset);\n      const unbindEventListeners = () => {\n        editor.off('touchend', selectionReset);\n        editor.off('longpresscancel', clearSelectionReset);\n        editor.off('mousedown', preventMousedown);\n      };\n    };\n    const getAnchorSpec = (editor, e, anchorType) => {\n      const anchorSpec = getAnchorSpec$1(editor, e, anchorType);\n      const bubbleYOffset = anchorType === 'point' ? bubbleSize : 0;\n      return {\n        bubble: nu$5(0, bubbleYOffset, bubbleAlignments),\n        layouts,\n        overrides: {\n          maxWidthFunction: expandable(),\n          maxHeightFunction: expandable$1()\n        },\n        ...anchorSpec\n      };\n    };\n    const show = (editor, e, items, backstage, contextmenu, anchorType, highlightImmediately) => {\n      const anchorSpec = getAnchorSpec(editor, e, anchorType);\n      build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n        isHorizontalMenu: true,\n        search: Optional.none()\n      }).map(menuData => {\n        e.preventDefault();\n        const highlightOnOpen = highlightImmediately ? HighlightOnOpen.HighlightMenuAndItem : HighlightOnOpen.HighlightNone;\n        InlineView.showMenuWithinBounds(contextmenu, { anchor: anchorSpec }, {\n          menu: {\n            markers: markers('normal'),\n            highlightOnOpen\n          },\n          data: menuData,\n          type: 'horizontal'\n        }, () => Optional.some(getContextToolbarBounds(editor, backstage.shared, anchorType === 'node' ? 'node' : 'selection')));\n        editor.dispatch(hideContextToolbarEvent);\n      });\n    };\n    const initAndShow = (editor, e, buildMenu, backstage, contextmenu, anchorType) => {\n      const detection = detect$1();\n      const isiOS = detection.os.isiOS();\n      const isMacOS = detection.os.isMacOS();\n      const isAndroid = detection.os.isAndroid();\n      const isTouch = detection.deviceType.isTouch();\n      const shouldHighlightImmediately = () => !(isAndroid || isiOS || isMacOS && isTouch);\n      const open = () => {\n        const items = buildMenu();\n        show(editor, e, items, backstage, contextmenu, anchorType, shouldHighlightImmediately());\n      };\n      if ((isMacOS || isiOS) && anchorType !== 'node') {\n        const openiOS = () => {\n          setupiOSOverrides(editor);\n          open();\n        };\n        if (isTouchWithinSelection(editor, e)) {\n          openiOS();\n        } else {\n          editor.once('selectionchange', openiOS);\n          editor.once('touchend', () => editor.off('selectionchange', openiOS));\n        }\n      } else {\n        open();\n      }\n    };\n\n    const isSeparator = item => isString(item) ? item === '|' : item.type === 'separator';\n    const separator = { type: 'separator' };\n    const makeContextItem = item => {\n      const commonMenuItem = item => ({\n        text: item.text,\n        icon: item.icon,\n        enabled: item.enabled,\n        shortcut: item.shortcut\n      });\n      if (isString(item)) {\n        return item;\n      } else {\n        switch (item.type) {\n        case 'separator':\n          return separator;\n        case 'submenu':\n          return {\n            type: 'nestedmenuitem',\n            ...commonMenuItem(item),\n            getSubmenuItems: () => {\n              const items = item.getSubmenuItems();\n              if (isString(items)) {\n                return items;\n              } else {\n                return map$2(items, makeContextItem);\n              }\n            }\n          };\n        default:\n          const commonItem = item;\n          return {\n            type: 'menuitem',\n            ...commonMenuItem(commonItem),\n            onAction: noarg(commonItem.onAction)\n          };\n        }\n      }\n    };\n    const addContextMenuGroup = (xs, groupItems) => {\n      if (groupItems.length === 0) {\n        return xs;\n      }\n      const lastMenuItem = last$1(xs).filter(item => !isSeparator(item));\n      const before = lastMenuItem.fold(() => [], _ => [separator]);\n      return xs.concat(before).concat(groupItems).concat([separator]);\n    };\n    const generateContextMenu = (contextMenus, menuConfig, selectedElement) => {\n      const sections = foldl(menuConfig, (acc, name) => {\n        return get$g(contextMenus, name.toLowerCase()).map(menu => {\n          const items = menu.update(selectedElement);\n          if (isString(items)) {\n            return addContextMenuGroup(acc, items.split(' '));\n          } else if (items.length > 0) {\n            const allItems = map$2(items, makeContextItem);\n            return addContextMenuGroup(acc, allItems);\n          } else {\n            return acc;\n          }\n        }).getOrThunk(() => acc.concat([name]));\n      }, []);\n      if (sections.length > 0 && isSeparator(sections[sections.length - 1])) {\n        sections.pop();\n      }\n      return sections;\n    };\n    const isNativeOverrideKeyEvent = (editor, e) => e.ctrlKey && !shouldNeverUseNative(editor);\n    const isTouchEvent = e => e.type === 'longpress' || has$2(e, 'touches');\n    const isTriggeredByKeyboard = (editor, e) => !isTouchEvent(e) && (e.button !== 2 || e.target === editor.getBody() && e.pointerType === '');\n    const getSelectedElement = (editor, e) => isTriggeredByKeyboard(editor, e) ? editor.selection.getStart(true) : e.target;\n    const getAnchorType = (editor, e) => {\n      const selector = getAvoidOverlapSelector(editor);\n      const anchorType = isTriggeredByKeyboard(editor, e) ? 'selection' : 'point';\n      if (isNotEmpty(selector)) {\n        const target = getSelectedElement(editor, e);\n        const selectorExists = closest(SugarElement.fromDom(target), selector);\n        return selectorExists ? 'node' : anchorType;\n      } else {\n        return anchorType;\n      }\n    };\n    const setup$5 = (editor, lazySink, backstage) => {\n      const detection = detect$1();\n      const isTouch = detection.deviceType.isTouch;\n      const contextmenu = build$1(InlineView.sketch({\n        dom: { tag: 'div' },\n        lazySink,\n        onEscape: () => editor.focus(),\n        onShow: () => backstage.setContextMenuState(true),\n        onHide: () => backstage.setContextMenuState(false),\n        fireDismissalEventInstead: {},\n        inlineBehaviours: derive$1([config('dismissContextMenu', [run$1(dismissRequested(), (comp, _se) => {\n              Sandboxing.close(comp);\n              editor.focus();\n            })])])\n      }));\n      const hideContextMenu = () => InlineView.hide(contextmenu);\n      const showContextMenu = e => {\n        if (shouldNeverUseNative(editor)) {\n          e.preventDefault();\n        }\n        if (isNativeOverrideKeyEvent(editor, e) || isContextMenuDisabled(editor)) {\n          return;\n        }\n        const anchorType = getAnchorType(editor, e);\n        const buildMenu = () => {\n          const selectedElement = getSelectedElement(editor, e);\n          const registry = editor.ui.registry.getAll();\n          const menuConfig = getContextMenu(editor);\n          return generateContextMenu(registry.contextMenus, menuConfig, selectedElement);\n        };\n        const initAndShow$2 = isTouch() ? initAndShow : initAndShow$1;\n        initAndShow$2(editor, e, buildMenu, backstage, contextmenu, anchorType);\n      };\n      editor.on('init', () => {\n        const hideEvents = 'ResizeEditor ScrollContent ScrollWindow longpresscancel' + (isTouch() ? '' : ' ResizeWindow');\n        editor.on(hideEvents, hideContextMenu);\n        editor.on('longpress contextmenu', showContextMenu);\n      });\n    };\n\n    const adt = Adt.generate([\n      {\n        offset: [\n          'x',\n          'y'\n        ]\n      },\n      {\n        absolute: [\n          'x',\n          'y'\n        ]\n      },\n      {\n        fixed: [\n          'x',\n          'y'\n        ]\n      }\n    ]);\n    const subtract = change => point => point.translate(-change.left, -change.top);\n    const add = change => point => point.translate(change.left, change.top);\n    const transform = changes => (x, y) => foldl(changes, (rest, f) => f(rest), SugarPosition(x, y));\n    const asFixed = (coord, scroll, origin) => coord.fold(transform([\n      add(origin),\n      subtract(scroll)\n    ]), transform([subtract(scroll)]), transform([]));\n    const asAbsolute = (coord, scroll, origin) => coord.fold(transform([add(origin)]), transform([]), transform([add(scroll)]));\n    const asOffset = (coord, scroll, origin) => coord.fold(transform([]), transform([subtract(origin)]), transform([\n      add(scroll),\n      subtract(origin)\n    ]));\n    const withinRange = (coord1, coord2, xRange, yRange, scroll, origin) => {\n      const a1 = asAbsolute(coord1, scroll, origin);\n      const a2 = asAbsolute(coord2, scroll, origin);\n      return Math.abs(a1.left - a2.left) <= xRange && Math.abs(a1.top - a2.top) <= yRange;\n    };\n    const getDeltas = (coord1, coord2, xRange, yRange, scroll, origin) => {\n      const a1 = asAbsolute(coord1, scroll, origin);\n      const a2 = asAbsolute(coord2, scroll, origin);\n      const left = Math.abs(a1.left - a2.left);\n      const top = Math.abs(a1.top - a2.top);\n      return SugarPosition(left, top);\n    };\n    const toStyles = (coord, scroll, origin) => {\n      const stylesOpt = coord.fold((x, y) => ({\n        position: Optional.some('absolute'),\n        left: Optional.some(x + 'px'),\n        top: Optional.some(y + 'px')\n      }), (x, y) => ({\n        position: Optional.some('absolute'),\n        left: Optional.some(x - origin.left + 'px'),\n        top: Optional.some(y - origin.top + 'px')\n      }), (x, y) => ({\n        position: Optional.some('fixed'),\n        left: Optional.some(x + 'px'),\n        top: Optional.some(y + 'px')\n      }));\n      return {\n        right: Optional.none(),\n        bottom: Optional.none(),\n        ...stylesOpt\n      };\n    };\n    const translate = (coord, deltaX, deltaY) => coord.fold((x, y) => offset(x + deltaX, y + deltaY), (x, y) => absolute(x + deltaX, y + deltaY), (x, y) => fixed(x + deltaX, y + deltaY));\n    const absorb = (partialCoord, originalCoord, scroll, origin) => {\n      const absorbOne = (stencil, nu) => (optX, optY) => {\n        const original = stencil(originalCoord, scroll, origin);\n        return nu(optX.getOr(original.left), optY.getOr(original.top));\n      };\n      return partialCoord.fold(absorbOne(asOffset, offset), absorbOne(asAbsolute, absolute), absorbOne(asFixed, fixed));\n    };\n    const offset = adt.offset;\n    const absolute = adt.absolute;\n    const fixed = adt.fixed;\n\n    const parseAttrToInt = (element, name) => {\n      const value = get$f(element, name);\n      return isUndefined(value) ? NaN : parseInt(value, 10);\n    };\n    const get = (component, snapsInfo) => {\n      const element = component.element;\n      const x = parseAttrToInt(element, snapsInfo.leftAttr);\n      const y = parseAttrToInt(element, snapsInfo.topAttr);\n      return isNaN(x) || isNaN(y) ? Optional.none() : Optional.some(SugarPosition(x, y));\n    };\n    const set = (component, snapsInfo, pt) => {\n      const element = component.element;\n      set$9(element, snapsInfo.leftAttr, pt.left + 'px');\n      set$9(element, snapsInfo.topAttr, pt.top + 'px');\n    };\n    const clear = (component, snapsInfo) => {\n      const element = component.element;\n      remove$7(element, snapsInfo.leftAttr);\n      remove$7(element, snapsInfo.topAttr);\n    };\n\n    const getCoords = (component, snapInfo, coord, delta) => get(component, snapInfo).fold(() => coord, fixed$1 => fixed(fixed$1.left + delta.left, fixed$1.top + delta.top));\n    const moveOrSnap = (component, snapInfo, coord, delta, scroll, origin) => {\n      const newCoord = getCoords(component, snapInfo, coord, delta);\n      const snap = snapInfo.mustSnap ? findClosestSnap(component, snapInfo, newCoord, scroll, origin) : findSnap(component, snapInfo, newCoord, scroll, origin);\n      const fixedCoord = asFixed(newCoord, scroll, origin);\n      set(component, snapInfo, fixedCoord);\n      return snap.fold(() => ({\n        coord: fixed(fixedCoord.left, fixedCoord.top),\n        extra: Optional.none()\n      }), spanned => ({\n        coord: spanned.output,\n        extra: spanned.extra\n      }));\n    };\n    const stopDrag = (component, snapInfo) => {\n      clear(component, snapInfo);\n    };\n    const findMatchingSnap = (snaps, newCoord, scroll, origin) => findMap(snaps, snap => {\n      const sensor = snap.sensor;\n      const inRange = withinRange(newCoord, sensor, snap.range.left, snap.range.top, scroll, origin);\n      return inRange ? Optional.some({\n        output: absorb(snap.output, newCoord, scroll, origin),\n        extra: snap.extra\n      }) : Optional.none();\n    });\n    const findClosestSnap = (component, snapInfo, newCoord, scroll, origin) => {\n      const snaps = snapInfo.getSnapPoints(component);\n      const matchSnap = findMatchingSnap(snaps, newCoord, scroll, origin);\n      return matchSnap.orThunk(() => {\n        const bestSnap = foldl(snaps, (acc, snap) => {\n          const sensor = snap.sensor;\n          const deltas = getDeltas(newCoord, sensor, snap.range.left, snap.range.top, scroll, origin);\n          return acc.deltas.fold(() => ({\n            deltas: Optional.some(deltas),\n            snap: Optional.some(snap)\n          }), bestDeltas => {\n            const currAvg = (deltas.left + deltas.top) / 2;\n            const bestAvg = (bestDeltas.left + bestDeltas.top) / 2;\n            if (currAvg <= bestAvg) {\n              return {\n                deltas: Optional.some(deltas),\n                snap: Optional.some(snap)\n              };\n            } else {\n              return acc;\n            }\n          });\n        }, {\n          deltas: Optional.none(),\n          snap: Optional.none()\n        });\n        return bestSnap.snap.map(snap => ({\n          output: absorb(snap.output, newCoord, scroll, origin),\n          extra: snap.extra\n        }));\n      });\n    };\n    const findSnap = (component, snapInfo, newCoord, scroll, origin) => {\n      const snaps = snapInfo.getSnapPoints(component);\n      return findMatchingSnap(snaps, newCoord, scroll, origin);\n    };\n    const snapTo$1 = (snap, scroll, origin) => ({\n      coord: absorb(snap.output, snap.output, scroll, origin),\n      extra: snap.extra\n    });\n\n    const snapTo = (component, dragConfig, _state, snap) => {\n      const target = dragConfig.getTarget(component.element);\n      if (dragConfig.repositionTarget) {\n        const doc = owner$4(component.element);\n        const scroll = get$b(doc);\n        const origin = getOrigin(target);\n        const snapPin = snapTo$1(snap, scroll, origin);\n        const styles = toStyles(snapPin.coord, scroll, origin);\n        setOptions(target, styles);\n      }\n    };\n\n    var DraggingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        snapTo: snapTo\n    });\n\n    const initialAttribute = 'data-initial-z-index';\n    const resetZIndex = blocker => {\n      parent(blocker.element).filter(isElement$1).each(root => {\n        getOpt(root, initialAttribute).fold(() => remove$6(root, 'z-index'), zIndex => set$8(root, 'z-index', zIndex));\n        remove$7(root, initialAttribute);\n      });\n    };\n    const changeZIndex = blocker => {\n      parent(blocker.element).filter(isElement$1).each(root => {\n        getRaw(root, 'z-index').each(zindex => {\n          set$9(root, initialAttribute, zindex);\n        });\n        set$8(root, 'z-index', get$e(blocker.element, 'z-index'));\n      });\n    };\n    const instigate = (anyComponent, blocker) => {\n      anyComponent.getSystem().addToGui(blocker);\n      changeZIndex(blocker);\n    };\n    const discard = blocker => {\n      resetZIndex(blocker);\n      blocker.getSystem().removeFromGui(blocker);\n    };\n    const createComponent = (component, blockerClass, blockerEvents) => component.getSystem().build(Container.sketch({\n      dom: {\n        styles: {\n          'left': '0px',\n          'top': '0px',\n          'width': '100%',\n          'height': '100%',\n          'position': 'fixed',\n          'z-index': '1000000000000000'\n        },\n        classes: [blockerClass]\n      },\n      events: blockerEvents\n    }));\n\n    var SnapSchema = optionObjOf('snaps', [\n      required$1('getSnapPoints'),\n      onHandler('onSensor'),\n      required$1('leftAttr'),\n      required$1('topAttr'),\n      defaulted('lazyViewport', win),\n      defaulted('mustSnap', false)\n    ]);\n\n    const schema$6 = [\n      defaulted('useFixed', never),\n      required$1('blockerClass'),\n      defaulted('getTarget', identity),\n      defaulted('onDrag', noop),\n      defaulted('repositionTarget', true),\n      defaulted('onDrop', noop),\n      defaultedFunction('getBounds', win),\n      SnapSchema\n    ];\n\n    const getCurrentCoord = target => lift3(getRaw(target, 'left'), getRaw(target, 'top'), getRaw(target, 'position'), (left, top, position) => {\n      const nu = position === 'fixed' ? fixed : offset;\n      return nu(parseInt(left, 10), parseInt(top, 10));\n    }).getOrThunk(() => {\n      const location = absolute$3(target);\n      return absolute(location.left, location.top);\n    });\n    const clampCoords = (component, coords, scroll, origin, startData) => {\n      const bounds = startData.bounds;\n      const absoluteCoord = asAbsolute(coords, scroll, origin);\n      const newX = clamp(absoluteCoord.left, bounds.x, bounds.x + bounds.width - startData.width);\n      const newY = clamp(absoluteCoord.top, bounds.y, bounds.y + bounds.height - startData.height);\n      const newCoords = absolute(newX, newY);\n      return coords.fold(() => {\n        const offset$1 = asOffset(newCoords, scroll, origin);\n        return offset(offset$1.left, offset$1.top);\n      }, constant$1(newCoords), () => {\n        const fixed$1 = asFixed(newCoords, scroll, origin);\n        return fixed(fixed$1.left, fixed$1.top);\n      });\n    };\n    const calcNewCoord = (component, optSnaps, currentCoord, scroll, origin, delta, startData) => {\n      const newCoord = optSnaps.fold(() => {\n        const translated = translate(currentCoord, delta.left, delta.top);\n        const fixedCoord = asFixed(translated, scroll, origin);\n        return fixed(fixedCoord.left, fixedCoord.top);\n      }, snapInfo => {\n        const snapping = moveOrSnap(component, snapInfo, currentCoord, delta, scroll, origin);\n        snapping.extra.each(extra => {\n          snapInfo.onSensor(component, extra);\n        });\n        return snapping.coord;\n      });\n      return clampCoords(component, newCoord, scroll, origin, startData);\n    };\n    const dragBy = (component, dragConfig, startData, delta) => {\n      const target = dragConfig.getTarget(component.element);\n      if (dragConfig.repositionTarget) {\n        const doc = owner$4(component.element);\n        const scroll = get$b(doc);\n        const origin = getOrigin(target);\n        const currentCoord = getCurrentCoord(target);\n        const newCoord = calcNewCoord(component, dragConfig.snaps, currentCoord, scroll, origin, delta, startData);\n        const styles = toStyles(newCoord, scroll, origin);\n        setOptions(target, styles);\n      }\n      dragConfig.onDrag(component, target, delta);\n    };\n\n    const calcStartData = (dragConfig, comp) => ({\n      bounds: dragConfig.getBounds(),\n      height: getOuter$2(comp.element),\n      width: getOuter$1(comp.element)\n    });\n    const move = (component, dragConfig, dragState, dragMode, event) => {\n      const delta = dragState.update(dragMode, event);\n      const dragStartData = dragState.getStartData().getOrThunk(() => calcStartData(dragConfig, component));\n      delta.each(dlt => {\n        dragBy(component, dragConfig, dragStartData, dlt);\n      });\n    };\n    const stop = (component, blocker, dragConfig, dragState) => {\n      blocker.each(discard);\n      dragConfig.snaps.each(snapInfo => {\n        stopDrag(component, snapInfo);\n      });\n      const target = dragConfig.getTarget(component.element);\n      dragState.reset();\n      dragConfig.onDrop(component, target);\n    };\n    const handlers = events => (dragConfig, dragState) => {\n      const updateStartState = comp => {\n        dragState.setStartData(calcStartData(dragConfig, comp));\n      };\n      return derive$2([\n        run$1(windowScroll(), comp => {\n          dragState.getStartData().each(() => updateStartState(comp));\n        }),\n        ...events(dragConfig, dragState, updateStartState)\n      ]);\n    };\n\n    const init$2 = dragApi => derive$2([\n      run$1(mousedown(), dragApi.forceDrop),\n      run$1(mouseup(), dragApi.drop),\n      run$1(mousemove(), (comp, simulatedEvent) => {\n        dragApi.move(simulatedEvent.event);\n      }),\n      run$1(mouseout(), dragApi.delayDrop)\n    ]);\n\n    const getData$1 = event => Optional.from(SugarPosition(event.x, event.y));\n    const getDelta$1 = (old, nu) => SugarPosition(nu.left - old.left, nu.top - old.top);\n\n    var MouseData = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getData: getData$1,\n        getDelta: getDelta$1\n    });\n\n    const events$2 = (dragConfig, dragState, updateStartState) => [run$1(mousedown(), (component, simulatedEvent) => {\n        const raw = simulatedEvent.event.raw;\n        if (raw.button !== 0) {\n          return;\n        }\n        simulatedEvent.stop();\n        const stop$1 = () => stop(component, Optional.some(blocker), dragConfig, dragState);\n        const delayDrop = DelayedFunction(stop$1, 200);\n        const dragApi = {\n          drop: stop$1,\n          delayDrop: delayDrop.schedule,\n          forceDrop: stop$1,\n          move: event => {\n            delayDrop.cancel();\n            move(component, dragConfig, dragState, MouseData, event);\n          }\n        };\n        const blocker = createComponent(component, dragConfig.blockerClass, init$2(dragApi));\n        const start = () => {\n          updateStartState(component);\n          instigate(component, blocker);\n        };\n        start();\n      })];\n    const schema$5 = [\n      ...schema$6,\n      output$1('dragger', { handlers: handlers(events$2) })\n    ];\n\n    const init$1 = dragApi => derive$2([\n      run$1(touchstart(), dragApi.forceDrop),\n      run$1(touchend(), dragApi.drop),\n      run$1(touchcancel(), dragApi.drop),\n      run$1(touchmove(), (comp, simulatedEvent) => {\n        dragApi.move(simulatedEvent.event);\n      })\n    ]);\n\n    const getDataFrom = touches => {\n      const touch = touches[0];\n      return Optional.some(SugarPosition(touch.clientX, touch.clientY));\n    };\n    const getData = event => {\n      const raw = event.raw;\n      const touches = raw.touches;\n      return touches.length === 1 ? getDataFrom(touches) : Optional.none();\n    };\n    const getDelta = (old, nu) => SugarPosition(nu.left - old.left, nu.top - old.top);\n\n    var TouchData = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getData: getData,\n        getDelta: getDelta\n    });\n\n    const events$1 = (dragConfig, dragState, updateStartState) => {\n      const blockerSingleton = value$2();\n      const stopBlocking = component => {\n        stop(component, blockerSingleton.get(), dragConfig, dragState);\n        blockerSingleton.clear();\n      };\n      return [\n        run$1(touchstart(), (component, simulatedEvent) => {\n          simulatedEvent.stop();\n          const stop = () => stopBlocking(component);\n          const dragApi = {\n            drop: stop,\n            delayDrop: noop,\n            forceDrop: stop,\n            move: event => {\n              move(component, dragConfig, dragState, TouchData, event);\n            }\n          };\n          const blocker = createComponent(component, dragConfig.blockerClass, init$1(dragApi));\n          blockerSingleton.set(blocker);\n          const start = () => {\n            updateStartState(component);\n            instigate(component, blocker);\n          };\n          start();\n        }),\n        run$1(touchmove(), (component, simulatedEvent) => {\n          simulatedEvent.stop();\n          move(component, dragConfig, dragState, TouchData, simulatedEvent.event);\n        }),\n        run$1(touchend(), (component, simulatedEvent) => {\n          simulatedEvent.stop();\n          stopBlocking(component);\n        }),\n        run$1(touchcancel(), stopBlocking)\n      ];\n    };\n    const schema$4 = [\n      ...schema$6,\n      output$1('dragger', { handlers: handlers(events$1) })\n    ];\n\n    const events = (dragConfig, dragState, updateStartState) => [\n      ...events$2(dragConfig, dragState, updateStartState),\n      ...events$1(dragConfig, dragState, updateStartState)\n    ];\n    const schema$3 = [\n      ...schema$6,\n      output$1('dragger', { handlers: handlers(events) })\n    ];\n\n    const mouse = schema$5;\n    const touch = schema$4;\n    const mouseOrTouch = schema$3;\n\n    var DraggingBranches = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        mouse: mouse,\n        touch: touch,\n        mouseOrTouch: mouseOrTouch\n    });\n\n    const init = () => {\n      let previous = Optional.none();\n      let startData = Optional.none();\n      const reset = () => {\n        previous = Optional.none();\n        startData = Optional.none();\n      };\n      const calculateDelta = (mode, nu) => {\n        const result = previous.map(old => mode.getDelta(old, nu));\n        previous = Optional.some(nu);\n        return result;\n      };\n      const update = (mode, dragEvent) => mode.getData(dragEvent).bind(nuData => calculateDelta(mode, nuData));\n      const setStartData = data => {\n        startData = Optional.some(data);\n      };\n      const getStartData = () => startData;\n      const readState = constant$1({});\n      return nu$8({\n        readState,\n        reset,\n        update,\n        getStartData,\n        setStartData\n      });\n    };\n\n    var DragState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init\n    });\n\n    const Dragging = createModes({\n      branchKey: 'mode',\n      branches: DraggingBranches,\n      name: 'dragging',\n      active: {\n        events: (dragConfig, dragState) => {\n          const dragger = dragConfig.dragger;\n          return dragger.handlers(dragConfig, dragState);\n        }\n      },\n      extra: {\n        snap: sConfig => ({\n          sensor: sConfig.sensor,\n          range: sConfig.range,\n          output: sConfig.output,\n          extra: Optional.from(sConfig.extra)\n        })\n      },\n      state: DragState,\n      apis: DraggingApis\n    });\n\n    const snapWidth = 40;\n    const snapOffset = snapWidth / 2;\n    const calcSnap = (selectorOpt, td, x, y, width, height) => selectorOpt.fold(() => Dragging.snap({\n      sensor: absolute(x - snapOffset, y - snapOffset),\n      range: SugarPosition(width, height),\n      output: absolute(Optional.some(x), Optional.some(y)),\n      extra: { td }\n    }), selectorHandle => {\n      const sensorLeft = x - snapOffset;\n      const sensorTop = y - snapOffset;\n      const sensorWidth = snapWidth;\n      const sensorHeight = snapWidth;\n      const rect = selectorHandle.element.dom.getBoundingClientRect();\n      return Dragging.snap({\n        sensor: absolute(sensorLeft, sensorTop),\n        range: SugarPosition(sensorWidth, sensorHeight),\n        output: absolute(Optional.some(x - rect.width / 2), Optional.some(y - rect.height / 2)),\n        extra: { td }\n      });\n    });\n    const getSnapsConfig = (getSnapPoints, cell, onChange) => {\n      const isSameCell = (cellOpt, td) => cellOpt.exists(currentTd => eq(currentTd, td));\n      return {\n        getSnapPoints,\n        leftAttr: 'data-drag-left',\n        topAttr: 'data-drag-top',\n        onSensor: (component, extra) => {\n          const td = extra.td;\n          if (!isSameCell(cell.get(), td)) {\n            cell.set(td);\n            onChange(td);\n          }\n        },\n        mustSnap: true\n      };\n    };\n    const createSelector = snaps => record(Button.sketch({\n      dom: {\n        tag: 'div',\n        classes: ['tox-selector']\n      },\n      buttonBehaviours: derive$1([\n        Dragging.config({\n          mode: 'mouseOrTouch',\n          blockerClass: 'blocker',\n          snaps\n        }),\n        Unselecting.config({})\n      ]),\n      eventOrder: {\n        mousedown: [\n          'dragging',\n          'alloy.base.behaviour'\n        ],\n        touchstart: [\n          'dragging',\n          'alloy.base.behaviour'\n        ]\n      }\n    }));\n    const setup$4 = (editor, sink) => {\n      const tlTds = Cell([]);\n      const brTds = Cell([]);\n      const isVisible = Cell(false);\n      const startCell = value$2();\n      const finishCell = value$2();\n      const getTopLeftSnap = td => {\n        const box = absolute$2(td);\n        return calcSnap(memTopLeft.getOpt(sink), td, box.x, box.y, box.width, box.height);\n      };\n      const getTopLeftSnaps = () => map$2(tlTds.get(), td => getTopLeftSnap(td));\n      const getBottomRightSnap = td => {\n        const box = absolute$2(td);\n        return calcSnap(memBottomRight.getOpt(sink), td, box.right, box.bottom, box.width, box.height);\n      };\n      const getBottomRightSnaps = () => map$2(brTds.get(), td => getBottomRightSnap(td));\n      const topLeftSnaps = getSnapsConfig(getTopLeftSnaps, startCell, start => {\n        finishCell.get().each(finish => {\n          editor.dispatch('TableSelectorChange', {\n            start,\n            finish\n          });\n        });\n      });\n      const bottomRightSnaps = getSnapsConfig(getBottomRightSnaps, finishCell, finish => {\n        startCell.get().each(start => {\n          editor.dispatch('TableSelectorChange', {\n            start,\n            finish\n          });\n        });\n      });\n      const memTopLeft = createSelector(topLeftSnaps);\n      const memBottomRight = createSelector(bottomRightSnaps);\n      const topLeft = build$1(memTopLeft.asSpec());\n      const bottomRight = build$1(memBottomRight.asSpec());\n      const showOrHideHandle = (selector, cell, isAbove, isBelow) => {\n        const cellRect = cell.dom.getBoundingClientRect();\n        remove$6(selector.element, 'display');\n        const viewportHeight = defaultView(SugarElement.fromDom(editor.getBody())).dom.innerHeight;\n        const aboveViewport = isAbove(cellRect);\n        const belowViewport = isBelow(cellRect, viewportHeight);\n        if (aboveViewport || belowViewport) {\n          set$8(selector.element, 'display', 'none');\n        }\n      };\n      const snapTo = (selector, cell, getSnapConfig, pos) => {\n        const snap = getSnapConfig(cell);\n        Dragging.snapTo(selector, snap);\n        const isAbove = rect => rect[pos] < 0;\n        const isBelow = (rect, viewportHeight) => rect[pos] > viewportHeight;\n        showOrHideHandle(selector, cell, isAbove, isBelow);\n      };\n      const snapTopLeft = cell => snapTo(topLeft, cell, getTopLeftSnap, 'top');\n      const snapLastTopLeft = () => startCell.get().each(snapTopLeft);\n      const snapBottomRight = cell => snapTo(bottomRight, cell, getBottomRightSnap, 'bottom');\n      const snapLastBottomRight = () => finishCell.get().each(snapBottomRight);\n      if (detect$1().deviceType.isTouch()) {\n        editor.on('TableSelectionChange', e => {\n          if (!isVisible.get()) {\n            attach(sink, topLeft);\n            attach(sink, bottomRight);\n            isVisible.set(true);\n          }\n          startCell.set(e.start);\n          finishCell.set(e.finish);\n          e.otherCells.each(otherCells => {\n            tlTds.set(otherCells.upOrLeftCells);\n            brTds.set(otherCells.downOrRightCells);\n            snapTopLeft(e.start);\n            snapBottomRight(e.finish);\n          });\n        });\n        editor.on('ResizeEditor ResizeWindow ScrollContent', () => {\n          snapLastTopLeft();\n          snapLastBottomRight();\n        });\n        editor.on('TableSelectionClear', () => {\n          if (isVisible.get()) {\n            detach(topLeft);\n            detach(bottomRight);\n            isVisible.set(false);\n          }\n          startCell.clear();\n          finishCell.clear();\n        });\n      }\n    };\n\n    var Logo = \"<svg width=\\\"50px\\\" height=\\\"16px\\\" viewBox=\\\"0 0 50 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n  <path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z\\\"/>\\n</svg>\\n\";\n\n    const isHidden = elm => elm.nodeName === 'BR' || !!elm.getAttribute('data-mce-bogus') || elm.getAttribute('data-mce-type') === 'bookmark';\n    const renderElementPath = (editor, settings, providersBackstage) => {\n      var _a;\n      const delimiter = (_a = settings.delimiter) !== null && _a !== void 0 ? _a : '\\u203A';\n      const renderElement = (name, element, index) => Button.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path-item'],\n          attributes: {\n            'data-index': index,\n            'aria-level': index + 1\n          }\n        },\n        components: [text$1(name)],\n        action: _btn => {\n          editor.focus();\n          editor.selection.select(element);\n          editor.nodeChanged();\n        },\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(providersBackstage.isDisabled),\n          receivingConfig()\n        ])\n      });\n      const renderDivider = () => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path-divider'],\n          attributes: { 'aria-hidden': true }\n        },\n        components: [text$1(` ${ delimiter } `)]\n      });\n      const renderPathData = data => foldl(data, (acc, path, index) => {\n        const element = renderElement(path.name, path.element, index);\n        if (index === 0) {\n          return acc.concat([element]);\n        } else {\n          return acc.concat([\n            renderDivider(),\n            element\n          ]);\n        }\n      }, []);\n      const updatePath = parents => {\n        const newPath = [];\n        let i = parents.length;\n        while (i-- > 0) {\n          const parent = parents[i];\n          if (parent.nodeType === 1 && !isHidden(parent)) {\n            const args = fireResolveName(editor, parent);\n            if (!args.isDefaultPrevented()) {\n              newPath.push({\n                name: args.name,\n                element: parent\n              });\n            }\n            if (args.isPropagationStopped()) {\n              break;\n            }\n          }\n        }\n        return newPath;\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path'],\n          attributes: { role: 'navigation' }\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'flow',\n            selector: 'div[role=button]'\n          }),\n          Disabling.config({ disabled: providersBackstage.isDisabled }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Replacing.config({}),\n          config('elementPathEvents', [runOnAttached((comp, _e) => {\n              editor.shortcuts.add('alt+F11', 'focus statusbar elementpath', () => Keying.focusIn(comp));\n              editor.on('NodeChange', e => {\n                const newPath = updatePath(e.parents);\n                const newChildren = newPath.length > 0 ? renderPathData(newPath) : [];\n                Replacing.set(comp, newChildren);\n              });\n            })])\n        ]),\n        components: []\n      };\n    };\n\n    var ResizeTypes;\n    (function (ResizeTypes) {\n      ResizeTypes[ResizeTypes['None'] = 0] = 'None';\n      ResizeTypes[ResizeTypes['Both'] = 1] = 'Both';\n      ResizeTypes[ResizeTypes['Vertical'] = 2] = 'Vertical';\n    }(ResizeTypes || (ResizeTypes = {})));\n    const getDimensions = (editor, deltas, resizeType, originalHeight, originalWidth) => {\n      const dimensions = { height: calcCappedSize(originalHeight + deltas.top, getMinHeightOption(editor), getMaxHeightOption(editor)) };\n      if (resizeType === ResizeTypes.Both) {\n        dimensions.width = calcCappedSize(originalWidth + deltas.left, getMinWidthOption(editor), getMaxWidthOption(editor));\n      }\n      return dimensions;\n    };\n    const resize = (editor, deltas, resizeType) => {\n      const container = SugarElement.fromDom(editor.getContainer());\n      const dimensions = getDimensions(editor, deltas, resizeType, get$d(container), get$c(container));\n      each(dimensions, (val, dim) => {\n        if (isNumber(val)) {\n          set$8(container, dim, numToPx(val));\n        }\n      });\n      fireResizeEditor(editor);\n    };\n\n    const getResizeType = editor => {\n      const resize = getResize(editor);\n      if (resize === false) {\n        return ResizeTypes.None;\n      } else if (resize === 'both') {\n        return ResizeTypes.Both;\n      } else {\n        return ResizeTypes.Vertical;\n      }\n    };\n    const keyboardHandler = (editor, resizeType, x, y) => {\n      const scale = 20;\n      const delta = SugarPosition(x * scale, y * scale);\n      resize(editor, delta, resizeType);\n      return Optional.some(true);\n    };\n    const renderResizeHandler = (editor, providersBackstage) => {\n      const resizeType = getResizeType(editor);\n      if (resizeType === ResizeTypes.None) {\n        return Optional.none();\n      }\n      return Optional.some(render$3('resize-handle', {\n        tag: 'div',\n        classes: ['tox-statusbar__resize-handle'],\n        attributes: { title: providersBackstage.translate('Resize') },\n        behaviours: [\n          Dragging.config({\n            mode: 'mouse',\n            repositionTarget: false,\n            onDrag: (_comp, _target, delta) => resize(editor, delta, resizeType),\n            blockerClass: 'tox-blocker'\n          }),\n          Keying.config({\n            mode: 'special',\n            onLeft: () => keyboardHandler(editor, resizeType, -1, 0),\n            onRight: () => keyboardHandler(editor, resizeType, 1, 0),\n            onUp: () => keyboardHandler(editor, resizeType, 0, -1),\n            onDown: () => keyboardHandler(editor, resizeType, 0, 1)\n          }),\n          Tabstopping.config({}),\n          Focusing.config({})\n        ]\n      }, providersBackstage.icons));\n    };\n\n    const renderWordCount = (editor, providersBackstage) => {\n      const replaceCountText = (comp, count, mode) => Replacing.set(comp, [text$1(providersBackstage.translate([\n          '{0} ' + mode,\n          count[mode]\n        ]))]);\n      return Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: ['tox-statusbar__wordcount']\n        },\n        components: [],\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(providersBackstage.isDisabled),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Replacing.config({}),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: {\n                mode: 'words',\n                count: {\n                  words: 0,\n                  characters: 0\n                }\n              }\n            }\n          }),\n          config('wordcount-events', [\n            runOnExecute$1(comp => {\n              const currentVal = Representing.getValue(comp);\n              const newMode = currentVal.mode === 'words' ? 'characters' : 'words';\n              Representing.setValue(comp, {\n                mode: newMode,\n                count: currentVal.count\n              });\n              replaceCountText(comp, currentVal.count, newMode);\n            }),\n            runOnAttached(comp => {\n              editor.on('wordCountUpdate', e => {\n                const {mode} = Representing.getValue(comp);\n                Representing.setValue(comp, {\n                  mode,\n                  count: e.wordCount\n                });\n                replaceCountText(comp, e.wordCount, mode);\n              });\n            })\n          ])\n        ]),\n        eventOrder: {\n          [execute$5()]: [\n            'disabling',\n            'alloy.base.behaviour',\n            'wordcount-events'\n          ]\n        }\n      });\n    };\n\n    const renderStatusbar = (editor, providersBackstage) => {\n      const renderBranding = () => {\n        return {\n          dom: {\n            tag: 'span',\n            classes: ['tox-statusbar__branding']\n          },\n          components: [{\n              dom: {\n                tag: 'a',\n                attributes: {\n                  'href': 'https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6',\n                  'rel': 'noopener',\n                  'target': '_blank',\n                  'aria-label': global$8.translate([\n                    'Powered by {0}',\n                    'Tiny'\n                  ])\n                },\n                innerHtml: Logo.trim()\n              },\n              behaviours: derive$1([Focusing.config({})])\n            }]\n        };\n      };\n      const getTextComponents = () => {\n        const components = [];\n        if (useElementPath(editor)) {\n          components.push(renderElementPath(editor, {}, providersBackstage));\n        }\n        if (editor.hasPlugin('wordcount')) {\n          components.push(renderWordCount(editor, providersBackstage));\n        }\n        if (useBranding(editor)) {\n          components.push(renderBranding());\n        }\n        if (components.length > 0) {\n          return [{\n              dom: {\n                tag: 'div',\n                classes: ['tox-statusbar__text-container']\n              },\n              components\n            }];\n        }\n        return [];\n      };\n      const getComponents = () => {\n        const components = getTextComponents();\n        const resizeHandler = renderResizeHandler(editor, providersBackstage);\n        return components.concat(resizeHandler.toArray());\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar']\n        },\n        components: getComponents()\n      };\n    };\n\n    const getLazyMothership = singleton => singleton.get().getOrDie('UI has not been rendered');\n    const setup$3 = editor => {\n      const isInline = editor.inline;\n      const mode = isInline ? Inline : Iframe;\n      const header = isStickyToolbar(editor) ? StickyHeader : StaticHeader;\n      const lazySink = value$2();\n      const lazyOuterContainer = value$2();\n      const lazyMothership = value$2();\n      const lazyUiMothership = value$2();\n      const platform = detect$1();\n      const isTouch = platform.deviceType.isTouch();\n      const touchPlatformClass = 'tox-platform-touch';\n      const deviceClasses = isTouch ? [touchPlatformClass] : [];\n      const isToolbarBottom = isToolbarLocationBottom(editor);\n      const toolbarMode = getToolbarMode(editor);\n      const memAnchorBar = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-anchorbar']\n        }\n      });\n      const lazyHeader = () => lazyOuterContainer.get().bind(OuterContainer.getHeader);\n      const lazySinkResult = () => Result.fromOption(lazySink.get(), 'UI has not been rendered');\n      const lazyAnchorBar = () => lazyOuterContainer.get().bind(container => memAnchorBar.getOpt(container)).getOrDie('Could not find a anchor bar element');\n      const lazyToolbar = () => lazyOuterContainer.get().bind(container => OuterContainer.getToolbar(container)).getOrDie('Could not find more toolbar element');\n      const lazyThrobber = () => lazyOuterContainer.get().bind(container => OuterContainer.getThrobber(container)).getOrDie('Could not find throbber element');\n      const backstage = init$7(lazySinkResult, editor, lazyAnchorBar);\n      const makeHeaderPart = () => {\n        const verticalDirAttributes = { attributes: { [Attribute]: isToolbarBottom ? AttributeValue.BottomToTop : AttributeValue.TopToBottom } };\n        const partMenubar = OuterContainer.parts.menubar({\n          dom: {\n            tag: 'div',\n            classes: ['tox-menubar']\n          },\n          backstage,\n          onEscape: () => {\n            editor.focus();\n          }\n        });\n        const partToolbar = OuterContainer.parts.toolbar({\n          dom: {\n            tag: 'div',\n            classes: ['tox-toolbar']\n          },\n          getSink: lazySinkResult,\n          providers: backstage.shared.providers,\n          onEscape: () => {\n            editor.focus();\n          },\n          type: toolbarMode,\n          lazyToolbar,\n          lazyHeader: () => lazyHeader().getOrDie('Could not find header element'),\n          ...verticalDirAttributes\n        });\n        const partMultipleToolbar = OuterContainer.parts['multiple-toolbar']({\n          dom: {\n            tag: 'div',\n            classes: ['tox-toolbar-overlord']\n          },\n          providers: backstage.shared.providers,\n          onEscape: () => {\n            editor.focus();\n          },\n          type: toolbarMode\n        });\n        const hasMultipleToolbar = isMultipleToolbars(editor);\n        const hasToolbar = isToolbarEnabled(editor);\n        const hasMenubar = isMenubarEnabled(editor);\n        const shouldHavePromotion = promotionEnabled(editor);\n        const partPromotion = makePromotion();\n        const getPartToolbar = () => {\n          if (hasMultipleToolbar) {\n            return [partMultipleToolbar];\n          } else if (hasToolbar) {\n            return [partToolbar];\n          } else {\n            return [];\n          }\n        };\n        const menubarCollection = shouldHavePromotion ? [\n          partPromotion,\n          partMenubar\n        ] : [partMenubar];\n        return OuterContainer.parts.header({\n          dom: {\n            tag: 'div',\n            classes: ['tox-editor-header'],\n            ...verticalDirAttributes\n          },\n          components: flatten([\n            hasMenubar ? menubarCollection : [],\n            getPartToolbar(),\n            useFixedContainer(editor) ? [] : [memAnchorBar.asSpec()]\n          ]),\n          sticky: isStickyToolbar(editor),\n          editor,\n          sharedBackstage: backstage.shared\n        });\n      };\n      const makePromotion = () => {\n        return OuterContainer.parts.promotion({\n          dom: {\n            tag: 'div',\n            classes: ['tox-promotion']\n          }\n        });\n      };\n      const makeSidebarDefinition = () => {\n        const partSocket = OuterContainer.parts.socket({\n          dom: {\n            tag: 'div',\n            classes: ['tox-edit-area']\n          }\n        });\n        const partSidebar = OuterContainer.parts.sidebar({\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar']\n          }\n        });\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar-wrap']\n          },\n          components: [\n            partSocket,\n            partSidebar\n          ]\n        };\n      };\n      const renderSink = () => {\n        const uiContainer = getUiContainer(editor);\n        const isGridUiContainer = eq(body(), uiContainer) && get$e(uiContainer, 'display') === 'grid';\n        const sinkSpec = {\n          dom: {\n            tag: 'div',\n            classes: [\n              'tox',\n              'tox-silver-sink',\n              'tox-tinymce-aux'\n            ].concat(deviceClasses),\n            attributes: { ...global$8.isRtl() ? { dir: 'rtl' } : {} }\n          },\n          behaviours: derive$1([Positioning.config({ useFixed: () => header.isDocked(lazyHeader) })])\n        };\n        const reactiveWidthSpec = {\n          dom: { styles: { width: document.body.clientWidth + 'px' } },\n          events: derive$2([run$1(windowResize(), comp => {\n              set$8(comp.element, 'width', document.body.clientWidth + 'px');\n            })])\n        };\n        const sink = build$1(deepMerge(sinkSpec, isGridUiContainer ? reactiveWidthSpec : {}));\n        const uiMothership = takeover(sink);\n        lazySink.set(sink);\n        lazyUiMothership.set(uiMothership);\n        return {\n          sink,\n          uiMothership\n        };\n      };\n      const renderContainer = () => {\n        const partHeader = makeHeaderPart();\n        const sidebarContainer = makeSidebarDefinition();\n        const partThrobber = OuterContainer.parts.throbber({\n          dom: {\n            tag: 'div',\n            classes: ['tox-throbber']\n          },\n          backstage\n        });\n        const statusbar = useStatusBar(editor) && !isInline ? Optional.some(renderStatusbar(editor, backstage.shared.providers)) : Optional.none();\n        const editorComponents = flatten([\n          isToolbarBottom ? [] : [partHeader],\n          isInline ? [] : [sidebarContainer],\n          isToolbarBottom ? [partHeader] : []\n        ]);\n        const editorContainer = {\n          dom: {\n            tag: 'div',\n            classes: ['tox-editor-container']\n          },\n          components: editorComponents\n        };\n        const containerComponents = flatten([\n          [editorContainer],\n          isInline ? [] : statusbar.toArray(),\n          [partThrobber]\n        ]);\n        const isHidden = isDistractionFree(editor);\n        const attributes = {\n          role: 'application',\n          ...global$8.isRtl() ? { dir: 'rtl' } : {},\n          ...isHidden ? { 'aria-hidden': 'true' } : {}\n        };\n        const outerContainer = build$1(OuterContainer.sketch({\n          dom: {\n            tag: 'div',\n            classes: [\n              'tox',\n              'tox-tinymce'\n            ].concat(isInline ? ['tox-tinymce-inline'] : []).concat(isToolbarBottom ? ['tox-tinymce--toolbar-bottom'] : []).concat(deviceClasses),\n            styles: {\n              visibility: 'hidden',\n              ...isHidden ? {\n                opacity: '0',\n                border: '0'\n              } : {}\n            },\n            attributes\n          },\n          components: containerComponents,\n          behaviours: derive$1([\n            receivingConfig(),\n            Disabling.config({ disableClass: 'tox-tinymce--disabled' }),\n            Keying.config({\n              mode: 'cyclic',\n              selector: '.tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle'\n            })\n          ])\n        }));\n        const mothership = takeover(outerContainer);\n        lazyOuterContainer.set(outerContainer);\n        lazyMothership.set(mothership);\n        return {\n          mothership,\n          outerContainer\n        };\n      };\n      const setEditorSize = outerContainer => {\n        const parsedHeight = numToPx(getHeightWithFallback(editor));\n        const parsedWidth = numToPx(getWidthWithFallback(editor));\n        if (!editor.inline) {\n          if (isValidValue('div', 'width', parsedWidth)) {\n            set$8(outerContainer.element, 'width', parsedWidth);\n          }\n          if (isValidValue('div', 'height', parsedHeight)) {\n            set$8(outerContainer.element, 'height', parsedHeight);\n          } else {\n            set$8(outerContainer.element, 'height', '400px');\n          }\n        }\n        return parsedHeight;\n      };\n      const setupShortcutsAndCommands = outerContainer => {\n        editor.addShortcut('alt+F9', 'focus menubar', () => {\n          OuterContainer.focusMenubar(outerContainer);\n        });\n        editor.addShortcut('alt+F10', 'focus toolbar', () => {\n          OuterContainer.focusToolbar(outerContainer);\n        });\n        editor.addCommand('ToggleToolbarDrawer', () => {\n          OuterContainer.toggleToolbarDrawer(outerContainer);\n        });\n        editor.addQueryStateHandler('ToggleToolbarDrawer', () => OuterContainer.isToolbarDrawerToggled(outerContainer));\n      };\n      const renderUI = () => {\n        const {mothership, outerContainer} = renderContainer();\n        const {uiMothership, sink} = renderSink();\n        map$1(getToolbarGroups(editor), (toolbarGroupButtonConfig, name) => {\n          editor.ui.registry.addGroupToolbarButton(name, toolbarGroupButtonConfig);\n        });\n        const {buttons, menuItems, contextToolbars, sidebars} = editor.ui.registry.getAll();\n        const toolbarOpt = getMultipleToolbarsOption(editor);\n        const rawUiConfig = {\n          menuItems,\n          menus: getMenus(editor),\n          menubar: getMenubar(editor),\n          toolbar: toolbarOpt.getOrThunk(() => getToolbar(editor)),\n          allowToolbarGroups: toolbarMode === ToolbarMode$1.floating,\n          buttons,\n          sidebar: sidebars\n        };\n        setupShortcutsAndCommands(outerContainer);\n        setup$b(editor, mothership, uiMothership);\n        header.setup(editor, backstage.shared, lazyHeader);\n        setup$6(editor, backstage);\n        setup$5(editor, lazySinkResult, backstage);\n        setup$8(editor);\n        setup$7(editor, lazyThrobber, backstage.shared);\n        register$9(editor, contextToolbars, sink, { backstage });\n        setup$4(editor, sink);\n        const elm = editor.getElement();\n        const height = setEditorSize(outerContainer);\n        const uiComponents = {\n          mothership,\n          uiMothership,\n          outerContainer,\n          sink\n        };\n        const args = {\n          targetNode: elm,\n          height\n        };\n        return mode.render(editor, uiComponents, rawUiConfig, backstage, args);\n      };\n      const getMothership = () => getLazyMothership(lazyMothership);\n      const getUiMothership = () => getLazyMothership(lazyUiMothership);\n      return {\n        getMothership,\n        getUiMothership,\n        backstage,\n        renderUI\n      };\n    };\n\n    const describedBy = (describedElement, describeElement) => {\n      const describeId = Optional.from(get$f(describedElement, 'id')).fold(() => {\n        const id = generate$6('dialog-describe');\n        set$9(describeElement, 'id', id);\n        return id;\n      }, identity);\n      set$9(describedElement, 'aria-describedby', describeId);\n    };\n\n    const labelledBy = (labelledElement, labelElement) => {\n      const labelId = getOpt(labelledElement, 'id').fold(() => {\n        const id = generate$6('dialog-label');\n        set$9(labelElement, 'id', id);\n        return id;\n      }, identity);\n      set$9(labelledElement, 'aria-labelledby', labelId);\n    };\n\n    const schema$2 = constant$1([\n      required$1('lazySink'),\n      option$3('dragBlockClass'),\n      defaultedFunction('getBounds', win),\n      defaulted('useTabstopAt', always),\n      defaulted('eventOrder', {}),\n      field('modalBehaviours', [Keying]),\n      onKeyboardHandler('onExecute'),\n      onStrictKeyboardHandler('onEscape')\n    ]);\n    const basic = { sketch: identity };\n    const parts$2 = constant$1([\n      optional({\n        name: 'draghandle',\n        overrides: (detail, spec) => {\n          return {\n            behaviours: derive$1([Dragging.config({\n                mode: 'mouse',\n                getTarget: handle => {\n                  return ancestor(handle, '[role=\"dialog\"]').getOr(handle);\n                },\n                blockerClass: detail.dragBlockClass.getOrDie(new Error('The drag blocker class was not specified for a dialog with a drag handle: \\n' + JSON.stringify(spec, null, 2)).message),\n                getBounds: detail.getDragBounds\n              })])\n          };\n        }\n      }),\n      required({\n        schema: [required$1('dom')],\n        name: 'title'\n      }),\n      required({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'close'\n      }),\n      required({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'body'\n      }),\n      optional({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'footer'\n      }),\n      external({\n        factory: {\n          sketch: (spec, detail) => ({\n            ...spec,\n            dom: detail.dom,\n            components: detail.components\n          })\n        },\n        schema: [\n          defaulted('dom', {\n            tag: 'div',\n            styles: {\n              position: 'fixed',\n              left: '0px',\n              top: '0px',\n              right: '0px',\n              bottom: '0px'\n            }\n          }),\n          defaulted('components', [])\n        ],\n        name: 'blocker'\n      })\n    ]);\n\n    const factory$4 = (detail, components, spec, externals) => {\n      const dialogComp = value$2();\n      const showDialog = dialog => {\n        dialogComp.set(dialog);\n        const sink = detail.lazySink(dialog).getOrDie();\n        const externalBlocker = externals.blocker();\n        const blocker = sink.getSystem().build({\n          ...externalBlocker,\n          components: externalBlocker.components.concat([premade(dialog)]),\n          behaviours: derive$1([\n            Focusing.config({}),\n            config('dialog-blocker-events', [runOnSource(focusin(), () => {\n                Keying.focusIn(dialog);\n              })])\n          ])\n        });\n        attach(sink, blocker);\n        Keying.focusIn(dialog);\n      };\n      const hideDialog = dialog => {\n        dialogComp.clear();\n        parent(dialog.element).each(blockerDom => {\n          dialog.getSystem().getByDom(blockerDom).each(blocker => {\n            detach(blocker);\n          });\n        });\n      };\n      const getDialogBody = dialog => getPartOrDie(dialog, detail, 'body');\n      const getDialogFooter = dialog => getPartOrDie(dialog, detail, 'footer');\n      const setBusy = (dialog, getBusySpec) => {\n        Blocking.block(dialog, getBusySpec);\n      };\n      const setIdle = dialog => {\n        Blocking.unblock(dialog);\n      };\n      const modalEventsId = generate$6('modal-events');\n      const eventOrder = {\n        ...detail.eventOrder,\n        [attachedToDom()]: [modalEventsId].concat(detail.eventOrder['alloy.system.attached'] || [])\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        apis: {\n          show: showDialog,\n          hide: hideDialog,\n          getBody: getDialogBody,\n          getFooter: getDialogFooter,\n          setIdle,\n          setBusy\n        },\n        eventOrder,\n        domModification: {\n          attributes: {\n            'role': 'dialog',\n            'aria-modal': 'true'\n          }\n        },\n        behaviours: augment(detail.modalBehaviours, [\n          Replacing.config({}),\n          Keying.config({\n            mode: 'cyclic',\n            onEnter: detail.onExecute,\n            onEscape: detail.onEscape,\n            useTabstopAt: detail.useTabstopAt\n          }),\n          Blocking.config({ getRoot: dialogComp.get }),\n          config(modalEventsId, [runOnAttached(c => {\n              labelledBy(c.element, getPartOrDie(c, detail, 'title').element);\n              describedBy(c.element, getPartOrDie(c, detail, 'body').element);\n            })])\n        ])\n      };\n    };\n    const ModalDialog = composite({\n      name: 'ModalDialog',\n      configFields: schema$2(),\n      partFields: parts$2(),\n      factory: factory$4,\n      apis: {\n        show: (apis, dialog) => {\n          apis.show(dialog);\n        },\n        hide: (apis, dialog) => {\n          apis.hide(dialog);\n        },\n        getBody: (apis, dialog) => apis.getBody(dialog),\n        getFooter: (apis, dialog) => apis.getFooter(dialog),\n        setBusy: (apis, dialog, getBusySpec) => {\n          apis.setBusy(dialog, getBusySpec);\n        },\n        setIdle: (apis, dialog) => {\n          apis.setIdle(dialog);\n        }\n      }\n    });\n\n    const dialogToggleMenuItemSchema = objOf([\n      type,\n      name$1\n    ].concat(commonMenuItemFields));\n    const dialogToggleMenuItemDataProcessor = boolean;\n\n    const baseFooterButtonFields = [\n      generatedName('button'),\n      optionalIcon,\n      defaultedStringEnum('align', 'end', [\n        'start',\n        'end'\n      ]),\n      primary,\n      enabled,\n      optionStringEnum('buttonType', [\n        'primary',\n        'secondary'\n      ])\n    ];\n    const dialogFooterButtonFields = [\n      ...baseFooterButtonFields,\n      text\n    ];\n    const normalFooterButtonFields = [\n      requiredStringEnum('type', [\n        'submit',\n        'cancel',\n        'custom'\n      ]),\n      ...dialogFooterButtonFields\n    ];\n    const menuFooterButtonFields = [\n      requiredStringEnum('type', ['menu']),\n      optionalText,\n      optionalTooltip,\n      optionalIcon,\n      requiredArrayOf('items', dialogToggleMenuItemSchema),\n      ...baseFooterButtonFields\n    ];\n    const dialogFooterButtonSchema = choose$1('type', {\n      submit: normalFooterButtonFields,\n      cancel: normalFooterButtonFields,\n      custom: normalFooterButtonFields,\n      menu: menuFooterButtonFields\n    });\n\n    const alertBannerFields = [\n      type,\n      text,\n      requiredStringEnum('level', [\n        'info',\n        'warn',\n        'error',\n        'success'\n      ]),\n      icon,\n      defaulted('url', '')\n    ];\n    const alertBannerSchema = objOf(alertBannerFields);\n\n    const createBarFields = itemsField => [\n      type,\n      itemsField\n    ];\n\n    const buttonFields = [\n      type,\n      text,\n      enabled,\n      generatedName('button'),\n      optionalIcon,\n      borderless,\n      optionStringEnum('buttonType', [\n        'primary',\n        'secondary',\n        'toolbar'\n      ]),\n      primary\n    ];\n    const buttonSchema = objOf(buttonFields);\n\n    const formComponentFields = [\n      type,\n      name$1\n    ];\n    const formComponentWithLabelFields = formComponentFields.concat([optionalLabel]);\n\n    const checkboxFields = formComponentFields.concat([\n      label,\n      enabled\n    ]);\n    const checkboxSchema = objOf(checkboxFields);\n    const checkboxDataProcessor = boolean;\n\n    const collectionFields = formComponentWithLabelFields.concat([defaultedColumns('auto')]);\n    const collectionSchema = objOf(collectionFields);\n    const collectionDataProcessor = arrOfObj([\n      value$1,\n      text,\n      icon\n    ]);\n\n    const colorInputFields = formComponentWithLabelFields;\n    const colorInputSchema = objOf(colorInputFields);\n    const colorInputDataProcessor = string;\n\n    const colorPickerFields = formComponentWithLabelFields;\n    const colorPickerSchema = objOf(colorPickerFields);\n    const colorPickerDataProcessor = string;\n\n    const customEditorFields = formComponentFields.concat([\n      defaultedString('tag', 'textarea'),\n      requiredString('scriptId'),\n      requiredString('scriptUrl'),\n      defaultedPostMsg('settings', undefined)\n    ]);\n    const customEditorFieldsOld = formComponentFields.concat([\n      defaultedString('tag', 'textarea'),\n      requiredFunction('init')\n    ]);\n    const customEditorSchema = valueOf(v => asRaw('customeditor.old', objOfOnly(customEditorFieldsOld), v).orThunk(() => asRaw('customeditor.new', objOfOnly(customEditorFields), v)));\n    const customEditorDataProcessor = string;\n\n    const dropZoneFields = formComponentWithLabelFields;\n    const dropZoneSchema = objOf(dropZoneFields);\n    const dropZoneDataProcessor = arrOfVal();\n\n    const createGridFields = itemsField => [\n      type,\n      requiredNumber('columns'),\n      itemsField\n    ];\n\n    const htmlPanelFields = [\n      type,\n      requiredString('html'),\n      defaultedStringEnum('presets', 'presentation', [\n        'presentation',\n        'document'\n      ])\n    ];\n    const htmlPanelSchema = objOf(htmlPanelFields);\n\n    const iframeFields = formComponentWithLabelFields.concat([\n      defaultedBoolean('sandboxed', true),\n      defaultedBoolean('transparent', true)\n    ]);\n    const iframeSchema = objOf(iframeFields);\n    const iframeDataProcessor = string;\n\n    const imagePreviewSchema = objOf(formComponentFields.concat([optionString('height')]));\n    const imagePreviewDataProcessor = objOf([\n      requiredString('url'),\n      optionNumber('zoom'),\n      optionNumber('cachedWidth'),\n      optionNumber('cachedHeight')\n    ]);\n\n    const inputFields = formComponentWithLabelFields.concat([\n      optionString('inputMode'),\n      optionString('placeholder'),\n      defaultedBoolean('maximized', false),\n      enabled\n    ]);\n    const inputSchema = objOf(inputFields);\n    const inputDataProcessor = string;\n\n    const createLabelFields = itemsField => [\n      type,\n      label,\n      itemsField\n    ];\n\n    const listBoxSingleItemFields = [\n      text,\n      value$1\n    ];\n    const listBoxNestedItemFields = [\n      text,\n      requiredArrayOf('items', thunkOf('items', () => listBoxItemSchema))\n    ];\n    const listBoxItemSchema = oneOf([\n      objOf(listBoxSingleItemFields),\n      objOf(listBoxNestedItemFields)\n    ]);\n    const listBoxFields = formComponentWithLabelFields.concat([\n      requiredArrayOf('items', listBoxItemSchema),\n      enabled\n    ]);\n    const listBoxSchema = objOf(listBoxFields);\n    const listBoxDataProcessor = string;\n\n    const selectBoxFields = formComponentWithLabelFields.concat([\n      requiredArrayOfObj('items', [\n        text,\n        value$1\n      ]),\n      defaultedNumber('size', 1),\n      enabled\n    ]);\n    const selectBoxSchema = objOf(selectBoxFields);\n    const selectBoxDataProcessor = string;\n\n    const sizeInputFields = formComponentWithLabelFields.concat([\n      defaultedBoolean('constrain', true),\n      enabled\n    ]);\n    const sizeInputSchema = objOf(sizeInputFields);\n    const sizeInputDataProcessor = objOf([\n      requiredString('width'),\n      requiredString('height')\n    ]);\n\n    const sliderFields = formComponentFields.concat([\n      label,\n      defaultedNumber('min', 0),\n      defaultedNumber('max', 0)\n    ]);\n    const sliderSchema = objOf(sliderFields);\n    const sliderInputDataProcessor = number;\n\n    const tableFields = [\n      type,\n      requiredArrayOf('header', string),\n      requiredArrayOf('cells', arrOf(string))\n    ];\n    const tableSchema = objOf(tableFields);\n\n    const textAreaFields = formComponentWithLabelFields.concat([\n      optionString('placeholder'),\n      defaultedBoolean('maximized', false),\n      enabled\n    ]);\n    const textAreaSchema = objOf(textAreaFields);\n    const textAreaDataProcessor = string;\n\n    const urlInputFields = formComponentWithLabelFields.concat([\n      defaultedStringEnum('filetype', 'file', [\n        'image',\n        'media',\n        'file'\n      ]),\n      enabled\n    ]);\n    const urlInputSchema = objOf(urlInputFields);\n    const urlInputDataProcessor = objOf([\n      value$1,\n      defaultedMeta\n    ]);\n\n    const createItemsField = name => field$1('items', 'items', required$2(), arrOf(valueOf(v => asRaw(`Checking item of ${ name }`, itemSchema, v).fold(sErr => Result.error(formatError(sErr)), passValue => Result.value(passValue)))));\n    const itemSchema = valueThunk(() => choose$2('type', {\n      alertbanner: alertBannerSchema,\n      bar: objOf(createBarFields(createItemsField('bar'))),\n      button: buttonSchema,\n      checkbox: checkboxSchema,\n      colorinput: colorInputSchema,\n      colorpicker: colorPickerSchema,\n      dropzone: dropZoneSchema,\n      grid: objOf(createGridFields(createItemsField('grid'))),\n      iframe: iframeSchema,\n      input: inputSchema,\n      listbox: listBoxSchema,\n      selectbox: selectBoxSchema,\n      sizeinput: sizeInputSchema,\n      slider: sliderSchema,\n      textarea: textAreaSchema,\n      urlinput: urlInputSchema,\n      customeditor: customEditorSchema,\n      htmlpanel: htmlPanelSchema,\n      imagepreview: imagePreviewSchema,\n      collection: collectionSchema,\n      label: objOf(createLabelFields(createItemsField('label'))),\n      table: tableSchema,\n      panel: panelSchema\n    }));\n    const panelFields = [\n      type,\n      defaulted('classes', []),\n      requiredArrayOf('items', itemSchema)\n    ];\n    const panelSchema = objOf(panelFields);\n\n    const tabFields = [\n      generatedName('tab'),\n      title,\n      requiredArrayOf('items', itemSchema)\n    ];\n    const tabPanelFields = [\n      type,\n      requiredArrayOfObj('tabs', tabFields)\n    ];\n    const tabPanelSchema = objOf(tabPanelFields);\n\n    const dialogButtonFields = dialogFooterButtonFields;\n    const dialogButtonSchema = dialogFooterButtonSchema;\n    const dialogSchema = objOf([\n      requiredString('title'),\n      requiredOf('body', choose$2('type', {\n        panel: panelSchema,\n        tabpanel: tabPanelSchema\n      })),\n      defaultedString('size', 'normal'),\n      requiredArrayOf('buttons', dialogButtonSchema),\n      defaulted('initialData', {}),\n      defaultedFunction('onAction', noop),\n      defaultedFunction('onChange', noop),\n      defaultedFunction('onSubmit', noop),\n      defaultedFunction('onClose', noop),\n      defaultedFunction('onCancel', noop),\n      defaultedFunction('onTabChange', noop)\n    ]);\n    const createDialog = spec => asRaw('dialog', dialogSchema, spec);\n\n    const urlDialogButtonSchema = objOf([\n      requiredStringEnum('type', [\n        'cancel',\n        'custom'\n      ]),\n      ...dialogButtonFields\n    ]);\n    const urlDialogSchema = objOf([\n      requiredString('title'),\n      requiredString('url'),\n      optionNumber('height'),\n      optionNumber('width'),\n      optionArrayOf('buttons', urlDialogButtonSchema),\n      defaultedFunction('onAction', noop),\n      defaultedFunction('onCancel', noop),\n      defaultedFunction('onClose', noop),\n      defaultedFunction('onMessage', noop)\n    ]);\n    const createUrlDialog = spec => asRaw('dialog', urlDialogSchema, spec);\n\n    const getAllObjects = obj => {\n      if (isObject(obj)) {\n        return [obj].concat(bind$3(values(obj), getAllObjects));\n      } else if (isArray(obj)) {\n        return bind$3(obj, getAllObjects);\n      } else {\n        return [];\n      }\n    };\n\n    const isNamedItem = obj => isString(obj.type) && isString(obj.name);\n    const dataProcessors = {\n      checkbox: checkboxDataProcessor,\n      colorinput: colorInputDataProcessor,\n      colorpicker: colorPickerDataProcessor,\n      dropzone: dropZoneDataProcessor,\n      input: inputDataProcessor,\n      iframe: iframeDataProcessor,\n      imagepreview: imagePreviewDataProcessor,\n      selectbox: selectBoxDataProcessor,\n      sizeinput: sizeInputDataProcessor,\n      slider: sliderInputDataProcessor,\n      listbox: listBoxDataProcessor,\n      size: sizeInputDataProcessor,\n      textarea: textAreaDataProcessor,\n      urlinput: urlInputDataProcessor,\n      customeditor: customEditorDataProcessor,\n      collection: collectionDataProcessor,\n      togglemenuitem: dialogToggleMenuItemDataProcessor\n    };\n    const getDataProcessor = item => Optional.from(dataProcessors[item.type]);\n    const getNamedItems = structure => filter$2(getAllObjects(structure), isNamedItem);\n\n    const createDataValidator = structure => {\n      const namedItems = getNamedItems(structure);\n      const fields = bind$3(namedItems, item => getDataProcessor(item).fold(() => [], schema => [requiredOf(item.name, schema)]));\n      return objOf(fields);\n    };\n\n    const extract = structure => {\n      var _a;\n      const internalDialog = getOrDie(createDialog(structure));\n      const dataValidator = createDataValidator(structure);\n      const initialData = (_a = structure.initialData) !== null && _a !== void 0 ? _a : {};\n      return {\n        internalDialog,\n        dataValidator,\n        initialData\n      };\n    };\n    const DialogManager = {\n      open: (factory, structure) => {\n        const extraction = extract(structure);\n        return factory(extraction.internalDialog, extraction.initialData, extraction.dataValidator);\n      },\n      openUrl: (factory, structure) => {\n        const internalDialog = getOrDie(createUrlDialog(structure));\n        return factory(internalDialog);\n      },\n      redial: structure => extract(structure)\n    };\n\n    const toValidValues = values => {\n      const errors = [];\n      const result = {};\n      each(values, (value, name) => {\n        value.fold(() => {\n          errors.push(name);\n        }, v => {\n          result[name] = v;\n        });\n      });\n      return errors.length > 0 ? Result.error(errors) : Result.value(result);\n    };\n\n    const renderBodyPanel = (spec, dialogData, backstage) => {\n      const memForm = record(Form.sketch(parts => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form'].concat(spec.classes)\n        },\n        components: map$2(spec.items, item => interpretInForm(parts, item, dialogData, backstage))\n      })));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            },\n            components: [memForm.asSpec()]\n          }],\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'acyclic',\n            useTabstopAt: not(isPseudoStop)\n          }),\n          ComposingConfigs.memento(memForm),\n          RepresentingConfigs.memento(memForm, {\n            postprocess: formValue => toValidValues(formValue).fold(err => {\n              console.error(err);\n              return {};\n            }, identity)\n          })\n        ])\n      };\n    };\n\n    const factory$3 = (detail, _spec) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components: detail.components,\n      events: events$a(detail.action),\n      behaviours: augment(detail.tabButtonBehaviours, [\n        Focusing.config({}),\n        Keying.config({\n          mode: 'execution',\n          useSpace: true,\n          useEnter: true\n        }),\n        Representing.config({\n          store: {\n            mode: 'memory',\n            initialValue: detail.value\n          }\n        })\n      ]),\n      domModification: detail.domModification\n    });\n    const TabButton = single({\n      name: 'TabButton',\n      configFields: [\n        defaulted('uid', undefined),\n        required$1('value'),\n        field$1('dom', 'dom', mergeWithThunk(() => ({\n          attributes: {\n            'role': 'tab',\n            'id': generate$6('aria'),\n            'aria-selected': 'false'\n          }\n        })), anyValue()),\n        option$3('action'),\n        defaulted('domModification', {}),\n        field('tabButtonBehaviours', [\n          Focusing,\n          Keying,\n          Representing\n        ]),\n        required$1('view')\n      ],\n      factory: factory$3\n    });\n\n    const schema$1 = constant$1([\n      required$1('tabs'),\n      required$1('dom'),\n      defaulted('clickToDismiss', false),\n      field('tabbarBehaviours', [\n        Highlighting,\n        Keying\n      ]),\n      markers$1([\n        'tabClass',\n        'selectedClass'\n      ])\n    ]);\n    const tabsPart = group({\n      factory: TabButton,\n      name: 'tabs',\n      unit: 'tab',\n      overrides: barDetail => {\n        const dismissTab$1 = (tabbar, button) => {\n          Highlighting.dehighlight(tabbar, button);\n          emitWith(tabbar, dismissTab(), {\n            tabbar,\n            button\n          });\n        };\n        const changeTab$1 = (tabbar, button) => {\n          Highlighting.highlight(tabbar, button);\n          emitWith(tabbar, changeTab(), {\n            tabbar,\n            button\n          });\n        };\n        return {\n          action: button => {\n            const tabbar = button.getSystem().getByUid(barDetail.uid).getOrDie();\n            const activeButton = Highlighting.isHighlighted(tabbar, button);\n            const response = (() => {\n              if (activeButton && barDetail.clickToDismiss) {\n                return dismissTab$1;\n              } else if (!activeButton) {\n                return changeTab$1;\n              } else {\n                return noop;\n              }\n            })();\n            response(tabbar, button);\n          },\n          domModification: { classes: [barDetail.markers.tabClass] }\n        };\n      }\n    });\n    const parts$1 = constant$1([tabsPart]);\n\n    const factory$2 = (detail, components, _spec, _externals) => ({\n      'uid': detail.uid,\n      'dom': detail.dom,\n      components,\n      'debug.sketcher': 'Tabbar',\n      'domModification': { attributes: { role: 'tablist' } },\n      'behaviours': augment(detail.tabbarBehaviours, [\n        Highlighting.config({\n          highlightClass: detail.markers.selectedClass,\n          itemClass: detail.markers.tabClass,\n          onHighlight: (tabbar, tab) => {\n            set$9(tab.element, 'aria-selected', 'true');\n          },\n          onDehighlight: (tabbar, tab) => {\n            set$9(tab.element, 'aria-selected', 'false');\n          }\n        }),\n        Keying.config({\n          mode: 'flow',\n          getInitial: tabbar => {\n            return Highlighting.getHighlighted(tabbar).map(tab => tab.element);\n          },\n          selector: '.' + detail.markers.tabClass,\n          executeOnMove: true\n        })\n      ])\n    });\n    const Tabbar = composite({\n      name: 'Tabbar',\n      configFields: schema$1(),\n      partFields: parts$1(),\n      factory: factory$2\n    });\n\n    const factory$1 = (detail, _spec) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      behaviours: augment(detail.tabviewBehaviours, [Replacing.config({})]),\n      domModification: { attributes: { role: 'tabpanel' } }\n    });\n    const Tabview = single({\n      name: 'Tabview',\n      configFields: [field('tabviewBehaviours', [Replacing])],\n      factory: factory$1\n    });\n\n    const schema = constant$1([\n      defaulted('selectFirst', true),\n      onHandler('onChangeTab'),\n      onHandler('onDismissTab'),\n      defaulted('tabs', []),\n      field('tabSectionBehaviours', [])\n    ]);\n    const barPart = required({\n      factory: Tabbar,\n      schema: [\n        required$1('dom'),\n        requiredObjOf('markers', [\n          required$1('tabClass'),\n          required$1('selectedClass')\n        ])\n      ],\n      name: 'tabbar',\n      defaults: detail => {\n        return { tabs: detail.tabs };\n      }\n    });\n    const viewPart = required({\n      factory: Tabview,\n      name: 'tabview'\n    });\n    const parts = constant$1([\n      barPart,\n      viewPart\n    ]);\n\n    const factory = (detail, components, _spec, _externals) => {\n      const changeTab$1 = button => {\n        const tabValue = Representing.getValue(button);\n        getPart(button, detail, 'tabview').each(tabview => {\n          const tabWithValue = find$5(detail.tabs, t => t.value === tabValue);\n          tabWithValue.each(tabData => {\n            const panel = tabData.view();\n            getOpt(button.element, 'id').each(id => {\n              set$9(tabview.element, 'aria-labelledby', id);\n            });\n            Replacing.set(tabview, panel);\n            detail.onChangeTab(tabview, button, panel);\n          });\n        });\n      };\n      const changeTabBy = (section, byPred) => {\n        getPart(section, detail, 'tabbar').each(tabbar => {\n          byPred(tabbar).each(emitExecute);\n        });\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: get$3(detail.tabSectionBehaviours),\n        events: derive$2(flatten([\n          detail.selectFirst ? [runOnAttached((section, _simulatedEvent) => {\n              changeTabBy(section, Highlighting.getFirst);\n            })] : [],\n          [\n            run$1(changeTab(), (section, simulatedEvent) => {\n              const button = simulatedEvent.event.button;\n              changeTab$1(button);\n            }),\n            run$1(dismissTab(), (section, simulatedEvent) => {\n              const button = simulatedEvent.event.button;\n              detail.onDismissTab(section, button);\n            })\n          ]\n        ])),\n        apis: {\n          getViewItems: section => {\n            return getPart(section, detail, 'tabview').map(tabview => Replacing.contents(tabview)).getOr([]);\n          },\n          showTab: (section, tabKey) => {\n            const getTabIfNotActive = tabbar => {\n              const candidates = Highlighting.getCandidates(tabbar);\n              const optTab = find$5(candidates, c => Representing.getValue(c) === tabKey);\n              return optTab.filter(tab => !Highlighting.isHighlighted(tabbar, tab));\n            };\n            changeTabBy(section, getTabIfNotActive);\n          }\n        }\n      };\n    };\n    const TabSection = composite({\n      name: 'TabSection',\n      configFields: schema(),\n      partFields: parts(),\n      factory,\n      apis: {\n        getViewItems: (apis, component) => apis.getViewItems(component),\n        showTab: (apis, component, tabKey) => {\n          apis.showTab(component, tabKey);\n        }\n      }\n    });\n\n    const measureHeights = (allTabs, tabview, tabviewComp) => map$2(allTabs, (_tab, i) => {\n      Replacing.set(tabviewComp, allTabs[i].view());\n      const rect = tabview.dom.getBoundingClientRect();\n      Replacing.set(tabviewComp, []);\n      return rect.height;\n    });\n    const getMaxHeight = heights => head(sort(heights, (a, b) => {\n      if (a > b) {\n        return -1;\n      } else if (a < b) {\n        return +1;\n      } else {\n        return 0;\n      }\n    }));\n    const getMaxTabviewHeight = (dialog, tabview, tablist) => {\n      const documentElement$1 = documentElement(dialog).dom;\n      const rootElm = ancestor(dialog, '.tox-dialog-wrap').getOr(dialog);\n      const isFixed = get$e(rootElm, 'position') === 'fixed';\n      let maxHeight;\n      if (isFixed) {\n        maxHeight = Math.max(documentElement$1.clientHeight, window.innerHeight);\n      } else {\n        maxHeight = Math.max(documentElement$1.offsetHeight, documentElement$1.scrollHeight);\n      }\n      const tabviewHeight = get$d(tabview);\n      const isTabListBeside = tabview.dom.offsetLeft >= tablist.dom.offsetLeft + get$c(tablist);\n      const currentTabHeight = isTabListBeside ? Math.max(get$d(tablist), tabviewHeight) : tabviewHeight;\n      const dialogTopMargin = parseInt(get$e(dialog, 'margin-top'), 10) || 0;\n      const dialogBottomMargin = parseInt(get$e(dialog, 'margin-bottom'), 10) || 0;\n      const dialogHeight = get$d(dialog) + dialogTopMargin + dialogBottomMargin;\n      const chromeHeight = dialogHeight - currentTabHeight;\n      return maxHeight - chromeHeight;\n    };\n    const showTab = (allTabs, comp) => {\n      head(allTabs).each(tab => TabSection.showTab(comp, tab.value));\n    };\n    const setTabviewHeight = (tabview, height) => {\n      set$8(tabview, 'height', height + 'px');\n      set$8(tabview, 'flex-basis', height + 'px');\n    };\n    const updateTabviewHeight = (dialogBody, tabview, maxTabHeight) => {\n      ancestor(dialogBody, '[role=\"dialog\"]').each(dialog => {\n        descendant(dialog, '[role=\"tablist\"]').each(tablist => {\n          maxTabHeight.get().map(height => {\n            set$8(tabview, 'height', '0');\n            set$8(tabview, 'flex-basis', '0');\n            return Math.min(height, getMaxTabviewHeight(dialog, tabview, tablist));\n          }).each(height => {\n            setTabviewHeight(tabview, height);\n          });\n        });\n      });\n    };\n    const getTabview = dialog => descendant(dialog, '[role=\"tabpanel\"]');\n    const smartMode = allTabs => {\n      const maxTabHeight = value$2();\n      const extraEvents = [\n        runOnAttached(comp => {\n          const dialog = comp.element;\n          getTabview(dialog).each(tabview => {\n            set$8(tabview, 'visibility', 'hidden');\n            comp.getSystem().getByDom(tabview).toOptional().each(tabviewComp => {\n              const heights = measureHeights(allTabs, tabview, tabviewComp);\n              const maxTabHeightOpt = getMaxHeight(heights);\n              maxTabHeightOpt.fold(maxTabHeight.clear, maxTabHeight.set);\n            });\n            updateTabviewHeight(dialog, tabview, maxTabHeight);\n            remove$6(tabview, 'visibility');\n            showTab(allTabs, comp);\n            requestAnimationFrame(() => {\n              updateTabviewHeight(dialog, tabview, maxTabHeight);\n            });\n          });\n        }),\n        run$1(windowResize(), comp => {\n          const dialog = comp.element;\n          getTabview(dialog).each(tabview => {\n            updateTabviewHeight(dialog, tabview, maxTabHeight);\n          });\n        }),\n        run$1(formResizeEvent, (comp, _se) => {\n          const dialog = comp.element;\n          getTabview(dialog).each(tabview => {\n            const oldFocus = active$1(getRootNode(tabview));\n            set$8(tabview, 'visibility', 'hidden');\n            const oldHeight = getRaw(tabview, 'height').map(h => parseInt(h, 10));\n            remove$6(tabview, 'height');\n            remove$6(tabview, 'flex-basis');\n            const newHeight = tabview.dom.getBoundingClientRect().height;\n            const hasGrown = oldHeight.forall(h => newHeight > h);\n            if (hasGrown) {\n              maxTabHeight.set(newHeight);\n              updateTabviewHeight(dialog, tabview, maxTabHeight);\n            } else {\n              oldHeight.each(h => {\n                setTabviewHeight(tabview, h);\n              });\n            }\n            remove$6(tabview, 'visibility');\n            oldFocus.each(focus$3);\n          });\n        })\n      ];\n      const selectFirst = false;\n      return {\n        extraEvents,\n        selectFirst\n      };\n    };\n\n    const SendDataToSectionChannel = 'send-data-to-section';\n    const SendDataToViewChannel = 'send-data-to-view';\n    const renderTabPanel = (spec, dialogData, backstage) => {\n      const storedValue = Cell({});\n      const updateDataWithForm = form => {\n        const formData = Representing.getValue(form);\n        const validData = toValidValues(formData).getOr({});\n        const currentData = storedValue.get();\n        const newData = deepMerge(currentData, validData);\n        storedValue.set(newData);\n      };\n      const setDataOnForm = form => {\n        const tabData = storedValue.get();\n        Representing.setValue(form, tabData);\n      };\n      const oldTab = Cell(null);\n      const allTabs = map$2(spec.tabs, tab => {\n        return {\n          value: tab.name,\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__body-nav-item']\n          },\n          components: [text$1(backstage.shared.providers.translate(tab.title))],\n          view: () => {\n            return [Form.sketch(parts => ({\n                dom: {\n                  tag: 'div',\n                  classes: ['tox-form']\n                },\n                components: map$2(tab.items, item => interpretInForm(parts, item, dialogData, backstage)),\n                formBehaviours: derive$1([\n                  Keying.config({\n                    mode: 'acyclic',\n                    useTabstopAt: not(isPseudoStop)\n                  }),\n                  config('TabView.form.events', [\n                    runOnAttached(setDataOnForm),\n                    runOnDetached(updateDataWithForm)\n                  ]),\n                  Receiving.config({\n                    channels: wrapAll([\n                      {\n                        key: SendDataToSectionChannel,\n                        value: { onReceive: updateDataWithForm }\n                      },\n                      {\n                        key: SendDataToViewChannel,\n                        value: { onReceive: setDataOnForm }\n                      }\n                    ])\n                  })\n                ])\n              }))];\n          }\n        };\n      });\n      const tabMode = smartMode(allTabs);\n      return TabSection.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        onChangeTab: (section, button, _viewItems) => {\n          const name = Representing.getValue(button);\n          emitWith(section, formTabChangeEvent, {\n            name,\n            oldName: oldTab.get()\n          });\n          oldTab.set(name);\n        },\n        tabs: allTabs,\n        components: [\n          TabSection.parts.tabbar({\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-nav']\n            },\n            components: [Tabbar.parts.tabs({})],\n            markers: {\n              tabClass: 'tox-tab',\n              selectedClass: 'tox-dialog__body-nav-item--active'\n            },\n            tabbarBehaviours: derive$1([Tabstopping.config({})])\n          }),\n          TabSection.parts.tabview({\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            }\n          })\n        ],\n        selectFirst: tabMode.selectFirst,\n        tabSectionBehaviours: derive$1([\n          config('tabpanel', tabMode.extraEvents),\n          Keying.config({ mode: 'acyclic' }),\n          Composing.config({ find: comp => head(TabSection.getViewItems(comp)) }),\n          RepresentingConfigs.withComp(Optional.none(), tsection => {\n            tsection.getSystem().broadcastOn([SendDataToSectionChannel], {});\n            return storedValue.get();\n          }, (tsection, value) => {\n            storedValue.set(value);\n            tsection.getSystem().broadcastOn([SendDataToViewChannel], {});\n          })\n        ])\n      });\n    };\n\n    const dialogChannel = generate$6('update-dialog');\n    const titleChannel = generate$6('update-title');\n    const bodyChannel = generate$6('update-body');\n    const footerChannel = generate$6('update-footer');\n    const bodySendMessageChannel = generate$6('body-send-message');\n\n    const renderBody = (spec, dialogId, contentId, backstage, ariaAttrs) => {\n      const renderComponents = incoming => {\n        const body = incoming.body;\n        switch (body.type) {\n        case 'tabpanel': {\n            return [renderTabPanel(body, incoming.initialData, backstage)];\n          }\n        default: {\n            return [renderBodyPanel(body, incoming.initialData, backstage)];\n          }\n        }\n      };\n      const updateState = (_comp, incoming) => Optional.some({ isTabPanel: () => incoming.body.type === 'tabpanel' });\n      const ariaAttributes = { 'aria-live': 'polite' };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__content-js'],\n          attributes: {\n            ...contentId.map(x => ({ id: x })).getOr({}),\n            ...ariaAttrs ? ariaAttributes : {}\n          }\n        },\n        components: [],\n        behaviours: derive$1([\n          ComposingConfigs.childAt(0),\n          Reflecting.config({\n            channel: `${ bodyChannel }-${ dialogId }`,\n            updateState,\n            renderComponents,\n            initialData: spec\n          })\n        ])\n      };\n    };\n    const renderInlineBody = (spec, dialogId, contentId, backstage, ariaAttrs) => renderBody(spec, dialogId, Optional.some(contentId), backstage, ariaAttrs);\n    const renderModalBody = (spec, dialogId, backstage) => {\n      const bodySpec = renderBody(spec, dialogId, Optional.none(), backstage, false);\n      return ModalDialog.parts.body(bodySpec);\n    };\n    const renderIframeBody = spec => {\n      const bodySpec = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__content-js']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-iframe']\n            },\n            components: [craft({\n                dom: {\n                  tag: 'iframe',\n                  attributes: { src: spec.url }\n                },\n                behaviours: derive$1([\n                  Tabstopping.config({}),\n                  Focusing.config({})\n                ])\n              })]\n          }],\n        behaviours: derive$1([Keying.config({\n            mode: 'acyclic',\n            useTabstopAt: not(isPseudoStop)\n          })])\n      };\n      return ModalDialog.parts.body(bodySpec);\n    };\n\n    const isTouch = global$5.deviceType.isTouch();\n    const hiddenHeader = (title, close) => ({\n      dom: {\n        tag: 'div',\n        styles: { display: 'none' },\n        classes: ['tox-dialog__header']\n      },\n      components: [\n        title,\n        close\n      ]\n    });\n    const pClose = (onClose, providersBackstage) => ModalDialog.parts.close(Button.sketch({\n      dom: {\n        tag: 'button',\n        classes: [\n          'tox-button',\n          'tox-button--icon',\n          'tox-button--naked'\n        ],\n        attributes: {\n          'type': 'button',\n          'aria-label': providersBackstage.translate('Close')\n        }\n      },\n      action: onClose,\n      buttonBehaviours: derive$1([Tabstopping.config({})])\n    }));\n    const pUntitled = () => ModalDialog.parts.title({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__title'],\n        innerHtml: '',\n        styles: { display: 'none' }\n      }\n    });\n    const pBodyMessage = (message, providersBackstage) => ModalDialog.parts.body({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__body']\n      },\n      components: [{\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__body-content']\n          },\n          components: [{ dom: fromHtml(`<p>${ providersBackstage.translate(message) }</p>`) }]\n        }]\n    });\n    const pFooter = buttons => ModalDialog.parts.footer({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__footer']\n      },\n      components: buttons\n    });\n    const pFooterGroup = (startButtons, endButtons) => [\n      Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__footer-start']\n        },\n        components: startButtons\n      }),\n      Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__footer-end']\n        },\n        components: endButtons\n      })\n    ];\n    const renderDialog$1 = spec => {\n      const dialogClass = 'tox-dialog';\n      const blockerClass = dialogClass + '-wrap';\n      const blockerBackdropClass = blockerClass + '__backdrop';\n      const scrollLockClass = dialogClass + '__disable-scroll';\n      return ModalDialog.sketch({\n        lazySink: spec.lazySink,\n        onEscape: comp => {\n          spec.onEscape(comp);\n          return Optional.some(true);\n        },\n        useTabstopAt: elem => !isPseudoStop(elem),\n        dom: {\n          tag: 'div',\n          classes: [dialogClass].concat(spec.extraClasses),\n          styles: {\n            position: 'relative',\n            ...spec.extraStyles\n          }\n        },\n        components: [\n          spec.header,\n          spec.body,\n          ...spec.footer.toArray()\n        ],\n        parts: {\n          blocker: {\n            dom: fromHtml(`<div class=\"${ blockerClass }\"></div>`),\n            components: [{\n                dom: {\n                  tag: 'div',\n                  classes: isTouch ? [\n                    blockerBackdropClass,\n                    blockerBackdropClass + '--opaque'\n                  ] : [blockerBackdropClass]\n                }\n              }]\n          }\n        },\n        dragBlockClass: blockerClass,\n        modalBehaviours: derive$1([\n          Focusing.config({}),\n          config('dialog-events', spec.dialogEvents.concat([runOnSource(focusin(), (comp, _se) => {\n              Keying.focusIn(comp);\n            })])),\n          config('scroll-lock', [\n            runOnAttached(() => {\n              add$2(body(), scrollLockClass);\n            }),\n            runOnDetached(() => {\n              remove$2(body(), scrollLockClass);\n            })\n          ]),\n          ...spec.extraBehaviours\n        ]),\n        eventOrder: {\n          [execute$5()]: ['dialog-events'],\n          [attachedToDom()]: [\n            'scroll-lock',\n            'dialog-events',\n            'alloy.base.behaviour'\n          ],\n          [detachedFromDom()]: [\n            'alloy.base.behaviour',\n            'dialog-events',\n            'scroll-lock'\n          ],\n          ...spec.eventOrder\n        }\n      });\n    };\n\n    const renderClose = providersBackstage => Button.sketch({\n      dom: {\n        tag: 'button',\n        classes: [\n          'tox-button',\n          'tox-button--icon',\n          'tox-button--naked'\n        ],\n        attributes: {\n          'type': 'button',\n          'aria-label': providersBackstage.translate('Close'),\n          'title': providersBackstage.translate('Close')\n        }\n      },\n      components: [render$3('close', {\n          tag: 'div',\n          classes: ['tox-icon']\n        }, providersBackstage.icons)],\n      action: comp => {\n        emit(comp, formCancelEvent);\n      }\n    });\n    const renderTitle = (spec, dialogId, titleId, providersBackstage) => {\n      const renderComponents = data => [text$1(providersBackstage.translate(data.title))];\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__title'],\n          attributes: { ...titleId.map(x => ({ id: x })).getOr({}) }\n        },\n        components: [],\n        behaviours: derive$1([Reflecting.config({\n            channel: `${ titleChannel }-${ dialogId }`,\n            initialData: spec,\n            renderComponents\n          })])\n      };\n    };\n    const renderDragHandle = () => ({ dom: fromHtml('<div class=\"tox-dialog__draghandle\"></div>') });\n    const renderInlineHeader = (spec, dialogId, titleId, providersBackstage) => Container.sketch({\n      dom: fromHtml('<div class=\"tox-dialog__header\"></div>'),\n      components: [\n        renderTitle(spec, dialogId, Optional.some(titleId), providersBackstage),\n        renderDragHandle(),\n        renderClose(providersBackstage)\n      ],\n      containerBehaviours: derive$1([Dragging.config({\n          mode: 'mouse',\n          blockerClass: 'blocker',\n          getTarget: handle => {\n            return closest$1(handle, '[role=\"dialog\"]').getOrDie();\n          },\n          snaps: {\n            getSnapPoints: () => [],\n            leftAttr: 'data-drag-left',\n            topAttr: 'data-drag-top'\n          }\n        })])\n    });\n    const renderModalHeader = (spec, dialogId, providersBackstage) => {\n      const pTitle = ModalDialog.parts.title(renderTitle(spec, dialogId, Optional.none(), providersBackstage));\n      const pHandle = ModalDialog.parts.draghandle(renderDragHandle());\n      const pClose = ModalDialog.parts.close(renderClose(providersBackstage));\n      const components = [pTitle].concat(spec.draggable ? [pHandle] : []).concat([pClose]);\n      return Container.sketch({\n        dom: fromHtml('<div class=\"tox-dialog__header\"></div>'),\n        components\n      });\n    };\n\n    const getHeader = (title, dialogId, backstage) => renderModalHeader({\n      title: backstage.shared.providers.translate(title),\n      draggable: backstage.dialog.isDraggableModal()\n    }, dialogId, backstage.shared.providers);\n    const getBusySpec = (message, bs, providers) => ({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__busy-spinner'],\n        attributes: { 'aria-label': providers.translate(message) },\n        styles: {\n          left: '0px',\n          right: '0px',\n          bottom: '0px',\n          top: '0px',\n          position: 'absolute'\n        }\n      },\n      behaviours: bs,\n      components: [{ dom: fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>') }]\n    });\n    const getEventExtras = (lazyDialog, providers, extra) => ({\n      onClose: () => extra.closeWindow(),\n      onBlock: blockEvent => {\n        ModalDialog.setBusy(lazyDialog(), (_comp, bs) => getBusySpec(blockEvent.message, bs, providers));\n      },\n      onUnblock: () => {\n        ModalDialog.setIdle(lazyDialog());\n      }\n    });\n    const renderModalDialog = (spec, initialData, dialogEvents, backstage) => {\n      const updateState = (_comp, incoming) => Optional.some(incoming);\n      return build$1(renderDialog$1({\n        ...spec,\n        lazySink: backstage.shared.getSink,\n        extraBehaviours: [\n          Reflecting.config({\n            channel: `${ dialogChannel }-${ spec.id }`,\n            updateState,\n            initialData\n          }),\n          RepresentingConfigs.memory({}),\n          ...spec.extraBehaviours\n        ],\n        onEscape: comp => {\n          emit(comp, formCancelEvent);\n        },\n        dialogEvents,\n        eventOrder: {\n          [receive()]: [\n            Reflecting.name(),\n            Receiving.name()\n          ],\n          [attachedToDom()]: [\n            'scroll-lock',\n            Reflecting.name(),\n            'messages',\n            'dialog-events',\n            'alloy.base.behaviour'\n          ],\n          [detachedFromDom()]: [\n            'alloy.base.behaviour',\n            'dialog-events',\n            'messages',\n            Reflecting.name(),\n            'scroll-lock'\n          ]\n        }\n      }));\n    };\n    const mapMenuButtons = buttons => {\n      const mapItems = button => {\n        const items = map$2(button.items, item => {\n          const cell = Cell(false);\n          return {\n            ...item,\n            storage: cell\n          };\n        });\n        return {\n          ...button,\n          items\n        };\n      };\n      return map$2(buttons, button => {\n        return button.type === 'menu' ? mapItems(button) : button;\n      });\n    };\n    const extractCellsToObject = buttons => foldl(buttons, (acc, button) => {\n      if (button.type === 'menu') {\n        const menuButton = button;\n        return foldl(menuButton.items, (innerAcc, item) => {\n          innerAcc[item.name] = item.storage;\n          return innerAcc;\n        }, acc);\n      }\n      return acc;\n    }, {});\n\n    const initCommonEvents = (fireApiEvent, extras) => [\n      runWithTarget(focusin(), onFocus),\n      fireApiEvent(formCloseEvent, (_api, spec) => {\n        extras.onClose();\n        spec.onClose();\n      }),\n      fireApiEvent(formCancelEvent, (api, spec, _event, self) => {\n        spec.onCancel(api);\n        emit(self, formCloseEvent);\n      }),\n      run$1(formUnblockEvent, (_c, _se) => extras.onUnblock()),\n      run$1(formBlockEvent, (_c, se) => extras.onBlock(se.event))\n    ];\n    const initUrlDialog = (getInstanceApi, extras) => {\n      const fireApiEvent = (eventName, f) => run$1(eventName, (c, se) => {\n        withSpec(c, (spec, _c) => {\n          f(getInstanceApi(), spec, se.event, c);\n        });\n      });\n      const withSpec = (c, f) => {\n        Reflecting.getState(c).get().each(currentDialog => {\n          f(currentDialog, c);\n        });\n      };\n      return [\n        ...initCommonEvents(fireApiEvent, extras),\n        fireApiEvent(formActionEvent, (api, spec, event) => {\n          spec.onAction(api, { name: event.name });\n        })\n      ];\n    };\n    const initDialog = (getInstanceApi, extras, getSink) => {\n      const fireApiEvent = (eventName, f) => run$1(eventName, (c, se) => {\n        withSpec(c, (spec, _c) => {\n          f(getInstanceApi(), spec, se.event, c);\n        });\n      });\n      const withSpec = (c, f) => {\n        Reflecting.getState(c).get().each(currentDialogInit => {\n          f(currentDialogInit.internalDialog, c);\n        });\n      };\n      return [\n        ...initCommonEvents(fireApiEvent, extras),\n        fireApiEvent(formSubmitEvent, (api, spec) => spec.onSubmit(api)),\n        fireApiEvent(formChangeEvent, (api, spec, event) => {\n          spec.onChange(api, { name: event.name });\n        }),\n        fireApiEvent(formActionEvent, (api, spec, event, component) => {\n          const focusIn = () => Keying.focusIn(component);\n          const isDisabled = focused => has$1(focused, 'disabled') || getOpt(focused, 'aria-disabled').exists(val => val === 'true');\n          const rootNode = getRootNode(component.element);\n          const current = active$1(rootNode);\n          spec.onAction(api, {\n            name: event.name,\n            value: event.value\n          });\n          active$1(rootNode).fold(focusIn, focused => {\n            if (isDisabled(focused)) {\n              focusIn();\n            } else if (current.exists(cur => contains(focused, cur) && isDisabled(cur))) {\n              focusIn();\n            } else {\n              getSink().toOptional().filter(sink => !contains(sink.element, focused)).each(focusIn);\n            }\n          });\n        }),\n        fireApiEvent(formTabChangeEvent, (api, spec, event) => {\n          spec.onTabChange(api, {\n            newTabName: event.name,\n            oldTabName: event.oldName\n          });\n        }),\n        runOnDetached(component => {\n          const api = getInstanceApi();\n          Representing.setValue(component, api.getData());\n        })\n      ];\n    };\n    const SilverDialogEvents = {\n      initUrlDialog,\n      initDialog\n    };\n\n    const makeButton = (button, backstage) => renderFooterButton(button, button.type, backstage);\n    const lookup = (compInSystem, footerButtons, buttonName) => find$5(footerButtons, button => button.name === buttonName).bind(memButton => memButton.memento.getOpt(compInSystem));\n    const renderComponents = (_data, state) => {\n      const footerButtons = state.map(s => s.footerButtons).getOr([]);\n      const buttonGroups = partition$3(footerButtons, button => button.align === 'start');\n      const makeGroup = (edge, buttons) => Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: [`tox-dialog__footer-${ edge }`]\n        },\n        components: map$2(buttons, button => button.memento.asSpec())\n      });\n      const startButtons = makeGroup('start', buttonGroups.pass);\n      const endButtons = makeGroup('end', buttonGroups.fail);\n      return [\n        startButtons,\n        endButtons\n      ];\n    };\n    const renderFooter = (initSpec, dialogId, backstage) => {\n      const updateState = (comp, data) => {\n        const footerButtons = map$2(data.buttons, button => {\n          const memButton = record(makeButton(button, backstage));\n          return {\n            name: button.name,\n            align: button.align,\n            memento: memButton\n          };\n        });\n        const lookupByName = buttonName => lookup(comp, footerButtons, buttonName);\n        return Optional.some({\n          lookupByName,\n          footerButtons\n        });\n      };\n      return {\n        dom: fromHtml('<div class=\"tox-dialog__footer\"></div>'),\n        components: [],\n        behaviours: derive$1([Reflecting.config({\n            channel: `${ footerChannel }-${ dialogId }`,\n            initialData: initSpec,\n            updateState,\n            renderComponents\n          })])\n      };\n    };\n    const renderInlineFooter = (initSpec, dialogId, backstage) => renderFooter(initSpec, dialogId, backstage);\n    const renderModalFooter = (initSpec, dialogId, backstage) => ModalDialog.parts.footer(renderFooter(initSpec, dialogId, backstage));\n\n    const getCompByName = (access, name) => {\n      const root = access.getRoot();\n      if (root.getSystem().isConnected()) {\n        const form = Composing.getCurrent(access.getFormWrapper()).getOr(access.getFormWrapper());\n        return Form.getField(form, name).orThunk(() => {\n          const footer = access.getFooter();\n          const footerState = Reflecting.getState(footer).get();\n          return footerState.bind(f => f.lookupByName(name));\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const validateData$1 = (access, data) => {\n      const root = access.getRoot();\n      return Reflecting.getState(root).get().map(dialogState => getOrDie(asRaw('data', dialogState.dataValidator, data))).getOr(data);\n    };\n    const getDialogApi = (access, doRedial, menuItemStates) => {\n      const withRoot = f => {\n        const root = access.getRoot();\n        if (root.getSystem().isConnected()) {\n          f(root);\n        }\n      };\n      const getData = () => {\n        const root = access.getRoot();\n        const valueComp = root.getSystem().isConnected() ? access.getFormWrapper() : root;\n        const representedValues = Representing.getValue(valueComp);\n        const menuItemCurrentState = map$1(menuItemStates, cell => cell.get());\n        return {\n          ...representedValues,\n          ...menuItemCurrentState\n        };\n      };\n      const setData = newData => {\n        withRoot(_ => {\n          const prevData = instanceApi.getData();\n          const mergedData = deepMerge(prevData, newData);\n          const newInternalData = validateData$1(access, mergedData);\n          const form = access.getFormWrapper();\n          Representing.setValue(form, newInternalData);\n          each(menuItemStates, (v, k) => {\n            if (has$2(mergedData, k)) {\n              v.set(mergedData[k]);\n            }\n          });\n        });\n      };\n      const setEnabled = (name, state) => {\n        getCompByName(access, name).each(state ? Disabling.enable : Disabling.disable);\n      };\n      const focus = name => {\n        getCompByName(access, name).each(Focusing.focus);\n      };\n      const block = message => {\n        if (!isString(message)) {\n          throw new Error('The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n        }\n        withRoot(root => {\n          emitWith(root, formBlockEvent, { message });\n        });\n      };\n      const unblock = () => {\n        withRoot(root => {\n          emit(root, formUnblockEvent);\n        });\n      };\n      const showTab = name => {\n        withRoot(_ => {\n          const body = access.getBody();\n          const bodyState = Reflecting.getState(body);\n          if (bodyState.get().exists(b => b.isTabPanel())) {\n            Composing.getCurrent(body).each(tabSection => {\n              TabSection.showTab(tabSection, name);\n            });\n          }\n        });\n      };\n      const redial = d => {\n        withRoot(root => {\n          const id = access.getId();\n          const dialogInit = doRedial(d);\n          root.getSystem().broadcastOn([`${ dialogChannel }-${ id }`], dialogInit);\n          root.getSystem().broadcastOn([`${ titleChannel }-${ id }`], dialogInit.internalDialog);\n          root.getSystem().broadcastOn([`${ bodyChannel }-${ id }`], dialogInit.internalDialog);\n          root.getSystem().broadcastOn([`${ footerChannel }-${ id }`], dialogInit.internalDialog);\n          instanceApi.setData(dialogInit.initialData);\n        });\n      };\n      const close = () => {\n        withRoot(root => {\n          emit(root, formCloseEvent);\n        });\n      };\n      const instanceApi = {\n        getData,\n        setData,\n        setEnabled,\n        focus,\n        block,\n        unblock,\n        showTab,\n        redial,\n        close\n      };\n      return instanceApi;\n    };\n\n    const getDialogSizeClasses = size => {\n      switch (size) {\n      case 'large':\n        return ['tox-dialog--width-lg'];\n      case 'medium':\n        return ['tox-dialog--width-md'];\n      default:\n        return [];\n      }\n    };\n    const renderDialog = (dialogInit, extra, backstage) => {\n      const dialogId = generate$6('dialog');\n      const internalDialog = dialogInit.internalDialog;\n      const header = getHeader(internalDialog.title, dialogId, backstage);\n      const body = renderModalBody({\n        body: internalDialog.body,\n        initialData: internalDialog.initialData\n      }, dialogId, backstage);\n      const storedMenuButtons = mapMenuButtons(internalDialog.buttons);\n      const objOfCells = extractCellsToObject(storedMenuButtons);\n      const footer = renderModalFooter({ buttons: storedMenuButtons }, dialogId, backstage);\n      const dialogEvents = SilverDialogEvents.initDialog(() => instanceApi, getEventExtras(() => dialog, backstage.shared.providers, extra), backstage.shared.getSink);\n      const dialogSize = getDialogSizeClasses(internalDialog.size);\n      const spec = {\n        id: dialogId,\n        header,\n        body,\n        footer: Optional.some(footer),\n        extraClasses: dialogSize,\n        extraBehaviours: [],\n        extraStyles: {}\n      };\n      const dialog = renderModalDialog(spec, dialogInit, dialogEvents, backstage);\n      const modalAccess = (() => {\n        const getForm = () => {\n          const outerForm = ModalDialog.getBody(dialog);\n          return Composing.getCurrent(outerForm).getOr(outerForm);\n        };\n        return {\n          getId: constant$1(dialogId),\n          getRoot: constant$1(dialog),\n          getBody: () => ModalDialog.getBody(dialog),\n          getFooter: () => ModalDialog.getFooter(dialog),\n          getFormWrapper: getForm\n        };\n      })();\n      const instanceApi = getDialogApi(modalAccess, extra.redial, objOfCells);\n      return {\n        dialog,\n        instanceApi\n      };\n    };\n\n    const renderInlineDialog = (dialogInit, extra, backstage, ariaAttrs) => {\n      const dialogId = generate$6('dialog');\n      const dialogLabelId = generate$6('dialog-label');\n      const dialogContentId = generate$6('dialog-content');\n      const internalDialog = dialogInit.internalDialog;\n      const updateState = (_comp, incoming) => Optional.some(incoming);\n      const memHeader = record(renderInlineHeader({\n        title: internalDialog.title,\n        draggable: true\n      }, dialogId, dialogLabelId, backstage.shared.providers));\n      const memBody = record(renderInlineBody({\n        body: internalDialog.body,\n        initialData: internalDialog.initialData\n      }, dialogId, dialogContentId, backstage, ariaAttrs));\n      const storagedMenuButtons = mapMenuButtons(internalDialog.buttons);\n      const objOfCells = extractCellsToObject(storagedMenuButtons);\n      const memFooter = record(renderInlineFooter({ buttons: storagedMenuButtons }, dialogId, backstage));\n      const dialogEvents = SilverDialogEvents.initDialog(() => instanceApi, {\n        onBlock: event => {\n          Blocking.block(dialog, (_comp, bs) => getBusySpec(event.message, bs, backstage.shared.providers));\n        },\n        onUnblock: () => {\n          Blocking.unblock(dialog);\n        },\n        onClose: () => extra.closeWindow()\n      }, backstage.shared.getSink);\n      const dialog = build$1({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-dialog',\n            'tox-dialog-inline'\n          ],\n          attributes: {\n            role: 'dialog',\n            ['aria-labelledby']: dialogLabelId,\n            ['aria-describedby']: dialogContentId\n          }\n        },\n        eventOrder: {\n          [receive()]: [\n            Reflecting.name(),\n            Receiving.name()\n          ],\n          [execute$5()]: ['execute-on-form'],\n          [attachedToDom()]: [\n            'reflecting',\n            'execute-on-form'\n          ]\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'cyclic',\n            onEscape: c => {\n              emit(c, formCloseEvent);\n              return Optional.some(true);\n            },\n            useTabstopAt: elem => !isPseudoStop(elem) && (name$3(elem) !== 'button' || get$f(elem, 'disabled') !== 'disabled')\n          }),\n          Reflecting.config({\n            channel: `${ dialogChannel }-${ dialogId }`,\n            updateState,\n            initialData: dialogInit\n          }),\n          Focusing.config({}),\n          config('execute-on-form', dialogEvents.concat([runOnSource(focusin(), (comp, _se) => {\n              Keying.focusIn(comp);\n            })])),\n          Blocking.config({ getRoot: () => Optional.some(dialog) }),\n          Replacing.config({}),\n          RepresentingConfigs.memory({})\n        ]),\n        components: [\n          memHeader.asSpec(),\n          memBody.asSpec(),\n          memFooter.asSpec()\n        ]\n      });\n      const instanceApi = getDialogApi({\n        getId: constant$1(dialogId),\n        getRoot: constant$1(dialog),\n        getFooter: () => memFooter.get(dialog),\n        getBody: () => memBody.get(dialog),\n        getFormWrapper: () => {\n          const body = memBody.get(dialog);\n          return Composing.getCurrent(body).getOr(body);\n        }\n      }, extra.redial, objOfCells);\n      return {\n        dialog,\n        instanceApi\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    const getUrlDialogApi = root => {\n      const withRoot = f => {\n        if (root.getSystem().isConnected()) {\n          f(root);\n        }\n      };\n      const block = message => {\n        if (!isString(message)) {\n          throw new Error('The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n        }\n        withRoot(root => {\n          emitWith(root, formBlockEvent, { message });\n        });\n      };\n      const unblock = () => {\n        withRoot(root => {\n          emit(root, formUnblockEvent);\n        });\n      };\n      const close = () => {\n        withRoot(root => {\n          emit(root, formCloseEvent);\n        });\n      };\n      const sendMessage = data => {\n        withRoot(root => {\n          root.getSystem().broadcastOn([bodySendMessageChannel], data);\n        });\n      };\n      return {\n        block,\n        unblock,\n        close,\n        sendMessage\n      };\n    };\n\n    const SUPPORTED_MESSAGE_ACTIONS = [\n      'insertContent',\n      'setContent',\n      'execCommand',\n      'close',\n      'block',\n      'unblock'\n    ];\n    const isSupportedMessage = data => isObject(data) && SUPPORTED_MESSAGE_ACTIONS.indexOf(data.mceAction) !== -1;\n    const isCustomMessage = data => !isSupportedMessage(data) && isObject(data) && has$2(data, 'mceAction');\n    const handleMessage = (editor, api, data) => {\n      switch (data.mceAction) {\n      case 'insertContent':\n        editor.insertContent(data.content);\n        break;\n      case 'setContent':\n        editor.setContent(data.content);\n        break;\n      case 'execCommand':\n        const ui = isBoolean(data.ui) ? data.ui : false;\n        editor.execCommand(data.cmd, ui, data.value);\n        break;\n      case 'close':\n        api.close();\n        break;\n      case 'block':\n        api.block(data.message);\n        break;\n      case 'unblock':\n        api.unblock();\n        break;\n      }\n    };\n    const renderUrlDialog = (internalDialog, extra, editor, backstage) => {\n      const dialogId = generate$6('dialog');\n      const header = getHeader(internalDialog.title, dialogId, backstage);\n      const body = renderIframeBody(internalDialog);\n      const footer = internalDialog.buttons.bind(buttons => {\n        if (buttons.length === 0) {\n          return Optional.none();\n        } else {\n          return Optional.some(renderModalFooter({ buttons }, dialogId, backstage));\n        }\n      });\n      const dialogEvents = SilverDialogEvents.initUrlDialog(() => instanceApi, getEventExtras(() => dialog, backstage.shared.providers, extra));\n      const styles = {\n        ...internalDialog.height.fold(() => ({}), height => ({\n          'height': height + 'px',\n          'max-height': height + 'px'\n        })),\n        ...internalDialog.width.fold(() => ({}), width => ({\n          'width': width + 'px',\n          'max-width': width + 'px'\n        }))\n      };\n      const classes = internalDialog.width.isNone() && internalDialog.height.isNone() ? ['tox-dialog--width-lg'] : [];\n      const iframeUri = new global(internalDialog.url, { base_uri: new global(window.location.href) });\n      const iframeDomain = `${ iframeUri.protocol }://${ iframeUri.host }${ iframeUri.port ? ':' + iframeUri.port : '' }`;\n      const messageHandlerUnbinder = unbindable();\n      const extraBehaviours = [\n        config('messages', [\n          runOnAttached(() => {\n            const unbind = bind(SugarElement.fromDom(window), 'message', e => {\n              if (iframeUri.isSameOrigin(new global(e.raw.origin))) {\n                const data = e.raw.data;\n                if (isSupportedMessage(data)) {\n                  handleMessage(editor, instanceApi, data);\n                } else if (isCustomMessage(data)) {\n                  internalDialog.onMessage(instanceApi, data);\n                }\n              }\n            });\n            messageHandlerUnbinder.set(unbind);\n          }),\n          runOnDetached(messageHandlerUnbinder.clear)\n        ]),\n        Receiving.config({\n          channels: {\n            [bodySendMessageChannel]: {\n              onReceive: (comp, data) => {\n                descendant(comp.element, 'iframe').each(iframeEle => {\n                  const iframeWin = iframeEle.dom.contentWindow;\n                  if (isNonNullable(iframeWin)) {\n                    iframeWin.postMessage(data, iframeDomain);\n                  }\n                });\n              }\n            }\n          }\n        })\n      ];\n      const spec = {\n        id: dialogId,\n        header,\n        body,\n        footer,\n        extraClasses: classes,\n        extraBehaviours,\n        extraStyles: styles\n      };\n      const dialog = renderModalDialog(spec, internalDialog, dialogEvents, backstage);\n      const instanceApi = getUrlDialogApi(dialog);\n      return {\n        dialog,\n        instanceApi\n      };\n    };\n\n    const setup$2 = backstage => {\n      const sharedBackstage = backstage.shared;\n      const open = (message, callback) => {\n        const closeDialog = () => {\n          ModalDialog.hide(alertDialog);\n          callback();\n        };\n        const memFooterClose = record(renderFooterButton({\n          name: 'close-alert',\n          text: 'OK',\n          primary: true,\n          buttonType: Optional.some('primary'),\n          align: 'end',\n          enabled: true,\n          icon: Optional.none()\n        }, 'cancel', backstage));\n        const titleSpec = pUntitled();\n        const closeSpec = pClose(closeDialog, sharedBackstage.providers);\n        const alertDialog = build$1(renderDialog$1({\n          lazySink: () => sharedBackstage.getSink(),\n          header: hiddenHeader(titleSpec, closeSpec),\n          body: pBodyMessage(message, sharedBackstage.providers),\n          footer: Optional.some(pFooter(pFooterGroup([], [memFooterClose.asSpec()]))),\n          onEscape: closeDialog,\n          extraClasses: ['tox-alert-dialog'],\n          extraBehaviours: [],\n          extraStyles: {},\n          dialogEvents: [run$1(formCancelEvent, closeDialog)],\n          eventOrder: {}\n        }));\n        ModalDialog.show(alertDialog);\n        const footerCloseButton = memFooterClose.get(alertDialog);\n        Focusing.focus(footerCloseButton);\n      };\n      return { open };\n    };\n\n    const setup$1 = backstage => {\n      const sharedBackstage = backstage.shared;\n      const open = (message, callback) => {\n        const closeDialog = state => {\n          ModalDialog.hide(confirmDialog);\n          callback(state);\n        };\n        const memFooterYes = record(renderFooterButton({\n          name: 'yes',\n          text: 'Yes',\n          primary: true,\n          buttonType: Optional.some('primary'),\n          align: 'end',\n          enabled: true,\n          icon: Optional.none()\n        }, 'submit', backstage));\n        const footerNo = renderFooterButton({\n          name: 'no',\n          text: 'No',\n          primary: false,\n          buttonType: Optional.some('secondary'),\n          align: 'end',\n          enabled: true,\n          icon: Optional.none()\n        }, 'cancel', backstage);\n        const titleSpec = pUntitled();\n        const closeSpec = pClose(() => closeDialog(false), sharedBackstage.providers);\n        const confirmDialog = build$1(renderDialog$1({\n          lazySink: () => sharedBackstage.getSink(),\n          header: hiddenHeader(titleSpec, closeSpec),\n          body: pBodyMessage(message, sharedBackstage.providers),\n          footer: Optional.some(pFooter(pFooterGroup([], [\n            footerNo,\n            memFooterYes.asSpec()\n          ]))),\n          onEscape: () => closeDialog(false),\n          extraClasses: ['tox-confirm-dialog'],\n          extraBehaviours: [],\n          extraStyles: {},\n          dialogEvents: [\n            run$1(formCancelEvent, () => closeDialog(false)),\n            run$1(formSubmitEvent, () => closeDialog(true))\n          ],\n          eventOrder: {}\n        }));\n        ModalDialog.show(confirmDialog);\n        const footerYesButton = memFooterYes.get(confirmDialog);\n        Focusing.focus(footerYesButton);\n      };\n      return { open };\n    };\n\n    const validateData = (data, validator) => getOrDie(asRaw('data', validator, data));\n    const isAlertOrConfirmDialog = target => closest(target, '.tox-alert-dialog') || closest(target, '.tox-confirm-dialog');\n    const inlineAdditionalBehaviours = (editor, isStickyToolbar, isToolbarLocationTop) => {\n      if (isStickyToolbar && isToolbarLocationTop) {\n        return [];\n      } else {\n        return [Docking.config({\n            contextual: {\n              lazyContext: () => Optional.some(box$1(SugarElement.fromDom(editor.getContentAreaContainer()))),\n              fadeInClass: 'tox-dialog-dock-fadein',\n              fadeOutClass: 'tox-dialog-dock-fadeout',\n              transitionClass: 'tox-dialog-dock-transition'\n            },\n            modes: ['top']\n          })];\n      }\n    };\n    const setup = extras => {\n      const backstage = extras.backstage;\n      const editor = extras.editor;\n      const isStickyToolbar$1 = isStickyToolbar(editor);\n      const alertDialog = setup$2(backstage);\n      const confirmDialog = setup$1(backstage);\n      const open = (config, params, closeWindow) => {\n        if (params !== undefined && params.inline === 'toolbar') {\n          return openInlineDialog(config, backstage.shared.anchors.inlineDialog(), closeWindow, params.ariaAttrs);\n        } else if (params !== undefined && params.inline === 'cursor') {\n          return openInlineDialog(config, backstage.shared.anchors.cursor(), closeWindow, params.ariaAttrs);\n        } else {\n          return openModalDialog(config, closeWindow);\n        }\n      };\n      const openUrl = (config, closeWindow) => openModalUrlDialog(config, closeWindow);\n      const openModalUrlDialog = (config, closeWindow) => {\n        const factory = contents => {\n          const dialog = renderUrlDialog(contents, {\n            closeWindow: () => {\n              ModalDialog.hide(dialog.dialog);\n              closeWindow(dialog.instanceApi);\n            }\n          }, editor, backstage);\n          ModalDialog.show(dialog.dialog);\n          return dialog.instanceApi;\n        };\n        return DialogManager.openUrl(factory, config);\n      };\n      const openModalDialog = (config, closeWindow) => {\n        const factory = (contents, internalInitialData, dataValidator) => {\n          const initialData = internalInitialData;\n          const dialogInit = {\n            dataValidator,\n            initialData,\n            internalDialog: contents\n          };\n          const dialog = renderDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: () => {\n              ModalDialog.hide(dialog.dialog);\n              closeWindow(dialog.instanceApi);\n            }\n          }, backstage);\n          ModalDialog.show(dialog.dialog);\n          dialog.instanceApi.setData(initialData);\n          return dialog.instanceApi;\n        };\n        return DialogManager.open(factory, config);\n      };\n      const openInlineDialog = (config$1, anchor, closeWindow, ariaAttrs = false) => {\n        const factory = (contents, internalInitialData, dataValidator) => {\n          const initialData = validateData(internalInitialData, dataValidator);\n          const inlineDialog = value$2();\n          const isToolbarLocationTop = backstage.shared.header.isPositionedAtTop();\n          const dialogInit = {\n            dataValidator,\n            initialData,\n            internalDialog: contents\n          };\n          const refreshDocking = () => inlineDialog.on(dialog => {\n            InlineView.reposition(dialog);\n            Docking.refresh(dialog);\n          });\n          const dialogUi = renderInlineDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: () => {\n              inlineDialog.on(InlineView.hide);\n              editor.off('ResizeEditor', refreshDocking);\n              inlineDialog.clear();\n              closeWindow(dialogUi.instanceApi);\n            }\n          }, backstage, ariaAttrs);\n          const inlineDialogComp = build$1(InlineView.sketch({\n            lazySink: backstage.shared.getSink,\n            dom: {\n              tag: 'div',\n              classes: []\n            },\n            fireDismissalEventInstead: {},\n            ...isToolbarLocationTop ? {} : { fireRepositionEventInstead: {} },\n            inlineBehaviours: derive$1([\n              config('window-manager-inline-events', [run$1(dismissRequested(), (_comp, _se) => {\n                  emit(dialogUi.dialog, formCancelEvent);\n                })]),\n              ...inlineAdditionalBehaviours(editor, isStickyToolbar$1, isToolbarLocationTop)\n            ]),\n            isExtraPart: (_comp, target) => isAlertOrConfirmDialog(target)\n          }));\n          inlineDialog.set(inlineDialogComp);\n          InlineView.showWithin(inlineDialogComp, premade(dialogUi.dialog), { anchor }, Optional.some(body()));\n          if (!isStickyToolbar$1 || !isToolbarLocationTop) {\n            Docking.refresh(inlineDialogComp);\n            editor.on('ResizeEditor', refreshDocking);\n          }\n          dialogUi.instanceApi.setData(initialData);\n          Keying.focusIn(dialogUi.dialog);\n          return dialogUi.instanceApi;\n        };\n        return DialogManager.open(factory, config$1);\n      };\n      const confirm = (message, callback) => {\n        confirmDialog.open(message, callback);\n      };\n      const alert = (message, callback) => {\n        alertDialog.open(message, callback);\n      };\n      const close = instanceApi => {\n        instanceApi.close();\n      };\n      return {\n        open,\n        openUrl,\n        alert,\n        close,\n        confirm\n      };\n    };\n\n    const registerOptions = editor => {\n      register$e(editor);\n      register$d(editor);\n      register(editor);\n    };\n    var Theme = () => {\n      global$a.add('silver', editor => {\n        registerOptions(editor);\n        const {getUiMothership, backstage, renderUI} = setup$3(editor);\n        Autocompleter.register(editor, backstage.shared);\n        const windowMgr = setup({\n          editor,\n          backstage\n        });\n        return {\n          renderUI,\n          getWindowManagerImpl: constant$1(windowMgr),\n          getNotificationManagerImpl: () => NotificationManagerImpl(editor, { backstage }, getUiMothership())\n        };\n      });\n    };\n\n    Theme();\n\n})();\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}