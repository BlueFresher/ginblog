{"ast":null,"code":"/**\n * Copyright (c) 2018-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport * as ScriptLoader from '../ScriptLoader';\nimport { getTinymce } from '../TinyMCE';\nimport { initEditor, isTextarea, mergePlugins, uuid } from '../Utils';\nimport { editorProps } from './EditorPropTypes';\nvar scriptState = ScriptLoader.create();\nvar renderInline = function (h, id, tagName) {\n  return h(tagName ? tagName : 'div', {\n    attrs: {\n      id: id\n    }\n  });\n};\nvar renderIframe = function (h, id) {\n  return h('textarea', {\n    attrs: {\n      id: id\n    },\n    style: {\n      visibility: 'hidden'\n    }\n  });\n};\nvar initialise = function (ctx) {\n  return function () {\n    var finalInit = __assign({}, ctx.$props.init, {\n      readonly: ctx.$props.disabled,\n      selector: \"#\" + ctx.elementId,\n      plugins: mergePlugins(ctx.$props.init && ctx.$props.init.plugins, ctx.$props.plugins),\n      toolbar: ctx.$props.toolbar || ctx.$props.init && ctx.$props.init.toolbar,\n      inline: ctx.inlineEditor,\n      setup: function (editor) {\n        ctx.editor = editor;\n        editor.on('init', function (e) {\n          return initEditor(e, ctx, editor);\n        });\n        if (ctx.$props.init && typeof ctx.$props.init.setup === 'function') {\n          ctx.$props.init.setup(editor);\n        }\n      }\n    });\n    if (isTextarea(ctx.element)) {\n      ctx.element.style.visibility = '';\n    }\n    getTinymce().init(finalInit);\n  };\n};\nexport var Editor = {\n  props: editorProps,\n  created: function () {\n    this.elementId = this.$props.id || uuid('tiny-vue');\n    this.inlineEditor = this.$props.init && this.$props.init.inline || this.$props.inline;\n  },\n  watch: {\n    disabled: function () {\n      this.editor.setMode(this.disabled ? 'readonly' : 'design');\n    }\n  },\n  mounted: function () {\n    this.element = this.$el;\n    if (getTinymce() !== null) {\n      initialise(this)();\n    } else if (this.element && this.element.ownerDocument) {\n      var doc = this.element.ownerDocument;\n      var channel = this.$props.cloudChannel ? this.$props.cloudChannel : '5';\n      var apiKey = this.$props.apiKey ? this.$props.apiKey : 'no-api-key';\n      ScriptLoader.load(scriptState, doc, \"https://cdn.tiny.cloud/1/\" + apiKey + \"/tinymce/\" + channel + \"/tinymce.min.js\", initialise(this));\n    }\n  },\n  beforeDestroy: function () {\n    if (getTinymce() !== null) {\n      getTinymce().remove(this.editor);\n    }\n  },\n  render: function (h) {\n    return this.inlineEditor ? renderInline(h, this.elementId, this.$props.tagName) : renderIframe(h, this.elementId);\n  }\n};","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","ScriptLoader","getTinymce","initEditor","isTextarea","mergePlugins","uuid","editorProps","scriptState","create","renderInline","h","id","tagName","attrs","renderIframe","style","visibility","initialise","ctx","finalInit","$props","init","readonly","disabled","selector","elementId","plugins","toolbar","inline","inlineEditor","setup","editor","on","e","element","Editor","props","created","watch","setMode","mounted","$el","ownerDocument","doc","channel","cloudChannel","apiKey","load","beforeDestroy","remove","render"],"sources":["/home/hyq/Desktop/app/ginblog/web/admin/node_modules/@tinymce/tinymce-vue/lib/es2015/main/ts/components/Editor.js"],"sourcesContent":["/**\n * Copyright (c) 2018-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as ScriptLoader from '../ScriptLoader';\nimport { getTinymce } from '../TinyMCE';\nimport { initEditor, isTextarea, mergePlugins, uuid } from '../Utils';\nimport { editorProps } from './EditorPropTypes';\nvar scriptState = ScriptLoader.create();\nvar renderInline = function (h, id, tagName) {\n    return h(tagName ? tagName : 'div', {\n        attrs: { id: id }\n    });\n};\nvar renderIframe = function (h, id) {\n    return h('textarea', {\n        attrs: { id: id },\n        style: { visibility: 'hidden' }\n    });\n};\nvar initialise = function (ctx) { return function () {\n    var finalInit = __assign({}, ctx.$props.init, { readonly: ctx.$props.disabled, selector: \"#\" + ctx.elementId, plugins: mergePlugins(ctx.$props.init && ctx.$props.init.plugins, ctx.$props.plugins), toolbar: ctx.$props.toolbar || (ctx.$props.init && ctx.$props.init.toolbar), inline: ctx.inlineEditor, setup: function (editor) {\n            ctx.editor = editor;\n            editor.on('init', function (e) { return initEditor(e, ctx, editor); });\n            if (ctx.$props.init && typeof ctx.$props.init.setup === 'function') {\n                ctx.$props.init.setup(editor);\n            }\n        } });\n    if (isTextarea(ctx.element)) {\n        ctx.element.style.visibility = '';\n    }\n    getTinymce().init(finalInit);\n}; };\nexport var Editor = {\n    props: editorProps,\n    created: function () {\n        this.elementId = this.$props.id || uuid('tiny-vue');\n        this.inlineEditor = (this.$props.init && this.$props.init.inline) || this.$props.inline;\n    },\n    watch: {\n        disabled: function () {\n            this.editor.setMode(this.disabled ? 'readonly' : 'design');\n        }\n    },\n    mounted: function () {\n        this.element = this.$el;\n        if (getTinymce() !== null) {\n            initialise(this)();\n        }\n        else if (this.element && this.element.ownerDocument) {\n            var doc = this.element.ownerDocument;\n            var channel = this.$props.cloudChannel ? this.$props.cloudChannel : '5';\n            var apiKey = this.$props.apiKey ? this.$props.apiKey : 'no-api-key';\n            ScriptLoader.load(scriptState, doc, \"https://cdn.tiny.cloud/1/\" + apiKey + \"/tinymce/\" + channel + \"/tinymce.min.js\", initialise(this));\n        }\n    },\n    beforeDestroy: function () {\n        if (getTinymce() !== null) {\n            getTinymce().remove(this.editor);\n        }\n    },\n    render: function (h) {\n        return this.inlineEditor ? renderInline(h, this.elementId, this.$props.tagName) : renderIframe(h, this.elementId);\n    }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}