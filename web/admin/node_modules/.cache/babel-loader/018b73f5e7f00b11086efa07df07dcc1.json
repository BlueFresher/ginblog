{"ast":null,"code":"const columns = [{\n  title: 'ID',\n  dataIndex: 'ID',\n  width: '10%',\n  key: 'id'\n}, {\n  title: '用户名',\n  dataIndex: 'username',\n  width: '20%',\n  key: 'username'\n}, {\n  title: '角色',\n  dataIndex: 'role',\n  width: '20%',\n  key: 'role'\n}, {\n  title: '操作',\n  width: '30%',\n  key: 'action'\n}];\nexport default {\n  data() {\n    return {\n      paginationOption: {\n        pageSizeOptions: ['2', '5', '10'],\n        defaultCurrent: 1,\n        defaultPageSize: 2,\n        total: 0,\n        showSizeChanger: true,\n        showTotal: total => `共${total}条`,\n        onChange: (page, pageSize) => {\n          this.paginationOption.defaultCurrent = page;\n          this.paginationOption.defaultPageSize = pageSize;\n        },\n        onshowSizeChange: (current, size) => {\n          this.paginationOption.defaultCurrent = current;\n          this.paginationOption.defaultPageSize = size;\n        }\n      },\n      userlist: [],\n      columns\n    };\n  },\n  created() {\n    this.getUserList();\n  },\n  methods: {\n    async getUserList() {\n      const {\n        data: res\n      } = await this.$http.get('users', {\n        params: {\n          pagesize: this.paginationOption,\n          pagenum: this.paginationOption.defaultCurrent\n        }\n      });\n      // console.log(res)\n      if (res.status != 200) return this.$message.error(res.message);\n      this.userlist = res.data;\n      this.paginationOption.total = res.total;\n    }\n  }\n};","map":{"version":3,"mappings":"AAqBA,iBACA;EACAA;EACAC;EACAC;EACAC;AACA,GACA;EACAH;EACAC;EACAC;EACAC;AACA,GACA;EACAH;EACAC;EACAC;EACAC;AACA,GACA;EACAH;EACAE;EACAC;AACA,EACA;AAEA;EACAC;IACA;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;UACA;UACA;QACA;QACAC;UACA;UACA;QACA;MACA;MAEAC;MACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACA;MACA;QAAAb;MAAA;QACAc;UACAC;UACAC;QACA;MACA;MACA;MACA;MACA;MACA;IACA;EACA;AACA","names":["title","dataIndex","width","key","data","paginationOption","pageSizeOptions","defaultCurrent","defaultPageSize","total","showSizeChanger","showTotal","onChange","onshowSizeChange","userlist","columns","created","methods","params","pagesize","pagenum"],"sourceRoot":"src/components/user","sources":["UserList.vue"],"sourcesContent":["<template>\n    <div>\n        <h3>用户列表页面</h3>\n        <a-card>\n            <a-row :gutter=\"20\">\n                <a-col :span=\"6\">\n                    <a-input-search placeholder=\"输入用户名查找\" enter-button />\n                </a-col>\n                <a-col :span=\"4\">\n                    <a-button type=\"primary\">新增</a-button>\n                </a-col>\n            </a-row>\n\n            <a-table rowKey=\"id\" :columns=\"columns\" :pagination='paginationOption' :dataSource=\"userlist\">\n\n            </a-table>\n        </a-card>\n    </div>\n</template>\n\n<script>\nconst columns = [\n    {\n        title: 'ID',\n        dataIndex: 'ID',\n        width:'10%',\n        key: 'id',\n   },\n   {\n        title: '用户名',\n        dataIndex: 'username',\n        width:'20%',\n        key: 'username',\n   },\n   {\n        title: '角色',\n        dataIndex: 'role',\n        width:'20%',\n        key: 'role',\n   },\n   {\n        title: '操作',\n        width:'30%',\n        key: 'action',\n   },\n]\n\nexport default{\n    data(){\n        return {\n            paginationOption:{\n                pageSizeOptions:['2', '5', '10'],\n                defaultCurrent:1,\n                defaultPageSize:2,\n                total:0,\n                showSizeChanger:true,\n                showTotal:(total)=>`共${total}条`,\n                onChange:(page, pageSize)=>{\n                    this.paginationOption.defaultCurrent = page\n                    this.paginationOption.defaultPageSize = pageSize\n                },\n                onshowSizeChange:(current, size)=>{\n                    this.paginationOption.defaultCurrent = current\n                    this.paginationOption.defaultPageSize = size\n                }\n            },\n\n            userlist:[],\n            columns,\n        }\n    },\n    created(){\n        this.getUserList()\n    },\n    methods:{\n        async getUserList() {\n            const { data:res } = await this.$http.get('users', {\n                params:{\n                    pagesize:this.paginationOption, \n                    pagenum:this.paginationOption.defaultCurrent\n                }\n            })\n            // console.log(res)\n            if (res.status != 200) return this.$message.error(res.message)\n            this.userlist = res.data\n            this.paginationOption.total = res.total\n        }\n    }\n}\n</script>"]},"metadata":{},"sourceType":"module"}