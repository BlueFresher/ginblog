{"ast":null,"code":"export default {\n  props: ['title'],\n  data() {\n    return {\n      artList: [],\n      queryParam: {\n        pagesize: 5,\n        pagenum: 1\n      },\n      total: 0,\n      isLoad: false\n    };\n  },\n  mounted() {\n    this.getArtList();\n  },\n  methods: {\n    // 获取文章列表\n    async getArtList() {\n      const {\n        data: res\n      } = await this.$http.get('article', {\n        params: {\n          title: this.title,\n          pagesize: this.queryParam.pagesize,\n          pagenum: this.queryParam.pagenum\n        }\n      });\n      this.artList = res.data;\n      this.total = res.total;\n      this.isLoad = true;\n    }\n  }\n};","map":{"version":3,"mappings":"AA8DA;EACAA;EACAC;IACA;MACAC;MACAC;QACAC;QACAC;MACA;MACAC;MACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACA;IACA;MACA;QAAAR;MAAA,oCACA;QACAS;UACAC;UACAP;UACAC;QACA;MACA,EACA;MACA;MACA;MACA;IACA;EACA;AACA","names":["props","data","artList","queryParam","pagesize","pagenum","total","isLoad","mounted","methods","params","title"],"sourceRoot":"src/components","sources":["Search.vue"],"sourcesContent":["<template>\n<div>\n        <div v-if=\"total == 0 && isLoad\" class=\"d-flex justify-center align-center\">\n            <div>\n              <v-alert class=\"ma-5\" dense outlined type=\"error\">抱歉，你搜索的文章标题不存在！</v-alert>\n            </div>\n        </div>\n\n    <v-col>\n        <v-card\n        class=\"ma-3\"\n        v-for=\"item in artList\"\n        :key=\"item.id\"\n        link\n        @click=\"$router.push(`/article/detail/${item.ID}`)\"\n      >\n        <v-row no-gutters class=\"d-flex align-center\">\n          <v-col class=\"d-flex justify-center align-center ma-3\" cols=\"1\">\n            <v-img max-height=\"100\" max-width=\"100\" :src=\"item.img\"></v-img>\n          </v-col>\n          <v-col>\n            <v-card-title>\n              <v-chip\n                color=\"green darken-2\"\n                outlined\n                label\n                class=\"mr-3 white--text\"\n              >{{ item.Category.name }}</v-chip>\n              <div>{{ item.title }}</div>\n            </v-card-title>\n            <v-card-subtitle class=\"mt-1\" v-text=\"item.desc\"></v-card-subtitle>\n            <v-divider class=\"mx-4\"></v-divider>\n            <v-card-text class=\"d-flex align-center\">\n              <div class=\"d-flex align-center\">\n                <v-icon class=\"mr-1\" small>{{ 'mdi-calendar-month' }}</v-icon>\n                <span>{{ item.CreatedAt | dateformat('YYYY-MM-DD HH:MM') }}</span>\n              </div>\n              <div class=\"mx-4 d-flex align-center\">\n                <v-icon class=\"mr-1\" small>{{ 'mdi-comment' }}</v-icon>\n                <span>{{ item.comment_count }}</span>\n              </div>\n              <div class=\"mx-1 d-flex align-center\">\n                <v-icon class=\"mr-1\" small>{{ 'mdi-eye' }}</v-icon>\n                <span>{{ item.read_count }}</span>\n              </div>\n            </v-card-text>\n          </v-col>\n        </v-row>\n      </v-card>\n      <!-- 页码 -->\n      <div class=\"text-center\">\n        <v-pagination\n          total-visible=\"5\"\n          v-model=\"queryParam.pagenum\"\n          :length=\"Math.ceil(total / queryParam.pagesize)\"\n          @input=\"getArtList()\"\n        ></v-pagination>\n      </div>\n    </v-col>\n</div>\n</template>\n<script>\nexport default {\n    props: ['title'],\n    data() {\n        return {\n        artList: [],\n        queryParam: {\n            pagesize: 5,\n            pagenum: 1\n        },\n        total: 0,\n        isLoad: false\n        }\n    },\n    mounted() {\n        this.getArtList()\n    },\n    methods: {\n        // 获取文章列表\n        async getArtList() {\n        const { data: res } = await this.$http.get('article',\n            {\n            params: {\n                title: this.title,\n                pagesize: this.queryParam.pagesize,\n                pagenum: this.queryParam.pagenum\n            }\n            }\n        )\n        this.artList = res.data\n        this.total = res.total\n        this.isLoad = true\n        }\n    }\n}\n</script>\n<style lang=\"\">\n    \n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}